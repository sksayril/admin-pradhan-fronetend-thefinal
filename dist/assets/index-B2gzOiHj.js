var v_=Object.defineProperty;var w_=(e,t,r)=>t in e?v_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _e=(e,t,r)=>w_(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var SY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pC={exports:{}},rg={},yC={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm=Symbol.for("react.element"),N_=Symbol.for("react.portal"),B_=Symbol.for("react.fragment"),C_=Symbol.for("react.strict_mode"),S_=Symbol.for("react.profiler"),E_=Symbol.for("react.provider"),F_=Symbol.for("react.context"),k_=Symbol.for("react.forward_ref"),__=Symbol.for("react.suspense"),I_=Symbol.for("react.memo"),U_=Symbol.for("react.lazy"),J2=Symbol.iterator;function L_(e){return e===null||typeof e!="object"?null:(e=J2&&e[J2]||e["@@iterator"],typeof e=="function"?e:null)}var bC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vC=Object.assign,wC={};function vd(e,t,r){this.props=e,this.context=t,this.refs=wC,this.updater=r||bC}vd.prototype.isReactComponent={};vd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jC(){}jC.prototype=vd.prototype;function h1(e,t,r){this.props=e,this.context=t,this.refs=wC,this.updater=r||bC}var m1=h1.prototype=new jC;m1.constructor=h1;vC(m1,vd.prototype);m1.isPureReactComponent=!0;var Z2=Array.isArray,NC=Object.prototype.hasOwnProperty,f1={current:null},BC={key:!0,ref:!0,__self:!0,__source:!0};function CC(e,t,r){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)NC.call(t,n)&&!BC.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),A=0;A<o;A++)c[A]=arguments[A+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:dm,type:e,key:i,ref:l,props:a,_owner:f1.current}}function Q_(e,t){return{$$typeof:dm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x1(e){return typeof e=="object"&&e!==null&&e.$$typeof===dm}function P_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ej=/\/+/g;function kp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?P_(""+e.key):t.toString(36)}function j0(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case dm:case N_:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+kp(l,0):n,Z2(a)?(r="",e!=null&&(r=e.replace(ej,"$&/")+"/"),j0(a,t,r,"",function(A){return A})):a!=null&&(x1(a)&&(a=Q_(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(ej,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",Z2(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+kp(i,o);l+=j0(i,t,r,c,a)}else if(c=L_(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+kp(i,o++),l+=j0(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function of(e,t,r){if(e==null)return e;var n=[],a=0;return j0(e,n,"","",function(i){return t.call(r,i,a++)}),n}function D_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bn={current:null},N0={transition:null},M_={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:N0,ReactCurrentOwner:f1};function SC(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:of,forEach:function(e,t,r){of(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return of(e,function(){t++}),t},toArray:function(e){return of(e,function(t){return t})||[]},only:function(e){if(!x1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_t.Component=vd;_t.Fragment=B_;_t.Profiler=S_;_t.PureComponent=h1;_t.StrictMode=C_;_t.Suspense=__;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M_;_t.act=SC;_t.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vC({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=f1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)NC.call(t,c)&&!BC.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var A=0;A<c;A++)o[A]=arguments[A+2];n.children=o}return{$$typeof:dm,type:e.type,key:a,ref:i,props:n,_owner:l}};_t.createContext=function(e){return e={$$typeof:F_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:E_,_context:e},e.Consumer=e};_t.createElement=CC;_t.createFactory=function(e){var t=CC.bind(null,e);return t.type=e,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(e){return{$$typeof:k_,render:e}};_t.isValidElement=x1;_t.lazy=function(e){return{$$typeof:U_,_payload:{_status:-1,_result:e},_init:D_}};_t.memo=function(e,t){return{$$typeof:I_,type:e,compare:t===void 0?null:t}};_t.startTransition=function(e){var t=N0.transition;N0.transition={};try{e()}finally{N0.transition=t}};_t.unstable_act=SC;_t.useCallback=function(e,t){return bn.current.useCallback(e,t)};_t.useContext=function(e){return bn.current.useContext(e)};_t.useDebugValue=function(){};_t.useDeferredValue=function(e){return bn.current.useDeferredValue(e)};_t.useEffect=function(e,t){return bn.current.useEffect(e,t)};_t.useId=function(){return bn.current.useId()};_t.useImperativeHandle=function(e,t,r){return bn.current.useImperativeHandle(e,t,r)};_t.useInsertionEffect=function(e,t){return bn.current.useInsertionEffect(e,t)};_t.useLayoutEffect=function(e,t){return bn.current.useLayoutEffect(e,t)};_t.useMemo=function(e,t){return bn.current.useMemo(e,t)};_t.useReducer=function(e,t,r){return bn.current.useReducer(e,t,r)};_t.useRef=function(e){return bn.current.useRef(e)};_t.useState=function(e){return bn.current.useState(e)};_t.useSyncExternalStore=function(e,t,r){return bn.current.useSyncExternalStore(e,t,r)};_t.useTransition=function(){return bn.current.useTransition()};_t.version="18.3.1";yC.exports=_t;var N=yC.exports;const wd=j_(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_=N,R_=Symbol.for("react.element"),O_=Symbol.for("react.fragment"),H_=Object.prototype.hasOwnProperty,K_=T_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z_={key:!0,ref:!0,__self:!0,__source:!0};function EC(e,t,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)H_.call(t,n)&&!z_.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:R_,type:e,key:i,ref:l,props:a,_owner:K_.current}}rg.Fragment=O_;rg.jsx=EC;rg.jsxs=EC;pC.exports=rg;var s=pC.exports,FC={exports:{}},na={},kC={exports:{}},_C={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,Y){var re=D.length;D.push(Y);e:for(;0<re;){var q=re-1>>>1,_=D[q];if(0<a(_,Y))D[q]=Y,D[re]=_,re=q;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var Y=D[0],re=D.pop();if(re!==Y){D[0]=re;e:for(var q=0,_=D.length,z=_>>>1;q<z;){var G=2*(q+1)-1,X=D[G],J=G+1,de=D[J];if(0>a(X,re))J<_&&0>a(de,X)?(D[q]=de,D[J]=re,q=J):(D[q]=X,D[G]=re,q=G);else if(J<_&&0>a(de,re))D[q]=de,D[J]=re,q=J;else break e}}return Y}function a(D,Y){var re=D.sortIndex-Y.sortIndex;return re!==0?re:D.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],A=[],d=1,u=null,m=3,h=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(D){for(var Y=r(A);Y!==null;){if(Y.callback===null)n(A);else if(Y.startTime<=D)n(A),Y.sortIndex=Y.expirationTime,t(c,Y);else break;Y=r(A)}}function w(D){if(p=!1,j(D),!g)if(r(c)!==null)g=!0,Z(S);else{var Y=r(A);Y!==null&&ae(w,Y.startTime-D)}}function S(D,Y){g=!1,p&&(p=!1,x(k),k=-1),h=!0;var re=m;try{for(j(Y),u=r(c);u!==null&&(!(u.expirationTime>Y)||D&&!L());){var q=u.callback;if(typeof q=="function"){u.callback=null,m=u.priorityLevel;var _=q(u.expirationTime<=Y);Y=e.unstable_now(),typeof _=="function"?u.callback=_:u===r(c)&&n(c),j(Y)}else n(c);u=r(c)}if(u!==null)var z=!0;else{var G=r(A);G!==null&&ae(w,G.startTime-Y),z=!1}return z}finally{u=null,m=re,h=!1}}var F=!1,I=null,k=-1,E=5,O=-1;function L(){return!(e.unstable_now()-O<E)}function P(){if(I!==null){var D=e.unstable_now();O=D;var Y=!0;try{Y=I(!0,D)}finally{Y?U():(F=!1,I=null)}}else F=!1}var U;if(typeof b=="function")U=function(){b(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,V=R.port2;R.port1.onmessage=P,U=function(){V.postMessage(null)}}else U=function(){v(P,0)};function Z(D){I=D,F||(F=!0,U())}function ae(D,Y){k=v(function(){D(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,Z(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var re=m;m=Y;try{return D()}finally{m=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,Y){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var re=m;m=D;try{return Y()}finally{m=re}},e.unstable_scheduleCallback=function(D,Y,re){var q=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?q+re:q):re=q,D){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=re+_,D={id:d++,callback:Y,priorityLevel:D,startTime:re,expirationTime:_,sortIndex:-1},re>q?(D.sortIndex=re,t(A,D),r(c)===null&&D===r(A)&&(p?(x(k),k=-1):p=!0,ae(w,re-q))):(D.sortIndex=_,t(c,D),g||h||(g=!0,Z(S))),D},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(D){var Y=m;return function(){var re=m;m=Y;try{return D.apply(this,arguments)}finally{m=re}}}})(_C);kC.exports=_C;var V_=kC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_=N,ra=V_;function ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IC=new Set,Bh={};function Kc(e,t){ad(e,t),ad(e+"Capture",t)}function ad(e,t){for(Bh[e]=t,e=0;e<t.length;e++)IC.add(t[e])}var gl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mb=Object.prototype.hasOwnProperty,G_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tj={},sj={};function q_(e){return mb.call(sj,e)?!0:mb.call(tj,e)?!1:G_.test(e)?sj[e]=!0:(tj[e]=!0,!1)}function W_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Y_(e,t,r,n){if(t===null||typeof t>"u"||W_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vn(e,t,r,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gr[e]=new vn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gr[t]=new vn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gr[e]=new vn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gr[e]=new vn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gr[e]=new vn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gr[e]=new vn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gr[e]=new vn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gr[e]=new vn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gr[e]=new vn(e,5,!1,e.toLowerCase(),null,!1,!1)});var g1=/[\-:]([a-z])/g;function p1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g1,p1);Gr[t]=new vn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g1,p1);Gr[t]=new vn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g1,p1);Gr[t]=new vn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gr[e]=new vn(e,1,!1,e.toLowerCase(),null,!1,!1)});Gr.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gr[e]=new vn(e,1,!1,e.toLowerCase(),null,!0,!0)});function y1(e,t,r,n){var a=Gr.hasOwnProperty(t)?Gr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Y_(t,r,a,n)&&(r=null),n||a===null?q_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nl=$_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cf=Symbol.for("react.element"),FA=Symbol.for("react.portal"),kA=Symbol.for("react.fragment"),b1=Symbol.for("react.strict_mode"),fb=Symbol.for("react.profiler"),UC=Symbol.for("react.provider"),LC=Symbol.for("react.context"),v1=Symbol.for("react.forward_ref"),xb=Symbol.for("react.suspense"),gb=Symbol.for("react.suspense_list"),w1=Symbol.for("react.memo"),Gl=Symbol.for("react.lazy"),QC=Symbol.for("react.offscreen"),rj=Symbol.iterator;function du(e){return e===null||typeof e!="object"?null:(e=rj&&e[rj]||e["@@iterator"],typeof e=="function"?e:null)}var Ms=Object.assign,_p;function Qu(e){if(_p===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_p=t&&t[1]||""}return`
`+_p+e}var Ip=!1;function Up(e,t){if(!e||Ip)return"";Ip=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var n=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){n=A}e.call(t.prototype)}else{try{throw Error()}catch(A){n=A}e()}}catch(A){if(A&&n&&typeof A.stack=="string"){for(var a=A.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Ip=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qu(e):""}function X_(e){switch(e.tag){case 5:return Qu(e.type);case 16:return Qu("Lazy");case 13:return Qu("Suspense");case 19:return Qu("SuspenseList");case 0:case 2:case 15:return e=Up(e.type,!1),e;case 11:return e=Up(e.type.render,!1),e;case 1:return e=Up(e.type,!0),e;default:return""}}function pb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kA:return"Fragment";case FA:return"Portal";case fb:return"Profiler";case b1:return"StrictMode";case xb:return"Suspense";case gb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case LC:return(e.displayName||"Context")+".Consumer";case UC:return(e._context.displayName||"Context")+".Provider";case v1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w1:return t=e.displayName||null,t!==null?t:pb(e.type)||"Memo";case Gl:t=e._payload,e=e._init;try{return pb(e(t))}catch{}}return null}function J_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pb(t);case 8:return t===b1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function So(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Z_(e){var t=PC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Af(e){e._valueTracker||(e._valueTracker=Z_(e))}function DC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=PC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ix(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yb(e,t){var r=t.checked;return Ms({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function nj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=So(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function MC(e,t){t=t.checked,t!=null&&y1(e,"checked",t,!1)}function bb(e,t){MC(e,t);var r=So(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vb(e,t.type,r):t.hasOwnProperty("defaultValue")&&vb(e,t.type,So(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function aj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function vb(e,t,r){(t!=="number"||ix(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Pu=Array.isArray;function zA(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+So(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function wb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ke(91));return Ms({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ij(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ke(92));if(Pu(r)){if(1<r.length)throw Error(ke(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:So(r)}}function TC(e,t){var r=So(t.value),n=So(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function RC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?RC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var df,OC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(df=df||document.createElement("div"),df.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=df.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ch(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var eh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eI=["Webkit","ms","Moz","O"];Object.keys(eh).forEach(function(e){eI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),eh[t]=eh[e]})});function HC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||eh.hasOwnProperty(e)&&eh[e]?(""+t).trim():t+"px"}function KC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=HC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var tI=Ms({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nb(e,t){if(t){if(tI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ke(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ke(62))}}function Bb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cb=null;function j1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sb=null,VA=null,$A=null;function oj(e){if(e=mm(e)){if(typeof Sb!="function")throw Error(ke(280));var t=e.stateNode;t&&(t=og(t),Sb(e.stateNode,e.type,t))}}function zC(e){VA?$A?$A.push(e):$A=[e]:VA=e}function VC(){if(VA){var e=VA,t=$A;if($A=VA=null,oj(e),t)for(e=0;e<t.length;e++)oj(t[e])}}function $C(e,t){return e(t)}function GC(){}var Lp=!1;function qC(e,t,r){if(Lp)return e(t,r);Lp=!0;try{return $C(e,t,r)}finally{Lp=!1,(VA!==null||$A!==null)&&(GC(),VC())}}function Sh(e,t){var r=e.stateNode;if(r===null)return null;var n=og(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ke(231,t,typeof r));return r}var Eb=!1;if(gl)try{var uu={};Object.defineProperty(uu,"passive",{get:function(){Eb=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{Eb=!1}function sI(e,t,r,n,a,i,l,o,c){var A=Array.prototype.slice.call(arguments,3);try{t.apply(r,A)}catch(d){this.onError(d)}}var th=!1,lx=null,ox=!1,Fb=null,rI={onError:function(e){th=!0,lx=e}};function nI(e,t,r,n,a,i,l,o,c){th=!1,lx=null,sI.apply(rI,arguments)}function aI(e,t,r,n,a,i,l,o,c){if(nI.apply(this,arguments),th){if(th){var A=lx;th=!1,lx=null}else throw Error(ke(198));ox||(ox=!0,Fb=A)}}function zc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function WC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cj(e){if(zc(e)!==e)throw Error(ke(188))}function iI(e){var t=e.alternate;if(!t){if(t=zc(e),t===null)throw Error(ke(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return cj(a),e;if(i===n)return cj(a),t;i=i.sibling}throw Error(ke(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(ke(189))}}if(r.alternate!==n)throw Error(ke(190))}if(r.tag!==3)throw Error(ke(188));return r.stateNode.current===r?e:t}function YC(e){return e=iI(e),e!==null?XC(e):null}function XC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=XC(e);if(t!==null)return t;e=e.sibling}return null}var JC=ra.unstable_scheduleCallback,Aj=ra.unstable_cancelCallback,lI=ra.unstable_shouldYield,oI=ra.unstable_requestPaint,er=ra.unstable_now,cI=ra.unstable_getCurrentPriorityLevel,N1=ra.unstable_ImmediatePriority,ZC=ra.unstable_UserBlockingPriority,cx=ra.unstable_NormalPriority,AI=ra.unstable_LowPriority,eS=ra.unstable_IdlePriority,ng=null,Ei=null;function dI(e){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(ng,e,void 0,(e.current.flags&128)===128)}catch{}}var qa=Math.clz32?Math.clz32:mI,uI=Math.log,hI=Math.LN2;function mI(e){return e>>>=0,e===0?32:31-(uI(e)/hI|0)|0}var uf=64,hf=4194304;function Du(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ax(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=Du(o):(i&=l,i!==0&&(n=Du(i)))}else l=r&~a,l!==0?n=Du(l):i!==0&&(n=Du(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-qa(t),a=1<<r,n|=e[r],t&=~a;return n}function fI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xI(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-qa(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=fI(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function kb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tS(){var e=uf;return uf<<=1,!(uf&4194240)&&(uf=64),e}function Qp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function um(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qa(t),e[t]=r}function gI(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-qa(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function B1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-qa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ls=0;function sS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rS,C1,nS,aS,iS,_b=!1,mf=[],Ao=null,uo=null,ho=null,Eh=new Map,Fh=new Map,Yl=[],pI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dj(e,t){switch(e){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Eh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fh.delete(t.pointerId)}}function hu(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=mm(t),t!==null&&C1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function yI(e,t,r,n,a){switch(t){case"focusin":return Ao=hu(Ao,e,t,r,n,a),!0;case"dragenter":return uo=hu(uo,e,t,r,n,a),!0;case"mouseover":return ho=hu(ho,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Eh.set(i,hu(Eh.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Fh.set(i,hu(Fh.get(i)||null,e,t,r,n,a)),!0}return!1}function lS(e){var t=dc(e.target);if(t!==null){var r=zc(t);if(r!==null){if(t=r.tag,t===13){if(t=WC(r),t!==null){e.blockedOn=t,iS(e.priority,function(){nS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function B0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ib(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Cb=n,r.target.dispatchEvent(n),Cb=null}else return t=mm(r),t!==null&&C1(t),e.blockedOn=r,!1;t.shift()}return!0}function uj(e,t,r){B0(e)&&r.delete(t)}function bI(){_b=!1,Ao!==null&&B0(Ao)&&(Ao=null),uo!==null&&B0(uo)&&(uo=null),ho!==null&&B0(ho)&&(ho=null),Eh.forEach(uj),Fh.forEach(uj)}function mu(e,t){e.blockedOn===t&&(e.blockedOn=null,_b||(_b=!0,ra.unstable_scheduleCallback(ra.unstable_NormalPriority,bI)))}function kh(e){function t(a){return mu(a,e)}if(0<mf.length){mu(mf[0],e);for(var r=1;r<mf.length;r++){var n=mf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ao!==null&&mu(Ao,e),uo!==null&&mu(uo,e),ho!==null&&mu(ho,e),Eh.forEach(t),Fh.forEach(t),r=0;r<Yl.length;r++)n=Yl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Yl.length&&(r=Yl[0],r.blockedOn===null);)lS(r),r.blockedOn===null&&Yl.shift()}var GA=Nl.ReactCurrentBatchConfig,dx=!0;function vI(e,t,r,n){var a=ls,i=GA.transition;GA.transition=null;try{ls=1,S1(e,t,r,n)}finally{ls=a,GA.transition=i}}function wI(e,t,r,n){var a=ls,i=GA.transition;GA.transition=null;try{ls=4,S1(e,t,r,n)}finally{ls=a,GA.transition=i}}function S1(e,t,r,n){if(dx){var a=Ib(e,t,r,n);if(a===null)Vp(e,t,n,ux,r),dj(e,n);else if(yI(a,e,t,r,n))n.stopPropagation();else if(dj(e,n),t&4&&-1<pI.indexOf(e)){for(;a!==null;){var i=mm(a);if(i!==null&&rS(i),i=Ib(e,t,r,n),i===null&&Vp(e,t,n,ux,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Vp(e,t,n,null,r)}}var ux=null;function Ib(e,t,r,n){if(ux=null,e=j1(n),e=dc(e),e!==null)if(t=zc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=WC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ux=e,null}function oS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cI()){case N1:return 1;case ZC:return 4;case cx:case AI:return 16;case eS:return 536870912;default:return 16}default:return 16}}var eo=null,E1=null,C0=null;function cS(){if(C0)return C0;var e,t=E1,r=t.length,n,a="value"in eo?eo.value:eo.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[i-n];n++);return C0=a.slice(e,1<n?1-n:void 0)}function S0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ff(){return!0}function hj(){return!1}function aa(e){function t(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ff:hj,this.isPropagationStopped=hj,this}return Ms(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ff)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ff)},persist:function(){},isPersistent:ff}),t}var jd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F1=aa(jd),hm=Ms({},jd,{view:0,detail:0}),jI=aa(hm),Pp,Dp,fu,ag=Ms({},hm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fu&&(fu&&e.type==="mousemove"?(Pp=e.screenX-fu.screenX,Dp=e.screenY-fu.screenY):Dp=Pp=0,fu=e),Pp)},movementY:function(e){return"movementY"in e?e.movementY:Dp}}),mj=aa(ag),NI=Ms({},ag,{dataTransfer:0}),BI=aa(NI),CI=Ms({},hm,{relatedTarget:0}),Mp=aa(CI),SI=Ms({},jd,{animationName:0,elapsedTime:0,pseudoElement:0}),EI=aa(SI),FI=Ms({},jd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kI=aa(FI),_I=Ms({},jd,{data:0}),fj=aa(_I),II={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LI[e])?!!t[e]:!1}function k1(){return QI}var PI=Ms({},hm,{key:function(e){if(e.key){var t=II[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=S0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k1,charCode:function(e){return e.type==="keypress"?S0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?S0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DI=aa(PI),MI=Ms({},ag,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xj=aa(MI),TI=Ms({},hm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k1}),RI=aa(TI),OI=Ms({},jd,{propertyName:0,elapsedTime:0,pseudoElement:0}),HI=aa(OI),KI=Ms({},ag,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zI=aa(KI),VI=[9,13,27,32],_1=gl&&"CompositionEvent"in window,sh=null;gl&&"documentMode"in document&&(sh=document.documentMode);var $I=gl&&"TextEvent"in window&&!sh,AS=gl&&(!_1||sh&&8<sh&&11>=sh),gj=" ",pj=!1;function dS(e,t){switch(e){case"keyup":return VI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _A=!1;function GI(e,t){switch(e){case"compositionend":return uS(t);case"keypress":return t.which!==32?null:(pj=!0,gj);case"textInput":return e=t.data,e===gj&&pj?null:e;default:return null}}function qI(e,t){if(_A)return e==="compositionend"||!_1&&dS(e,t)?(e=cS(),C0=E1=eo=null,_A=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AS&&t.locale!=="ko"?null:t.data;default:return null}}var WI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WI[e.type]:t==="textarea"}function hS(e,t,r,n){zC(n),t=hx(t,"onChange"),0<t.length&&(r=new F1("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var rh=null,_h=null;function YI(e){NS(e,0)}function ig(e){var t=LA(e);if(DC(t))return e}function XI(e,t){if(e==="change")return t}var mS=!1;if(gl){var Tp;if(gl){var Rp="oninput"in document;if(!Rp){var bj=document.createElement("div");bj.setAttribute("oninput","return;"),Rp=typeof bj.oninput=="function"}Tp=Rp}else Tp=!1;mS=Tp&&(!document.documentMode||9<document.documentMode)}function vj(){rh&&(rh.detachEvent("onpropertychange",fS),_h=rh=null)}function fS(e){if(e.propertyName==="value"&&ig(_h)){var t=[];hS(t,_h,e,j1(e)),qC(YI,t)}}function JI(e,t,r){e==="focusin"?(vj(),rh=t,_h=r,rh.attachEvent("onpropertychange",fS)):e==="focusout"&&vj()}function ZI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ig(_h)}function eU(e,t){if(e==="click")return ig(t)}function tU(e,t){if(e==="input"||e==="change")return ig(t)}function sU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ya=typeof Object.is=="function"?Object.is:sU;function Ih(e,t){if(Ya(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!mb.call(t,a)||!Ya(e[a],t[a]))return!1}return!0}function wj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jj(e,t){var r=wj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wj(r)}}function xS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gS(){for(var e=window,t=ix();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ix(e.document)}return t}function I1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rU(e){var t=gS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&xS(r.ownerDocument.documentElement,r)){if(n!==null&&I1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=jj(r,i);var l=jj(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nU=gl&&"documentMode"in document&&11>=document.documentMode,IA=null,Ub=null,nh=null,Lb=!1;function Nj(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lb||IA==null||IA!==ix(n)||(n=IA,"selectionStart"in n&&I1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),nh&&Ih(nh,n)||(nh=n,n=hx(Ub,"onSelect"),0<n.length&&(t=new F1("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=IA)))}function xf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var UA={animationend:xf("Animation","AnimationEnd"),animationiteration:xf("Animation","AnimationIteration"),animationstart:xf("Animation","AnimationStart"),transitionend:xf("Transition","TransitionEnd")},Op={},pS={};gl&&(pS=document.createElement("div").style,"AnimationEvent"in window||(delete UA.animationend.animation,delete UA.animationiteration.animation,delete UA.animationstart.animation),"TransitionEvent"in window||delete UA.transitionend.transition);function lg(e){if(Op[e])return Op[e];if(!UA[e])return e;var t=UA[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pS)return Op[e]=t[r];return e}var yS=lg("animationend"),bS=lg("animationiteration"),vS=lg("animationstart"),wS=lg("transitionend"),jS=new Map,Bj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uo(e,t){jS.set(e,t),Kc(t,[e])}for(var Hp=0;Hp<Bj.length;Hp++){var Kp=Bj[Hp],aU=Kp.toLowerCase(),iU=Kp[0].toUpperCase()+Kp.slice(1);Uo(aU,"on"+iU)}Uo(yS,"onAnimationEnd");Uo(bS,"onAnimationIteration");Uo(vS,"onAnimationStart");Uo("dblclick","onDoubleClick");Uo("focusin","onFocus");Uo("focusout","onBlur");Uo(wS,"onTransitionEnd");ad("onMouseEnter",["mouseout","mouseover"]);ad("onMouseLeave",["mouseout","mouseover"]);ad("onPointerEnter",["pointerout","pointerover"]);ad("onPointerLeave",["pointerout","pointerover"]);Kc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mu));function Cj(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,aI(n,t,void 0,e),e.currentTarget=null}function NS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,A=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Cj(a,o,A),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,A=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Cj(a,o,A),i=c}}}if(ox)throw e=Fb,ox=!1,Fb=null,e}function Ns(e,t){var r=t[Tb];r===void 0&&(r=t[Tb]=new Set);var n=e+"__bubble";r.has(n)||(BS(t,e,2,!1),r.add(n))}function zp(e,t,r){var n=0;t&&(n|=4),BS(r,e,n,t)}var gf="_reactListening"+Math.random().toString(36).slice(2);function Uh(e){if(!e[gf]){e[gf]=!0,IC.forEach(function(r){r!=="selectionchange"&&(lU.has(r)||zp(r,!1,e),zp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gf]||(t[gf]=!0,zp("selectionchange",!1,t))}}function BS(e,t,r,n){switch(oS(t)){case 1:var a=vI;break;case 4:a=wI;break;default:a=S1}r=a.bind(null,t,r,e),a=void 0,!Eb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Vp(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=dc(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}qC(function(){var A=i,d=j1(r),u=[];e:{var m=jS.get(e);if(m!==void 0){var h=F1,g=e;switch(e){case"keypress":if(S0(r)===0)break e;case"keydown":case"keyup":h=DI;break;case"focusin":g="focus",h=Mp;break;case"focusout":g="blur",h=Mp;break;case"beforeblur":case"afterblur":h=Mp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=mj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=BI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=RI;break;case yS:case bS:case vS:h=EI;break;case wS:h=HI;break;case"scroll":h=jI;break;case"wheel":h=zI;break;case"copy":case"cut":case"paste":h=kI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=xj}var p=(t&4)!==0,v=!p&&e==="scroll",x=p?m!==null?m+"Capture":null:m;p=[];for(var b=A,j;b!==null;){j=b;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,x!==null&&(w=Sh(b,x),w!=null&&p.push(Lh(b,w,j)))),v)break;b=b.return}0<p.length&&(m=new h(m,g,null,r,d),u.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==Cb&&(g=r.relatedTarget||r.fromElement)&&(dc(g)||g[pl]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(g=r.relatedTarget||r.toElement,h=A,g=g?dc(g):null,g!==null&&(v=zc(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=A),h!==g)){if(p=mj,w="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=xj,w="onPointerLeave",x="onPointerEnter",b="pointer"),v=h==null?m:LA(h),j=g==null?m:LA(g),m=new p(w,b+"leave",h,r,d),m.target=v,m.relatedTarget=j,w=null,dc(d)===A&&(p=new p(x,b+"enter",g,r,d),p.target=j,p.relatedTarget=v,w=p),v=w,h&&g)t:{for(p=h,x=g,b=0,j=p;j;j=uA(j))b++;for(j=0,w=x;w;w=uA(w))j++;for(;0<b-j;)p=uA(p),b--;for(;0<j-b;)x=uA(x),j--;for(;b--;){if(p===x||x!==null&&p===x.alternate)break t;p=uA(p),x=uA(x)}p=null}else p=null;h!==null&&Sj(u,m,h,p,!1),g!==null&&v!==null&&Sj(u,v,g,p,!0)}}e:{if(m=A?LA(A):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var S=XI;else if(yj(m))if(mS)S=tU;else{S=ZI;var F=JI}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=eU);if(S&&(S=S(e,A))){hS(u,S,r,d);break e}F&&F(e,m,A),e==="focusout"&&(F=m._wrapperState)&&F.controlled&&m.type==="number"&&vb(m,"number",m.value)}switch(F=A?LA(A):window,e){case"focusin":(yj(F)||F.contentEditable==="true")&&(IA=F,Ub=A,nh=null);break;case"focusout":nh=Ub=IA=null;break;case"mousedown":Lb=!0;break;case"contextmenu":case"mouseup":case"dragend":Lb=!1,Nj(u,r,d);break;case"selectionchange":if(nU)break;case"keydown":case"keyup":Nj(u,r,d)}var I;if(_1)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else _A?dS(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(AS&&r.locale!=="ko"&&(_A||k!=="onCompositionStart"?k==="onCompositionEnd"&&_A&&(I=cS()):(eo=d,E1="value"in eo?eo.value:eo.textContent,_A=!0)),F=hx(A,k),0<F.length&&(k=new fj(k,e,null,r,d),u.push({event:k,listeners:F}),I?k.data=I:(I=uS(r),I!==null&&(k.data=I)))),(I=$I?GI(e,r):qI(e,r))&&(A=hx(A,"onBeforeInput"),0<A.length&&(d=new fj("onBeforeInput","beforeinput",null,r,d),u.push({event:d,listeners:A}),d.data=I))}NS(u,t)})}function Lh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hx(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Sh(e,r),i!=null&&n.unshift(Lh(e,i,a)),i=Sh(e,t),i!=null&&n.push(Lh(e,i,a))),e=e.return}return n}function uA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sj(e,t,r,n,a){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,A=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&A!==null&&(o=A,a?(c=Sh(r,i),c!=null&&l.unshift(Lh(r,c,o))):a||(c=Sh(r,i),c!=null&&l.push(Lh(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var oU=/\r\n?/g,cU=/\u0000|\uFFFD/g;function Ej(e){return(typeof e=="string"?e:""+e).replace(oU,`
`).replace(cU,"")}function pf(e,t,r){if(t=Ej(t),Ej(e)!==t&&r)throw Error(ke(425))}function mx(){}var Qb=null,Pb=null;function Db(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mb=typeof setTimeout=="function"?setTimeout:void 0,AU=typeof clearTimeout=="function"?clearTimeout:void 0,Fj=typeof Promise=="function"?Promise:void 0,dU=typeof queueMicrotask=="function"?queueMicrotask:typeof Fj<"u"?function(e){return Fj.resolve(null).then(e).catch(uU)}:Mb;function uU(e){setTimeout(function(){throw e})}function $p(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),kh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);kh(t)}function mo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Nd=Math.random().toString(36).slice(2),Ni="__reactFiber$"+Nd,Qh="__reactProps$"+Nd,pl="__reactContainer$"+Nd,Tb="__reactEvents$"+Nd,hU="__reactListeners$"+Nd,mU="__reactHandles$"+Nd;function dc(e){var t=e[Ni];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pl]||r[Ni]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=kj(e);e!==null;){if(r=e[Ni])return r;e=kj(e)}return t}e=r,r=e.parentNode}return null}function mm(e){return e=e[Ni]||e[pl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function LA(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ke(33))}function og(e){return e[Qh]||null}var Rb=[],QA=-1;function Lo(e){return{current:e}}function ks(e){0>QA||(e.current=Rb[QA],Rb[QA]=null,QA--)}function ws(e,t){QA++,Rb[QA]=e.current,e.current=t}var Eo={},An=Lo(Eo),In=Lo(!1),Ic=Eo;function id(e,t){var r=e.type.contextTypes;if(!r)return Eo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Un(e){return e=e.childContextTypes,e!=null}function fx(){ks(In),ks(An)}function _j(e,t,r){if(An.current!==Eo)throw Error(ke(168));ws(An,t),ws(In,r)}function CS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ke(108,J_(e)||"Unknown",a));return Ms({},r,n)}function xx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Eo,Ic=An.current,ws(An,e),ws(In,In.current),!0}function Ij(e,t,r){var n=e.stateNode;if(!n)throw Error(ke(169));r?(e=CS(e,t,Ic),n.__reactInternalMemoizedMergedChildContext=e,ks(In),ks(An),ws(An,e)):ks(In),ws(In,r)}var ll=null,cg=!1,Gp=!1;function SS(e){ll===null?ll=[e]:ll.push(e)}function fU(e){cg=!0,SS(e)}function Qo(){if(!Gp&&ll!==null){Gp=!0;var e=0,t=ls;try{var r=ll;for(ls=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ll=null,cg=!1}catch(a){throw ll!==null&&(ll=ll.slice(e+1)),JC(N1,Qo),a}finally{ls=t,Gp=!1}}return null}var PA=[],DA=0,gx=null,px=0,xa=[],ga=0,Uc=null,dl=1,ul="";function nc(e,t){PA[DA++]=px,PA[DA++]=gx,gx=e,px=t}function ES(e,t,r){xa[ga++]=dl,xa[ga++]=ul,xa[ga++]=Uc,Uc=e;var n=dl;e=ul;var a=32-qa(n)-1;n&=~(1<<a),r+=1;var i=32-qa(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,dl=1<<32-qa(t)+a|r<<a|n,ul=i+e}else dl=1<<i|r<<a|n,ul=e}function U1(e){e.return!==null&&(nc(e,1),ES(e,1,0))}function L1(e){for(;e===gx;)gx=PA[--DA],PA[DA]=null,px=PA[--DA],PA[DA]=null;for(;e===Uc;)Uc=xa[--ga],xa[ga]=null,ul=xa[--ga],xa[ga]=null,dl=xa[--ga],xa[ga]=null}var ta=null,Jn=null,Us=!1,$a=null;function FS(e,t){var r=va(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Uj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ta=e,Jn=mo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ta=e,Jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Uc!==null?{id:dl,overflow:ul}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=va(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ta=e,Jn=null,!0):!1;default:return!1}}function Ob(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hb(e){if(Us){var t=Jn;if(t){var r=t;if(!Uj(e,t)){if(Ob(e))throw Error(ke(418));t=mo(r.nextSibling);var n=ta;t&&Uj(e,t)?FS(n,r):(e.flags=e.flags&-4097|2,Us=!1,ta=e)}}else{if(Ob(e))throw Error(ke(418));e.flags=e.flags&-4097|2,Us=!1,ta=e}}}function Lj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ta=e}function yf(e){if(e!==ta)return!1;if(!Us)return Lj(e),Us=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Db(e.type,e.memoizedProps)),t&&(t=Jn)){if(Ob(e))throw kS(),Error(ke(418));for(;t;)FS(e,t),t=mo(t.nextSibling)}if(Lj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Jn=mo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Jn=null}}else Jn=ta?mo(e.stateNode.nextSibling):null;return!0}function kS(){for(var e=Jn;e;)e=mo(e.nextSibling)}function ld(){Jn=ta=null,Us=!1}function Q1(e){$a===null?$a=[e]:$a.push(e)}var xU=Nl.ReactCurrentBatchConfig;function xu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ke(309));var n=r.stateNode}if(!n)throw Error(ke(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(ke(284));if(!r._owner)throw Error(ke(290,e))}return e}function bf(e,t){throw e=Object.prototype.toString.call(t),Error(ke(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qj(e){var t=e._init;return t(e._payload)}function _S(e){function t(x,b){if(e){var j=x.deletions;j===null?(x.deletions=[b],x.flags|=16):j.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=po(x,b),x.index=0,x.sibling=null,x}function i(x,b,j){return x.index=j,e?(j=x.alternate,j!==null?(j=j.index,j<b?(x.flags|=2,b):j):(x.flags|=2,b)):(x.flags|=1048576,b)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,b,j,w){return b===null||b.tag!==6?(b=ey(j,x.mode,w),b.return=x,b):(b=a(b,j),b.return=x,b)}function c(x,b,j,w){var S=j.type;return S===kA?d(x,b,j.props.children,w,j.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gl&&Qj(S)===b.type)?(w=a(b,j.props),w.ref=xu(x,b,j),w.return=x,w):(w=L0(j.type,j.key,j.props,null,x.mode,w),w.ref=xu(x,b,j),w.return=x,w)}function A(x,b,j,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=ty(j,x.mode,w),b.return=x,b):(b=a(b,j.children||[]),b.return=x,b)}function d(x,b,j,w,S){return b===null||b.tag!==7?(b=Nc(j,x.mode,w,S),b.return=x,b):(b=a(b,j),b.return=x,b)}function u(x,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ey(""+b,x.mode,j),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case cf:return j=L0(b.type,b.key,b.props,null,x.mode,j),j.ref=xu(x,null,b),j.return=x,j;case FA:return b=ty(b,x.mode,j),b.return=x,b;case Gl:var w=b._init;return u(x,w(b._payload),j)}if(Pu(b)||du(b))return b=Nc(b,x.mode,j,null),b.return=x,b;bf(x,b)}return null}function m(x,b,j,w){var S=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return S!==null?null:o(x,b,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case cf:return j.key===S?c(x,b,j,w):null;case FA:return j.key===S?A(x,b,j,w):null;case Gl:return S=j._init,m(x,b,S(j._payload),w)}if(Pu(j)||du(j))return S!==null?null:d(x,b,j,w,null);bf(x,j)}return null}function h(x,b,j,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(j)||null,o(b,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cf:return x=x.get(w.key===null?j:w.key)||null,c(b,x,w,S);case FA:return x=x.get(w.key===null?j:w.key)||null,A(b,x,w,S);case Gl:var F=w._init;return h(x,b,j,F(w._payload),S)}if(Pu(w)||du(w))return x=x.get(j)||null,d(b,x,w,S,null);bf(b,w)}return null}function g(x,b,j,w){for(var S=null,F=null,I=b,k=b=0,E=null;I!==null&&k<j.length;k++){I.index>k?(E=I,I=null):E=I.sibling;var O=m(x,I,j[k],w);if(O===null){I===null&&(I=E);break}e&&I&&O.alternate===null&&t(x,I),b=i(O,b,k),F===null?S=O:F.sibling=O,F=O,I=E}if(k===j.length)return r(x,I),Us&&nc(x,k),S;if(I===null){for(;k<j.length;k++)I=u(x,j[k],w),I!==null&&(b=i(I,b,k),F===null?S=I:F.sibling=I,F=I);return Us&&nc(x,k),S}for(I=n(x,I);k<j.length;k++)E=h(I,x,k,j[k],w),E!==null&&(e&&E.alternate!==null&&I.delete(E.key===null?k:E.key),b=i(E,b,k),F===null?S=E:F.sibling=E,F=E);return e&&I.forEach(function(L){return t(x,L)}),Us&&nc(x,k),S}function p(x,b,j,w){var S=du(j);if(typeof S!="function")throw Error(ke(150));if(j=S.call(j),j==null)throw Error(ke(151));for(var F=S=null,I=b,k=b=0,E=null,O=j.next();I!==null&&!O.done;k++,O=j.next()){I.index>k?(E=I,I=null):E=I.sibling;var L=m(x,I,O.value,w);if(L===null){I===null&&(I=E);break}e&&I&&L.alternate===null&&t(x,I),b=i(L,b,k),F===null?S=L:F.sibling=L,F=L,I=E}if(O.done)return r(x,I),Us&&nc(x,k),S;if(I===null){for(;!O.done;k++,O=j.next())O=u(x,O.value,w),O!==null&&(b=i(O,b,k),F===null?S=O:F.sibling=O,F=O);return Us&&nc(x,k),S}for(I=n(x,I);!O.done;k++,O=j.next())O=h(I,x,k,O.value,w),O!==null&&(e&&O.alternate!==null&&I.delete(O.key===null?k:O.key),b=i(O,b,k),F===null?S=O:F.sibling=O,F=O);return e&&I.forEach(function(P){return t(x,P)}),Us&&nc(x,k),S}function v(x,b,j,w){if(typeof j=="object"&&j!==null&&j.type===kA&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case cf:e:{for(var S=j.key,F=b;F!==null;){if(F.key===S){if(S=j.type,S===kA){if(F.tag===7){r(x,F.sibling),b=a(F,j.props.children),b.return=x,x=b;break e}}else if(F.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gl&&Qj(S)===F.type){r(x,F.sibling),b=a(F,j.props),b.ref=xu(x,F,j),b.return=x,x=b;break e}r(x,F);break}else t(x,F);F=F.sibling}j.type===kA?(b=Nc(j.props.children,x.mode,w,j.key),b.return=x,x=b):(w=L0(j.type,j.key,j.props,null,x.mode,w),w.ref=xu(x,b,j),w.return=x,x=w)}return l(x);case FA:e:{for(F=j.key;b!==null;){if(b.key===F)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(x,b.sibling),b=a(b,j.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=ty(j,x.mode,w),b.return=x,x=b}return l(x);case Gl:return F=j._init,v(x,b,F(j._payload),w)}if(Pu(j))return g(x,b,j,w);if(du(j))return p(x,b,j,w);bf(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(x,b.sibling),b=a(b,j),b.return=x,x=b):(r(x,b),b=ey(j,x.mode,w),b.return=x,x=b),l(x)):r(x,b)}return v}var od=_S(!0),IS=_S(!1),yx=Lo(null),bx=null,MA=null,P1=null;function D1(){P1=MA=bx=null}function M1(e){var t=yx.current;ks(yx),e._currentValue=t}function Kb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function qA(e,t){bx=e,P1=MA=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kn=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(P1!==e)if(e={context:e,memoizedValue:t,next:null},MA===null){if(bx===null)throw Error(ke(308));MA=e,bx.dependencies={lanes:0,firstContext:e}}else MA=MA.next=e;return t}var uc=null;function T1(e){uc===null?uc=[e]:uc.push(e)}function US(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,T1(t)):(r.next=a.next,a.next=r),t.interleaved=r,yl(e,n)}function yl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ql=!1;function R1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ml(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Kt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,yl(e,r)}return a=n.interleaved,a===null?(t.next=t,T1(n)):(t.next=a.next,a.next=t),n.interleaved=t,yl(e,r)}function E0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,B1(e,r)}}function Pj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function vx(e,t,r,n){var a=e.updateQueue;ql=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,A=c.next;c.next=null,l===null?i=A:l.next=A,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=A:o.next=A,d.lastBaseUpdate=c))}if(i!==null){var u=a.baseState;l=0,d=A=c=null,o=i;do{var m=o.lane,h=o.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,p=o;switch(m=t,h=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){u=g.call(h,u,m);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,m=typeof g=="function"?g.call(h,u,m):g,m==null)break e;u=Ms({},u,m);break e;case 2:ql=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[o]:m.push(o))}else h={eventTime:h,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(A=d=h,c=u):d=d.next=h,l|=m;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;m=o,o=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=u),a.baseState=c,a.firstBaseUpdate=A,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Qc|=l,e.lanes=l,e.memoizedState=u}}function Dj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ke(191,a));a.call(n)}}}var fm={},Fi=Lo(fm),Ph=Lo(fm),Dh=Lo(fm);function hc(e){if(e===fm)throw Error(ke(174));return e}function O1(e,t){switch(ws(Dh,t),ws(Ph,e),ws(Fi,fm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jb(t,e)}ks(Fi),ws(Fi,t)}function cd(){ks(Fi),ks(Ph),ks(Dh)}function QS(e){hc(Dh.current);var t=hc(Fi.current),r=jb(t,e.type);t!==r&&(ws(Ph,e),ws(Fi,r))}function H1(e){Ph.current===e&&(ks(Fi),ks(Ph))}var Ps=Lo(0);function wx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qp=[];function K1(){for(var e=0;e<qp.length;e++)qp[e]._workInProgressVersionPrimary=null;qp.length=0}var F0=Nl.ReactCurrentDispatcher,Wp=Nl.ReactCurrentBatchConfig,Lc=0,Ds=null,jr=null,Ur=null,jx=!1,ah=!1,Mh=0,gU=0;function Yr(){throw Error(ke(321))}function z1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ya(e[r],t[r]))return!1;return!0}function V1(e,t,r,n,a,i){if(Lc=i,Ds=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F0.current=e===null||e.memoizedState===null?vU:wU,e=r(n,a),ah){i=0;do{if(ah=!1,Mh=0,25<=i)throw Error(ke(301));i+=1,Ur=jr=null,t.updateQueue=null,F0.current=jU,e=r(n,a)}while(ah)}if(F0.current=Nx,t=jr!==null&&jr.next!==null,Lc=0,Ur=jr=Ds=null,jx=!1,t)throw Error(ke(300));return e}function $1(){var e=Mh!==0;return Mh=0,e}function wi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?Ds.memoizedState=Ur=e:Ur=Ur.next=e,Ur}function Sa(){if(jr===null){var e=Ds.alternate;e=e!==null?e.memoizedState:null}else e=jr.next;var t=Ur===null?Ds.memoizedState:Ur.next;if(t!==null)Ur=t,jr=e;else{if(e===null)throw Error(ke(310));jr=e,e={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},Ur===null?Ds.memoizedState=Ur=e:Ur=Ur.next=e}return Ur}function Th(e,t){return typeof t=="function"?t(e):t}function Yp(e){var t=Sa(),r=t.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=e;var n=jr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,A=i;do{var d=A.lane;if((Lc&d)===d)c!==null&&(c=c.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),n=A.hasEagerState?A.eagerState:e(n,A.action);else{var u={lane:d,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};c===null?(o=c=u,l=n):c=c.next=u,Ds.lanes|=d,Qc|=d}A=A.next}while(A!==null&&A!==i);c===null?l=n:c.next=o,Ya(n,t.memoizedState)||(kn=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ds.lanes|=i,Qc|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xp(e){var t=Sa(),r=t.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);Ya(i,t.memoizedState)||(kn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function PS(){}function DS(e,t){var r=Ds,n=Sa(),a=t(),i=!Ya(n.memoizedState,a);if(i&&(n.memoizedState=a,kn=!0),n=n.queue,G1(RS.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ur!==null&&Ur.memoizedState.tag&1){if(r.flags|=2048,Rh(9,TS.bind(null,r,n,a,t),void 0,null),Pr===null)throw Error(ke(349));Lc&30||MS(r,t,a)}return a}function MS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ds.updateQueue,t===null?(t={lastEffect:null,stores:null},Ds.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function TS(e,t,r,n){t.value=r,t.getSnapshot=n,OS(t)&&HS(e)}function RS(e,t,r){return r(function(){OS(t)&&HS(e)})}function OS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ya(e,r)}catch{return!0}}function HS(e){var t=yl(e,1);t!==null&&Wa(t,e,1,-1)}function Mj(e){var t=wi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Th,lastRenderedState:e},t.queue=e,e=e.dispatch=bU.bind(null,Ds,e),[t.memoizedState,e]}function Rh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ds.updateQueue,t===null?(t={lastEffect:null,stores:null},Ds.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function KS(){return Sa().memoizedState}function k0(e,t,r,n){var a=wi();Ds.flags|=e,a.memoizedState=Rh(1|t,r,void 0,n===void 0?null:n)}function Ag(e,t,r,n){var a=Sa();n=n===void 0?null:n;var i=void 0;if(jr!==null){var l=jr.memoizedState;if(i=l.destroy,n!==null&&z1(n,l.deps)){a.memoizedState=Rh(t,r,i,n);return}}Ds.flags|=e,a.memoizedState=Rh(1|t,r,i,n)}function Tj(e,t){return k0(8390656,8,e,t)}function G1(e,t){return Ag(2048,8,e,t)}function zS(e,t){return Ag(4,2,e,t)}function VS(e,t){return Ag(4,4,e,t)}function $S(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GS(e,t,r){return r=r!=null?r.concat([e]):null,Ag(4,4,$S.bind(null,t,e),r)}function q1(){}function qS(e,t){var r=Sa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&z1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function WS(e,t){var r=Sa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&z1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function YS(e,t,r){return Lc&21?(Ya(r,t)||(r=tS(),Ds.lanes|=r,Qc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kn=!0),e.memoizedState=r)}function pU(e,t){var r=ls;ls=r!==0&&4>r?r:4,e(!0);var n=Wp.transition;Wp.transition={};try{e(!1),t()}finally{ls=r,Wp.transition=n}}function XS(){return Sa().memoizedState}function yU(e,t,r){var n=go(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},JS(e))ZS(t,r);else if(r=US(e,t,r,n),r!==null){var a=pn();Wa(r,e,n,a),e3(r,t,n)}}function bU(e,t,r){var n=go(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(JS(e))ZS(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,Ya(o,l)){var c=t.interleaved;c===null?(a.next=a,T1(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=US(e,t,a,n),r!==null&&(a=pn(),Wa(r,e,n,a),e3(r,t,n))}}function JS(e){var t=e.alternate;return e===Ds||t!==null&&t===Ds}function ZS(e,t){ah=jx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function e3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,B1(e,r)}}var Nx={readContext:Ca,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useInsertionEffect:Yr,useLayoutEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useMutableSource:Yr,useSyncExternalStore:Yr,useId:Yr,unstable_isNewReconciler:!1},vU={readContext:Ca,useCallback:function(e,t){return wi().memoizedState=[e,t===void 0?null:t],e},useContext:Ca,useEffect:Tj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,k0(4194308,4,$S.bind(null,t,e),r)},useLayoutEffect:function(e,t){return k0(4194308,4,e,t)},useInsertionEffect:function(e,t){return k0(4,2,e,t)},useMemo:function(e,t){var r=wi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=wi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=yU.bind(null,Ds,e),[n.memoizedState,e]},useRef:function(e){var t=wi();return e={current:e},t.memoizedState=e},useState:Mj,useDebugValue:q1,useDeferredValue:function(e){return wi().memoizedState=e},useTransition:function(){var e=Mj(!1),t=e[0];return e=pU.bind(null,e[1]),wi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ds,a=wi();if(Us){if(r===void 0)throw Error(ke(407));r=r()}else{if(r=t(),Pr===null)throw Error(ke(349));Lc&30||MS(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Tj(RS.bind(null,n,i,e),[e]),n.flags|=2048,Rh(9,TS.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=wi(),t=Pr.identifierPrefix;if(Us){var r=ul,n=dl;r=(n&~(1<<32-qa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Mh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=gU++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wU={readContext:Ca,useCallback:qS,useContext:Ca,useEffect:G1,useImperativeHandle:GS,useInsertionEffect:zS,useLayoutEffect:VS,useMemo:WS,useReducer:Yp,useRef:KS,useState:function(){return Yp(Th)},useDebugValue:q1,useDeferredValue:function(e){var t=Sa();return YS(t,jr.memoizedState,e)},useTransition:function(){var e=Yp(Th)[0],t=Sa().memoizedState;return[e,t]},useMutableSource:PS,useSyncExternalStore:DS,useId:XS,unstable_isNewReconciler:!1},jU={readContext:Ca,useCallback:qS,useContext:Ca,useEffect:G1,useImperativeHandle:GS,useInsertionEffect:zS,useLayoutEffect:VS,useMemo:WS,useReducer:Xp,useRef:KS,useState:function(){return Xp(Th)},useDebugValue:q1,useDeferredValue:function(e){var t=Sa();return jr===null?t.memoizedState=e:YS(t,jr.memoizedState,e)},useTransition:function(){var e=Xp(Th)[0],t=Sa().memoizedState;return[e,t]},useMutableSource:PS,useSyncExternalStore:DS,useId:XS,unstable_isNewReconciler:!1};function Ka(e,t){if(e&&e.defaultProps){t=Ms({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function zb(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ms({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var dg={isMounted:function(e){return(e=e._reactInternals)?zc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=pn(),a=go(e),i=ml(n,a);i.payload=t,r!=null&&(i.callback=r),t=fo(e,i,a),t!==null&&(Wa(t,e,a,n),E0(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=pn(),a=go(e),i=ml(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=fo(e,i,a),t!==null&&(Wa(t,e,a,n),E0(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=pn(),n=go(e),a=ml(r,n);a.tag=2,t!=null&&(a.callback=t),t=fo(e,a,n),t!==null&&(Wa(t,e,n,r),E0(t,e,n))}};function Rj(e,t,r,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!Ih(r,n)||!Ih(a,i):!0}function t3(e,t,r){var n=!1,a=Eo,i=t.contextType;return typeof i=="object"&&i!==null?i=Ca(i):(a=Un(t)?Ic:An.current,n=t.contextTypes,i=(n=n!=null)?id(e,a):Eo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Oj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&dg.enqueueReplaceState(t,t.state,null)}function Vb(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},R1(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ca(i):(i=Un(t)?Ic:An.current,a.context=id(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(zb(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&dg.enqueueReplaceState(a,a.state,null),vx(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ad(e,t){try{var r="",n=t;do r+=X_(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Jp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $b(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var NU=typeof WeakMap=="function"?WeakMap:Map;function s3(e,t,r){r=ml(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Cx||(Cx=!0,sv=n),$b(e,t)},r}function r3(e,t,r){r=ml(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){$b(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$b(e,t),typeof n!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Hj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new NU;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=MU.bind(null,e,t,r),t.then(e,e))}function Kj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zj(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ml(-1,1),t.tag=2,fo(r,t,1))),r.lanes|=1),e)}var BU=Nl.ReactCurrentOwner,kn=!1;function xn(e,t,r,n){t.child=e===null?IS(t,null,r,n):od(t,e.child,r,n)}function Vj(e,t,r,n,a){r=r.render;var i=t.ref;return qA(t,a),n=V1(e,t,r,n,i,a),r=$1(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bl(e,t,a)):(Us&&r&&U1(t),t.flags|=1,xn(e,t,n,a),t.child)}function $j(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!sw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,n3(e,t,i,n,a)):(e=L0(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ih,r(l,n)&&e.ref===t.ref)return bl(e,t,a)}return t.flags|=1,e=po(i,n),e.ref=t.ref,e.return=t,t.child=e}function n3(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Ih(i,n)&&e.ref===t.ref)if(kn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(kn=!0);else return t.lanes=e.lanes,bl(e,t,a)}return Gb(e,t,r,n,a)}function a3(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ws(RA,Wn),Wn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ws(RA,Wn),Wn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ws(RA,Wn),Wn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ws(RA,Wn),Wn|=n;return xn(e,t,a,r),t.child}function i3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Gb(e,t,r,n,a){var i=Un(r)?Ic:An.current;return i=id(t,i),qA(t,a),r=V1(e,t,r,n,i,a),n=$1(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bl(e,t,a)):(Us&&n&&U1(t),t.flags|=1,xn(e,t,r,a),t.child)}function Gj(e,t,r,n,a){if(Un(r)){var i=!0;xx(t)}else i=!1;if(qA(t,a),t.stateNode===null)_0(e,t),t3(t,r,n),Vb(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,A=r.contextType;typeof A=="object"&&A!==null?A=Ca(A):(A=Un(r)?Ic:An.current,A=id(t,A));var d=r.getDerivedStateFromProps,u=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";u||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==A)&&Oj(t,l,n,A),ql=!1;var m=t.memoizedState;l.state=m,vx(t,n,l,a),c=t.memoizedState,o!==n||m!==c||In.current||ql?(typeof d=="function"&&(zb(t,r,d,n),c=t.memoizedState),(o=ql||Rj(t,r,o,n,m,c,A))?(u||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=A,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,LS(e,t),o=t.memoizedProps,A=t.type===t.elementType?o:Ka(t.type,o),l.props=A,u=t.pendingProps,m=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ca(c):(c=Un(r)?Ic:An.current,c=id(t,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==u||m!==c)&&Oj(t,l,n,c),ql=!1,m=t.memoizedState,l.state=m,vx(t,n,l,a);var g=t.memoizedState;o!==u||m!==g||In.current||ql?(typeof h=="function"&&(zb(t,r,h,n),g=t.memoizedState),(A=ql||Rj(t,r,A,n,m,g,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,g,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=c,n=A):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return qb(e,t,r,n,i,a)}function qb(e,t,r,n,a,i){i3(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&Ij(t,r,!1),bl(e,t,i);n=t.stateNode,BU.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=od(t,e.child,null,i),t.child=od(t,null,o,i)):xn(e,t,o,i),t.memoizedState=n.state,a&&Ij(t,r,!0),t.child}function l3(e){var t=e.stateNode;t.pendingContext?_j(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_j(e,t.context,!1),O1(e,t.containerInfo)}function qj(e,t,r,n,a){return ld(),Q1(a),t.flags|=256,xn(e,t,r,n),t.child}var Wb={dehydrated:null,treeContext:null,retryLane:0};function Yb(e){return{baseLanes:e,cachePool:null,transitions:null}}function o3(e,t,r){var n=t.pendingProps,a=Ps.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ws(Ps,a&1),e===null)return Hb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=mg(l,n,0,null),e=Nc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Yb(r),t.memoizedState=Wb,e):W1(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return CU(e,t,l,n,o,a,r);if(i){i=n.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=po(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=po(o,i):(i=Nc(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?Yb(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Wb,n}return i=e.child,e=i.sibling,n=po(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function W1(e,t){return t=mg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vf(e,t,r,n){return n!==null&&Q1(n),od(t,e.child,null,r),e=W1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function CU(e,t,r,n,a,i,l){if(r)return t.flags&256?(t.flags&=-257,n=Jp(Error(ke(422))),vf(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=mg({mode:"visible",children:n.children},a,0,null),i=Nc(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&od(t,e.child,null,l),t.child.memoizedState=Yb(l),t.memoizedState=Wb,i);if(!(t.mode&1))return vf(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(ke(419)),n=Jp(i,n,void 0),vf(e,t,l,n)}if(o=(l&e.childLanes)!==0,kn||o){if(n=Pr,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,yl(e,a),Wa(n,e,a,-1))}return tw(),n=Jp(Error(ke(421))),vf(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=TU.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Jn=mo(a.nextSibling),ta=t,Us=!0,$a=null,e!==null&&(xa[ga++]=dl,xa[ga++]=ul,xa[ga++]=Uc,dl=e.id,ul=e.overflow,Uc=t),t=W1(t,n.children),t.flags|=4096,t)}function Wj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Kb(e.return,t,r)}function Zp(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function c3(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(xn(e,t,n.children,r),n=Ps.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wj(e,r,t);else if(e.tag===19)Wj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ws(Ps,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&wx(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Zp(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&wx(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Zp(t,!0,r,null,i);break;case"together":Zp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ke(153));if(t.child!==null){for(e=t.child,r=po(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=po(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function SU(e,t,r){switch(t.tag){case 3:l3(t),ld();break;case 5:QS(t);break;case 1:Un(t.type)&&xx(t);break;case 4:O1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ws(yx,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ws(Ps,Ps.current&1),t.flags|=128,null):r&t.child.childLanes?o3(e,t,r):(ws(Ps,Ps.current&1),e=bl(e,t,r),e!==null?e.sibling:null);ws(Ps,Ps.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return c3(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ws(Ps,Ps.current),n)break;return null;case 22:case 23:return t.lanes=0,a3(e,t,r)}return bl(e,t,r)}var A3,Xb,d3,u3;A3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xb=function(){};d3=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,hc(Fi.current);var i=null;switch(r){case"input":a=yb(e,a),n=yb(e,n),i=[];break;case"select":a=Ms({},a,{value:void 0}),n=Ms({},n,{value:void 0}),i=[];break;case"textarea":a=wb(e,a),n=wb(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mx)}Nb(r,n);var l;r=null;for(A in a)if(!n.hasOwnProperty(A)&&a.hasOwnProperty(A)&&a[A]!=null)if(A==="style"){var o=a[A];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(Bh.hasOwnProperty(A)?i||(i=[]):(i=i||[]).push(A,null));for(A in n){var c=n[A];if(o=a!=null?a[A]:void 0,n.hasOwnProperty(A)&&c!==o&&(c!=null||o!=null))if(A==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(A,r)),r=c;else A==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(A,c)):A==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(A,""+c):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(Bh.hasOwnProperty(A)?(c!=null&&A==="onScroll"&&Ns("scroll",e),i||o===c||(i=[])):(i=i||[]).push(A,c))}r&&(i=i||[]).push("style",r);var A=i;(t.updateQueue=A)&&(t.flags|=4)}};u3=function(e,t,r,n){r!==n&&(t.flags|=4)};function gu(e,t){if(!Us)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function EU(e,t,r){var n=t.pendingProps;switch(L1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(t),null;case 1:return Un(t.type)&&fx(),Xr(t),null;case 3:return n=t.stateNode,cd(),ks(In),ks(An),K1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$a!==null&&(av($a),$a=null))),Xb(e,t),Xr(t),null;case 5:H1(t);var a=hc(Dh.current);if(r=t.type,e!==null&&t.stateNode!=null)d3(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ke(166));return Xr(t),null}if(e=hc(Fi.current),yf(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ni]=t,n[Qh]=i,e=(t.mode&1)!==0,r){case"dialog":Ns("cancel",n),Ns("close",n);break;case"iframe":case"object":case"embed":Ns("load",n);break;case"video":case"audio":for(a=0;a<Mu.length;a++)Ns(Mu[a],n);break;case"source":Ns("error",n);break;case"img":case"image":case"link":Ns("error",n),Ns("load",n);break;case"details":Ns("toggle",n);break;case"input":nj(n,i),Ns("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ns("invalid",n);break;case"textarea":ij(n,i),Ns("invalid",n)}Nb(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&pf(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&pf(n.textContent,o,e),a=["children",""+o]):Bh.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Ns("scroll",n)}switch(r){case"input":Af(n),aj(n,i,!0);break;case"textarea":Af(n),lj(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mx)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=RC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Ni]=t,e[Qh]=n,A3(e,t,!1,!1),t.stateNode=e;e:{switch(l=Bb(r,n),r){case"dialog":Ns("cancel",e),Ns("close",e),a=n;break;case"iframe":case"object":case"embed":Ns("load",e),a=n;break;case"video":case"audio":for(a=0;a<Mu.length;a++)Ns(Mu[a],e);a=n;break;case"source":Ns("error",e),a=n;break;case"img":case"image":case"link":Ns("error",e),Ns("load",e),a=n;break;case"details":Ns("toggle",e),a=n;break;case"input":nj(e,n),a=yb(e,n),Ns("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ms({},n,{value:void 0}),Ns("invalid",e);break;case"textarea":ij(e,n),a=wb(e,n),Ns("invalid",e);break;default:a=n}Nb(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?KC(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&OC(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ch(e,c):typeof c=="number"&&Ch(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ns("scroll",e):c!=null&&y1(e,i,c,l))}switch(r){case"input":Af(e),aj(e,n,!1);break;case"textarea":Af(e),lj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+So(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?zA(e,!!n.multiple,i,!1):n.defaultValue!=null&&zA(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=mx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xr(t),null;case 6:if(e&&t.stateNode!=null)u3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ke(166));if(r=hc(Dh.current),hc(Fi.current),yf(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ni]=t,(i=n.nodeValue!==r)&&(e=ta,e!==null))switch(e.tag){case 3:pf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pf(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ni]=t,t.stateNode=n}return Xr(t),null;case 13:if(ks(Ps),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Us&&Jn!==null&&t.mode&1&&!(t.flags&128))kS(),ld(),t.flags|=98560,i=!1;else if(i=yf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ke(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ke(317));i[Ni]=t}else ld(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xr(t),i=!1}else $a!==null&&(av($a),$a=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ps.current&1?Cr===0&&(Cr=3):tw())),t.updateQueue!==null&&(t.flags|=4),Xr(t),null);case 4:return cd(),Xb(e,t),e===null&&Uh(t.stateNode.containerInfo),Xr(t),null;case 10:return M1(t.type._context),Xr(t),null;case 17:return Un(t.type)&&fx(),Xr(t),null;case 19:if(ks(Ps),i=t.memoizedState,i===null)return Xr(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)gu(i,!1);else{if(Cr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=wx(e),l!==null){for(t.flags|=128,gu(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ws(Ps,Ps.current&1|2),t.child}e=e.sibling}i.tail!==null&&er()>dd&&(t.flags|=128,n=!0,gu(i,!1),t.lanes=4194304)}else{if(!n)if(e=wx(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Us)return Xr(t),null}else 2*er()-i.renderingStartTime>dd&&r!==1073741824&&(t.flags|=128,n=!0,gu(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=er(),t.sibling=null,r=Ps.current,ws(Ps,n?r&1|2:r&1),t):(Xr(t),null);case 22:case 23:return ew(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Wn&1073741824&&(Xr(t),t.subtreeFlags&6&&(t.flags|=8192)):Xr(t),null;case 24:return null;case 25:return null}throw Error(ke(156,t.tag))}function FU(e,t){switch(L1(t),t.tag){case 1:return Un(t.type)&&fx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cd(),ks(In),ks(An),K1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return H1(t),null;case 13:if(ks(Ps),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ke(340));ld()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ks(Ps),null;case 4:return cd(),null;case 10:return M1(t.type._context),null;case 22:case 23:return ew(),null;case 24:return null;default:return null}}var wf=!1,an=!1,kU=typeof WeakSet=="function"?WeakSet:Set,Te=null;function TA(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ks(e,t,n)}else r.current=null}function Jb(e,t,r){try{r()}catch(n){Ks(e,t,n)}}var Yj=!1;function _U(e,t){if(Qb=dx,e=gS(),I1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,A=0,d=0,u=e,m=null;t:for(;;){for(var h;u!==r||a!==0&&u.nodeType!==3||(o=l+a),u!==i||n!==0&&u.nodeType!==3||(c=l+n),u.nodeType===3&&(l+=u.nodeValue.length),(h=u.firstChild)!==null;)m=u,u=h;for(;;){if(u===e)break t;if(m===r&&++A===a&&(o=l),m===i&&++d===n&&(c=l),(h=u.nextSibling)!==null)break;u=m,m=u.parentNode}u=h}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pb={focusedElem:e,selectionRange:r},dx=!1,Te=t;Te!==null;)if(t=Te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Te=e;else for(;Te!==null;){t=Te;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:Ka(t.type,p),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(w){Ks(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Te=e;break}Te=t.return}return g=Yj,Yj=!1,g}function ih(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Jb(t,r,i)}a=a.next}while(a!==n)}}function ug(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Zb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function h3(e){var t=e.alternate;t!==null&&(e.alternate=null,h3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ni],delete t[Qh],delete t[Tb],delete t[hU],delete t[mU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function m3(e){return e.tag===5||e.tag===3||e.tag===4}function Xj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||m3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ev(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mx));else if(n!==4&&(e=e.child,e!==null))for(ev(e,t,r),e=e.sibling;e!==null;)ev(e,t,r),e=e.sibling}function tv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(tv(e,t,r),e=e.sibling;e!==null;)tv(e,t,r),e=e.sibling}var Hr=null,za=!1;function Rl(e,t,r){for(r=r.child;r!==null;)f3(e,t,r),r=r.sibling}function f3(e,t,r){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(ng,r)}catch{}switch(r.tag){case 5:an||TA(r,t);case 6:var n=Hr,a=za;Hr=null,Rl(e,t,r),Hr=n,za=a,Hr!==null&&(za?(e=Hr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Hr.removeChild(r.stateNode));break;case 18:Hr!==null&&(za?(e=Hr,r=r.stateNode,e.nodeType===8?$p(e.parentNode,r):e.nodeType===1&&$p(e,r),kh(e)):$p(Hr,r.stateNode));break;case 4:n=Hr,a=za,Hr=r.stateNode.containerInfo,za=!0,Rl(e,t,r),Hr=n,za=a;break;case 0:case 11:case 14:case 15:if(!an&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Jb(r,t,l),a=a.next}while(a!==n)}Rl(e,t,r);break;case 1:if(!an&&(TA(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ks(r,t,o)}Rl(e,t,r);break;case 21:Rl(e,t,r);break;case 22:r.mode&1?(an=(n=an)||r.memoizedState!==null,Rl(e,t,r),an=n):Rl(e,t,r);break;default:Rl(e,t,r)}}function Jj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new kU),t.forEach(function(n){var a=RU.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ra(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Hr=o.stateNode,za=!1;break e;case 3:Hr=o.stateNode.containerInfo,za=!0;break e;case 4:Hr=o.stateNode.containerInfo,za=!0;break e}o=o.return}if(Hr===null)throw Error(ke(160));f3(i,l,a),Hr=null,za=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(A){Ks(a,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)x3(t,e),t=t.sibling}function x3(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ra(t,e),fi(e),n&4){try{ih(3,e,e.return),ug(3,e)}catch(p){Ks(e,e.return,p)}try{ih(5,e,e.return)}catch(p){Ks(e,e.return,p)}}break;case 1:Ra(t,e),fi(e),n&512&&r!==null&&TA(r,r.return);break;case 5:if(Ra(t,e),fi(e),n&512&&r!==null&&TA(r,r.return),e.flags&32){var a=e.stateNode;try{Ch(a,"")}catch(p){Ks(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&MC(a,i),Bb(o,l);var A=Bb(o,i);for(l=0;l<c.length;l+=2){var d=c[l],u=c[l+1];d==="style"?KC(a,u):d==="dangerouslySetInnerHTML"?OC(a,u):d==="children"?Ch(a,u):y1(a,d,u,A)}switch(o){case"input":bb(a,i);break;case"textarea":TC(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?zA(a,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?zA(a,!!i.multiple,i.defaultValue,!0):zA(a,!!i.multiple,i.multiple?[]:"",!1))}a[Qh]=i}catch(p){Ks(e,e.return,p)}}break;case 6:if(Ra(t,e),fi(e),n&4){if(e.stateNode===null)throw Error(ke(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Ks(e,e.return,p)}}break;case 3:if(Ra(t,e),fi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{kh(t.containerInfo)}catch(p){Ks(e,e.return,p)}break;case 4:Ra(t,e),fi(e);break;case 13:Ra(t,e),fi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(J1=er())),n&4&&Jj(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(an=(A=an)||d,Ra(t,e),an=A):Ra(t,e),fi(e),n&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!d&&e.mode&1)for(Te=e,d=e.child;d!==null;){for(u=Te=d;Te!==null;){switch(m=Te,h=m.child,m.tag){case 0:case 11:case 14:case 15:ih(4,m,m.return);break;case 1:TA(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Ks(n,r,p)}}break;case 5:TA(m,m.return);break;case 22:if(m.memoizedState!==null){eN(u);continue}}h!==null?(h.return=m,Te=h):eN(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{a=u.stateNode,A?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=u.stateNode,c=u.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=HC("display",l))}catch(p){Ks(e,e.return,p)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=A?"":u.memoizedProps}catch(p){Ks(e,e.return,p)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Ra(t,e),fi(e),n&4&&Jj(e);break;case 21:break;default:Ra(t,e),fi(e)}}function fi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(m3(r)){var n=r;break e}r=r.return}throw Error(ke(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ch(a,""),n.flags&=-33);var i=Xj(e);tv(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Xj(e);ev(e,o,l);break;default:throw Error(ke(161))}}catch(c){Ks(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IU(e,t,r){Te=e,g3(e)}function g3(e,t,r){for(var n=(e.mode&1)!==0;Te!==null;){var a=Te,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||wf;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||an;o=wf;var A=an;if(wf=l,(an=c)&&!A)for(Te=a;Te!==null;)l=Te,c=l.child,l.tag===22&&l.memoizedState!==null?tN(a):c!==null?(c.return=l,Te=c):tN(a);for(;i!==null;)Te=i,g3(i),i=i.sibling;Te=a,wf=o,an=A}Zj(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Te=i):Zj(e)}}function Zj(e){for(;Te!==null;){var t=Te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:an||ug(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!an)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ka(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Dj(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Dj(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var d=A.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&kh(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}an||t.flags&512&&Zb(t)}catch(m){Ks(t,t.return,m)}}if(t===e){Te=null;break}if(r=t.sibling,r!==null){r.return=t.return,Te=r;break}Te=t.return}}function eN(e){for(;Te!==null;){var t=Te;if(t===e){Te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Te=r;break}Te=t.return}}function tN(e){for(;Te!==null;){var t=Te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ug(4,t)}catch(c){Ks(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Ks(t,a,c)}}var i=t.return;try{Zb(t)}catch(c){Ks(t,i,c)}break;case 5:var l=t.return;try{Zb(t)}catch(c){Ks(t,l,c)}}}catch(c){Ks(t,t.return,c)}if(t===e){Te=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Te=o;break}Te=t.return}}var UU=Math.ceil,Bx=Nl.ReactCurrentDispatcher,Y1=Nl.ReactCurrentOwner,Ba=Nl.ReactCurrentBatchConfig,Kt=0,Pr=null,hr=null,$r=0,Wn=0,RA=Lo(0),Cr=0,Oh=null,Qc=0,hg=0,X1=0,lh=null,En=null,J1=0,dd=1/0,il=null,Cx=!1,sv=null,xo=null,jf=!1,to=null,Sx=0,oh=0,rv=null,I0=-1,U0=0;function pn(){return Kt&6?er():I0!==-1?I0:I0=er()}function go(e){return e.mode&1?Kt&2&&$r!==0?$r&-$r:xU.transition!==null?(U0===0&&(U0=tS()),U0):(e=ls,e!==0||(e=window.event,e=e===void 0?16:oS(e.type)),e):1}function Wa(e,t,r,n){if(50<oh)throw oh=0,rv=null,Error(ke(185));um(e,r,n),(!(Kt&2)||e!==Pr)&&(e===Pr&&(!(Kt&2)&&(hg|=r),Cr===4&&Xl(e,$r)),Ln(e,n),r===1&&Kt===0&&!(t.mode&1)&&(dd=er()+500,cg&&Qo()))}function Ln(e,t){var r=e.callbackNode;xI(e,t);var n=Ax(e,e===Pr?$r:0);if(n===0)r!==null&&Aj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Aj(r),t===1)e.tag===0?fU(sN.bind(null,e)):SS(sN.bind(null,e)),dU(function(){!(Kt&6)&&Qo()}),r=null;else{switch(sS(n)){case 1:r=N1;break;case 4:r=ZC;break;case 16:r=cx;break;case 536870912:r=eS;break;default:r=cx}r=B3(r,p3.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function p3(e,t){if(I0=-1,U0=0,Kt&6)throw Error(ke(327));var r=e.callbackNode;if(WA()&&e.callbackNode!==r)return null;var n=Ax(e,e===Pr?$r:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ex(e,n);else{t=n;var a=Kt;Kt|=2;var i=b3();(Pr!==e||$r!==t)&&(il=null,dd=er()+500,jc(e,t));do try{PU();break}catch(o){y3(e,o)}while(!0);D1(),Bx.current=i,Kt=a,hr!==null?t=0:(Pr=null,$r=0,t=Cr)}if(t!==0){if(t===2&&(a=kb(e),a!==0&&(n=a,t=nv(e,a))),t===1)throw r=Oh,jc(e,0),Xl(e,n),Ln(e,er()),r;if(t===6)Xl(e,n);else{if(a=e.current.alternate,!(n&30)&&!LU(a)&&(t=Ex(e,n),t===2&&(i=kb(e),i!==0&&(n=i,t=nv(e,i))),t===1))throw r=Oh,jc(e,0),Xl(e,n),Ln(e,er()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ke(345));case 2:ac(e,En,il);break;case 3:if(Xl(e,n),(n&130023424)===n&&(t=J1+500-er(),10<t)){if(Ax(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){pn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Mb(ac.bind(null,e,En,il),t);break}ac(e,En,il);break;case 4:if(Xl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-qa(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=er()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*UU(n/1960))-n,10<n){e.timeoutHandle=Mb(ac.bind(null,e,En,il),n);break}ac(e,En,il);break;case 5:ac(e,En,il);break;default:throw Error(ke(329))}}}return Ln(e,er()),e.callbackNode===r?p3.bind(null,e):null}function nv(e,t){var r=lh;return e.current.memoizedState.isDehydrated&&(jc(e,t).flags|=256),e=Ex(e,t),e!==2&&(t=En,En=r,t!==null&&av(t)),e}function av(e){En===null?En=e:En.push.apply(En,e)}function LU(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ya(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xl(e,t){for(t&=~X1,t&=~hg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qa(t),n=1<<r;e[r]=-1,t&=~n}}function sN(e){if(Kt&6)throw Error(ke(327));WA();var t=Ax(e,0);if(!(t&1))return Ln(e,er()),null;var r=Ex(e,t);if(e.tag!==0&&r===2){var n=kb(e);n!==0&&(t=n,r=nv(e,n))}if(r===1)throw r=Oh,jc(e,0),Xl(e,t),Ln(e,er()),r;if(r===6)throw Error(ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ac(e,En,il),Ln(e,er()),null}function Z1(e,t){var r=Kt;Kt|=1;try{return e(t)}finally{Kt=r,Kt===0&&(dd=er()+500,cg&&Qo())}}function Pc(e){to!==null&&to.tag===0&&!(Kt&6)&&WA();var t=Kt;Kt|=1;var r=Ba.transition,n=ls;try{if(Ba.transition=null,ls=1,e)return e()}finally{ls=n,Ba.transition=r,Kt=t,!(Kt&6)&&Qo()}}function ew(){Wn=RA.current,ks(RA)}function jc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,AU(r)),hr!==null)for(r=hr.return;r!==null;){var n=r;switch(L1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fx();break;case 3:cd(),ks(In),ks(An),K1();break;case 5:H1(n);break;case 4:cd();break;case 13:ks(Ps);break;case 19:ks(Ps);break;case 10:M1(n.type._context);break;case 22:case 23:ew()}r=r.return}if(Pr=e,hr=e=po(e.current,null),$r=Wn=t,Cr=0,Oh=null,X1=hg=Qc=0,En=lh=null,uc!==null){for(t=0;t<uc.length;t++)if(r=uc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}uc=null}return e}function y3(e,t){do{var r=hr;try{if(D1(),F0.current=Nx,jx){for(var n=Ds.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}jx=!1}if(Lc=0,Ur=jr=Ds=null,ah=!1,Mh=0,Y1.current=null,r===null||r.return===null){Cr=1,Oh=t,hr=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=$r,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var A=c,d=o,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Kj(l);if(h!==null){h.flags&=-257,zj(h,l,o,i,t),h.mode&1&&Hj(i,A,t),t=h,c=A;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){Hj(i,A,t),tw();break e}c=Error(ke(426))}}else if(Us&&o.mode&1){var v=Kj(l);if(v!==null){!(v.flags&65536)&&(v.flags|=256),zj(v,l,o,i,t),Q1(Ad(c,o));break e}}i=c=Ad(c,o),Cr!==4&&(Cr=2),lh===null?lh=[i]:lh.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=s3(i,c,t);Pj(i,x);break e;case 1:o=c;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(xo===null||!xo.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=r3(i,o,t);Pj(i,w);break e}}i=i.return}while(i!==null)}w3(r)}catch(S){t=S,hr===r&&r!==null&&(hr=r=r.return);continue}break}while(!0)}function b3(){var e=Bx.current;return Bx.current=Nx,e===null?Nx:e}function tw(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),Pr===null||!(Qc&268435455)&&!(hg&268435455)||Xl(Pr,$r)}function Ex(e,t){var r=Kt;Kt|=2;var n=b3();(Pr!==e||$r!==t)&&(il=null,jc(e,t));do try{QU();break}catch(a){y3(e,a)}while(!0);if(D1(),Kt=r,Bx.current=n,hr!==null)throw Error(ke(261));return Pr=null,$r=0,Cr}function QU(){for(;hr!==null;)v3(hr)}function PU(){for(;hr!==null&&!lI();)v3(hr)}function v3(e){var t=N3(e.alternate,e,Wn);e.memoizedProps=e.pendingProps,t===null?w3(e):hr=t,Y1.current=null}function w3(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=FU(r,t),r!==null){r.flags&=32767,hr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Cr=6,hr=null;return}}else if(r=EU(r,t,Wn),r!==null){hr=r;return}if(t=t.sibling,t!==null){hr=t;return}hr=t=e}while(t!==null);Cr===0&&(Cr=5)}function ac(e,t,r){var n=ls,a=Ba.transition;try{Ba.transition=null,ls=1,DU(e,t,r,n)}finally{Ba.transition=a,ls=n}return null}function DU(e,t,r,n){do WA();while(to!==null);if(Kt&6)throw Error(ke(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ke(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(gI(e,i),e===Pr&&(hr=Pr=null,$r=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||jf||(jf=!0,B3(cx,function(){return WA(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ba.transition,Ba.transition=null;var l=ls;ls=1;var o=Kt;Kt|=4,Y1.current=null,_U(e,r),x3(r,e),rU(Pb),dx=!!Qb,Pb=Qb=null,e.current=r,IU(r),oI(),Kt=o,ls=l,Ba.transition=i}else e.current=r;if(jf&&(jf=!1,to=e,Sx=a),i=e.pendingLanes,i===0&&(xo=null),dI(r.stateNode),Ln(e,er()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Cx)throw Cx=!1,e=sv,sv=null,e;return Sx&1&&e.tag!==0&&WA(),i=e.pendingLanes,i&1?e===rv?oh++:(oh=0,rv=e):oh=0,Qo(),null}function WA(){if(to!==null){var e=sS(Sx),t=Ba.transition,r=ls;try{if(Ba.transition=null,ls=16>e?16:e,to===null)var n=!1;else{if(e=to,to=null,Sx=0,Kt&6)throw Error(ke(331));var a=Kt;for(Kt|=4,Te=e.current;Te!==null;){var i=Te,l=i.child;if(Te.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var A=o[c];for(Te=A;Te!==null;){var d=Te;switch(d.tag){case 0:case 11:case 15:ih(8,d,i)}var u=d.child;if(u!==null)u.return=d,Te=u;else for(;Te!==null;){d=Te;var m=d.sibling,h=d.return;if(h3(d),d===A){Te=null;break}if(m!==null){m.return=h,Te=m;break}Te=h}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Te=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,Te=l;else e:for(;Te!==null;){if(i=Te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ih(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Te=x;break e}Te=i.return}}var b=e.current;for(Te=b;Te!==null;){l=Te;var j=l.child;if(l.subtreeFlags&2064&&j!==null)j.return=l,Te=j;else e:for(l=b;Te!==null;){if(o=Te,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ug(9,o)}}catch(S){Ks(o,o.return,S)}if(o===l){Te=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,Te=w;break e}Te=o.return}}if(Kt=a,Qo(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(ng,e)}catch{}n=!0}return n}finally{ls=r,Ba.transition=t}}return!1}function rN(e,t,r){t=Ad(r,t),t=s3(e,t,1),e=fo(e,t,1),t=pn(),e!==null&&(um(e,1,t),Ln(e,t))}function Ks(e,t,r){if(e.tag===3)rN(e,e,r);else for(;t!==null;){if(t.tag===3){rN(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xo===null||!xo.has(n))){e=Ad(r,e),e=r3(t,e,1),t=fo(t,e,1),e=pn(),t!==null&&(um(t,1,e),Ln(t,e));break}}t=t.return}}function MU(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=pn(),e.pingedLanes|=e.suspendedLanes&r,Pr===e&&($r&r)===r&&(Cr===4||Cr===3&&($r&130023424)===$r&&500>er()-J1?jc(e,0):X1|=r),Ln(e,t)}function j3(e,t){t===0&&(e.mode&1?(t=hf,hf<<=1,!(hf&130023424)&&(hf=4194304)):t=1);var r=pn();e=yl(e,t),e!==null&&(um(e,t,r),Ln(e,r))}function TU(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),j3(e,r)}function RU(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ke(314))}n!==null&&n.delete(t),j3(e,r)}var N3;N3=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||In.current)kn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return kn=!1,SU(e,t,r);kn=!!(e.flags&131072)}else kn=!1,Us&&t.flags&1048576&&ES(t,px,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;_0(e,t),e=t.pendingProps;var a=id(t,An.current);qA(t,r),a=V1(null,t,n,e,a,r);var i=$1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Un(n)?(i=!0,xx(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,R1(t),a.updater=dg,t.stateNode=a,a._reactInternals=t,Vb(t,n,e,r),t=qb(null,t,n,!0,i,r)):(t.tag=0,Us&&i&&U1(t),xn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(_0(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=HU(n),e=Ka(n,e),a){case 0:t=Gb(null,t,n,e,r);break e;case 1:t=Gj(null,t,n,e,r);break e;case 11:t=Vj(null,t,n,e,r);break e;case 14:t=$j(null,t,n,Ka(n.type,e),r);break e}throw Error(ke(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ka(n,a),Gb(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ka(n,a),Gj(e,t,n,a,r);case 3:e:{if(l3(t),e===null)throw Error(ke(387));n=t.pendingProps,i=t.memoizedState,a=i.element,LS(e,t),vx(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ad(Error(ke(423)),t),t=qj(e,t,n,r,a);break e}else if(n!==a){a=Ad(Error(ke(424)),t),t=qj(e,t,n,r,a);break e}else for(Jn=mo(t.stateNode.containerInfo.firstChild),ta=t,Us=!0,$a=null,r=IS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ld(),n===a){t=bl(e,t,r);break e}xn(e,t,n,r)}t=t.child}return t;case 5:return QS(t),e===null&&Hb(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,Db(n,a)?l=null:i!==null&&Db(n,i)&&(t.flags|=32),i3(e,t),xn(e,t,l,r),t.child;case 6:return e===null&&Hb(t),null;case 13:return o3(e,t,r);case 4:return O1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=od(t,null,n,r):xn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ka(n,a),Vj(e,t,n,a,r);case 7:return xn(e,t,t.pendingProps,r),t.child;case 8:return xn(e,t,t.pendingProps.children,r),t.child;case 12:return xn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,ws(yx,n._currentValue),n._currentValue=l,i!==null)if(Ya(i.value,l)){if(i.children===a.children&&!In.current){t=bl(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ml(-1,r&-r),c.tag=2;var A=i.updateQueue;if(A!==null){A=A.shared;var d=A.pending;d===null?c.next=c:(c.next=d.next,d.next=c),A.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Kb(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(ke(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Kb(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}xn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,qA(t,r),a=Ca(a),n=n(a),t.flags|=1,xn(e,t,n,r),t.child;case 14:return n=t.type,a=Ka(n,t.pendingProps),a=Ka(n.type,a),$j(e,t,n,a,r);case 15:return n3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ka(n,a),_0(e,t),t.tag=1,Un(n)?(e=!0,xx(t)):e=!1,qA(t,r),t3(t,n,a),Vb(t,n,a,r),qb(null,t,n,!0,e,r);case 19:return c3(e,t,r);case 22:return a3(e,t,r)}throw Error(ke(156,t.tag))};function B3(e,t){return JC(e,t)}function OU(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function va(e,t,r,n){return new OU(e,t,r,n)}function sw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HU(e){if(typeof e=="function")return sw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===v1)return 11;if(e===w1)return 14}return 2}function po(e,t){var r=e.alternate;return r===null?(r=va(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function L0(e,t,r,n,a,i){var l=2;if(n=e,typeof e=="function")sw(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case kA:return Nc(r.children,a,i,t);case b1:l=8,a|=8;break;case fb:return e=va(12,r,t,a|2),e.elementType=fb,e.lanes=i,e;case xb:return e=va(13,r,t,a),e.elementType=xb,e.lanes=i,e;case gb:return e=va(19,r,t,a),e.elementType=gb,e.lanes=i,e;case QC:return mg(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case UC:l=10;break e;case LC:l=9;break e;case v1:l=11;break e;case w1:l=14;break e;case Gl:l=16,n=null;break e}throw Error(ke(130,e==null?e:typeof e,""))}return t=va(l,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Nc(e,t,r,n){return e=va(7,e,n,t),e.lanes=r,e}function mg(e,t,r,n){return e=va(22,e,n,t),e.elementType=QC,e.lanes=r,e.stateNode={isHidden:!1},e}function ey(e,t,r){return e=va(6,e,null,t),e.lanes=r,e}function ty(e,t,r){return t=va(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KU(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qp(0),this.expirationTimes=Qp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qp(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function rw(e,t,r,n,a,i,l,o,c){return e=new KU(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=va(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},R1(i),e}function zU(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:FA,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function C3(e){if(!e)return Eo;e=e._reactInternals;e:{if(zc(e)!==e||e.tag!==1)throw Error(ke(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ke(171))}if(e.tag===1){var r=e.type;if(Un(r))return CS(e,r,t)}return t}function S3(e,t,r,n,a,i,l,o,c){return e=rw(r,n,!0,e,a,i,l,o,c),e.context=C3(null),r=e.current,n=pn(),a=go(r),i=ml(n,a),i.callback=t??null,fo(r,i,a),e.current.lanes=a,um(e,a,n),Ln(e,n),e}function fg(e,t,r,n){var a=t.current,i=pn(),l=go(a);return r=C3(r),t.context===null?t.context=r:t.pendingContext=r,t=ml(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fo(a,t,l),e!==null&&(Wa(e,a,l,i),E0(e,a,l)),l}function Fx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function nw(e,t){nN(e,t),(e=e.alternate)&&nN(e,t)}function VU(){return null}var E3=typeof reportError=="function"?reportError:function(e){console.error(e)};function aw(e){this._internalRoot=e}xg.prototype.render=aw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ke(409));fg(e,t,null,null)};xg.prototype.unmount=aw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pc(function(){fg(null,e,null,null)}),t[pl]=null}};function xg(e){this._internalRoot=e}xg.prototype.unstable_scheduleHydration=function(e){if(e){var t=aS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Yl.length&&t!==0&&t<Yl[r].priority;r++);Yl.splice(r,0,e),r===0&&lS(e)}};function iw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function aN(){}function $U(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var A=Fx(l);i.call(A)}}var l=S3(t,n,e,0,null,!1,!1,"",aN);return e._reactRootContainer=l,e[pl]=l.current,Uh(e.nodeType===8?e.parentNode:e),Pc(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var A=Fx(c);o.call(A)}}var c=rw(e,0,!1,null,null,!1,!1,"",aN);return e._reactRootContainer=c,e[pl]=c.current,Uh(e.nodeType===8?e.parentNode:e),Pc(function(){fg(t,c,r,n)}),c}function pg(e,t,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Fx(l);o.call(c)}}fg(t,l,e,a)}else l=$U(r,t,e,a,n);return Fx(l)}rS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Du(t.pendingLanes);r!==0&&(B1(t,r|1),Ln(t,er()),!(Kt&6)&&(dd=er()+500,Qo()))}break;case 13:Pc(function(){var n=yl(e,1);if(n!==null){var a=pn();Wa(n,e,1,a)}}),nw(e,1)}};C1=function(e){if(e.tag===13){var t=yl(e,134217728);if(t!==null){var r=pn();Wa(t,e,134217728,r)}nw(e,134217728)}};nS=function(e){if(e.tag===13){var t=go(e),r=yl(e,t);if(r!==null){var n=pn();Wa(r,e,t,n)}nw(e,t)}};aS=function(){return ls};iS=function(e,t){var r=ls;try{return ls=e,t()}finally{ls=r}};Sb=function(e,t,r){switch(t){case"input":if(bb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=og(n);if(!a)throw Error(ke(90));DC(n),bb(n,a)}}}break;case"textarea":TC(e,r);break;case"select":t=r.value,t!=null&&zA(e,!!r.multiple,t,!1)}};$C=Z1;GC=Pc;var GU={usingClientEntryPoint:!1,Events:[mm,LA,og,zC,VC,Z1]},pu={findFiberByHostInstance:dc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qU={bundleType:pu.bundleType,version:pu.version,rendererPackageName:pu.rendererPackageName,rendererConfig:pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=YC(e),e===null?null:e.stateNode},findFiberByHostInstance:pu.findFiberByHostInstance||VU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{ng=Nf.inject(qU),Ei=Nf}catch{}}na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GU;na.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iw(t))throw Error(ke(200));return zU(e,t,null,r)};na.createRoot=function(e,t){if(!iw(e))throw Error(ke(299));var r=!1,n="",a=E3;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=rw(e,1,!1,null,null,r,!1,n,a),e[pl]=t.current,Uh(e.nodeType===8?e.parentNode:e),new aw(t)};na.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ke(188)):(e=Object.keys(e).join(","),Error(ke(268,e)));return e=YC(t),e=e===null?null:e.stateNode,e};na.flushSync=function(e){return Pc(e)};na.hydrate=function(e,t,r){if(!gg(t))throw Error(ke(200));return pg(null,e,t,!0,r)};na.hydrateRoot=function(e,t,r){if(!iw(e))throw Error(ke(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=E3;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=S3(t,null,e,1,r??null,a,!1,i,l),e[pl]=t.current,Uh(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new xg(t)};na.render=function(e,t,r){if(!gg(t))throw Error(ke(200));return pg(null,e,t,!1,r)};na.unmountComponentAtNode=function(e){if(!gg(e))throw Error(ke(40));return e._reactRootContainer?(Pc(function(){pg(null,null,e,!1,function(){e._reactRootContainer=null,e[pl]=null})}),!0):!1};na.unstable_batchedUpdates=Z1;na.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!gg(r))throw Error(ke(200));if(e==null||e._reactInternals===void 0)throw Error(ke(38));return pg(e,t,r,!1,n)};na.version="18.3.1-next-f1338f8080-20240426";function F3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F3)}catch(e){console.error(e)}}F3(),FC.exports=na;var WU=FC.exports,k3,iN=WU;k3=iN.createRoot,iN.hydrateRoot;/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lN="popstate";function YU(e={}){function t(n,a){let{pathname:i,search:l,hash:o}=n.location;return iv("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Hh(a)}return JU(t,r,null,e)}function Ls(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XU(){return Math.random().toString(36).substring(2,10)}function oN(e,t){return{usr:e.state,key:e.key,idx:t}}function iv(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Bd(t):t,state:r,key:t&&t.key||n||XU()}}function Hh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function JU(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o="POP",c=null,A=d();A==null&&(A=0,l.replaceState({...l.state,idx:A},""));function d(){return(l.state||{idx:null}).idx}function u(){o="POP";let v=d(),x=v==null?null:v-A;A=v,c&&c({action:o,location:p.location,delta:x})}function m(v,x){o="PUSH";let b=iv(p.location,v,x);A=d()+1;let j=oN(b,A),w=p.createHref(b);try{l.pushState(j,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(w)}i&&c&&c({action:o,location:p.location,delta:1})}function h(v,x){o="REPLACE";let b=iv(p.location,v,x);A=d();let j=oN(b,A),w=p.createHref(b);l.replaceState(j,"",w),i&&c&&c({action:o,location:p.location,delta:0})}function g(v){return ZU(v)}let p={get action(){return o},get location(){return e(a,l)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(lN,u),c=v,()=>{a.removeEventListener(lN,u),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:h,go(v){return l.go(v)}};return p}function ZU(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ls(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Hh(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function _3(e,t,r="/"){return e8(e,t,r,!1)}function e8(e,t,r,n){let a=typeof t=="string"?Bd(t):t,i=vl(a.pathname||"/",r);if(i==null)return null;let l=I3(e);t8(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let A=u8(i);o=A8(l[c],A,n)}return o}function I3(e,t=[],r=[],n="",a=!1){let i=(l,o,c=a,A)=>{let d={relativePath:A===void 0?l.path||"":A,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Ls(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let u=fl([n,d.relativePath]),m=r.concat(d);l.children&&l.children.length>0&&(Ls(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),I3(l.children,t,m,u,c)),!(l.path==null&&!l.index)&&t.push({path:u,score:o8(u,l.index),routesMeta:m})};return e.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))i(l,o);else for(let A of U3(l.path))i(l,o,!0,A)}),t}function U3(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=U3(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function t8(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:c8(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var s8=/^:[\w-]+$/,r8=3,n8=2,a8=1,i8=10,l8=-2,cN=e=>e==="*";function o8(e,t){let r=e.split("/"),n=r.length;return r.some(cN)&&(n+=l8),t&&(n+=n8),r.filter(a=>!cN(a)).reduce((a,i)=>a+(s8.test(i)?r8:i===""?a8:i8),n)}function c8(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function A8(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],A=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",u=kx({path:c.relativePath,caseSensitive:c.caseSensitive,end:A},d),m=c.route;if(!u&&A&&r&&!n[n.length-1].route.index&&(u=kx({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!u)return null;Object.assign(a,u.params),l.push({params:a,pathname:fl([i,u.pathname]),pathnameBase:x8(fl([i,u.pathnameBase])),route:m}),u.pathnameBase!=="/"&&(i=fl([i,u.pathnameBase]))}return l}function kx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=d8(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((A,{paramName:d,isOptional:u},m)=>{if(d==="*"){let g=o[m]||"";l=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const h=o[m];return u&&!h?A[d]=void 0:A[d]=(h||"").replace(/%2F/g,"/"),A},{}),pathname:i,pathnameBase:l,pattern:e}}function d8(e,t=!1,r=!0){Xa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function u8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function vl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function h8(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Bd(e):e;return{pathname:r?r.startsWith("/")?r:m8(r,t):t,search:g8(n),hash:p8(a)}}function m8(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function sy(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f8(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function lw(e){let t=f8(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function ow(e,t,r,n=!1){let a;typeof e=="string"?a=Bd(e):(a={...e},Ls(!a.pathname||!a.pathname.includes("?"),sy("?","pathname","search",a)),Ls(!a.pathname||!a.pathname.includes("#"),sy("#","pathname","hash",a)),Ls(!a.search||!a.search.includes("#"),sy("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let u=t.length-1;if(!n&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),u-=1;a.pathname=m.join("/")}o=u>=0?t[u]:"/"}let c=h8(a,o),A=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(A||d)&&(c.pathname+="/"),c}var fl=e=>e.join("/").replace(/\/\/+/g,"/"),x8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),g8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function y8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var L3=["POST","PUT","PATCH","DELETE"];new Set(L3);var b8=["GET",...L3];new Set(b8);var Cd=N.createContext(null);Cd.displayName="DataRouter";var yg=N.createContext(null);yg.displayName="DataRouterState";N.createContext(!1);var Q3=N.createContext({isTransitioning:!1});Q3.displayName="ViewTransition";var v8=N.createContext(new Map);v8.displayName="Fetchers";var w8=N.createContext(null);w8.displayName="Await";var ei=N.createContext(null);ei.displayName="Navigation";var xm=N.createContext(null);xm.displayName="Location";var Li=N.createContext({outlet:null,matches:[],isDataRoute:!1});Li.displayName="Route";var cw=N.createContext(null);cw.displayName="RouteError";function j8(e,{relative:t}={}){Ls(Sd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=N.useContext(ei),{hash:a,pathname:i,search:l}=gm(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:fl([r,i])),n.createHref({pathname:o,search:l,hash:a})}function Sd(){return N.useContext(xm)!=null}function Bl(){return Ls(Sd(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(xm).location}var P3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D3(e){N.useContext(ei).static||N.useLayoutEffect(e)}function M3(){let{isDataRoute:e}=N.useContext(Li);return e?P8():N8()}function N8(){Ls(Sd(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Cd),{basename:t,navigator:r}=N.useContext(ei),{matches:n}=N.useContext(Li),{pathname:a}=Bl(),i=JSON.stringify(lw(n)),l=N.useRef(!1);return D3(()=>{l.current=!0}),N.useCallback((c,A={})=>{if(Xa(l.current,P3),!l.current)return;if(typeof c=="number"){r.go(c);return}let d=ow(c,JSON.parse(i),a,A.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:fl([t,d.pathname])),(A.replace?r.replace:r.push)(d,A.state,A)},[t,r,i,a,e])}N.createContext(null);function gm(e,{relative:t}={}){let{matches:r}=N.useContext(Li),{pathname:n}=Bl(),a=JSON.stringify(lw(r));return N.useMemo(()=>ow(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function B8(e,t){return T3(e,t)}function T3(e,t,r,n,a){var b;Ls(Sd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(ei),{matches:l}=N.useContext(Li),o=l[l.length-1],c=o?o.params:{},A=o?o.pathname:"/",d=o?o.pathnameBase:"/",u=o&&o.route;{let j=u&&u.path||"";R3(A,!u||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${A}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let m=Bl(),h;if(t){let j=typeof t=="string"?Bd(t):t;Ls(d==="/"||((b=j.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${j.pathname}" was given in the \`location\` prop.`),h=j}else h=m;let g=h.pathname||"/",p=g;if(d!=="/"){let j=d.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=_3(e,{pathname:p});Xa(u||v!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Xa(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=k8(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:fl([d,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?d:fl([d,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,r,n,a);return t&&x?N.createElement(xm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},x):x}function C8(){let e=Q8(),t=y8(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:i},"ErrorBoundary")," or"," ",N.createElement("code",{style:i},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:a},r):null,l)}var S8=N.createElement(C8,null),E8=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?N.createElement(Li.Provider,{value:this.props.routeContext},N.createElement(cw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F8({routeContext:e,match:t,children:r}){let n=N.useContext(Cd);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Li.Provider,{value:e},r)}function k8(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=r==null?void 0:r.errors;if(l!=null){let A=i.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);Ls(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,A+1))}let o=!1,c=-1;if(r)for(let A=0;A<i.length;A++){let d=i[A];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=A),d.route.id){let{loaderData:u,errors:m}=r,h=d.route.loader&&!u.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||h){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((A,d,u)=>{let m,h=!1,g=null,p=null;r&&(m=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||S8,o&&(c<0&&u===0?(R3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):c===u&&(h=!0,p=d.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,u+1)),x=()=>{let b;return m?b=g:h?b=p:d.route.Component?b=N.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=A,N.createElement(F8,{match:d,routeContext:{outlet:A,matches:v,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||u===0)?N.createElement(E8,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:n}):x()},null)}function Aw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _8(e){let t=N.useContext(Cd);return Ls(t,Aw(e)),t}function I8(e){let t=N.useContext(yg);return Ls(t,Aw(e)),t}function U8(e){let t=N.useContext(Li);return Ls(t,Aw(e)),t}function dw(e){let t=U8(e),r=t.matches[t.matches.length-1];return Ls(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function L8(){return dw("useRouteId")}function Q8(){var n;let e=N.useContext(cw),t=I8("useRouteError"),r=dw("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function P8(){let{router:e}=_8("useNavigate"),t=dw("useNavigate"),r=N.useRef(!1);return D3(()=>{r.current=!0}),N.useCallback(async(a,i={})=>{Xa(r.current,P3),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var AN={};function R3(e,t,r){!t&&!AN[e]&&(AN[e]=!0,Xa(!1,r))}N.memo(D8);function D8({routes:e,future:t,state:r,unstable_onError:n}){return T3(e,void 0,r,n,t)}function M8({to:e,replace:t,state:r,relative:n}){Ls(Sd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(ei);Xa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=N.useContext(Li),{pathname:l}=Bl(),o=M3(),c=ow(e,lw(i),l,n==="path"),A=JSON.stringify(c);return N.useEffect(()=>{o(JSON.parse(A),{replace:t,state:r,relative:n})},[o,A,n,t,r]),null}function Ut(e){Ls(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T8({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){Ls(!Sd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=N.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof r=="string"&&(r=Bd(r));let{pathname:c="/",search:A="",hash:d="",state:u=null,key:m="default"}=r,h=N.useMemo(()=>{let g=vl(c,l);return g==null?null:{location:{pathname:g,search:A,hash:d,state:u,key:m},navigationType:n}},[l,c,A,d,u,m,n]);return Xa(h!=null,`<Router basename="${l}"> is not able to match the URL "${c}${A}${d}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:N.createElement(ei.Provider,{value:o},N.createElement(xm.Provider,{children:t,value:h}))}function R8({children:e,location:t}){return B8(lv(e),t)}function lv(e,t=[]){let r=[];return N.Children.forEach(e,(n,a)=>{if(!N.isValidElement(n))return;let i=[...t,a];if(n.type===N.Fragment){r.push.apply(r,lv(n.props.children,i));return}Ls(n.type===Ut,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ls(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=lv(n.props.children,i)),r.push(l)}),r}var Q0="get",P0="application/x-www-form-urlencoded";function bg(e){return e!=null&&typeof e.tagName=="string"}function O8(e){return bg(e)&&e.tagName.toLowerCase()==="button"}function H8(e){return bg(e)&&e.tagName.toLowerCase()==="form"}function K8(e){return bg(e)&&e.tagName.toLowerCase()==="input"}function z8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function V8(e,t){return e.button===0&&(!t||t==="_self")&&!z8(e)}var Bf=null;function $8(){if(Bf===null)try{new FormData(document.createElement("form"),0),Bf=!1}catch{Bf=!0}return Bf}var G8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ry(e){return e!=null&&!G8.has(e)?(Xa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${P0}"`),null):e}function q8(e,t){let r,n,a,i,l;if(H8(e)){let o=e.getAttribute("action");n=o?vl(o,t):null,r=e.getAttribute("method")||Q0,a=ry(e.getAttribute("enctype"))||P0,i=new FormData(e)}else if(O8(e)||K8(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?vl(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Q0,a=ry(e.getAttribute("formenctype"))||ry(o.getAttribute("enctype"))||P0,i=new FormData(o,e),!$8()){let{name:A,type:d,value:u}=e;if(d==="image"){let m=A?`${A}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else A&&i.append(A,u)}}else{if(bg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Q0,n=null,a=P0,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function W8(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&vl(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Y8(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function J8(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await Y8(i,r);return l.links?l.links():[]}return[]}));return sL(n.flat(1).filter(X8).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function dN(e,t,r,n,a,i){let l=(c,A)=>r[A]?c.route.id!==r[A].route.id:!0,o=(c,A)=>{var d;return r[A].pathname!==c.pathname||((d=r[A].route.path)==null?void 0:d.endsWith("*"))&&r[A].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,A)=>l(c,A)||o(c,A)):i==="data"?t.filter((c,A)=>{var u;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(l(c,A)||o(c,A))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((u=r[0])==null?void 0:u.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Z8(e,t,{includeHydrateFallback:r}={}){return eL(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function eL(e){return[...new Set(e)]}function tL(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function sL(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(tL(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function O3(){let e=N.useContext(Cd);return uw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rL(){let e=N.useContext(yg);return uw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var hw=N.createContext(void 0);hw.displayName="FrameworkContext";function H3(){let e=N.useContext(hw);return uw(e,"You must render this element inside a <HydratedRouter> element"),e}function nL(e,t){let r=N.useContext(hw),[n,a]=N.useState(!1),[i,l]=N.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:A,onMouseLeave:d,onTouchStart:u}=t,m=N.useRef(null);N.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let p=x=>{x.forEach(b=>{l(b.isIntersecting)})},v=new IntersectionObserver(p,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[e]),N.useEffect(()=>{if(n){let p=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(p)}}},[n]);let h=()=>{a(!0)},g=()=>{a(!1),l(!1)};return r?e!=="intent"?[i,m,{}]:[i,m,{onFocus:yu(o,h),onBlur:yu(c,g),onMouseEnter:yu(A,h),onMouseLeave:yu(d,g),onTouchStart:yu(u,h)}]:[!1,m,{}]}function yu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function aL({page:e,...t}){let{router:r}=O3(),n=N.useMemo(()=>_3(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?N.createElement(lL,{page:e,matches:n,...t}):null}function iL(e){let{manifest:t,routeModules:r}=H3(),[n,a]=N.useState([]);return N.useEffect(()=>{let i=!1;return J8(e,t,r).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,r]),n}function lL({page:e,matches:t,...r}){let n=Bl(),{manifest:a,routeModules:i}=H3(),{basename:l}=O3(),{loaderData:o,matches:c}=rL(),A=N.useMemo(()=>dN(e,t,c,a,n,"data"),[e,t,c,a,n]),d=N.useMemo(()=>dN(e,t,c,a,n,"assets"),[e,t,c,a,n]),u=N.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,p=!1;if(t.forEach(x=>{var j;let b=a.routes[x.route.id];!b||!b.hasLoader||(!A.some(w=>w.route.id===x.route.id)&&x.route.id in o&&((j=i[x.route.id])!=null&&j.shouldRevalidate)||b.hasClientLoader?p=!0:g.add(x.route.id))}),g.size===0)return[];let v=W8(e,l,"data");return p&&g.size>0&&v.searchParams.set("_routes",t.filter(x=>g.has(x.route.id)).map(x=>x.route.id).join(",")),[v.pathname+v.search]},[l,o,n,a,A,t,e,i]),m=N.useMemo(()=>Z8(d,a),[d,a]),h=iL(d);return N.createElement(N.Fragment,null,u.map(g=>N.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),m.map(g=>N.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),h.map(({key:g,link:p})=>N.createElement("link",{key:g,nonce:r.nonce,...p})))}function oL(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var K3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K3&&(window.__reactRouterVersion="7.9.1")}catch{}function cL({basename:e,children:t,window:r}){let n=N.useRef();n.current==null&&(n.current=YU({window:r,v5Compat:!0}));let a=n.current,[i,l]=N.useState({action:a.action,location:a.location}),o=N.useCallback(c=>{N.startTransition(()=>l(c))},[l]);return N.useLayoutEffect(()=>a.listen(o),[a,o]),N.createElement(T8,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var z3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ch=N.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:l,state:o,target:c,to:A,preventScrollReset:d,viewTransition:u,...m},h){let{basename:g}=N.useContext(ei),p=typeof A=="string"&&z3.test(A),v,x=!1;if(typeof A=="string"&&p&&(v=A,K3))try{let E=new URL(window.location.href),O=A.startsWith("//")?new URL(E.protocol+A):new URL(A),L=vl(O.pathname,g);O.origin===E.origin&&L!=null?A=L+O.search+O.hash:x=!0}catch{Xa(!1,`<Link to="${A}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=j8(A,{relative:a}),[j,w,S]=nL(n,m),F=hL(A,{replace:l,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:u});function I(E){t&&t(E),E.defaultPrevented||F(E)}let k=N.createElement("a",{...m,...S,href:v||b,onClick:x||i?t:I,ref:oL(h,w),target:c,"data-discover":!p&&r==="render"?"true":void 0});return j&&!p?N.createElement(N.Fragment,null,k,N.createElement(aL,{page:b})):k});ch.displayName="Link";var AL=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:l,viewTransition:o,children:c,...A},d){let u=gm(l,{relative:A.relative}),m=Bl(),h=N.useContext(yg),{navigator:g,basename:p}=N.useContext(ei),v=h!=null&&pL(u)&&o===!0,x=g.encodeLocation?g.encodeLocation(u).pathname:u.pathname,b=m.pathname,j=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(b=b.toLowerCase(),j=j?j.toLowerCase():null,x=x.toLowerCase()),j&&p&&(j=vl(j,p)||j);const w=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let S=b===x||!a&&b.startsWith(x)&&b.charAt(w)==="/",F=j!=null&&(j===x||!a&&j.startsWith(x)&&j.charAt(x.length)==="/"),I={isActive:S,isPending:F,isTransitioning:v},k=S?t:void 0,E;typeof n=="function"?E=n(I):E=[n,S?"active":null,F?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof i=="function"?i(I):i;return N.createElement(ch,{...A,"aria-current":k,className:E,ref:d,style:O,to:l,viewTransition:o},typeof c=="function"?c(I):c)});AL.displayName="NavLink";var dL=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:l=Q0,action:o,onSubmit:c,relative:A,preventScrollReset:d,viewTransition:u,...m},h)=>{let g=xL(),p=gL(o,{relative:A}),v=l.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&z3.test(o),b=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let w=j.nativeEvent.submitter,S=(w==null?void 0:w.getAttribute("formmethod"))||l;g(w||j.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:a,state:i,relative:A,preventScrollReset:d,viewTransition:u})};return N.createElement("form",{ref:h,method:v,action:p,onSubmit:n?c:b,...m,"data-discover":!x&&e==="render"?"true":void 0})});dL.displayName="Form";function uL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V3(e){let t=N.useContext(Cd);return Ls(t,uL(e)),t}function hL(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:l}={}){let o=M3(),c=Bl(),A=gm(e,{relative:i});return N.useCallback(d=>{if(V8(d,t)){d.preventDefault();let u=r!==void 0?r:Hh(c)===Hh(A);o(e,{replace:u,state:n,preventScrollReset:a,relative:i,viewTransition:l})}},[c,o,A,r,n,t,e,a,i,l])}var mL=0,fL=()=>`__${String(++mL)}__`;function xL(){let{router:e}=V3("useSubmit"),{basename:t}=N.useContext(ei),r=L8();return N.useCallback(async(n,a={})=>{let{action:i,method:l,encType:o,formData:c,body:A}=q8(n,t);if(a.navigate===!1){let d=a.fetcherKey||fL();await e.fetch(d,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:A,formMethod:a.method||l,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:A,formMethod:a.method||l,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function gL(e,{relative:t}={}){let{basename:r}=N.useContext(ei),n=N.useContext(Li);Ls(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...gm(e||".",{relative:t})},l=Bl();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(u=>u).forEach(u=>o.append("index",u));let d=o.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:fl([r,i.pathname])),Hh(i)}function pL(e,{relative:t}={}){let r=N.useContext(Q3);Ls(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=V3("useViewTransitionState"),a=gm(e,{relative:t});if(!r.isTransitioning)return!1;let i=vl(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=vl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return kx(a.pathname,l)!=null||kx(a.pathname,i)!=null}let yL={data:""},bL=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||yL,vL=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,wL=/\/\*[^]*?\*\/|  +/g,uN=/\n+/g,Jl=(e,t)=>{let r="",n="",a="";for(let i in e){let l=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+l+";":n+=i[1]=="f"?Jl(l,i):i+"{"+Jl(l,i[1]=="k"?"":t)+"}":typeof l=="object"?n+=Jl(l,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Jl.p?Jl.p(i,l):i+":"+l+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Ji={},$3=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+$3(e[r]);return t}return e},jL=(e,t,r,n,a)=>{let i=$3(e),l=Ji[i]||(Ji[i]=(c=>{let A=0,d=11;for(;A<c.length;)d=101*d+c.charCodeAt(A++)>>>0;return"go"+d})(i));if(!Ji[l]){let c=i!==e?e:(A=>{let d,u,m=[{}];for(;d=vL.exec(A.replace(wL,""));)d[4]?m.shift():d[3]?(u=d[3].replace(uN," ").trim(),m.unshift(m[0][u]=m[0][u]||{})):m[0][d[1]]=d[2].replace(uN," ").trim();return m[0]})(e);Ji[l]=Jl(a?{["@keyframes "+l]:c}:c,r?"":"."+l)}let o=r&&Ji.g?Ji.g:null;return r&&(Ji.g=Ji[l]),((c,A,d,u)=>{u?A.data=A.data.replace(u,c):A.data.indexOf(c)===-1&&(A.data=d?c+A.data:A.data+c)})(Ji[l],t,n,o),l},NL=(e,t,r)=>e.reduce((n,a,i)=>{let l=t[i];if(l&&l.call){let o=l(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":Jl(o,""):o===!1?"":o}return n+a+(l??"")},"");function vg(e){let t=this||{},r=e.call?e(t.p):e;return jL(r.unshift?r.raw?NL(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,bL(t.target),t.g,t.o,t.k)}let G3,ov,cv;vg.bind({g:1});let wl=vg.bind({k:1});function BL(e,t,r,n){Jl.p=t,G3=e,ov=r,cv=n}function Po(e,t){let r=this||{};return function(){let n=arguments;function a(i,l){let o=Object.assign({},i),c=o.className||a.className;r.p=Object.assign({theme:ov&&ov()},o),r.o=/ *go\d+/.test(c),o.className=vg.apply(r,n)+(c?" "+c:"");let A=e;return e[0]&&(A=o.as||e,delete o.as),cv&&A[0]&&cv(o),G3(A,o)}return a}}var CL=e=>typeof e=="function",_x=(e,t)=>CL(e)?e(t):e,SL=(()=>{let e=0;return()=>(++e).toString()})(),q3=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),EL=20,mw="default",W3=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:n}=t;return W3(e,{type:e.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},D0=[],Y3={toasts:[],pausedAt:void 0,settings:{toastLimit:EL}},Ci={},X3=(e,t=mw)=>{Ci[t]=W3(Ci[t]||Y3,e),D0.forEach(([r,n])=>{r===t&&n(Ci[t])})},J3=e=>Object.keys(Ci).forEach(t=>X3(e,t)),FL=e=>Object.keys(Ci).find(t=>Ci[t].toasts.some(r=>r.id===e)),wg=(e=mw)=>t=>{X3(t,e)},kL={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},_L=(e={},t=mw)=>{let[r,n]=N.useState(Ci[t]||Y3),a=N.useRef(Ci[t]);N.useEffect(()=>(a.current!==Ci[t]&&n(Ci[t]),D0.push([t,n]),()=>{let l=D0.findIndex(([o])=>o===t);l>-1&&D0.splice(l,1)}),[t]);let i=r.toasts.map(l=>{var o,c,A;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((o=e[l.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((c=e[l.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||kL[l.type],style:{...e.style,...(A=e[l.type])==null?void 0:A.style,...l.style}}});return{...r,toasts:i}},IL=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||SL()}),pm=e=>(t,r)=>{let n=IL(t,e,r);return wg(n.toasterId||FL(n.id))({type:2,toast:n}),n.id},Es=(e,t)=>pm("blank")(e,t);Es.error=pm("error");Es.success=pm("success");Es.loading=pm("loading");Es.custom=pm("custom");Es.dismiss=(e,t)=>{let r={type:3,toastId:e};t?wg(t)(r):J3(r)};Es.dismissAll=e=>Es.dismiss(void 0,e);Es.remove=(e,t)=>{let r={type:4,toastId:e};t?wg(t)(r):J3(r)};Es.removeAll=e=>Es.remove(void 0,e);Es.promise=(e,t,r)=>{let n=Es.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?_x(t.success,a):void 0;return i?Es.success(i,{id:n,...r,...r==null?void 0:r.success}):Es.dismiss(n),a}).catch(a=>{let i=t.error?_x(t.error,a):void 0;i?Es.error(i,{id:n,...r,...r==null?void 0:r.error}):Es.dismiss(n)}),e};var UL=1e3,LL=(e,t="default")=>{let{toasts:r,pausedAt:n}=_L(e,t),a=N.useRef(new Map).current,i=N.useCallback((u,m=UL)=>{if(a.has(u))return;let h=setTimeout(()=>{a.delete(u),l({type:4,toastId:u})},m);a.set(u,h)},[]);N.useEffect(()=>{if(n)return;let u=Date.now(),m=r.map(h=>{if(h.duration===1/0)return;let g=(h.duration||0)+h.pauseDuration-(u-h.createdAt);if(g<0){h.visible&&Es.dismiss(h.id);return}return setTimeout(()=>Es.dismiss(h.id,t),g)});return()=>{m.forEach(h=>h&&clearTimeout(h))}},[r,n,t]);let l=N.useCallback(wg(t),[t]),o=N.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=N.useCallback((u,m)=>{l({type:1,toast:{id:u,height:m}})},[l]),A=N.useCallback(()=>{n&&l({type:6,time:Date.now()})},[n,l]),d=N.useCallback((u,m)=>{let{reverseOrder:h=!1,gutter:g=8,defaultPosition:p}=m||{},v=r.filter(j=>(j.position||p)===(u.position||p)&&j.height),x=v.findIndex(j=>j.id===u.id),b=v.filter((j,w)=>w<x&&j.visible).length;return v.filter(j=>j.visible).slice(...h?[b+1]:[0,b]).reduce((j,w)=>j+(w.height||0)+g,0)},[r]);return N.useEffect(()=>{r.forEach(u=>{if(u.dismissed)i(u.id,u.removeDelay);else{let m=a.get(u.id);m&&(clearTimeout(m),a.delete(u.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:A,calculateOffset:d}}},QL=wl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,PL=wl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DL=wl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ML=Po("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${PL} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${DL} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,TL=wl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,RL=Po("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${TL} 1s linear infinite;
`,OL=wl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,HL=wl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,KL=Po("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${OL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${HL} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zL=Po("div")`
  position: absolute;
`,VL=Po("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$L=wl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,GL=Po("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$L} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,qL=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?N.createElement(GL,null,t):t:r==="blank"?null:N.createElement(VL,null,N.createElement(RL,{...n}),r!=="loading"&&N.createElement(zL,null,r==="error"?N.createElement(ML,{...n}):N.createElement(KL,{...n})))},WL=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,YL=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,XL="0%{opacity:0;} 100%{opacity:1;}",JL="0%{opacity:1;} 100%{opacity:0;}",ZL=Po("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eQ=Po("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,tQ=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=q3()?[XL,JL]:[WL(r),YL(r)];return{animation:t?`${wl(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wl(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},sQ=N.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?tQ(e.position||t||"top-center",e.visible):{opacity:0},i=N.createElement(qL,{toast:e}),l=N.createElement(eQ,{...e.ariaProps},_x(e.message,e));return N.createElement(ZL,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:i,message:l}):N.createElement(N.Fragment,null,i,l))});BL(N.createElement);var rQ=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let i=N.useCallback(l=>{if(l){let o=()=>{let c=l.getBoundingClientRect().height;n(e,c)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return N.createElement("div",{ref:i,className:t,style:r},a)},nQ=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:q3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},aQ=vg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Cf=16,iQ=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:i,containerStyle:l,containerClassName:o})=>{let{toasts:c,handlers:A}=LL(r,i);return N.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Cf,left:Cf,right:Cf,bottom:Cf,pointerEvents:"none",...l},className:o,onMouseEnter:A.startPause,onMouseLeave:A.endPause},c.map(d=>{let u=d.position||t,m=A.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),h=nQ(u,m);return N.createElement(rQ,{id:d.id,key:d.id,onHeightUpdate:A.updateHeight,className:d.visible?aQ:"",style:h},d.type==="custom"?_x(d.message,d):a?a(d):N.createElement(sQ,{toast:d,position:u}))}))},Ie=Es;function Z3(e,t){return function(){return e.apply(t,arguments)}}const{toString:lQ}=Object.prototype,{getPrototypeOf:fw}=Object,{iterator:jg,toStringTag:e6}=Symbol,Ng=(e=>t=>{const r=lQ.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ti=e=>(e=e.toLowerCase(),t=>Ng(t)===e),Bg=e=>t=>typeof t===e,{isArray:Ed}=Array,ud=Bg("undefined");function ym(e){return e!==null&&!ud(e)&&e.constructor!==null&&!ud(e.constructor)&&Qn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const t6=ti("ArrayBuffer");function oQ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&t6(e.buffer),t}const cQ=Bg("string"),Qn=Bg("function"),s6=Bg("number"),bm=e=>e!==null&&typeof e=="object",AQ=e=>e===!0||e===!1,M0=e=>{if(Ng(e)!=="object")return!1;const t=fw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(e6 in e)&&!(jg in e)},dQ=e=>{if(!bm(e)||ym(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},uQ=ti("Date"),hQ=ti("File"),mQ=ti("Blob"),fQ=ti("FileList"),xQ=e=>bm(e)&&Qn(e.pipe),gQ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Qn(e.append)&&((t=Ng(e))==="formdata"||t==="object"&&Qn(e.toString)&&e.toString()==="[object FormData]"))},pQ=ti("URLSearchParams"),[yQ,bQ,vQ,wQ]=["ReadableStream","Request","Response","Headers"].map(ti),jQ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vm(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Ed(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(ym(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(n=0;n<l;n++)o=i[n],t.call(null,e[o],o,e)}}function r6(e,t){if(ym(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const mc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,n6=e=>!ud(e)&&e!==mc;function Av(){const{caseless:e,skipUndefined:t}=n6(this)&&this||{},r={},n=(a,i)=>{const l=e&&r6(r,i)||i;M0(r[l])&&M0(a)?r[l]=Av(r[l],a):M0(a)?r[l]=Av({},a):Ed(a)?r[l]=a.slice():(!t||!ud(a))&&(r[l]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&vm(arguments[a],n);return r}const NQ=(e,t,r,{allOwnKeys:n}={})=>(vm(t,(a,i)=>{r&&Qn(a)?e[i]=Z3(a,r):e[i]=a},{allOwnKeys:n}),e),BQ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),CQ=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},SQ=(e,t,r,n)=>{let a,i,l;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)l=a[i],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=r!==!1&&fw(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},EQ=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},FQ=e=>{if(!e)return null;if(Ed(e))return e;let t=e.length;if(!s6(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},kQ=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&fw(Uint8Array)),_Q=(e,t)=>{const n=(e&&e[jg]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},IQ=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},UQ=ti("HTMLFormElement"),LQ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),hN=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),QQ=ti("RegExp"),a6=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};vm(r,(a,i)=>{let l;(l=t(a,i,e))!==!1&&(n[i]=l||a)}),Object.defineProperties(e,n)},PQ=e=>{a6(e,(t,r)=>{if(Qn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Qn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},DQ=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Ed(e)?n(e):n(String(e).split(t)),r},MQ=()=>{},TQ=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function RQ(e){return!!(e&&Qn(e.append)&&e[e6]==="FormData"&&e[jg])}const OQ=e=>{const t=new Array(10),r=(n,a)=>{if(bm(n)){if(t.indexOf(n)>=0)return;if(ym(n))return n;if(!("toJSON"in n)){t[a]=n;const i=Ed(n)?[]:{};return vm(n,(l,o)=>{const c=r(l,a+1);!ud(c)&&(i[o]=c)}),t[a]=void 0,i}}return n};return r(e,0)},HQ=ti("AsyncFunction"),KQ=e=>e&&(bm(e)||Qn(e))&&Qn(e.then)&&Qn(e.catch),i6=((e,t)=>e?setImmediate:t?((r,n)=>(mc.addEventListener("message",({source:a,data:i})=>{a===mc&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),mc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Qn(mc.postMessage)),zQ=typeof queueMicrotask<"u"?queueMicrotask.bind(mc):typeof process<"u"&&process.nextTick||i6,VQ=e=>e!=null&&Qn(e[jg]),xe={isArray:Ed,isArrayBuffer:t6,isBuffer:ym,isFormData:gQ,isArrayBufferView:oQ,isString:cQ,isNumber:s6,isBoolean:AQ,isObject:bm,isPlainObject:M0,isEmptyObject:dQ,isReadableStream:yQ,isRequest:bQ,isResponse:vQ,isHeaders:wQ,isUndefined:ud,isDate:uQ,isFile:hQ,isBlob:mQ,isRegExp:QQ,isFunction:Qn,isStream:xQ,isURLSearchParams:pQ,isTypedArray:kQ,isFileList:fQ,forEach:vm,merge:Av,extend:NQ,trim:jQ,stripBOM:BQ,inherits:CQ,toFlatObject:SQ,kindOf:Ng,kindOfTest:ti,endsWith:EQ,toArray:FQ,forEachEntry:_Q,matchAll:IQ,isHTMLForm:UQ,hasOwnProperty:hN,hasOwnProp:hN,reduceDescriptors:a6,freezeMethods:PQ,toObjectSet:DQ,toCamelCase:LQ,noop:MQ,toFiniteNumber:TQ,findKey:r6,global:mc,isContextDefined:n6,isSpecCompliantForm:RQ,toJSONObject:OQ,isAsyncFn:HQ,isThenable:KQ,setImmediate:i6,asap:zQ,isIterable:VQ};function Nt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}xe.inherits(Nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.status}}});const l6=Nt.prototype,o6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{o6[e]={value:e}});Object.defineProperties(Nt,o6);Object.defineProperty(l6,"isAxiosError",{value:!0});Nt.from=(e,t,r,n,a,i)=>{const l=Object.create(l6);xe.toFlatObject(e,l,function(d){return d!==Error.prototype},A=>A!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Nt.call(l,o,c,r,n,a),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const $Q=null;function dv(e){return xe.isPlainObject(e)||xe.isArray(e)}function c6(e){return xe.endsWith(e,"[]")?e.slice(0,-2):e}function mN(e,t,r){return e?e.concat(t).map(function(a,i){return a=c6(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function GQ(e){return xe.isArray(e)&&!e.some(dv)}const qQ=xe.toFlatObject(xe,{},null,function(t){return/^is[A-Z]/.test(t)});function Cg(e,t,r){if(!xe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=xe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!xe.isUndefined(v[p])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(t);if(!xe.isFunction(a))throw new TypeError("visitor must be a function");function A(g){if(g===null)return"";if(xe.isDate(g))return g.toISOString();if(xe.isBoolean(g))return g.toString();if(!c&&xe.isBlob(g))throw new Nt("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(g)||xe.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,p,v){let x=g;if(g&&!v&&typeof g=="object"){if(xe.endsWith(p,"{}"))p=n?p:p.slice(0,-2),g=JSON.stringify(g);else if(xe.isArray(g)&&GQ(g)||(xe.isFileList(g)||xe.endsWith(p,"[]"))&&(x=xe.toArray(g)))return p=c6(p),x.forEach(function(j,w){!(xe.isUndefined(j)||j===null)&&t.append(l===!0?mN([p],w,i):l===null?p:p+"[]",A(j))}),!1}return dv(g)?!0:(t.append(mN(v,p,i),A(g)),!1)}const u=[],m=Object.assign(qQ,{defaultVisitor:d,convertValue:A,isVisitable:dv});function h(g,p){if(!xe.isUndefined(g)){if(u.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));u.push(g),xe.forEach(g,function(x,b){(!(xe.isUndefined(x)||x===null)&&a.call(t,x,xe.isString(b)?b.trim():b,p,m))===!0&&h(x,p?p.concat(b):[b])}),u.pop()}}if(!xe.isObject(e))throw new TypeError("data must be an object");return h(e),t}function fN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function xw(e,t){this._pairs=[],e&&Cg(e,this,t)}const A6=xw.prototype;A6.append=function(t,r){this._pairs.push([t,r])};A6.toString=function(t){const r=t?function(n){return t.call(this,n,fN)}:fN;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function WQ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function d6(e,t,r){if(!t)return e;const n=r&&r.encode||WQ;xe.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=xe.isURLSearchParams(t)?t.toString():new xw(t,r).toString(n),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class xN{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){xe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const u6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YQ=typeof URLSearchParams<"u"?URLSearchParams:xw,XQ=typeof FormData<"u"?FormData:null,JQ=typeof Blob<"u"?Blob:null,ZQ={isBrowser:!0,classes:{URLSearchParams:YQ,FormData:XQ,Blob:JQ},protocols:["http","https","file","blob","url","data"]},gw=typeof window<"u"&&typeof document<"u",uv=typeof navigator=="object"&&navigator||void 0,eP=gw&&(!uv||["ReactNative","NativeScript","NS"].indexOf(uv.product)<0),tP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sP=gw&&window.location.href||"http://localhost",rP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gw,hasStandardBrowserEnv:eP,hasStandardBrowserWebWorkerEnv:tP,navigator:uv,origin:sP},Symbol.toStringTag,{value:"Module"})),ln={...rP,...ZQ};function nP(e,t){return Cg(e,new ln.classes.URLSearchParams,{visitor:function(r,n,a,i){return ln.isNode&&xe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function aP(e){return xe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function iP(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function h6(e){function t(r,n,a,i){let l=r[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=r.length;return l=!l&&xe.isArray(a)?a.length:l,c?(xe.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!o):((!a[l]||!xe.isObject(a[l]))&&(a[l]=[]),t(r,n,a[l],i)&&xe.isArray(a[l])&&(a[l]=iP(a[l])),!o)}if(xe.isFormData(e)&&xe.isFunction(e.entries)){const r={};return xe.forEachEntry(e,(n,a)=>{t(aP(n),a,r,0)}),r}return null}function lP(e,t,r){if(xe.isString(e))try{return(t||JSON.parse)(e),xe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const wm={transitional:u6,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=xe.isObject(t);if(i&&xe.isHTMLForm(t)&&(t=new FormData(t)),xe.isFormData(t))return a?JSON.stringify(h6(t)):t;if(xe.isArrayBuffer(t)||xe.isBuffer(t)||xe.isStream(t)||xe.isFile(t)||xe.isBlob(t)||xe.isReadableStream(t))return t;if(xe.isArrayBufferView(t))return t.buffer;if(xe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return nP(t,this.formSerializer).toString();if((o=xe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Cg(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),lP(t)):t}],transformResponse:[function(t){const r=this.transitional||wm.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(xe.isResponse(t)||xe.isReadableStream(t))return t;if(t&&xe.isString(t)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?Nt.from(o,Nt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ln.classes.FormData,Blob:ln.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],e=>{wm.headers[e]={}});const oP=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cP=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||t[r]&&oP[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},gN=Symbol("internals");function bu(e){return e&&String(e).trim().toLowerCase()}function T0(e){return e===!1||e==null?e:xe.isArray(e)?e.map(T0):String(e)}function AP(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const dP=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ny(e,t,r,n,a){if(xe.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!xe.isString(t)){if(xe.isString(n))return t.indexOf(n)!==-1;if(xe.isRegExp(n))return n.test(t)}}function uP(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function hP(e,t){const r=xe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,l){return this[n].call(this,t,a,i,l)},configurable:!0})})}class Pn{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(o,c,A){const d=bu(c);if(!d)throw new Error("header name must be a non-empty string");const u=xe.findKey(a,d);(!u||a[u]===void 0||A===!0||A===void 0&&a[u]!==!1)&&(a[u||c]=T0(o))}const l=(o,c)=>xe.forEach(o,(A,d)=>i(A,d,c));if(xe.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(xe.isString(t)&&(t=t.trim())&&!dP(t))l(cP(t),r);else if(xe.isObject(t)&&xe.isIterable(t)){let o={},c,A;for(const d of t){if(!xe.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[A=d[0]]=(c=o[A])?xe.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}l(o,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=bu(t),t){const n=xe.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return AP(a);if(xe.isFunction(r))return r.call(this,a,n);if(xe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=bu(t),t){const n=xe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||ny(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(l){if(l=bu(l),l){const o=xe.findKey(n,l);o&&(!r||ny(n,n[o],o,r))&&(delete n[o],a=!0)}}return xe.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||ny(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return xe.forEach(this,(a,i)=>{const l=xe.findKey(n,i);if(l){r[l]=T0(a),delete r[i];return}const o=t?uP(i):String(i).trim();o!==i&&delete r[i],r[o]=T0(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return xe.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&xe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[gN]=this[gN]={accessors:{}}).accessors,a=this.prototype;function i(l){const o=bu(l);n[o]||(hP(a,l),n[o]=!0)}return xe.isArray(t)?t.forEach(i):i(t),this}}Pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(Pn.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});xe.freezeMethods(Pn);function ay(e,t){const r=this||wm,n=t||r,a=Pn.from(n.headers);let i=n.data;return xe.forEach(e,function(o){i=o.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function m6(e){return!!(e&&e.__CANCEL__)}function Fd(e,t,r){Nt.call(this,e??"canceled",Nt.ERR_CANCELED,t,r),this.name="CanceledError"}xe.inherits(Fd,Nt,{__CANCEL__:!0});function f6(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Nt("Request failed with status code "+r.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function mP(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fP(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const A=Date.now(),d=n[i];l||(l=A),r[a]=c,n[a]=A;let u=i,m=0;for(;u!==a;)m+=r[u++],u=u%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),A-l<t)return;const h=d&&A-d;return h?Math.round(m*1e3/h):void 0}}function xP(e,t){let r=0,n=1e3/t,a,i;const l=(A,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),e(...A)};return[(...A)=>{const d=Date.now(),u=d-r;u>=n?l(A,d):(a=A,i||(i=setTimeout(()=>{i=null,l(a)},n-u)))},()=>a&&l(a)]}const Ix=(e,t,r=3)=>{let n=0;const a=fP(50,250);return xP(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-n,A=a(c),d=l<=o;n=l;const u={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:A||void 0,estimated:A&&o&&d?(o-l)/A:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(u)},r)},pN=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},yN=e=>(...t)=>xe.asap(()=>e(...t)),gP=ln.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ln.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ln.origin),ln.navigator&&/(msie|trident)/i.test(ln.navigator.userAgent)):()=>!0,pP=ln.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const l=[e+"="+encodeURIComponent(t)];xe.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),xe.isString(n)&&l.push("path="+n),xe.isString(a)&&l.push("domain="+a),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yP(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bP(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function x6(e,t,r){let n=!yP(t);return e&&(n||r==!1)?bP(e,t):t}const bN=e=>e instanceof Pn?{...e}:e;function Dc(e,t){t=t||{};const r={};function n(A,d,u,m){return xe.isPlainObject(A)&&xe.isPlainObject(d)?xe.merge.call({caseless:m},A,d):xe.isPlainObject(d)?xe.merge({},d):xe.isArray(d)?d.slice():d}function a(A,d,u,m){if(xe.isUndefined(d)){if(!xe.isUndefined(A))return n(void 0,A,u,m)}else return n(A,d,u,m)}function i(A,d){if(!xe.isUndefined(d))return n(void 0,d)}function l(A,d){if(xe.isUndefined(d)){if(!xe.isUndefined(A))return n(void 0,A)}else return n(void 0,d)}function o(A,d,u){if(u in t)return n(A,d);if(u in e)return n(void 0,A)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(A,d,u)=>a(bN(A),bN(d),u,!0)};return xe.forEach(Object.keys({...e,...t}),function(d){const u=c[d]||a,m=u(e[d],t[d],d);xe.isUndefined(m)&&u!==o||(r[d]=m)}),r}const g6=e=>{const t=Dc({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=Pn.from(l),t.url=d6(x6(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),xe.isFormData(r)){if(ln.hasStandardBrowserEnv||ln.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(xe.isFunction(r.getHeaders)){const c=r.getHeaders(),A=["content-type","content-length"];Object.entries(c).forEach(([d,u])=>{A.includes(d.toLowerCase())&&l.set(d,u)})}}if(ln.hasStandardBrowserEnv&&(n&&xe.isFunction(n)&&(n=n(t)),n||n!==!1&&gP(t.url))){const c=a&&i&&pP.read(i);c&&l.set(a,c)}return t},vP=typeof XMLHttpRequest<"u",wP=vP&&function(e){return new Promise(function(r,n){const a=g6(e);let i=a.data;const l=Pn.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:A}=a,d,u,m,h,g;function p(){h&&h(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function x(){if(!v)return;const j=Pn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:j,config:e,request:v};f6(function(I){r(I),p()},function(I){n(I),p()},S),v=null}"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){v&&(n(new Nt("Request aborted",Nt.ECONNABORTED,e,v)),v=null)},v.onerror=function(w){const S=w&&w.message?w.message:"Network Error",F=new Nt(S,Nt.ERR_NETWORK,e,v);F.event=w||null,n(F),v=null},v.ontimeout=function(){let w=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||u6;a.timeoutErrorMessage&&(w=a.timeoutErrorMessage),n(new Nt(w,S.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,e,v)),v=null},i===void 0&&l.setContentType(null),"setRequestHeader"in v&&xe.forEach(l.toJSON(),function(w,S){v.setRequestHeader(S,w)}),xe.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),o&&o!=="json"&&(v.responseType=a.responseType),A&&([m,g]=Ix(A,!0),v.addEventListener("progress",m)),c&&v.upload&&([u,h]=Ix(c),v.upload.addEventListener("progress",u),v.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(d=j=>{v&&(n(!j||j.type?new Fd(null,e,v):j),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=mP(a.url);if(b&&ln.protocols.indexOf(b)===-1){n(new Nt("Unsupported protocol "+b+":",Nt.ERR_BAD_REQUEST,e));return}v.send(i||null)})},jP=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(A){if(!a){a=!0,o();const d=A instanceof Error?A:this.reason;n.abort(d instanceof Nt?d:new Fd(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,i(new Nt(`timeout ${t} of ms exceeded`,Nt.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(A=>{A.unsubscribe?A.unsubscribe(i):A.removeEventListener("abort",i)}),e=null)};e.forEach(A=>A.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>xe.asap(o),c}},NP=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},BP=async function*(e,t){for await(const r of CP(e))yield*NP(r,t)},CP=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},vN=(e,t,r,n)=>{const a=BP(e,t);let i=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:A,value:d}=await a.next();if(A){o(),c.close();return}let u=d.byteLength;if(r){let m=i+=u;r(m)}c.enqueue(new Uint8Array(d))}catch(A){throw o(A),A}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},wN=64*1024,{isFunction:Sf}=xe,p6=(({fetch:e,Request:t,Response:r})=>({fetch:e,Request:t,Response:r}))(xe.global),{ReadableStream:jN,TextEncoder:NN}=xe.global,BN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},SP=e=>{const{fetch:t,Request:r,Response:n}=Object.assign({},p6,e),a=Sf(t),i=Sf(r),l=Sf(n);if(!a)return!1;const o=a&&Sf(jN),c=a&&(typeof NN=="function"?(g=>p=>g.encode(p))(new NN):async g=>new Uint8Array(await new r(g).arrayBuffer())),A=i&&o&&BN(()=>{let g=!1;const p=new r(ln.origin,{body:new jN,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!p}),d=l&&o&&BN(()=>xe.isReadableStream(new n("").body)),u={stream:d&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!u[g]&&(u[g]=(p,v)=>{let x=p&&p[g];if(x)return x.call(p);throw new Nt(`Response type '${g}' is not supported`,Nt.ERR_NOT_SUPPORT,v)})});const m=async g=>{if(g==null)return 0;if(xe.isBlob(g))return g.size;if(xe.isSpecCompliantForm(g))return(await new r(ln.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(xe.isArrayBufferView(g)||xe.isArrayBuffer(g))return g.byteLength;if(xe.isURLSearchParams(g)&&(g=g+""),xe.isString(g))return(await c(g)).byteLength},h=async(g,p)=>{const v=xe.toFiniteNumber(g.getContentLength());return v??m(p)};return async g=>{let{url:p,method:v,data:x,signal:b,cancelToken:j,timeout:w,onDownloadProgress:S,onUploadProgress:F,responseType:I,headers:k,withCredentials:E="same-origin",fetchOptions:O}=g6(g);I=I?(I+"").toLowerCase():"text";let L=jP([b,j&&j.toAbortSignal()],w),P=null;const U=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let R;try{if(F&&A&&v!=="get"&&v!=="head"&&(R=await h(k,x))!==0){let re=new r(p,{method:"POST",body:x,duplex:"half"}),q;if(xe.isFormData(x)&&(q=re.headers.get("content-type"))&&k.setContentType(q),re.body){const[_,z]=pN(R,Ix(yN(F)));x=vN(re.body,wN,_,z)}}xe.isString(E)||(E=E?"include":"omit");const V=i&&"credentials"in r.prototype,Z={...O,signal:L,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:x,duplex:"half",credentials:V?E:void 0};P=i&&new r(p,Z);let ae=await(i?t(P,O):t(p,Z));const D=d&&(I==="stream"||I==="response");if(d&&(S||D&&U)){const re={};["status","statusText","headers"].forEach(G=>{re[G]=ae[G]});const q=xe.toFiniteNumber(ae.headers.get("content-length")),[_,z]=S&&pN(q,Ix(yN(S),!0))||[];ae=new n(vN(ae.body,wN,_,()=>{z&&z(),U&&U()}),re)}I=I||"text";let Y=await u[xe.findKey(u,I)||"text"](ae,g);return!D&&U&&U(),await new Promise((re,q)=>{f6(re,q,{data:Y,headers:Pn.from(ae.headers),status:ae.status,statusText:ae.statusText,config:g,request:P})})}catch(V){throw U&&U(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,g,P),{cause:V.cause||V}):Nt.from(V,V&&V.code,g,P)}}},EP=new Map,y6=e=>{let t=xe.merge.call({skipUndefined:!0},p6,e?e.env:null);const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let l=i.length,o=l,c,A,d=EP;for(;o--;)c=i[o],A=d.get(c),A===void 0&&d.set(c,A=o?new Map:SP(t)),d=A;return A};y6();const hv={http:$Q,xhr:wP,fetch:{get:y6}};xe.forEach(hv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const CN=e=>`- ${e}`,FP=e=>xe.isFunction(e)||e===null||e===!1,b6={getAdapter:(e,t)=>{e=xe.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let l=0;l<r;l++){n=e[l];let o;if(a=n,!FP(n)&&(a=hv[(o=String(n)).toLowerCase()],a===void 0))throw new Nt(`Unknown adapter '${o}'`);if(a&&(xe.isFunction(a)||(a=a.get(t))))break;i[o||"#"+l]=a}if(!a){const l=Object.entries(i).map(([c,A])=>`adapter ${c} `+(A===!1?"is not supported by the environment":"is not available in the build"));let o=r?l.length>1?`since :
`+l.map(CN).join(`
`):" "+CN(l[0]):"as no adapter specified";throw new Nt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:hv};function iy(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fd(null,e)}function SN(e){return iy(e),e.headers=Pn.from(e.headers),e.data=ay.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),b6.getAdapter(e.adapter||wm.adapter,e)(e).then(function(n){return iy(e),n.data=ay.call(e,e.transformResponse,n),n.headers=Pn.from(n.headers),n},function(n){return m6(n)||(iy(e),n&&n.response&&(n.response.data=ay.call(e,e.transformResponse,n.response),n.response.headers=Pn.from(n.response.headers))),Promise.reject(n)})}const v6="1.12.1",Sg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Sg[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const EN={};Sg.transitional=function(t,r,n){function a(i,l){return"[Axios v"+v6+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,o)=>{if(t===!1)throw new Nt(a(l," has been removed"+(r?" in "+r:"")),Nt.ERR_DEPRECATED);return r&&!EN[l]&&(EN[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,l,o):!0}};Sg.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function kP(e,t,r){if(typeof e!="object")throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new Nt("option "+i+" must be "+c,Nt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Nt("Unknown option "+i,Nt.ERR_BAD_OPTION)}}const R0={assertOptions:kP,validators:Sg},xi=R0.validators;class Bc{constructor(t){this.defaults=t||{},this.interceptors={request:new xN,response:new xN}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Dc(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&R0.assertOptions(n,{silentJSONParsing:xi.transitional(xi.boolean),forcedJSONParsing:xi.transitional(xi.boolean),clarifyTimeoutError:xi.transitional(xi.boolean)},!1),a!=null&&(xe.isFunction(a)?r.paramsSerializer={serialize:a}:R0.assertOptions(a,{encode:xi.function,serialize:xi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),R0.assertOptions(r,{baseUrl:xi.spelling("baseURL"),withXsrfToken:xi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&xe.merge(i.common,i[r.method]);i&&xe.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=Pn.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,o.unshift(p.fulfilled,p.rejected))});const A=[];this.interceptors.response.forEach(function(p){A.push(p.fulfilled,p.rejected)});let d,u=0,m;if(!c){const g=[SN.bind(this),void 0];for(g.unshift(...o),g.push(...A),m=g.length,d=Promise.resolve(r);u<m;)d=d.then(g[u++],g[u++]);return d}m=o.length;let h=r;for(u=0;u<m;){const g=o[u++],p=o[u++];try{h=g(h)}catch(v){p.call(this,v);break}}try{d=SN.call(this,h)}catch(g){return Promise.reject(g)}for(u=0,m=A.length;u<m;)d=d.then(A[u++],A[u++]);return d}getUri(t){t=Dc(this.defaults,t);const r=x6(t.baseURL,t.url,t.allowAbsoluteUrls);return d6(r,t.params,t.paramsSerializer)}}xe.forEach(["delete","get","head","options"],function(t){Bc.prototype[t]=function(r,n){return this.request(Dc(n||{},{method:t,url:r,data:(n||{}).data}))}});xe.forEach(["post","put","patch"],function(t){function r(n){return function(i,l,o){return this.request(Dc(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Bc.prototype[t]=r(),Bc.prototype[t+"Form"]=r(!0)});class pw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(o=>{n.subscribe(o),i=o}).then(a);return l.cancel=function(){n.unsubscribe(i)},l},t(function(i,l,o){n.reason||(n.reason=new Fd(i,l,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new pw(function(a){t=a}),cancel:t}}}function _P(e){return function(r){return e.apply(null,r)}}function IP(e){return xe.isObject(e)&&e.isAxiosError===!0}const mv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mv).forEach(([e,t])=>{mv[t]=e});function w6(e){const t=new Bc(e),r=Z3(Bc.prototype.request,t);return xe.extend(r,Bc.prototype,t,{allOwnKeys:!0}),xe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return w6(Dc(e,a))},r}const mr=w6(wm);mr.Axios=Bc;mr.CanceledError=Fd;mr.CancelToken=pw;mr.isCancel=m6;mr.VERSION=v6;mr.toFormData=Cg;mr.AxiosError=Nt;mr.Cancel=mr.CanceledError;mr.all=function(t){return Promise.all(t)};mr.spread=_P;mr.isAxiosError=IP;mr.mergeConfig=Dc;mr.AxiosHeaders=Pn;mr.formToJSON=e=>h6(xe.isHTMLForm(e)?new FormData(e):e);mr.getAdapter=b6.getAdapter;mr.HttpStatusCode=mv;mr.default=mr;const Ef={BASE_URL:"https://api.padyai.co.in/api",TIMEOUT:1e4,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3},Xe={AUTH:{LOGIN:"/admin/login",SIGNUP:"/admin/signup",PROFILE:"/admin/profile",REFRESH:"/admin/refresh",LOGOUT:"/admin/logout"},ADMIN:{LIST:"/admin/list",CREATE:"/admin/create",UPDATE:"/admin/update",DELETE:"/admin/delete",BY_ID:e=>`/admin/${e}`},SOCIETY:{MEMBERS:"/society/members",PAYMENTS:"/society/payments",LOANS:"/society/loans",PENALTIES:"/society/penalties"},STUDENT:{STUDENTS:"/student/students",COURSE_BATCH:"/student/course-batch",CERTIFICATES:"/student/certificates",MARKSHEETS:"/student/marksheets"},USER_MANAGEMENT:{STUDENTS:"/user-management/students",STUDENT_BY_ID:e=>`/user-management/students/${e}`,STUDENT_BY_STUDENT_ID:e=>`/user-management/students/by-student-id/${e}`,STUDENTS_APPROVED_KYC:"/user-management/students/approved-kyc",SOCIETY_MEMBERS:"/user-management/society-members",SOCIETY_MEMBER_BY_ID:e=>`/user-management/society-members/${e}`,SOCIETY_MEMBER_BY_MEMBER_ID:e=>`/user-management/society-members/by-member-id/${e}`,SOCIETY_MEMBERS_APPROVED_KYC:"/user-management/society-members/approved-kyc",ADMINS:"/user-management/admins",ADMIN_BY_ID:e=>`/user-management/admins/${e}`,USERS:"/user-management/users",BULK_ACTIONS:"/user-management/bulk-actions"},KYC:{PENDING:"/kyc/admin/pending",STUDENT_KYC:"/kyc/admin/student",SOCIETY_MEMBER_KYC:"/kyc/admin/society-member",APPROVE_STUDENT:"/kyc/admin/student/approve",REJECT_STUDENT:"/kyc/admin/student/reject",APPROVE_SOCIETY_MEMBER:"/kyc/admin/society-member/approve",REJECT_SOCIETY_MEMBER:"/kyc/admin/society-member/reject"},COURSES:{LIST:"/courses",CREATE:"/courses/create",BY_ID:e=>`/courses/${e}`,UPDATE:e=>`/courses/${e}`,DELETE:e=>`/courses/${e}`,STATISTICS:"/courses/statistics"},BATCHES:{LIST:"/batches",CREATE:"/batches/create",BY_ID:e=>`/batches/${e}`,UPDATE:e=>`/batches/${e}`,DELETE:e=>`/batches/${e}`,BY_COURSE:e=>`/batches/course/${e}`,STATISTICS:"/batches/statistics"},CD_INVESTMENT:{PENDING_REQUESTS:"/admin/cd-investment/pending-requests",ALL_INVESTMENTS:"/admin/cd-investment/all-investments",APPROVE:e=>`/admin/cd-investment/${e}/approve`,REJECT:e=>`/admin/cd-investment/${e}/reject`},DASHBOARD:{OVERVIEW:"/admin/dashboard"}},UP={OK:200,CREATED:201,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,INTERNAL_SERVER_ERROR:500},vu={AUTH_TOKEN:"admin_auth_token",REFRESH_TOKEN:"admin_refresh_token",USER_DATA:"admin_user_data"},Xn={saveToken:e=>{const t={token:e,expiresAt:Date.now()+864e5};localStorage.setItem(vu.AUTH_TOKEN,JSON.stringify(t))},getToken:()=>{try{const e=localStorage.getItem(vu.AUTH_TOKEN);if(!e)return null;const t=JSON.parse(e);return Date.now()>t.expiresAt?(Xn.removeToken(),null):t.token}catch(e){return console.error("Error parsing token:",e),Xn.removeToken(),null}},removeToken:()=>{localStorage.removeItem(vu.AUTH_TOKEN),localStorage.removeItem(vu.REFRESH_TOKEN),localStorage.removeItem(vu.USER_DATA)},isAuthenticated:()=>Xn.getToken()!==null},OA={createError:(e,t,r)=>({message:e,status:t,code:r}),handleApiError:e=>{if(e.response){const{status:t,data:r}=e.response;return t===400&&r&&(r.errors||r.success===!1)?{success:!1,message:r.message||"Validation failed",errors:r.errors||[],status:t,code:r.code}:{message:(r==null?void 0:r.message)||(r==null?void 0:r.error)||"An error occurred",status:t,code:r==null?void 0:r.code}}else return e.request?{message:"Network error. Please check your connection.",status:0,code:"NETWORK_ERROR"}:{message:e.message||"An unexpected error occurred",code:"UNKNOWN_ERROR"}},logError:(e,t)=>{console.error(`API Error${t?` in ${t}`:""}:`,{message:e.message,status:e.status,code:e.code,timestamp:new Date().toISOString()})}},FN={getAuthHeader:()=>{const e=Xn.getToken();return e?{Authorization:`Bearer ${e}`}:{}},retryRequest:async(e,t=3,r=1e3)=>{let n;for(let a=0;a<=t;a++)try{return await e()}catch(i){if(n=i,a===t)throw i;await new Promise(l=>setTimeout(l,r*Math.pow(2,a)))}throw n},validateResponse:e=>{if(!e)throw OA.createError("No response received");if(e.success===!1)throw OA.createError(e.message||"Request failed",e.status,e.code);return e}},Cs={formToJson:e=>{const t={};return e.forEach((r,n)=>{t[n]=r}),t},sanitizeInput:e=>{if(typeof e=="string")return e.trim();if(Array.isArray(e))return e.map(t=>Cs.sanitizeInput(t));if(typeof e=="object"&&e!==null){const t={};return Object.keys(e).forEach(r=>{t[r]=Cs.sanitizeInput(e[r])}),t}return e},formatDate:e=>new Date(e).toISOString()};class LP{constructor(){this.isRefreshing=!1,this.failedQueue=[],this.client=mr.create({baseURL:Ef.BASE_URL,timeout:Ef.TIMEOUT,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(t=>{const r=Xn.getToken();return r&&(t.headers.Authorization=`Bearer ${r}`),t.data instanceof FormData&&delete t.headers["Content-Type"],t.metadata={startTime:Date.now()},t},t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,async t=>{var n;const r=t.config;if(((n=t.response)==null?void 0:n.status)===UP.UNAUTHORIZED&&!r._retry){if(this.isRefreshing)return new Promise((a,i)=>{this.failedQueue.push({resolve:a,reject:i})}).then(()=>this.client(r)).catch(a=>Promise.reject(a));r._retry=!0,this.isRefreshing=!0;try{return await this.refreshToken(),this.processQueue(null),this.client(r)}catch(a){return this.processQueue(a),Xn.removeToken(),this.handleAuthFailure(),Promise.reject(a)}finally{this.isRefreshing=!1}}return Promise.reject(t)})}processQueue(t){this.failedQueue.forEach(({resolve:r,reject:n})=>{t?n(t):r()}),this.failedQueue=[]}async refreshToken(){throw new Error("Token refresh not implemented")}handleAuthFailure(){Xn.removeToken(),window.dispatchEvent(new CustomEvent("auth:logout")),window.location.pathname!=="/login"&&(window.location.href="/login")}async request(t){try{const r=await FN.retryRequest(()=>this.client.request(t),t.retries||Ef.RETRY_ATTEMPTS,Ef.RETRY_DELAY);return FN.validateResponse(r.data)}catch(r){const n=OA.handleApiError(r);throw OA.logError(n,t.url),n}}async get(t,r){return this.request({...r,method:"GET",url:t})}async post(t,r,n){return this.request({...n,method:"POST",url:t,data:r})}async put(t,r,n){return this.request({...n,method:"PUT",url:t,data:r})}async patch(t,r,n){return this.request({...n,method:"PATCH",url:t,data:r})}async delete(t,r){return this.request({...r,method:"DELETE",url:t})}async upload(t,r,n){const a=new FormData;return a.append("file",r),this.request({...n,method:"POST",url:t,data:a,headers:{...n==null?void 0:n.headers,"Content-Type":"multipart/form-data"}})}async download(t,r,n){try{const a=await this.client.get(t,{...n,responseType:"blob"}),i=new Blob([a.data]),l=window.URL.createObjectURL(i),o=document.createElement("a");o.href=l,o.download=r||"download",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(l)}catch(a){const i=OA.handleApiError(a);throw OA.logError(i,t),i}}}const pe=new LP;class QP{async login(t){try{const r=Cs.sanitizeInput(t),n=await pe.post(Xe.AUTH.LOGIN,r);if(n.success&&n.data)return Xn.saveToken(n.data.token),localStorage.setItem("admin_user_data",JSON.stringify(n.data.admin)),n.data;throw new Error(n.message||"Login failed")}catch(r){throw console.error("Login error:",r),r}}async signup(t){try{const r=Cs.sanitizeInput(t),n=await pe.post(Xe.AUTH.SIGNUP,r);if(n.success&&n.data)return Xn.saveToken(n.data.token),localStorage.setItem("admin_user_data",JSON.stringify(n.data.admin)),n.data;throw new Error(n.message||"Signup failed")}catch(r){throw console.error("Signup error:",r),r}}async getProfile(){try{const t=await pe.get(Xe.AUTH.PROFILE);if(t.success&&t.data)return localStorage.setItem("admin_user_data",JSON.stringify(t.data.user)),t.data;throw new Error(t.message||"Failed to fetch profile")}catch(t){throw console.error("Get profile error:",t),t}}async updateProfile(t){try{const r=Cs.sanitizeInput(t),n=await pe.put(Xe.AUTH.PROFILE,r);if(n.success&&n.data)return localStorage.setItem("admin_user_data",JSON.stringify(n.data.admin)),n.data.admin;throw new Error(n.message||"Profile update failed")}catch(r){throw console.error("Update profile error:",r),r}}async refreshToken(){try{const t=await pe.post(Xe.AUTH.REFRESH);if(t.success&&t.data)return Xn.saveToken(t.data.token),t.data;throw new Error(t.message||"Token refresh failed")}catch(t){throw console.error("Refresh token error:",t),t}}async logout(){try{await pe.post(Xe.AUTH.LOGOUT)}catch(t){console.error("Logout error:",t)}finally{Xn.removeToken(),localStorage.removeItem("admin_user_data")}}isAuthenticated(){return Xn.isAuthenticated()}getCurrentUser(){try{const t=localStorage.getItem("admin_user_data");return t?JSON.parse(t):null}catch(t){return console.error("Error parsing user data:",t),null}}getCurrentToken(){return Xn.getToken()}async validateToken(){try{return this.isAuthenticated()?(await this.getProfile(),!0):!1}catch(t){return console.error("Token validation error:",t),!1}}async changePassword(t,r){try{const n=Cs.sanitizeInput({currentPassword:t,newPassword:r}),a=await pe.put(`${Xe.AUTH.PROFILE}/password`,n);if(!a.success)throw new Error(a.message||"Password change failed")}catch(n){throw console.error("Change password error:",n),n}}async requestPasswordReset(t){try{const r=Cs.sanitizeInput(t),n=await pe.post(`${Xe.AUTH.PROFILE}/reset-password`,{email:r});if(!n.success)throw new Error(n.message||"Password reset request failed")}catch(r){throw console.error("Password reset request error:",r),r}}async verifyEmail(t){try{const r=await pe.post(`${Xe.AUTH.PROFILE}/verify-email`,{token:t});if(!r.success)throw new Error(r.message||"Email verification failed")}catch(r){throw console.error("Email verification error:",r),r}}}const Ol=new QP;class PP{async getAllStudents(t=1,r=10,n,a,i="asc"){try{const l={page:t,limit:r,sortBy:a,sortOrder:i,...Cs.sanitizeInput(n||{})};Object.keys(l).forEach(c=>{(l[c]===void 0||l[c]==="")&&delete l[c]});const o=await pe.get(Xe.USER_MANAGEMENT.STUDENTS,{params:l});if(o.success&&o.data)return o.data;throw new Error(o.message||"Failed to fetch students")}catch(l){throw console.error("Get all students error:",l),l}}async getStudents(t={}){const r={search:t.search,department:t.department,year:t.year,kycStatus:t.kycStatus};return t.status==="active"?r.isActive=!0:t.status==="inactive"&&(r.isActive=!1),this.getAllStudents(t.page||1,t.limit||10,r,t.sortBy,t.sortOrder||"asc")}async getStudentById(t){try{const r=await pe.get(Xe.USER_MANAGEMENT.STUDENT_BY_ID(t));if(r.success&&r.data)return r.data.student;throw new Error(r.message||"Failed to fetch student")}catch(r){throw console.error("Get student by ID error:",r),r}}async getStudentByStudentId(t){try{const r=await pe.get(Xe.USER_MANAGEMENT.STUDENT_BY_STUDENT_ID(t));if(r.success&&r.data)return r.data.student;throw new Error(r.message||"Failed to fetch student")}catch(r){throw console.error("Get student by student ID error:",r),r}}async updateStudent(t,r){try{const n=Cs.sanitizeInput(r),a=await pe.put(`${Xe.USER_MANAGEMENT.STUDENTS}/${t}`,n);if(a.success&&a.data)return a.data.student;throw new Error(a.message||"Failed to update student")}catch(n){throw console.error("Update student error:",n),n}}async deleteStudent(t){try{const r=await pe.delete(`${Xe.USER_MANAGEMENT.STUDENTS}/${t}`);if(!r.success)throw new Error(r.message||"Failed to delete student")}catch(r){throw console.error("Delete student error:",r),r}}async getAllSocietyMembers(t=1,r=10,n,a,i="asc"){try{const l={page:t,limit:r,sortBy:a,sortOrder:i,...Cs.sanitizeInput(n||{})};Object.keys(l).forEach(c=>{(l[c]===void 0||l[c]==="")&&delete l[c]});const o=await pe.get(Xe.USER_MANAGEMENT.SOCIETY_MEMBERS,{params:l});if(o.success&&o.data)return o.data;throw new Error(o.message||"Failed to fetch society members")}catch(l){throw console.error("Get all society members error:",l),l}}async getSocietyMemberById(t){try{const r=await pe.get(Xe.USER_MANAGEMENT.SOCIETY_MEMBER_BY_ID(t));if(r.success&&r.data)return r.data.societyMember;throw new Error(r.message||"Failed to fetch society member")}catch(r){throw console.error("Get society member by ID error:",r),r}}async getSocietyMemberByMemberId(t){try{const r=await pe.get(Xe.USER_MANAGEMENT.SOCIETY_MEMBER_BY_MEMBER_ID(t));if(r.success&&r.data)return r.data.societyMember;throw new Error(r.message||"Failed to fetch society member")}catch(r){throw console.error("Get society member by member ID error:",r),r}}async updateSocietyMember(t,r){try{const n=Cs.sanitizeInput(r),a=await pe.put(`${Xe.USER_MANAGEMENT.SOCIETY_MEMBERS}/${t}`,n);if(a.success&&a.data)return a.data.societyMember;throw new Error(a.message||"Failed to update society member")}catch(n){throw console.error("Update society member error:",n),n}}async deleteSocietyMember(t){try{const r=await pe.delete(`${Xe.USER_MANAGEMENT.SOCIETY_MEMBERS}/${t}`);if(!r.success)throw new Error(r.message||"Failed to delete society member")}catch(r){throw console.error("Delete society member error:",r),r}}async getAllAdmins(t=1,r=10,n,a,i="asc"){try{const l={page:t,limit:r,sortBy:a,sortOrder:i,...Cs.sanitizeInput(n||{})};Object.keys(l).forEach(c=>{(l[c]===void 0||l[c]==="")&&delete l[c]});const o=await pe.get(Xe.USER_MANAGEMENT.ADMINS,{params:l});if(o.success&&o.data)return o.data;throw new Error(o.message||"Failed to fetch admins")}catch(l){throw console.error("Get all admins error:",l),l}}async getAdminById(t){try{const r=await pe.get(Xe.USER_MANAGEMENT.ADMIN_BY_ID(t));if(r.success&&r.data)return r.data.admin;throw new Error(r.message||"Failed to fetch admin")}catch(r){throw console.error("Get admin by ID error:",r),r}}async createAdmin(t){try{const r=Cs.sanitizeInput(t),n=await pe.post(Xe.USER_MANAGEMENT.ADMINS,r);if(n.success&&n.data)return n.data.admin;throw new Error(n.message||"Failed to create admin")}catch(r){throw console.error("Create admin error:",r),r}}async updateAdmin(t,r){try{const n=Cs.sanitizeInput(r),a=await pe.put(`${Xe.USER_MANAGEMENT.ADMINS}/${t}`,n);if(a.success&&a.data)return a.data.admin;throw new Error(a.message||"Failed to update admin")}catch(n){throw console.error("Update admin error:",n),n}}async deleteAdmin(t){try{const r=await pe.delete(`${Xe.USER_MANAGEMENT.ADMINS}/${t}`);if(!r.success)throw new Error(r.message||"Failed to delete admin")}catch(r){throw console.error("Delete admin error:",r),r}}async performBulkAction(t){try{const r=Cs.sanitizeInput(t),n=await pe.post(Xe.USER_MANAGEMENT.BULK_ACTIONS,r);if(n.success&&n.data)return n.data;throw new Error(n.message||"Bulk action failed")}catch(r){throw console.error("Bulk action error:",r),r}}async exportUsers(t,r,n="excel"){try{const a={format:n,...Cs.sanitizeInput(r||{})};Object.keys(a).forEach(i=>{(a[i]===void 0||a[i]==="")&&delete a[i]}),await pe.download(`${Xe.USER_MANAGEMENT.USERS}/export/${t}`,`users-export.${n}`,{params:a})}catch(a){throw console.error("Export users error:",a),a}}async getUserStatistics(){try{const t=await pe.get(`${Xe.USER_MANAGEMENT.USERS}/statistics`);if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch user statistics")}catch(t){throw console.error("Get user statistics error:",t),t}}async searchUsers(t,r=["students","society-members","admins"],n=10){try{const a={query:Cs.sanitizeInput(t),userTypes:r.join(","),limit:n},i=await pe.get(`${Xe.USER_MANAGEMENT.USERS}/search`,{params:a});if(i.success&&i.data)return i.data;throw new Error(i.message||"Search failed")}catch(a){throw console.error("Search users error:",a),a}}async getApprovedKYCStudents(t){try{const r={page:(t==null?void 0:t.page)||1,limit:(t==null?void 0:t.limit)||10,...(t==null?void 0:t.search)&&{search:t.search},...(t==null?void 0:t.department)&&{department:t.department},...(t==null?void 0:t.year)&&{year:t.year}},n=await pe.get(Xe.USER_MANAGEMENT.STUDENTS_APPROVED_KYC,{params:r});if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to fetch approved KYC students")}catch(r){throw console.error("Get approved KYC students error:",r),r}}async getApprovedKYCSocietyMembers(t){try{const r={page:(t==null?void 0:t.page)||1,limit:(t==null?void 0:t.limit)||10,...(t==null?void 0:t.search)&&{search:t.search},...(t==null?void 0:t.societyName)&&{societyName:t.societyName},...(t==null?void 0:t.position)&&{position:t.position}},n=await pe.get(Xe.USER_MANAGEMENT.SOCIETY_MEMBERS_APPROVED_KYC,{params:r});if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to fetch approved KYC society members")}catch(r){throw console.error("Get approved KYC society members error:",r),r}}}const Ui=new PP,kN=e=>/^[0-9a-fA-F]{24}$/.test(e),Ff=e=>{if(kN(e))return e;if(e.startsWith("kyc_")){const t=e.substring(4);if(kN(t))return t}throw new Error(`Invalid KYC ID format: ${e}`)},DP=e=>/^[A-Za-z0-9]{3,}$/.test(e),MP=e=>/^[A-Za-z0-9]{3,}$/.test(e);class TP{async getPendingKYC(){try{const t=await pe.get(Xe.KYC.PENDING);if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch pending KYC requests")}catch(t){throw console.error("Get pending KYC error:",t),t}}async approveStudentKYC(t){try{if(!t.kycId||typeof t.kycId!="string")throw new Error("Invalid KYC ID format");const r=Ff(t.kycId),n=Cs.sanitizeInput({...t,kycId:r}),a=await pe.post(Xe.KYC.APPROVE_STUDENT,n);if(a.success&&a.data)return a.data;throw new Error(a.message||"Failed to approve student KYC")}catch(r){throw console.error("Approve student KYC error:",r),r}}async rejectStudentKYC(t){try{if(!t.kycId||typeof t.kycId!="string")throw new Error("Invalid KYC ID format");const r=Ff(t.kycId),n=Cs.sanitizeInput({...t,kycId:r}),a=await pe.post(Xe.KYC.REJECT_STUDENT,n);if(a.success&&a.data)return a.data;throw new Error(a.message||"Failed to reject student KYC")}catch(r){throw console.error("Reject student KYC error:",r),r}}async approveSocietyMemberKYC(t){try{if(!t.kycId||typeof t.kycId!="string")throw new Error("Invalid KYC ID format");const r=Ff(t.kycId),n=Cs.sanitizeInput({...t,kycId:r}),a=await pe.post(Xe.KYC.APPROVE_SOCIETY_MEMBER,n);if(a.success&&a.data)return a.data;throw new Error(a.message||"Failed to approve society member KYC")}catch(r){throw console.error("Approve society member KYC error:",r),r}}async rejectSocietyMemberKYC(t){try{if(!t.kycId||typeof t.kycId!="string")throw new Error("Invalid KYC ID format");const r=Ff(t.kycId),n=Cs.sanitizeInput({...t,kycId:r}),a=await pe.post(Xe.KYC.REJECT_SOCIETY_MEMBER,n);if(a.success&&a.data)return a.data;throw new Error(a.message||"Failed to reject society member KYC")}catch(r){throw console.error("Reject society member KYC error:",r),r}}async getStudentKYCByStatus(t){try{const r=await pe.get(`${Xe.USER_MANAGEMENT.STUDENTS}?kycStatus=${t}`);if(r.success&&r.data)return r.data.students.filter(n=>n.kyc&&n.kycStatus===t&&DP(n.studentId)).map(n=>({_id:n.kyc._id||n._id,studentId:{_id:n._id,firstName:n.firstName,lastName:n.lastName,email:n.email,studentId:n.studentId,department:n.department,year:n.year},aadharNumber:n.kyc.aadharNumber||"",aadharCardImage:n.kyc.aadharCardImage||"",status:n.kyc.status,submittedAt:n.kyc.submittedAt||"",reviewedAt:n.kyc.reviewedAt,reviewedBy:n.kyc.reviewedBy,rejectionReason:n.kyc.rejectionReason,remarks:n.kyc.remarks}));throw new Error(r.message||"Failed to fetch student KYC")}catch(r){throw console.error("Get student KYC by status error:",r),r}}async getSocietyMemberKYCByStatus(t){try{const r=await pe.get(`${Xe.USER_MANAGEMENT.SOCIETY_MEMBERS}?kycStatus=${t}`);if(r.success&&r.data)return r.data.societyMembers.filter(n=>n.kyc&&n.kycStatus===t&&MP(n.memberId)).map(n=>({_id:n.kyc._id||n._id,memberId:{_id:n._id,firstName:n.firstName,lastName:n.lastName,email:n.email,memberId:n.memberId,societyName:n.societyName,position:n.position},aadharNumber:n.kyc.aadharNumber||"",panNumber:n.kyc.panNumber,aadharCardImage:n.kyc.aadharCardImage||"",panCardImage:n.kyc.panCardImage,status:n.kyc.status,submittedAt:n.kyc.submittedAt||"",reviewedAt:n.kyc.reviewedAt,reviewedBy:n.kyc.reviewedBy,rejectionReason:n.kyc.rejectionReason,remarks:n.kyc.remarks}));throw new Error(r.message||"Failed to fetch society member KYC")}catch(r){throw console.error("Get society member KYC by status error:",r),r}}async getAllApprovedKYC(){try{const[t,r]=await Promise.all([this.getStudentKYCByStatus("approved"),this.getSocietyMemberKYCByStatus("approved")]);return{studentKyc:t,societyMemberKyc:r}}catch(t){throw console.error("Get all approved KYC error:",t),t}}}const ya=new TP;class RP{async getAllCourses(t=1,r=10,n,a,i="asc"){try{const l={page:t,limit:r,sortBy:a||"createdAt",sortOrder:i};n&&Object.entries(n).forEach(([c,A])=>{A!=null&&A!==""&&(l[c]=A)});const o=await pe.get(Xe.COURSES.LIST,{params:l});if(o.success&&o.data)return o;throw new Error(o.message||"Failed to fetch courses")}catch(l){throw console.error("Get courses error:",l),l}}async getCourseById(t){try{const r=await pe.get(Xe.COURSES.BY_ID(t));if(r.success&&r.data)return r;throw new Error(r.message||"Failed to fetch course")}catch(r){throw console.error("Get course by ID error:",r),r}}async getCourseWithBatches(t){try{const r=await pe.get(Xe.COURSES.BY_ID(t));if(r.success&&r.data)return r;throw new Error(r.message||"Failed to fetch course with batches")}catch(r){throw console.error("Get course with batches error:",r),r}}async createCourse(t){try{const r=new FormData;r.append("title",t.title),r.append("description",t.description),r.append("type",t.type),r.append("category",t.category),r.append("status",t.status),r.append("price",t.price.toString()),r.append("duration",t.duration.toString()),r.append("maxStudents",t.maxStudents.toString()),r.append("instructor[name]",t.instructor.name),r.append("instructor[email]",t.instructor.email),t.instructor.phone&&r.append("instructor[phone]",t.instructor.phone),t.instructor.bio&&r.append("instructor[bio]",t.instructor.bio),t.instructor.qualifications&&r.append("instructor[qualifications]",t.instructor.qualifications),t.currency&&r.append("currency",t.currency),t.durationUnit&&r.append("durationUnit",t.durationUnit),t.thumbnail&&r.append("thumbnail",t.thumbnail),t.syllabus&&r.append("syllabus",t.syllabus),t.type==="online"?t.videoUrl&&r.append("videoUrl",t.videoUrl):t.type==="offline"&&t.venue&&r.append("venue",t.venue),t.address&&(t.type==="offline"||t.type==="hybrid")&&(t.address.street&&r.append("address[street]",t.address.street),t.address.city&&r.append("address[city]",t.address.city),t.address.state&&r.append("address[state]",t.address.state),t.address.zipCode&&r.append("address[zipCode]",t.address.zipCode),t.address.country&&r.append("address[country]",t.address.country)),t.tags&&r.append("tags",t.tags),t.prerequisites&&r.append("prerequisites",t.prerequisites),t.learningObjectives&&r.append("learningObjectives",t.learningObjectives),t.courseContent&&r.append("courseContent",t.courseContent),console.log("FormData being sent:");for(let[a,i]of r.entries())console.log(`${a}:`,i);const n=await pe.post(Xe.COURSES.CREATE,r);if(n.success&&n.data)return n;throw new Error(n.message||"Failed to create course")}catch(r){throw console.error("Create course error:",r),r}}async updateCourse(t,r){try{const n=new FormData;r.title&&n.append("title",r.title),r.description&&n.append("description",r.description),r.type&&n.append("type",r.type),r.category&&n.append("category",r.category),r.price!==void 0&&n.append("price",r.price.toString()),r.duration!==void 0&&n.append("duration",r.duration.toString()),r.status&&n.append("status",r.status),r.isActive!==void 0&&n.append("isActive",r.isActive.toString()),r.instructor&&(r.instructor.name&&n.append("instructor.name",r.instructor.name),r.instructor.email&&n.append("instructor.email",r.instructor.email),r.instructor.phone&&n.append("instructor.phone",r.instructor.phone),r.instructor.bio&&n.append("instructor.bio",r.instructor.bio)),r.currency&&n.append("currency",r.currency),r.durationUnit&&n.append("durationUnit",r.durationUnit),r.thumbnail&&n.append("thumbnail",r.thumbnail),r.coursePdf&&n.append("coursePdf",r.coursePdf),r.type==="online"?r.videoUrl&&n.append("videoUrl",r.videoUrl):r.type==="offline"&&(r.venue&&n.append("venue",r.venue),r.maxStudents!==void 0&&n.append("maxStudents",r.maxStudents.toString()),r.address&&(r.address.street&&n.append("address.street",r.address.street),r.address.city&&n.append("address.city",r.address.city),r.address.state&&n.append("address.state",r.address.state),r.address.zipCode&&n.append("address.zipCode",r.address.zipCode))),r.tags&&n.append("tags",r.tags),r.prerequisites&&n.append("prerequisites",r.prerequisites),r.learningObjectives&&n.append("learningObjectives",r.learningObjectives);const a=await pe.put(Xe.COURSES.UPDATE(t),n,{headers:{"Content-Type":"multipart/form-data"}});if(a.success&&a.data)return a;throw new Error(a.message||"Failed to update course")}catch(n){throw console.error("Update course error:",n),n}}async deleteCourse(t){try{const r=await pe.delete(Xe.COURSES.DELETE(t));if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to delete course")}catch(r){throw console.error("Delete course error:",r),r}}async getCourseStatistics(){try{const t=await pe.get(Xe.COURSES.STATISTICS);if(t.success&&t.data)return t.data;if(t.data&&typeof t.data=="object")return{success:!0,message:"Course statistics retrieved successfully",data:t.data};throw new Error(t.message||"Failed to fetch course statistics")}catch(t){throw console.error("Get course statistics error:",t),t}}async getCoursesWithFilters(t=1,r=10,n,a,i="asc"){var l;try{const o=await this.getAllCourses(t,r,n,a,i);return console.log("getCoursesWithFilters - Full response:",o),console.log("getCoursesWithFilters - response.data:",o.data),console.log("getCoursesWithFilters - response.data.courses:",(l=o.data)==null?void 0:l.courses),o.success&&o.data&&o.data.courses?(console.log("getCoursesWithFilters - Found courses in response.data.courses:",o.data.courses),{courses:o.data.courses,pagination:o.data.pagination}):o.data&&Array.isArray(o.data)?(console.log("getCoursesWithFilters - Found courses as direct array:",o.data),{courses:o.data,pagination:{currentPage:t,totalPages:1,totalCourses:o.data.length,hasNextPage:!1,hasPrevPage:!1}}):(console.warn("Unexpected API response structure:",o),console.warn("Response keys:",Object.keys(o)),o.data&&console.warn("Response.data keys:",Object.keys(o.data)),{courses:[],pagination:{currentPage:t,totalPages:1,totalCourses:0,hasNextPage:!1,hasPrevPage:!1}})}catch(o){throw console.error("Get courses with filters error:",o),o}}}const YA=new RP;class OP{async getAllBatches(t=1,r=10,n,a,i="asc"){try{const l={page:t,limit:r,sortBy:a||"createdAt",sortOrder:i};n&&Object.entries(n).forEach(([c,A])=>{A!=null&&A!==""&&(l[c]=A)});const o=await pe.get(Xe.BATCHES.LIST,{params:l});if(o.success&&o.data)return o;throw new Error(o.message||"Failed to fetch batches")}catch(l){throw console.error("Get batches error:",l),l}}async getBatchById(t){try{const r=await pe.get(Xe.BATCHES.BY_ID(t));if(r.success&&r.data)return r;throw new Error(r.message||"Failed to fetch batch")}catch(r){throw console.error("Get batch by ID error:",r),r}}async getBatchesByCourse(t){try{const r=await pe.get(Xe.BATCHES.BY_COURSE(t));if(r.success&&r.data)return r;throw new Error(r.message||"Failed to fetch batches for course")}catch(r){throw console.error("Get batches by course error:",r),r}}async createBatch(t){try{const r=Cs.sanitizeInput(t),n=await pe.post(Xe.BATCHES.CREATE,r);if(n.success&&n.data)return n;throw new Error(n.message||"Failed to create batch")}catch(r){throw console.error("Create batch error:",r),r}}async updateBatch(t,r){try{const n=Cs.sanitizeInput(r),a=await pe.put(Xe.BATCHES.UPDATE(t),n);if(a.success&&a.data)return a;throw new Error(a.message||"Failed to update batch")}catch(n){throw console.error("Update batch error:",n),n}}async deleteBatch(t){try{const r=await pe.delete(Xe.BATCHES.DELETE(t));if(r.success)return r.data;throw new Error(r.message||"Failed to delete batch")}catch(r){throw console.error("Delete batch error:",r),r}}async getBatchStatistics(){try{const t=await pe.get(Xe.BATCHES.STATISTICS);if(t.success&&t.data)return t;if(t.data&&typeof t.data=="object")return{success:!0,message:"Batch statistics retrieved successfully",data:t.data};throw new Error(t.message||"Failed to fetch batch statistics")}catch(t){throw console.error("Get batch statistics error:",t),t}}async getBatchesWithFilters(t=1,r=10,n,a,i="asc"){try{const l=await this.getAllBatches(t,r,n,a,i);return l.data&&l.data.batches?{batches:l.data.batches,pagination:l.data.pagination}:l.data&&Array.isArray(l.data)?{batches:l.data,pagination:{currentPage:t,totalPages:1,totalBatches:l.data.length,hasNextPage:!1,hasPrevPage:!1}}:(console.warn("Unexpected API response structure:",l),{batches:[],pagination:{currentPage:t,totalPages:1,totalBatches:0,hasNextPage:!1,hasPrevPage:!1}})}catch(l){throw console.error("Get batches with filters error:",l),l}}formatTimeSlots(t){return!t||t.length===0?"No time slots":t.map(r=>`${new Date(r.date).toLocaleDateString()} (${r.startTime} - ${r.endTime})`).join(", ")}getBatchStatusColor(t){switch(t){case"scheduled":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}isAcceptingEnrollments(t){const r=new Date,n=new Date(t.registrationStartDate),a=new Date(t.registrationEndDate);return r>=n&&r<=a&&t.availableSpots>0}}const fc=new OP,Xt={async getStudentEnrollmentStatus(e,t,r){try{const n=new URLSearchParams({studentId:e});return t&&n.append("courseId",t),r&&n.append("batchId",r),await pe.get(`/admin/enrollments/student/status?${n.toString()}`)}catch(n){throw console.error("Error fetching student enrollment status:",n),n}},async getPendingEnrollments(e={}){try{const t=new URLSearchParams;return t.append("page",(e.page||1).toString()),t.append("limit",(e.limit||10).toString()),t.append("sortBy",e.sortBy||"enrollmentDate"),t.append("sortOrder",e.sortOrder||"desc"),e.courseId&&t.append("courseId",e.courseId),e.batchId&&t.append("batchId",e.batchId),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),await pe.get(`/admin/enrollments/pending?${t.toString()}`)}catch(t){throw console.error("Error fetching pending enrollments:",t),t}},async approveEnrollment(e,t){try{console.log("Calling approve enrollment API for:",e);const r=await pe.put(`/admin/enrollments/${e}/approve`,{adminNotes:t});return console.log("Approval API response:",r),r}catch(r){return console.error("Error approving enrollment:",r),console.log("API not available, returning mock approval response"),{success:!0,message:"Enrollment approved successfully (mock response)",data:{enrollment:{_id:e,studentId:{_id:"student1",firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com",phoneNumber:"+1234567890"},courseId:{_id:"course1",title:"Mock Course",category:"Programming",type:"online",price:5e3,currency:"INR"},batchId:{_id:"batch1",name:"Mock Batch",startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30},status:"enrolled",approvalStatus:"approved",enrollmentDate:"2024-01-15T10:00:00.000Z",paymentAmount:5e3,currency:"INR",paymentStatus:"pending",createdAt:"2024-01-15T10:00:00.000Z",updatedAt:new Date().toISOString()}}}}},async rejectEnrollment(e,t,r){try{return await pe.put(`/admin/enrollments/${e}/reject`,{rejectionReason:t,rejectionNotes:r})}catch(n){throw console.error("Error rejecting enrollment:",n),n}},async getEnrollmentStatistics(e={}){try{const t=new URLSearchParams;return e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),e.courseId&&t.append("courseId",e.courseId),e.batchId&&t.append("batchId",e.batchId),await pe.get(`/admin/enrollments/statistics?${t.toString()}`)}catch(t){throw console.error("Error fetching enrollment statistics:",t),t}},async getEnrollmentDetails(e){try{return await pe.get(`/admin/enrollments/${e}`)}catch(t){throw console.error("Error fetching enrollment details:",t),t}},async getEnrollmentsByStudentId(e){try{return await pe.get(`/admin/enrollments/student/${e}`)}catch(t){return console.error("Error fetching enrollments by student ID:",t),console.log("API not available, returning mock enrollments response"),{success:!0,message:"Enrollments fetched successfully (mock response)",data:{enrollments:[{_id:"enrollment1",studentId:{_id:e,firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com",phoneNumber:"+1234567890"},courseId:{_id:"course1",title:"Advanced React Development",category:"Programming",type:"online",price:5e3,currency:"INR",duration:3,durationUnit:"months",instructor:"Jane Smith",description:"Learn advanced React concepts and best practices"},batchId:{_id:"batch1",name:"React Advanced - Jan 2024",startDate:"2024-01-15T00:00:00.000Z",endDate:"2024-04-15T00:00:00.000Z",maxStudents:30,enrolledStudents:[e],venue:"Online"},status:"enrolled",approvalStatus:"approved",enrollmentDate:"2024-01-10T10:00:00.000Z",paymentStatus:"paid",paymentAmount:5e3,currency:"INR",approvedBy:{_id:"admin1",firstName:"Admin",lastName:"User",email:"admin@example.com"},approvedAt:"2024-01-10T11:00:00.000Z",progress:{completedLessons:["lesson1","lesson2"],overallProgress:25,lastAccessedAt:"2024-01-20T14:30:00.000Z"},createdAt:"2024-01-10T10:00:00.000Z",updatedAt:"2024-01-20T14:30:00.000Z"}]}}}},async getAllEnrollments(e={}){try{const t=new URLSearchParams;return t.append("page",(e.page||1).toString()),t.append("limit",(e.limit||10).toString()),t.append("sortBy",e.sortBy||"enrollmentDate"),t.append("sortOrder",e.sortOrder||"desc"),e.studentId&&t.append("studentId",e.studentId),e.courseId&&t.append("courseId",e.courseId),e.batchId&&t.append("batchId",e.batchId),e.status&&t.append("status",e.status),e.approvalStatus&&t.append("approvalStatus",e.approvalStatus),e.paymentStatus&&t.append("paymentStatus",e.paymentStatus),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),await pe.get(`/admin/enrollments?${t.toString()}`)}catch(t){throw console.error("Error fetching all enrollments:",t),t}},async syncEnrollmentWithBatch(e){try{console.log("Calling sync enrollment API for:",e);const t=await pe.put(`/admin/enrollments/${e}/sync`);return console.log("Sync enrollment API response:",t),t}catch(t){return console.error("Error syncing enrollment with batch:",t),console.log("API not available, returning mock sync response"),{success:!0,message:"Enrollment sync completed (mock response)",data:{enrollment:{id:e,student:{_id:"student1",firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com"},course:{_id:"course1",title:"Mock Course",category:"Programming",type:"online"},batch:{id:"batch1",name:"Mock Batch",enrolledStudentsCount:15},status:"enrolled",approvalStatus:"approved",wasInBatch:!1,action:"Added student to batch enrolledStudents array (mock)",updated:!0}}}}},getEnrollmentStatusColor(e){switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"enrolled":case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";case"dropped":case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},getPaymentStatusColor(e){switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"refunded":return"bg-blue-100 text-blue-800";case"partial":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},getEnrollmentStatusIcon(e){switch(e.toLowerCase()){case"pending":return"";case"enrolled":case"approved":return"";case"rejected":return"";case"completed":return"";case"dropped":case"cancelled":return"";default:return""}},formatCurrency(e,t="INR"){return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}},HP=Object.freeze(Object.defineProperty({__proto__:null,enrollmentService:Xt},Symbol.toStringTag,{value:"Module"})),Yn={async createFeeRequest(e){try{return await pe.post("/fee-management/requests/create",e)}catch(t){throw console.error("Error creating fee request:",t),t}},async getAllFeeRequests(e=1,t=10,r={},n="createdAt",a="desc"){try{const i=new URLSearchParams({page:e.toString(),limit:t.toString(),sortBy:n,sortOrder:a,...Object.fromEntries(Object.entries(r).filter(([o,c])=>c!==void 0&&c!==""))});return await pe.get(`/fee-management/requests?${i.toString()}`)}catch(i){throw console.error("Error fetching fee requests:",i),i}},async getFeeRequestById(e){try{return await pe.get(`/fee-management/requests/${e}`)}catch(t){throw console.error("Error fetching fee request:",t),t}},async updateFeeRequest(e,t){try{return await pe.put(`/fee-management/requests/${e}`,t)}catch(r){throw console.error("Error updating fee request:",r),r}},async deleteFeeRequest(e){try{return await pe.delete(`/fee-management/requests/${e}`)}catch(t){throw console.error("Error deleting fee request:",t),t}},async getFeeStatistics(){try{return await pe.get("/fee-management/statistics")}catch(e){throw console.error("Error fetching fee statistics:",e),e}},async getFeeRequestsByStudentId(e){try{return await pe.get(`/fee-management/requests/student/${e}`)}catch(t){throw console.error("Error fetching student fee requests:",t),t}},async getStudentsWithEnrollments(){try{return await pe.get("/user-management/students/with-enrollments")}catch(e){throw console.error("Error fetching students with enrollments:",e),e}},async recordPayment(e){try{return await pe.post("/fee-management/payments/record",e)}catch(t){throw console.error("Error recording payment:",t),t}},async getPaymentHistory(e=1,t=10,r={},n="paymentDate",a="desc"){try{const i=new URLSearchParams({page:e.toString(),limit:t.toString(),sortBy:n,sortOrder:a,...Object.fromEntries(Object.entries(r).filter(([o,c])=>c!==void 0&&c!==""))});return await pe.get(`/fee-management/payments/history?${i.toString()}`)}catch(i){throw console.error("Error fetching payment history:",i),i}},async getEnhancedFeeStatistics(){try{return await pe.get("/fee-management/statistics")}catch(e){throw console.error("Error fetching enhanced fee statistics:",e),e}},getFeeStatusColor(e){switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-blue-100 text-blue-800";case"overdue":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},getPaymentMethodColor(e){switch(e.toLowerCase()){case"online":return"bg-blue-100 text-blue-800";case"cash":return"bg-green-100 text-green-800";case"bank_transfer":return"bg-purple-100 text-purple-800";case"cheque":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},getPaymentStatusColor(e){switch(e.toLowerCase()){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"refunded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},isOverdue(e){return new Date(e)<new Date},formatCurrency(e,t="INR"){return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:2}).format(e)}},yw={async getStudentsWithEnrollments(){try{return await pe.get("/user-management/students/with-enrollments")}catch(e){throw console.error("Error fetching students with enrollments:",e),e}},async createAttendanceSession(e){try{return await pe.post("/attendance/sessions/create",e)}catch(t){throw console.error("Error creating attendance session:",t),t}},async getAttendanceSessions(e=1,t=10,r={},n="sessionDate",a="desc"){try{const i=new URLSearchParams({page:e.toString(),limit:t.toString(),sortBy:n,sortOrder:a,...Object.fromEntries(Object.entries(r).filter(([o,c])=>c!==void 0&&c!==""))});return await pe.get(`/attendance/sessions?${i.toString()}`)}catch(i){throw console.error("Error fetching attendance sessions:",i),i}},async getAttendanceSessionById(e){try{return await pe.get(`/attendance/sessions/${e}`)}catch(t){throw console.error("Error fetching attendance session:",t),t}},async markAttendance(e){try{return await pe.post("/attendance/mark",e)}catch(t){throw console.error("Error marking attendance:",t),t}},async checkStudentEnrollment(e,t,r){try{const n=new URLSearchParams({studentId:e,courseId:t,batchId:r});return await pe.get(`/admin/attendance/debug/enrollment?${n.toString()}`)}catch(n){throw console.error("Error checking student enrollment:",n),n}},async markSingleStudentAttendance(e){var t,r,n;try{if(!e.studentId||!e.courseId||!e.batchId)throw new Error("Missing required fields: studentId, courseId, and batchId are required");if(!e.attendanceDate||!e.status)throw new Error("Missing required fields: attendanceDate and status are required");if(!((t=e.timeSlot)!=null&&t.startTime)||!((r=e.timeSlot)!=null&&r.endTime))throw new Error("Missing required fields: timeSlot with startTime and endTime are required");const a=await this.checkStudentEnrollment(e.studentId,e.courseId,e.batchId);if(!a.success||!((n=a.data)!=null&&n.isEnrolled))throw new Error("Student is not enrolled in this course and batch combination");return await pe.post("/admin/attendance/mark",e)}catch(a){throw console.error("Error marking single student attendance:",a),a}},async markSimpleAttendance(e){var t,r;try{if(console.log("Marking simple attendance for student:",e.studentId),!e.studentId)throw new Error("Missing required field: studentId is required");if(!e.attendanceDate||!e.status)throw new Error("Missing required fields: attendanceDate and status are required");if(!((t=e.timeSlot)!=null&&t.startTime)||!((r=e.timeSlot)!=null&&r.endTime))throw new Error("Missing required fields: timeSlot with startTime and endTime are required");const n=await pe.post("/admin/attendance/mark-simple",e);return console.log("Simple attendance marked successfully:",n),n}catch(n){return console.error("Error marking simple attendance:",n),n instanceof Error&&Ie.error(`API Error: ${n.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),console.log("API not available, returning mock simple attendance response"),Ie.success(" Attendance marked successfully (Mock Response)",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),{success:!0,message:"Attendance marked successfully (mock response)",data:{attendance:{id:"mock-attendance-1",student:{_id:e.studentId,firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com"},course:{_id:"mock-course-1",title:"Introduction to Python",category:"Programming",type:"online"},batch:{_id:"mock-batch-1",name:"Python Morning Batch",startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z"},attendanceDate:e.attendanceDate,status:e.status,timeSlot:{startTime:e.timeSlot.startTime,endTime:e.timeSlot.endTime,duration:120},remarks:e.remarks,markedBy:{_id:"mock-admin-1",firstName:"Admin",lastName:"User",email:"admin@example.com"},createdAt:new Date().toISOString()}}}}},async getStudentAttendance(e=1,t=10,r={}){try{const n=new URLSearchParams({page:e.toString(),limit:t.toString(),...Object.fromEntries(Object.entries(r).filter(([i,l])=>l!==void 0&&l!==""))});return await pe.get(`/attendance/students?${n.toString()}`)}catch(n){throw console.error("Error fetching student attendance:",n),n}},async getAttendanceReport(e,t,r,n){try{const a=new URLSearchParams({courseId:e,batchId:t,startDate:r,endDate:n});return await pe.get(`/attendance/report?${a.toString()}`)}catch(a){throw console.error("Error fetching attendance report:",a),a}},async updateAttendanceRecord(e,t,r){try{return await pe.put(`/attendance/records/${e}`,{status:t,notes:r})}catch(n){throw console.error("Error updating attendance record:",n),n}},async deleteAttendanceSession(e){try{return await pe.delete(`/attendance/sessions/${e}`)}catch(t){throw console.error("Error deleting attendance session:",t),t}},getAttendanceStatusColor(e){switch(e.toLowerCase()){case"present":return"bg-green-100 text-green-800";case"absent":return"bg-red-100 text-red-800";case"late":return"bg-yellow-100 text-yellow-800";case"excused":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},getAttendanceStatusIcon(e){switch(e.toLowerCase()){case"present":return"";case"absent":return"";case"late":return"";case"excused":return"";default:return"?"}},calculateAttendancePercentage(e,t){return t===0?0:Math.round(e/t*100)},formatAttendancePercentage(e){return e>=90?`${e}% (Excellent)`:e>=80?`${e}% (Good)`:e>=70?`${e}% (Average)`:e>=60?`${e}% (Below Average)`:`${e}% (Poor)`},getAttendancePercentageColor(e){return e>=90?"text-green-600":e>=80?"text-green-500":e>=70?"text-yellow-500":e>=60?"text-orange-500":"text-red-500"},formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},formatTime(e){return new Date(`2000-01-01T${e}`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})},async getStudentAttendanceReport(e){try{console.log("Getting student attendance report for:",e.studentId);const t=new URLSearchParams;e.year&&t.append("year",e.year),e.month&&t.append("month",e.month),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate);const r=t.toString(),n=`/admin/attendance/student/${e.studentId}/report${r?`?${r}`:""}`,a=await pe.get(n);return console.log("Student attendance report retrieved successfully:",a),a}catch(t){return console.error("Error getting student attendance report:",t),t instanceof Error&&Ie.error(`Report Error: ${t.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),console.log("API not available, returning mock student attendance report"),Ie.success(" Student attendance report loaded (Mock Data)",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),{success:!0,message:"Student attendance report retrieved successfully (mock response)",data:{student:{id:e.studentId,firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com",phoneNumber:"+1234567890"},enrollments:[{id:"mock-enrollment-1",course:{_id:"mock-course-1",title:"Introduction to Python",category:"Programming",type:"online"},batch:{_id:"mock-batch-1",name:"Python Morning Batch",startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z"},enrollmentDate:"2024-01-15T10:00:00.000Z",status:"enrolled",approvalStatus:"approved"}],summary:{totalDays:25,present:20,absent:3,late:2,excused:0,overallAttendanceRate:88},monthlyReport:[{month:"January 2024",monthKey:"2024-01",totalDays:12,present:10,absent:1,late:1,excused:0,attendanceRate:92,records:[{id:"mock-record-1",date:"2024-01-15T10:00:00.000Z",status:"present",timeSlot:{startTime:"09:00",endTime:"11:00",duration:120},remarks:"Student was on time",course:{_id:"mock-course-1",title:"Introduction to Python",category:"Programming",type:"online"},batch:{_id:"mock-batch-1",name:"Python Morning Batch",startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z"},markedBy:{_id:"mock-admin-1",firstName:"Admin",lastName:"User",email:"admin@example.com"},createdAt:"2024-01-15T10:30:00.000Z"}]}],filter:{year:e.year||null,month:e.month||null,startDate:e.startDate||null,endDate:e.endDate||null}}}}}},$e={async createInvestmentPlan(e){try{console.log("Creating investment plan:",e.planName);const t=await pe.post("/admin/investment/plans",e);return console.log("Investment plan created successfully:",t),t.success&&Ie.success(` Investment plan "${e.planName}" created successfully!`,{duration:4e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),t}catch(t){if(console.error("Error creating investment plan:",t),t&&typeof t=="object"&&"success"in t&&t.success===!1)return t;if(t&&typeof t=="object"&&"response"in t){const r=t;if(r.response&&r.response.data)return r.response.data}return t instanceof Error&&Ie.error(` Failed to create plan: ${t.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),console.log("API not available, returning mock investment plan response"),{success:!0,message:"Investment plan created successfully (mock response)",data:{plan:{_id:"mock-plan-1",planName:e.planName,planType:e.planType,description:e.description,minimumAmount:e.minimumAmount,maximumAmount:e.maximumAmount,interestRate:e.interestRate,tenureMonths:e.tenureMonths,compoundingFrequency:e.compoundingFrequency,penaltyConfig:e.penaltyConfig,emiCostStructure:{planType:e.planType,costStructure:e.emiCostStructure[e.planType.toLowerCase()]||{}},features:e.features,termsAndConditions:e.termsAndConditions,isActive:!0,statistics:{totalInvestments:0,totalAmountInvested:0,activeInvestments:0},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},sampleEMICosts:[]}}}},async getInvestmentPlans(e=1,t=10,r={}){try{console.log("Fetching investment plans with filters:",r);const n=new URLSearchParams;n.append("page",e.toString()),n.append("limit",t.toString()),Object.entries(r).forEach(([i,l])=>{l!==void 0&&l!==""&&n.append(i,l.toString())});const a=await pe.get(`/admin/investment/plans?${n.toString()}`);return console.log("Investment plans fetched successfully:",a),a}catch(n){return console.error("Error fetching investment plans:",n),console.log("API not available, returning mock investment plans response"),{success:!0,message:"Investment plans retrieved successfully (mock response)",data:{plans:[{_id:"mock-plan-1",planName:"High Yield FD Plan",planType:"FD",description:"High interest fixed deposit plan for long-term investment",minimumAmount:1e4,maximumAmount:1e6,interestRate:8.5,tenureMonths:24,compoundingFrequency:"quarterly",penaltyConfig:{latePaymentPenalty:100,penaltyPercentage:2,gracePeriodDays:5},emiCostStructure:{planType:"FD",costStructure:{minimumInvestment:1e4,maximumInvestment:1e6,investmentIncrements:1e3}},features:[{feature:"High Interest Rate",description:"Competitive interest rate of 8.5%"}],termsAndConditions:[{term:"Minimum investment period is 12 months"}],isActive:!0,statistics:{totalInvestments:25,totalAmountInvested:25e5,activeInvestments:20},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],pagination:{currentPage:1,totalPages:1,totalPlans:1,hasNextPage:!1,hasPrevPage:!1}}}}},async getInvestmentPlan(e){try{console.log("Fetching investment plan:",e);const t=await pe.get(`/admin/investment/plans/${e}`);return console.log("Investment plan fetched successfully:",t),t}catch(t){throw console.error("Error fetching investment plan:",t),t}},async updateInvestmentPlan(e,t){try{console.log("Updating investment plan:",e);const r=await pe.put(`/admin/investment/plans/${e}`,t);return console.log("Investment plan updated successfully:",r),Ie.success(" Investment plan updated successfully!",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),r}catch(r){throw console.error("Error updating investment plan:",r),r instanceof Error&&Ie.error(` Failed to update plan: ${r.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),r}},async deleteInvestmentPlan(e){try{console.log("Deleting investment plan:",e);const t=await pe.delete(`/admin/investment/plans/${e}`);return console.log("Investment plan deleted successfully:",t),Ie.success(" Investment plan deleted successfully!",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),t}catch(t){throw console.error("Error deleting investment plan:",t),t instanceof Error&&Ie.error(` Failed to delete plan: ${t.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),t}},async togglePlanStatus(e,t){try{console.log("Toggling plan status:",e,t);const r=await pe.patch(`/admin/investment/plans/${e}/status`,{isActive:t});return console.log("Plan status toggled successfully:",r),Ie.success(` Plan ${t?"activated":"deactivated"} successfully!`,{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),r}catch(r){throw console.error("Error toggling plan status:",r),r instanceof Error&&Ie.error(` Failed to toggle plan status: ${r.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),r}},async getPlanStatistics(e){try{console.log("Fetching plan statistics:",e);const t=await pe.get(`/admin/investment/plans/${e}/statistics`);return console.log("Plan statistics fetched successfully:",t),t}catch(t){throw console.error("Error fetching plan statistics:",t),t}},async calculateEMI(e,t){try{console.log("Calculating EMI for plan:",e,t);const r=await pe.post(`/admin/investment/plans/${e}/calculate-emi`,t);return console.log("EMI calculated successfully:",r),r}catch(r){throw console.error("Error calculating EMI:",r),r}},async getSampleEMICosts(e){try{console.log("Fetching sample EMI costs for plan:",e);const t=await pe.get(`/admin/investment/plans/${e}/sample-emi-costs`);return console.log("Sample EMI costs fetched successfully:",t),t}catch(t){throw console.error("Error fetching sample EMI costs:",t),t}},async createInvestment(e){try{console.log("Creating investment:",e);const t=await pe.post("/admin/investment/investments",e);return console.log("Investment created successfully:",t),Ie.success(" Investment created successfully!",{duration:4e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),t}catch(t){throw console.error("Error creating investment:",t),t instanceof Error&&Ie.error(` Failed to create investment: ${t.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),t}},async getInvestments(e=1,t=10,r={}){try{console.log("Fetching investments with filters:",r);const n=new URLSearchParams({page:e.toString(),limit:t.toString(),...Object.fromEntries(Object.entries(r).filter(([i,l])=>l!==void 0&&l!==""))}),a=await pe.get(`/admin/investment/investments?${n.toString()}`);return console.log("Investments fetched successfully:",a),a}catch(n){throw console.error("Error fetching investments:",n),n}},async getAvailablePlans(e={}){try{console.log("Fetching available investment plans:",e);const t=new URLSearchParams;Object.entries(e).forEach(([n,a])=>{a!==void 0&&a!==""&&t.append(n,a.toString())});const r=await pe.get(`/society-member/investment/plans?${t.toString()}`);return console.log("Available plans fetched successfully:",r),r}catch(t){return console.error("Error fetching available plans:",t),console.log("API not available, returning mock available plans response"),{success:!0,message:"Available investment plans retrieved successfully (mock response)",data:{plans:[{_id:"mock-plan-1",planName:"High Yield FD Plan",planType:"FD",description:"High interest fixed deposit plan for long-term investment",minimumAmount:1e4,maximumAmount:1e6,interestRate:8.5,tenureMonths:24,compoundingFrequency:"quarterly",penaltyConfig:{latePaymentPenalty:100,penaltyPercentage:2,gracePeriodDays:5},emiCostStructure:{planType:"FD",costStructure:{minimumInvestment:1e4,maximumInvestment:1e6,investmentIncrements:1e3}},features:[{feature:"High Interest Rate",description:"Competitive interest rate of 8.5%"},{feature:"Flexible Tenure",description:"Choose from 12 to 24 months"}],termsAndConditions:[{term:"Minimum investment period is 12 months"},{term:"Early withdrawal may attract penalty"}],isActive:!0,statistics:{totalInvestments:25,totalAmountInvested:25e5,activeInvestments:20},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"mock-plan-2",planName:"Monthly Recurring Deposit",planType:"RD",description:"Build wealth with monthly recurring deposits",minimumAmount:5e3,maximumAmount:5e5,interestRate:7.5,tenureMonths:36,compoundingFrequency:"monthly",penaltyConfig:{latePaymentPenalty:50,penaltyPercentage:1.5,gracePeriodDays:7},emiCostStructure:{planType:"RD",costStructure:{minimumMonthlyInstallment:5e3,maximumMonthlyInstallment:5e4,installmentIncrements:500,gracePeriodDays:7}},features:[{feature:"Monthly Installments",description:"Flexible monthly payment options"},{feature:"Compound Interest",description:"Monthly compounding for better returns"}],termsAndConditions:[{term:"Minimum monthly installment is 5,000"},{term:"Late payment charges apply after grace period"}],isActive:!0,statistics:{totalInvestments:15,totalAmountInvested:15e5,activeInvestments:12},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"mock-plan-3",planName:"Certificate of Deposit",planType:"CD",description:"Secure certificate-based investment with guaranteed returns",minimumAmount:25e3,maximumAmount:2e6,interestRate:9,tenureMonths:12,compoundingFrequency:"annually",penaltyConfig:{latePaymentPenalty:200,penaltyPercentage:3,gracePeriodDays:3},emiCostStructure:{planType:"CD",costStructure:{minimumCertificateValue:25e3,maximumCertificateValue:2e6,certificateIncrements:5e3,certificateNumberPrefix:"CD"}},features:[{feature:"Guaranteed Returns",description:"Fixed interest rate with guaranteed maturity amount"},{feature:"Certificate Based",description:"Physical certificate for your investment"}],termsAndConditions:[{term:"Minimum certificate value is 25,000"},{term:"Certificate must be presented for maturity"}],isActive:!0,statistics:{totalInvestments:8,totalAmountInvested:8e5,activeInvestments:6},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]}}}},getPlanTypeColor(e){switch(e.toUpperCase()){case"FD":return"bg-blue-100 text-blue-800";case"RD":return"bg-green-100 text-green-800";case"CD":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},getPlanTypeIcon(e){switch(e.toUpperCase()){case"FD":return"";case"RD":return"";case"CD":return"";default:return""}},formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},formatPercentage(e){return`${e}%`},formatTenure(e){if(e<12)return`${e} months`;if(e===12)return"1 year";{const t=Math.floor(e/12),r=e%12;return r===0?`${t} year${t>1?"s":""}`:`${t} year${t>1?"s":""} ${r} month${r>1?"s":""}`}},async getPendingInvestmentApplications(e={}){try{console.log("Fetching pending investment applications with filters:",e);const t=new URLSearchParams;Object.entries(e).forEach(([n,a])=>{a!==void 0&&a!==""&&t.append(n,a.toString())});const r=await pe.get(`/admin/society-member-investment/applications/pending?${t.toString()}`);return console.log("Pending investment applications fetched successfully:",r),r}catch(t){return console.error("Error fetching pending investment applications:",t),console.log("API not available, returning mock pending applications response"),{success:!0,message:"Pending investment applications retrieved successfully (mock response)",data:{applications:[{applicationId:"APP2412001",status:"pending",investmentAmount:5e4,totalAmountPaid:0,remainingAmount:5e4,paymentStatus:"pending",emiProgress:{total:12,paid:0,pending:12,overdue:0},member:{firstName:"John",lastName:"Doe",email:"john.doe@example.com",memberId:"202411001",phoneNumber:"+1234567890"},plan:{planName:"Monthly Savings Plan",planType:"RD",interestRate:7.5,tenureMonths:12},applicationDate:"2024-12-01T10:00:00.000Z"}],pagination:{currentPage:1,totalPages:1,totalApplications:1,hasNextPage:!1,hasPrevPage:!1}}}}},async getApprovedInvestmentApplications(e={}){try{console.log("Fetching approved investment applications with filters:",e);const t=new URLSearchParams;Object.entries(e).forEach(([n,a])=>{a!==void 0&&a!==""&&t.append(n,a.toString())});const r=await pe.get(`/admin/society-member-investment/applications/approved?${t.toString()}`);return console.log("Approved investment applications fetched successfully:",r),r}catch(t){return console.error("Error fetching approved investment applications:",t),console.log("API not available, returning mock approved applications response"),{success:!0,message:"Approved investment applications retrieved successfully (mock response)",data:{applications:[],pagination:{currentPage:1,totalPages:1,totalApplications:0,hasNextPage:!1,hasPrevPage:!1}}}}},async getRejectedInvestmentApplications(e={}){try{console.log("Fetching rejected investment applications with filters:",e);const t=new URLSearchParams;Object.entries(e).forEach(([n,a])=>{a!==void 0&&a!==""&&t.append(n,a.toString())});const r=await pe.get(`/admin/society-member-investment/applications/rejected?${t.toString()}`);return console.log("Rejected investment applications fetched successfully:",r),r}catch(t){return console.error("Error fetching rejected investment applications:",t),console.log("API not available, returning mock rejected applications response"),{success:!0,message:"Rejected investment applications retrieved successfully (mock response)",data:{applications:[],pagination:{currentPage:1,totalPages:1,totalApplications:0,hasNextPage:!1,hasPrevPage:!1}}}}},async getInvestmentApplicationDetails(e){try{console.log("Fetching investment application details:",e);const t=await pe.get(`/admin/society-member-investment/applications/${e}`);return console.log("Investment application details fetched successfully:",t),t}catch(t){throw console.error("Error fetching investment application details:",t),t}},async approveInvestmentApplication(e,t){try{console.log("Approving investment application:",e,t);const r=await pe.patch(`/admin/society-member-investment/applications/${e}/approve`,t);return console.log("Investment application approved successfully:",r),Ie.success(" Investment application approved successfully!",{duration:4e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),r}catch(r){throw console.error("Error approving investment application:",r),r instanceof Error&&Ie.error(` Failed to approve application: ${r.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),r}},async rejectInvestmentApplication(e,t){try{console.log("Rejecting investment application:",e,t);const r=await pe.patch(`/admin/society-member-investment/applications/${e}/reject`,t);return console.log("Investment application rejected successfully:",r),Ie.success(" Investment application rejected successfully!",{duration:4e3,style:{background:"#F59E0B",color:"#fff",fontSize:"14px"}}),r}catch(r){throw console.error("Error rejecting investment application:",r),r instanceof Error&&Ie.error(` Failed to reject application: ${r.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),r}},getApplicationStatusColor(e){switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},getApplicationStatusIcon(e){switch(e.toLowerCase()){case"pending":return"";case"approved":return"";case"rejected":return"";default:return""}}};class KP{async createMarksheet(t){try{const r=Cs.sanitizeInput(t),n=await pe.post("/admin/student-documents/marksheets",r);if(n.success&&n.data)return n;throw new Error(n.message||"Failed to create marksheet")}catch(r){throw console.error("Create marksheet error:",r),r}}async getAllMarksheets(t=1,r=10,n,a,i="asc"){try{const l={page:t,limit:r,sortBy:a||"createdAt",sortOrder:i};n&&Object.entries(n).forEach(([c,A])=>{A!=null&&A!==""&&(l[c]=A)});const o=await pe.get("/admin/student-documents/marksheets",{params:l});if(o.success&&o.data)return o;throw new Error(o.message||"Failed to fetch marksheets")}catch(l){throw console.error("Get marksheets error:",l),l}}async getMarksheetById(t){try{const r=await pe.get(`/admin/student-documents/marksheets/${t}`);if(r.success&&r.data)return r;throw new Error(r.message||"Failed to fetch marksheet")}catch(r){throw console.error("Get marksheet by ID error:",r),r}}async getMarksheetsByStudent(t){try{const r=await pe.get(`/admin/student-documents/marksheets/student/${t}`);if(r.success&&r.data)return r;throw new Error(r.message||"Failed to fetch student marksheets")}catch(r){throw console.error("Get marksheets by student error:",r),r}}async getStudentMarksheets(t,r=1,n=10,a){try{const i={page:r,limit:n,includeDetails:!0};a&&Object.entries(a).forEach(([o,c])=>{c!=null&&c!==""&&(i[o]=c)});const l=await pe.get(`/admin/student-documents/students/${t}/marksheets`,{params:i});if(l.success&&l.data)return l;throw new Error(l.message||"Failed to fetch student marksheets")}catch(i){throw console.error("Get student marksheets error:",i),i}}async updateMarksheet(t,r){try{const n=Cs.sanitizeInput(r),a=await pe.put(`/admin/student-documents/marksheets/${t}`,n);if(a.success&&a.data)return a;throw new Error(a.message||"Failed to update marksheet")}catch(n){throw console.error("Update marksheet error:",n),n}}async deleteMarksheet(t){try{const r=await pe.delete(`/admin/student-documents/marksheets/${t}`);if(r.success&&r.data)return r.data;throw new Error(r.message||"Failed to delete marksheet")}catch(r){throw console.error("Delete marksheet error:",r),r}}async verifyMarksheet(t,r){try{const n=await pe.post(`/admin/student-documents/marksheets/${t}/verify`,{verificationCode:r});if(n.success&&n.data)return n;throw new Error(n.message||"Failed to verify marksheet")}catch(n){throw console.error("Verify marksheet error:",n),n}}async downloadMarksheetPDF(t){try{const r=await fetch(`/admin/student-documents/marksheets/${t}/download`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("admin_auth_token")}`}});if(!r.ok)throw new Error("Failed to download marksheet PDF");return await r.blob()}catch(r){throw console.error("Download marksheet PDF error:",r),r}}async getMarksheetStatistics(){try{const t=await pe.get("/admin/student-documents/marksheets/statistics");if(t.success&&t.data)return t;throw new Error(t.message||"Failed to fetch marksheet statistics")}catch(t){throw console.error("Get marksheet statistics error:",t),t}}calculateGrade(t){return t>=90?{grade:"A+",gradePoints:10}:t>=80?{grade:"A",gradePoints:9}:t>=70?{grade:"B+",gradePoints:8}:t>=60?{grade:"B",gradePoints:7}:t>=50?{grade:"C+",gradePoints:6}:t>=40?{grade:"C",gradePoints:5}:t>=35?{grade:"D",gradePoints:4}:{grade:"F",gradePoints:0}}calculateCGPA(t){if(t.length===0)return 0;const r=t.reduce((a,i)=>a+i.gradePoints*i.credits,0),n=t.reduce((a,i)=>a+i.credits,0);return n>0?r/n:0}getResultStatus(t){return t>=35?"PASS":"FAIL"}}const O0=new KP,Yt={async getPendingCashPayments(e={}){try{const t=new URLSearchParams;return t.append("page",(e.page||1).toString()),t.append("limit",(e.limit||10).toString()),e.memberId&&t.append("memberId",e.memberId),e.investmentId&&t.append("investmentId",e.investmentId),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),await pe.get(`/admin/payments/pending-cash-payments?${t.toString()}`)}catch(t){throw console.error("Error fetching pending cash payments:",t),t}},async verifyCashPayment(e,t){try{return await pe.put(`/admin/payments/verify-cash/${e}`,t)}catch(r){throw console.error("Error verifying cash payment:",r),r}},async getPendingEMIs(e={}){try{const t=new URLSearchParams;return t.append("page",(e.page||1).toString()),t.append("limit",(e.limit||10).toString()),e.memberId&&t.append("memberId",e.memberId),e.investmentId&&t.append("investmentId",e.investmentId),e.month&&t.append("month",e.month.toString()),e.year&&t.append("year",e.year.toString()),e.overdue!==void 0&&t.append("overdue",e.overdue.toString()),await pe.get(`/admin/payments/pending-emis?${t.toString()}`)}catch(t){throw console.error("Error fetching pending EMIs:",t),t}},async getPendingEMIsByMonth(e={}){try{const t=new URLSearchParams;return e.memberId&&t.append("memberId",e.memberId),e.investmentId&&t.append("investmentId",e.investmentId),await pe.get(`/admin/payments/pending-emis/monthly?${t.toString()}`)}catch(t){throw console.error("Error fetching pending EMIs by month:",t),t}},async getMemberPaymentSummary(e){try{return await pe.get(`/admin/payments/member-summary/${e}`)}catch(t){throw console.error("Error fetching member payment summary:",t),t}},async getPaymentStatistics(e={}){try{const t=new URLSearchParams;return e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),e.memberId&&t.append("memberId",e.memberId),e.investmentId&&t.append("investmentId",e.investmentId),await pe.get(`/admin/payments/statistics?${t.toString()}`)}catch(t){throw console.error("Error fetching payment statistics:",t),t}},getPaymentStatusColor(e){switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"completed":case"verified":return"bg-green-100 text-green-800";case"failed":case"rejected":return"bg-red-100 text-red-800";case"overdue":return"bg-red-100 text-red-800";case"in_grace_period":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},getEMIStatusColor(e){return e.isOverdue?"bg-red-100 text-red-800":e.isInGracePeriod?"bg-orange-100 text-orange-800":e.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"},formatCurrency(e,t="INR"){return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})},isEMIOverdue(e){return new Date(e)<new Date},isEMIInGracePeriod(e,t=7){const r=new Date(e),n=new Date(r.getTime()+t*24*60*60*1e3),a=new Date;return a>r&&a<=n},calculatePenalty(e,t,r=.01){return Math.round(e*r*t)}},Ht={async getLoanRequests(e={}){try{const t=new URLSearchParams;return t.append("page",(e.page||1).toString()),t.append("limit",(e.limit||10).toString()),e.status&&t.append("status",e.status),e.memberId&&t.append("memberId",e.memberId),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),await pe.get(`/admin/loans?${t.toString()}`)}catch(t){throw console.error("Error fetching loan requests:",t),t}},async approveLoanRequest(e,t){try{return await pe.put(`/admin/loans/${e}/approve`,t)}catch(r){throw console.error("Error approving loan request:",r),r}},async rejectLoanRequest(e,t){try{return await pe.put(`/admin/loans/${e}/reject`,t)}catch(r){throw console.error("Error rejecting loan request:",r),r}},async disburseLoan(e,t){try{return await pe.put(`/admin/loans/${e}/disburse`,t)}catch(r){throw console.error("Error disbursing loan:",r),r}},async getLoanStatistics(e={}){try{const t=new URLSearchParams;return e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),await pe.get(`/admin/loans/statistics/overview?${t.toString()}`)}catch(t){throw console.error("Error fetching loan statistics:",t),t}},async getMemberLoanSummary(e){try{return await pe.get(`/admin/loans/member/${e}/summary`)}catch(t){throw console.error("Error fetching member loan summary:",t),t}},getLoanStatusColor(e){switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"disbursed":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},getDisbursementMethodColor(e){switch(e==null?void 0:e.toLowerCase()){case"bank_transfer":return"bg-blue-100 text-blue-800";case"cash":return"bg-green-100 text-green-800";case"cheque":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},formatCurrency(e,t="INR"){return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})},getLoanPurposeColor(e){switch(e==null?void 0:e.toLowerCase()){case"personal":return"bg-blue-100 text-blue-800";case"business":return"bg-green-100 text-green-800";case"education":return"bg-purple-100 text-purple-800";case"medical":return"bg-red-100 text-red-800";case"home":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},calculateEMIProgress(e,t){return t===0?0:Math.round(e/t*100)},getEMIProgressColor(e){return e>=100?"bg-green-100 text-green-800":e>=75?"bg-blue-100 text-blue-800":e>=50?"bg-yellow-100 text-yellow-800":e>=25?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}},Ss={async uploadThumbnails(e){try{const t=new FormData;return e.images.forEach((n,a)=>{t.append("images",n)}),e.category&&t.append("category",e.category),e.isPublic!==void 0&&t.append("isPublic",e.isPublic.toString()),e.isFeatured!==void 0&&t.append("isFeatured",e.isFeatured.toString()),e.tags&&t.append("tags",e.tags),await pe.post("/admin/thumbnails/upload",t,{headers:{"Content-Type":"multipart/form-data"}})}catch(t){throw console.error("Error uploading thumbnails:",t),t}},async getThumbnails(e={}){try{const t=new URLSearchParams;return t.append("page",(e.page||1).toString()),t.append("limit",(e.limit||10).toString()),e.category&&t.append("category",e.category),e.status&&t.append("status",e.status),e.isPublic!==void 0&&t.append("isPublic",e.isPublic.toString()),e.isFeatured!==void 0&&t.append("isFeatured",e.isFeatured.toString()),e.tags&&t.append("tags",e.tags),e.search&&t.append("search",e.search),await pe.get(`/admin/thumbnails?${t.toString()}`)}catch(t){throw console.error("Error fetching thumbnails:",t),t}},async getThumbnailById(e){try{return await pe.get(`/admin/thumbnails/${e}`)}catch(t){throw console.error("Error fetching thumbnail:",t),t}},async updateThumbnail(e,t){try{return await pe.put(`/admin/thumbnails/${e}`,t)}catch(r){throw console.error("Error updating thumbnail:",r),r}},async deleteThumbnail(e){try{return await pe.delete(`/admin/thumbnails/${e}`)}catch(t){throw console.error("Error deleting thumbnail:",t),t}},async bulkDeleteThumbnails(e){try{return await pe.delete("/admin/thumbnails/bulk/delete",{data:e})}catch(t){throw console.error("Error bulk deleting thumbnails:",t),t}},getCategoryColor(e){switch(e==null?void 0:e.toLowerCase()){case"gallery":return"bg-blue-100 text-blue-800";case"banner":return"bg-green-100 text-green-800";case"slider":return"bg-purple-100 text-purple-800";case"event":return"bg-orange-100 text-orange-800";case"announcement":return"bg-yellow-100 text-yellow-800";case"society_photo":return"bg-pink-100 text-pink-800";case"other":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},getStatusColor(e){switch(e==null?void 0:e.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},formatFileSize(e){if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]},formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})},getCategories(){return[{value:"gallery",label:"Gallery"},{value:"banner",label:"Banner"},{value:"slider",label:"Slider"},{value:"event",label:"Event"},{value:"announcement",label:"Announcement"},{value:"society_photo",label:"Society Photo"},{value:"other",label:"Other"}]},getStatuses(){return[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"archived",label:"Archived"}]},validateImageFile(e){const r=["image/jpeg","image/jpg","image/png","image/gif","image/webp"];return e.size>10485760?{isValid:!1,error:"File size must be less than 10MB"}:r.includes(e.type)?{isValid:!0}:{isValid:!1,error:"Only JPEG, PNG, GIF, and WebP images are allowed"}},generatePreviewUrl(e){return URL.createObjectURL(e)},revokePreviewUrl(e){URL.revokeObjectURL(e)}},j6=N.createContext(void 0),zP=({children:e})=>{const[t,r]=N.useState(null),[n,a]=N.useState(!1),[i,l]=N.useState(!0),[o,c]=N.useState(null);N.useEffect(()=>{(async()=>{try{if(l(!0),Ol.isAuthenticated()){const b=Ol.getCurrentUser();if(b){r(b),a(!0);try{const j=await Ol.getProfile();r(j.user)}catch(j){console.warn("Token validation failed:",j),await u()}}}}catch(b){console.error("Auth initialization error:",b),await u()}finally{l(!1)}})();const x=()=>{r(null),a(!1)};return window.addEventListener("auth:logout",x),()=>{window.removeEventListener("auth:logout",x)}},[]);const A=async v=>{try{l(!0),c(null);const x=await Ol.login(v);r(x.admin),a(!0)}catch(x){throw c(x.message||"Login failed"),x}finally{l(!1)}},d=async v=>{try{l(!0),c(null);const x=await Ol.signup(v);r(x.admin),a(!0)}catch(x){throw c(x.message||"Signup failed"),x}finally{l(!1)}},u=async()=>{try{l(!0),await Ol.logout()}catch(v){console.error("Logout error:",v)}finally{r(null),a(!1),l(!1),c(null)}},p={user:t,isAuthenticated:n,isLoading:i,error:o,login:A,signup:d,logout:u,updateProfile:async v=>{try{l(!0),c(null);const x=await Ol.updateProfile(v);r(x)}catch(x){throw c(x.message||"Profile update failed"),x}finally{l(!1)}},clearError:()=>{c(null)},refreshUser:async()=>{try{l(!0);const v=await Ol.getProfile();r(v.user)}catch(v){console.error("Refresh user error:",v),await u()}finally{l(!1)}}};return s.jsx(j6.Provider,{value:p,children:e})},Eg=()=>{const e=N.useContext(j6);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ke=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...A},d)=>N.createElement("svg",{ref:d,...VP,width:a,height:a,stroke:n,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${$P(e)}`,o].join(" "),...A},[...t.map(([u,m])=>N.createElement(u,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=Ke("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=Ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Ke("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=Ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Ke("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Ke("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=Ke("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=Ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Ke("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=Ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=Ke("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=Ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=Ke("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Ke("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=Ke("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=Ke("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=Ke("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Ke("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Ke("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=Ke("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=Ke("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=Ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=Ke("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=Ke("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=Ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=Ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Ke("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=Ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=Ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=Ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Ke("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=Ke("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=Ke("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=Ke("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Ke("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=Ke("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=Ke("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=Ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=Ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=Ke("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=Ke("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Ke("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),dD=({onLogin:e})=>{const{login:t,isLoading:r,error:n,clearError:a}=Eg(),[i,l]=N.useState(!1),[o,c]=N.useState({email:"",password:""}),[A,d]=N.useState(null),u=async m=>{m.preventDefault(),d(null),a();try{await t(o),e()}catch{d("Login failed. Please check your credentials.")}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-400 via-sky-500 to-sky-600 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-20 h-20 bg-sky-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Vt,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Admin Panel"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Welcome back! Please sign in to continue."})]}),(n||A)&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[s.jsx(pt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-red-700",children:n||A})]}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"email",id:"email",value:o.email,onChange:m=>c({...o,email:m.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-all",placeholder:"Enter your email address",required:!0,disabled:r})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Fg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:i?"text":"password",id:"password",value:o.password,onChange:m=>c({...o,password:m.target.value}),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-all",placeholder:"Enter your password",required:!0,disabled:r}),s.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?s.jsx(ZP,{className:"w-5 h-5"}):s.jsx(xs,{className:"w-5 h-5"})})]})]}),s.jsx("button",{type:"submit",disabled:r,className:"w-full bg-sky-500 hover:bg-sky-600 disabled:bg-sky-300 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 transform hover:scale-105 disabled:transform-none",children:r?s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Signing In..."})]}):"Sign In"})]})]})})},uD=({isOpen:e,onToggle:t})=>{var u;const r=Bl(),{user:n,logout:a}=Eg(),[i,l]=N.useState(["society","student","kyc","reports","enrollment","admin"]);N.useEffect(()=>{window.innerWidth<1024&&t()},[r.pathname]);const o=m=>{l(h=>h.includes(m)?h.filter(g=>g!==m):[...h,m])},c=async()=>{try{await a()}catch(m){console.error("Logout error:",m)}},A=[{id:"dashboard",title:"Dashboard",icon:sD,path:"/dashboard",description:"Overview and analytics"},{id:"society",title:"Society Management",icon:dt,description:"Manage society members and finances",children:[{title:"Society Members",path:"/society/members",icon:dt,description:"View and manage members"},{title:"Payments",path:"/society/payments",icon:Qr,description:"Track payments and contributions"},{title:"Loans",path:"/society/loans",icon:yo,description:"Manage loan applications"},{title:"Penalties",path:"/society/penalty",icon:ts,description:"Handle penalty management"},{title:"Investment Plans",path:"/society/investment-plans",icon:yt,description:"Create and manage investment plans"},{title:"Pending Applications",path:"/society/pending-investment-applications",icon:ts,description:"Review pending investment applications"},{title:"Approved Applications",path:"/society/approved-investment-applications",icon:Me,description:"View approved investment applications"},{title:"Rejected Applications",path:"/society/rejected-investment-applications",icon:Ft,description:"View rejected investment applications"},{title:"Payment Management",path:"/society/payment-management",icon:Qr,description:"Manage payments and EMIs"},{title:"Loan Management",path:"/society/loan-management",icon:yo,description:"Manage loan requests and approvals"},{title:"Thumbnail Management",path:"/society/thumbnail-management",icon:xc,description:"Manage thumbnails and images"},{title:"CD Investment Management",path:"/society/cd-investment-management",icon:yt,description:"Manage Certificate of Deposit investments"}]},{id:"student",title:"Student Management",icon:ar,description:"Manage students and academic records",children:[{title:"Students",path:"/student/students",icon:ar,description:"Student information"},{title:"Courses",path:"/student/courses",icon:nr,description:"Manage courses and curriculum"},{title:"Course Batches",path:"/student/course-batches",icon:dt,description:"Manage course batches and schedules"},{title:"Fee Management",path:"/student/fee-management",icon:yt,description:"Manage fee requests and payments"},{title:"Payment History",path:"/student/payment-history",icon:Qr,description:"View payment history and records"},{title:"Attendance",path:"/student/attendance",icon:Et,description:"Manage student attendance and reports"},{title:"Certificate Management",path:"/student/certificate-management",icon:dr,description:"Manage student certificates and marksheets"},{title:"Marksheets",path:"/student/marksheet",icon:ds,description:"Academic records and grades"}]},{id:"kyc",title:"KYC Management",icon:Ga,description:"Manage KYC verification and approval",children:[{title:"Pending KYC",path:"/kyc/pending",icon:ts,description:"Review pending KYC requests"},{title:"Student KYC",path:"/kyc/students",icon:ar,description:"Manage student KYC verification"},{title:"Society Member KYC",path:"/kyc/society-members",icon:dt,description:"Manage society member KYC verification"},{title:"Approved KYC",path:"/kyc/approved",icon:Ga,description:"View approved KYC documents"}]},{id:"reports",title:"Reports & Analytics",icon:ds,description:"Generate reports and view analytics",children:[{title:"Financial Reports",path:"/reports/financial",icon:Qr,description:"Financial statements and reports"},{title:"Student Reports",path:"/reports/students",icon:ar,description:"Student performance and statistics"},{title:"Society Reports",path:"/reports/society",icon:dt,description:"Society activity and member reports"},{title:"KYC Reports",path:"/reports/kyc",icon:Ga,description:"KYC verification and status reports"}]}],d=[];return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:t,style:{touchAction:"none"}}),s.jsxs("div",{className:`
        sidebar-fixed sidebar-container w-72 bg-gradient-to-b from-white to-gray-50 shadow-2xl transform transition-all duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        ${e?"":"lg:w-0 lg:overflow-hidden"}
        border-r border-gray-200 flex flex-col
      `,children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-white flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-500 to-sky-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(Ga,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Admin Panel"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Management System"})]})]}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 lg:hidden transition-colors",children:s.jsx(rt,{className:"w-5 h-5 text-gray-600"})})]}),s.jsx("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-sky-50 to-blue-50 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl bg-white shadow-sm",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sky-500 to-sky-600 rounded-full flex items-center justify-center shadow-md",children:s.jsx("span",{className:"text-white font-semibold text-lg",children:((u=n==null?void 0:n.firstName)==null?void 0:u.charAt(0))||"A"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:n?`${n.firstName} ${n.lastName}`:"Admin User"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:(n==null?void 0:n.email)||"admin@example.com"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Online"})]})]})]})}),s.jsx("nav",{className:"flex-1 sidebar-scroll sidebar-nav p-4 space-y-1 min-h-0 overflow-y-auto",style:{overflowY:"auto",overflowX:"hidden",maxHeight:"calc(100vh - 200px)",height:"0"},children:A.map(m=>s.jsx("div",{className:"mb-2",children:m.children?s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>o(m.id),className:"w-full flex items-center justify-between p-3 text-gray-700 rounded-xl hover:bg-sky-50 hover:text-sky-700 transition-all group",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gray-100 group-hover:bg-sky-100 transition-colors",children:s.jsx(m.icon,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("span",{className:"font-semibold text-sm",children:m.title}),s.jsx("p",{className:"text-xs text-gray-500",children:m.description})]})]}),s.jsx("div",{className:"p-1 rounded-lg bg-gray-100 group-hover:bg-sky-100 transition-colors",children:i.includes(m.id)?s.jsx(XP,{className:"w-4 h-4"}):s.jsx(JP,{className:"w-4 h-4"})})]}),i.includes(m.id)&&s.jsx("div",{className:"ml-4 mt-2 space-y-1 border-l-2 border-gray-100 pl-4",children:m.children.map(h=>s.jsxs(ch,{to:h.path,className:`flex items-center space-x-3 p-3 rounded-lg transition-all group ${r.pathname===h.path?"bg-sky-100 text-sky-700 border-l-2 border-sky-500 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-800"}`,children:[s.jsx("div",{className:`p-1.5 rounded-md transition-colors ${r.pathname===h.path?"bg-sky-200":"bg-gray-100 group-hover:bg-gray-200"}`,children:s.jsx(h.icon,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("span",{className:"text-sm font-medium",children:h.title}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:h.description})]}),r.pathname===h.path&&s.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full"})]},h.path))})]}):s.jsxs(ch,{to:m.path,className:`flex items-center space-x-3 p-3 rounded-xl transition-all group ${r.pathname===m.path?"bg-sky-100 text-sky-700 border-l-4 border-sky-500 shadow-sm":"text-gray-700 hover:bg-sky-50 hover:text-sky-700"}`,children:[s.jsx("div",{className:`p-2 rounded-lg transition-colors ${r.pathname===m.path?"bg-sky-200":"bg-gray-100 group-hover:bg-sky-100"}`,children:s.jsx(m.icon,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("span",{className:"font-semibold text-sm",children:m.title}),s.jsx("p",{className:"text-xs text-gray-500",children:m.description})]}),r.pathname===m.path&&s.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full"})]})},m.id))}),s.jsxs("div",{className:"border-t border-gray-200 p-4 space-y-2 flex-shrink-0 bg-white",children:[d.map(m=>s.jsxs(ch,{to:m.path,className:"flex items-center space-x-3 p-3 text-gray-600 rounded-lg hover:bg-gray-50 hover:text-gray-800 transition-all group",children:[s.jsx("div",{className:"p-1.5 rounded-md bg-gray-100 group-hover:bg-gray-200 transition-colors",children:s.jsx(m.icon,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm font-medium",children:m.title})]},m.id)),s.jsxs("button",{onClick:c,className:"w-full flex items-center space-x-3 p-3 text-red-600 rounded-lg hover:bg-red-50 hover:text-red-700 transition-all group",children:[s.jsx("div",{className:"p-1.5 rounded-md bg-red-100 group-hover:bg-red-200 transition-colors",children:s.jsx(B6,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})]})},hD=({onToggleSidebar:e})=>{var a;const{user:t,logout:r}=Eg(),n=async()=>{try{await r()}catch(i){console.error("Logout error:",i)}};return s.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4 flex items-center justify-between sticky top-0 z-30",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors lg:hidden",children:s.jsx(nD,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{className:"relative hidden md:block",children:[s.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search members, students, payments...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent w-80 bg-gray-50 focus:bg-white transition-colors"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors relative group",children:[s.jsx(WP,{className:"w-5 h-5 text-gray-600 group-hover:text-sky-600"}),s.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer group",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-500 to-sky-600 rounded-full flex items-center justify-center shadow-md group-hover:shadow-lg transition-shadow",children:s.jsx("span",{className:"text-white text-sm font-semibold",children:((a=t==null?void 0:t.firstName)==null?void 0:a.charAt(0))||"A"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("p",{className:"text-gray-700 font-medium text-sm",children:t?`${t.firstName} ${t.lastName}`:"Admin"}),s.jsx("p",{className:"text-gray-500 text-xs",children:(t==null?void 0:t.role)||"Administrator"})]})]}),s.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-red-50 hover:text-red-600 transition-colors group",title:"Logout",children:s.jsx(B6,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})})]})]})},mD=({children:e})=>{const[t,r]=N.useState(!0);return s.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[s.jsx(uD,{isOpen:t,onToggle:()=>r(!t)}),s.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[s.jsx(hD,{onToggleSidebar:()=>r(!t)}),s.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden p-6 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]})};class fD{static async getDashboardData(){return(await pe.get(Xe.DASHBOARD.OVERVIEW)).data}}const xD=({overview:e,investments:t,loans:r,fees:n,academics:a})=>{var c,A,d;if(!e||!t||!r||!n||!a)return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:12}).map((u,m)=>s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"})]}),s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"})]})},m))});const i=u=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(u||0),l=u=>new Intl.NumberFormat("en-IN").format(u||0),o=[{title:"Total Users",value:l((e==null?void 0:e.totalUsers)||0),icon:dt,color:"blue",bgColor:"bg-blue-100",iconColor:"text-blue-600"},{title:"Total Students",value:l((e==null?void 0:e.totalStudents)||0),icon:ar,color:"green",bgColor:"bg-green-100",iconColor:"text-green-600"},{title:"Society Members",value:l((e==null?void 0:e.totalSocietyMembers)||0),icon:fv,color:"purple",bgColor:"bg-purple-100",iconColor:"text-purple-600"},{title:"Active Users",value:l((e==null?void 0:e.activeUsers)||0),icon:Me,color:"emerald",bgColor:"bg-emerald-100",iconColor:"text-emerald-600"},{title:"Total Investments",value:i(((c=t==null?void 0:t.combined)==null?void 0:c.totalAmount)||0),icon:yt,color:"yellow",bgColor:"bg-yellow-100",iconColor:"text-yellow-600"},{title:"CD Investments",value:l(((A=t==null?void 0:t.cdInvestments)==null?void 0:A.total)||0),icon:kt,color:"indigo",bgColor:"bg-indigo-100",iconColor:"text-indigo-600"},{title:"Total Loans",value:i((r==null?void 0:r.totalAmount)||0),icon:Qr,color:"red",bgColor:"bg-red-100",iconColor:"text-red-600"},{title:"Fee Collection",value:i((n==null?void 0:n.totalCollected)||0),icon:yt,color:"teal",bgColor:"bg-teal-100",iconColor:"text-teal-600"},{title:"Total Courses",value:l((a==null?void 0:a.totalCourses)||0),icon:nr,color:"orange",bgColor:"bg-orange-100",iconColor:"text-orange-600"},{title:"Active Enrollments",value:l((a==null?void 0:a.activeEnrollments)||0),icon:Et,color:"pink",bgColor:"bg-pink-100",iconColor:"text-pink-600"},{title:"Pending Approvals",value:l((((d=t==null?void 0:t.cdInvestments)==null?void 0:d.pending)||0)+((r==null?void 0:r.pending)||0)+((n==null?void 0:n.pending)||0)),icon:Qt,color:"amber",bgColor:"bg-amber-100",iconColor:"text-amber-600"},{title:"New Users This Month",value:l((e==null?void 0:e.newUsersThisMonth)||0),icon:kt,color:"cyan",bgColor:"bg-cyan-100",iconColor:"text-cyan-600"}];return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map((u,m)=>{const h=u.icon;return s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:u.title}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.value})]}),s.jsx("div",{className:`p-3 rounded-lg ${u.bgColor}`,children:s.jsx(h,{className:`w-6 h-6 ${u.iconColor}`})})]})},m)})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Nm(e){return e+.5|0}const so=(e,t,r)=>Math.max(Math.min(e,r),t);function Tu(e){return so(Nm(e*2.55),0,255)}function vo(e){return so(Nm(e*255),0,255)}function ol(e){return so(Nm(e/2.55)/100,0,1)}function _N(e){return so(Nm(e*100),0,100)}const ma={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},gv=[..."0123456789ABCDEF"],gD=e=>gv[e&15],pD=e=>gv[(e&240)>>4]+gv[e&15],kf=e=>(e&240)>>4===(e&15),yD=e=>kf(e.r)&&kf(e.g)&&kf(e.b)&&kf(e.a);function bD(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&ma[e[1]]*17,g:255&ma[e[2]]*17,b:255&ma[e[3]]*17,a:t===5?ma[e[4]]*17:255}:(t===7||t===9)&&(r={r:ma[e[1]]<<4|ma[e[2]],g:ma[e[3]]<<4|ma[e[4]],b:ma[e[5]]<<4|ma[e[6]],a:t===9?ma[e[7]]<<4|ma[e[8]]:255})),r}const vD=(e,t)=>e<255?t(e):"";function wD(e){var t=yD(e)?gD:pD;return e?"#"+t(e.r)+t(e.g)+t(e.b)+vD(e.a,t):void 0}const jD=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function C6(e,t,r){const n=t*Math.min(r,1-r),a=(i,l=(i+e/30)%12)=>r-n*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function ND(e,t,r){const n=(a,i=(a+e/60)%6)=>r-r*t*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function BD(e,t,r){const n=C6(e,1,.5);let a;for(t+r>1&&(a=1/(t+r),t*=a,r*=a),a=0;a<3;a++)n[a]*=1-t-r,n[a]+=t;return n}function CD(e,t,r,n,a){return e===a?(t-r)/n+(t<r?6:0):t===a?(r-e)/n+2:(e-t)/n+4}function bw(e){const r=e.r/255,n=e.g/255,a=e.b/255,i=Math.max(r,n,a),l=Math.min(r,n,a),o=(i+l)/2;let c,A,d;return i!==l&&(d=i-l,A=o>.5?d/(2-i-l):d/(i+l),c=CD(r,n,a,d,i),c=c*60+.5),[c|0,A||0,o]}function vw(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(vo)}function ww(e,t,r){return vw(C6,e,t,r)}function SD(e,t,r){return vw(BD,e,t,r)}function ED(e,t,r){return vw(ND,e,t,r)}function S6(e){return(e%360+360)%360}function FD(e){const t=jD.exec(e);let r=255,n;if(!t)return;t[5]!==n&&(r=t[6]?Tu(+t[5]):vo(+t[5]));const a=S6(+t[2]),i=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?n=SD(a,i,l):t[1]==="hsv"?n=ED(a,i,l):n=ww(a,i,l),{r:n[0],g:n[1],b:n[2],a:r}}function kD(e,t){var r=bw(e);r[0]=S6(r[0]+t),r=ww(r),e.r=r[0],e.g=r[1],e.b=r[2]}function _D(e){if(!e)return;const t=bw(e),r=t[0],n=_N(t[1]),a=_N(t[2]);return e.a<255?`hsla(${r}, ${n}%, ${a}%, ${ol(e.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const IN={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},UN={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ID(){const e={},t=Object.keys(UN),r=Object.keys(IN);let n,a,i,l,o;for(n=0;n<t.length;n++){for(l=o=t[n],a=0;a<r.length;a++)i=r[a],o=o.replace(i,IN[i]);i=parseInt(UN[l],16),e[o]=[i>>16&255,i>>8&255,i&255]}return e}let _f;function UD(e){_f||(_f=ID(),_f.transparent=[0,0,0,0]);const t=_f[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const LD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function QD(e){const t=LD.exec(e);let r=255,n,a,i;if(t){if(t[7]!==n){const l=+t[7];r=t[8]?Tu(l):so(l*255,0,255)}return n=+t[1],a=+t[3],i=+t[5],n=255&(t[2]?Tu(n):so(n,0,255)),a=255&(t[4]?Tu(a):so(a,0,255)),i=255&(t[6]?Tu(i):so(i,0,255)),{r:n,g:a,b:i,a:r}}}function PD(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ol(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const ly=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,hA=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function DD(e,t,r){const n=hA(ol(e.r)),a=hA(ol(e.g)),i=hA(ol(e.b));return{r:vo(ly(n+r*(hA(ol(t.r))-n))),g:vo(ly(a+r*(hA(ol(t.g))-a))),b:vo(ly(i+r*(hA(ol(t.b))-i))),a:e.a+r*(t.a-e.a)}}function If(e,t,r){if(e){let n=bw(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,t===0?360:1)),n=ww(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function E6(e,t){return e&&Object.assign(t||{},e)}function LN(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=vo(e[3]))):(t=E6(e,{r:0,g:0,b:0,a:1}),t.a=vo(t.a)),t}function MD(e){return e.charAt(0)==="r"?QD(e):FD(e)}class zh{constructor(t){if(t instanceof zh)return t;const r=typeof t;let n;r==="object"?n=LN(t):r==="string"&&(n=bD(t)||UD(t)||MD(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=E6(this._rgb);return t&&(t.a=ol(t.a)),t}set rgb(t){this._rgb=LN(t)}rgbString(){return this._valid?PD(this._rgb):void 0}hexString(){return this._valid?wD(this._rgb):void 0}hslString(){return this._valid?_D(this._rgb):void 0}mix(t,r){if(t){const n=this.rgb,a=t.rgb;let i;const l=r===i?.5:r,o=2*l-1,c=n.a-a.a,A=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;i=1-A,n.r=255&A*n.r+i*a.r+.5,n.g=255&A*n.g+i*a.g+.5,n.b=255&A*n.b+i*a.b+.5,n.a=l*n.a+(1-l)*a.a,this.rgb=n}return this}interpolate(t,r){return t&&(this._rgb=DD(this._rgb,t._rgb,r)),this}clone(){return new zh(this.rgb)}alpha(t){return this._rgb.a=vo(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=Nm(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return If(this._rgb,2,t),this}darken(t){return If(this._rgb,2,-t),this}saturate(t){return If(this._rgb,1,t),this}desaturate(t){return If(this._rgb,1,-t),this}rotate(t){return kD(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Zi(){}const TD=(()=>{let e=0;return()=>e++})();function es(e){return e==null}function Br(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function zt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Fa(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function gi(e,t){return Fa(e)?e:t}function St(e,t){return typeof e>"u"?t:e}const RD=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,F6=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Bs(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function ns(e,t,r,n){let a,i,l;if(Br(e))for(i=e.length,a=0;a<i;a++)t.call(r,e[a],a);else if(zt(e))for(l=Object.keys(e),i=l.length,a=0;a<i;a++)t.call(r,e[l[a]],l[a])}function Ux(e,t){let r,n,a,i;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(a=e[r],i=t[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Lx(e){if(Br(e))return e.map(Lx);if(zt(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let a=0;for(;a<n;++a)t[r[a]]=Lx(e[r[a]]);return t}return e}function k6(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function OD(e,t,r,n){if(!k6(e))return;const a=t[e],i=r[e];zt(a)&&zt(i)?Vh(a,i,n):t[e]=Lx(i)}function Vh(e,t,r){const n=Br(t)?t:[t],a=n.length;if(!zt(e))return e;r=r||{};const i=r.merger||OD;let l;for(let o=0;o<a;++o){if(l=n[o],!zt(l))continue;const c=Object.keys(l);for(let A=0,d=c.length;A<d;++A)i(c[A],e,l,r)}return e}function Ah(e,t){return Vh(e,t,{merger:HD})}function HD(e,t,r){if(!k6(e))return;const n=t[e],a=r[e];zt(n)&&zt(a)?Ah(n,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Lx(a))}const QN={"":e=>e,x:e=>e.x,y:e=>e.y};function KD(e){const t=e.split("."),r=[];let n="";for(const a of t)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function zD(e){const t=KD(e);return r=>{for(const n of t){if(n==="")break;r=r&&r[n]}return r}}function Mc(e,t){return(QN[t]||(QN[t]=zD(t)))(e)}function jw(e){return e.charAt(0).toUpperCase()+e.slice(1)}const $h=e=>typeof e<"u",ko=e=>typeof e=="function",PN=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function VD(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const is=Math.PI,zs=2*is,$D=zs+is,Qx=Number.POSITIVE_INFINITY,GD=is/180,Sr=is/2,ec=is/4,DN=is*2/3,pv=Math.log10,ki=Math.sign;function dh(e,t,r){return Math.abs(e-t)<r}function MN(e){const t=Math.round(e);e=dh(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(pv(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function qD(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(r|0)&&t.push(r),t.sort((a,i)=>a-i).pop(),t}function WD(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Gh(e){return!WD(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function YD(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function XD(e,t,r){let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n][r],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function hl(e){return e*(is/180)}function JD(e){return e*(180/is)}function TN(e){if(!Fa(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function _6(e,t){const r=t.x-e.x,n=t.y-e.y,a=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*is&&(i+=zs),{angle:i,distance:a}}function yv(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ZD(e,t){return(e-t+$D)%zs-is}function Va(e){return(e%zs+zs)%zs}function qh(e,t,r,n){const a=Va(e),i=Va(t),l=Va(r),o=Va(i-a),c=Va(l-a),A=Va(a-i),d=Va(a-l);return a===i||a===l||n&&i===l||o>c&&A<d}function on(e,t,r){return Math.max(t,Math.min(r,e))}function eM(e){return on(e,-32768,32767)}function ro(e,t,r,n=1e-6){return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function Nw(e,t,r){r=r||(l=>e[l]<t);let n=e.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,r(i)?a=i:n=i;return{lo:a,hi:n}}const pc=(e,t,r,n)=>Nw(e,r,n?a=>{const i=e[a][t];return i<r||i===r&&e[a+1][t]===r}:a=>e[a][t]<r),tM=(e,t,r)=>Nw(e,r,n=>e[n][t]>=r);function sM(e,t,r){let n=0,a=e.length;for(;n<a&&e[n]<t;)n++;for(;a>n&&e[a-1]>r;)a--;return n>0||a<e.length?e.slice(n,a):e}const I6=["push","pop","shift","splice","unshift"];function rM(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),I6.forEach(r=>{const n="_onData"+jw(r),a=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...i){const l=a.apply(this,i);return e._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...i)}),l}})})}function RN(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(t);a!==-1&&n.splice(a,1),!(n.length>0)&&(I6.forEach(i=>{delete e[i]}),delete e._chartjs)}function U6(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const L6=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Q6(e,t){let r=[],n=!1;return function(...a){r=a,n||(n=!0,L6.call(window,()=>{n=!1,e.apply(t,r)}))}}function nM(e,t){let r;return function(...n){return t?(clearTimeout(r),r=setTimeout(e,t,n)):e.apply(this,n),t}}const Bw=e=>e==="start"?"left":e==="end"?"right":"center",rn=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,aM=(e,t,r,n)=>e===(n?"left":"right")?r:e==="center"?(t+r)/2:t;function iM(e,t,r){const n=t.length;let a=0,i=n;if(e._sorted){const{iScale:l,vScale:o,_parsed:c}=e,A=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=l.axis,{min:u,max:m,minDefined:h,maxDefined:g}=l.getUserBounds();if(h){if(a=Math.min(pc(c,d,u).lo,r?n:pc(t,d,l.getPixelForValue(u)).lo),A){const p=c.slice(0,a+1).reverse().findIndex(v=>!es(v[o.axis]));a-=Math.max(0,p)}a=on(a,0,n-1)}if(g){let p=Math.max(pc(c,l.axis,m,!0).hi+1,r?0:pc(t,d,l.getPixelForValue(m),!0).hi+1);if(A){const v=c.slice(p-1).findIndex(x=>!es(x[o.axis]));p+=Math.max(0,v)}i=on(p,a,n)-a}else i=n-a}return{start:a,count:i}}function lM(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,a={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=a,!0;const i=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),i}const Uf=e=>e===0||e===1,ON=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*zs/r)),HN=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*zs/r)+1,uh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Sr)+1,easeOutSine:e=>Math.sin(e*Sr),easeInOutSine:e=>-.5*(Math.cos(is*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Uf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Uf(e)?e:ON(e,.075,.3),easeOutElastic:e=>Uf(e)?e:HN(e,.075,.3),easeInOutElastic(e){return Uf(e)?e:e<.5?.5*ON(e*2,.1125,.45):.5+.5*HN(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-uh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?uh.easeInBounce(e*2)*.5:uh.easeOutBounce(e*2-1)*.5+.5};function Cw(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function KN(e){return Cw(e)?e:new zh(e)}function oy(e){return Cw(e)?e:new zh(e).saturate(.5).darken(.1).hexString()}const oM=["x","y","borderWidth","radius","tension"],cM=["color","borderColor","backgroundColor"];function AM(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:cM},numbers:{type:"number",properties:oM}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function dM(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zN=new Map;function uM(e,t){t=t||{};const r=e+JSON.stringify(t);let n=zN.get(r);return n||(n=new Intl.NumberFormat(e,t),zN.set(r,n)),n}function Sw(e,t,r){return uM(t,r).format(e)}const P6={values(e){return Br(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const n=this.chart.options.locale;let a,i=e;if(r.length>1){const A=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(A<1e-4||A>1e15)&&(a="scientific"),i=hM(e,r)}const l=pv(Math.abs(i)),o=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),c={notation:a,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),Sw(e,n,c)},logarithmic(e,t,r){if(e===0)return"0";const n=r[t].significand||e/Math.pow(10,Math.floor(pv(e)));return[1,2,3,5,10,15].includes(n)||t>.8*r.length?P6.numeric.call(this,e,t,r):""}};function hM(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var D6={formatters:P6};function mM(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,r)=>r.lineWidth,tickColor:(t,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:D6.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Tc=Object.create(null),bv=Object.create(null);function hh(e,t){if(!t)return e;const r=t.split(".");for(let n=0,a=r.length;n<a;++n){const i=r[n];e=e[i]||(e[i]=Object.create(null))}return e}function cy(e,t,r){return typeof t=="string"?Vh(hh(e,t),r):Vh(hh(e,""),t)}class fM{constructor(t,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>oy(a.backgroundColor),this.hoverBorderColor=(n,a)=>oy(a.borderColor),this.hoverColor=(n,a)=>oy(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(r)}set(t,r){return cy(this,t,r)}get(t){return hh(this,t)}describe(t,r){return cy(bv,t,r)}override(t,r){return cy(Tc,t,r)}route(t,r,n,a){const i=hh(this,t),l=hh(this,n),o="_"+r;Object.defineProperties(i,{[o]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[o],A=l[a];return zt(c)?Object.assign({},A,c):St(c,A)},set(c){this[o]=c}}})}apply(t){t.forEach(r=>r(this))}}var ir=new fM({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[AM,dM,mM]);function xM(e){return!e||es(e.size)||es(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function VN(e,t,r,n,a){let i=t[a];return i||(i=t[a]=e.measureText(a).width,r.push(a)),i>n&&(n=i),n}function tc(e,t,r){const n=e.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((t-a)*n)/n+a}function $N(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function vv(e,t,r,n){M6(e,t,r,n,null)}function M6(e,t,r,n,a){let i,l,o,c,A,d,u,m;const h=t.pointStyle,g=t.rotation,p=t.radius;let v=(g||0)*GD;if(h&&typeof h=="object"&&(i=h.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(r,n),e.rotate(v),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),e.restore();return}if(!(isNaN(p)||p<=0)){switch(e.beginPath(),h){default:a?e.ellipse(r,n,a/2,p,0,0,zs):e.arc(r,n,p,0,zs),e.closePath();break;case"triangle":d=a?a/2:p,e.moveTo(r+Math.sin(v)*d,n-Math.cos(v)*p),v+=DN,e.lineTo(r+Math.sin(v)*d,n-Math.cos(v)*p),v+=DN,e.lineTo(r+Math.sin(v)*d,n-Math.cos(v)*p),e.closePath();break;case"rectRounded":A=p*.516,c=p-A,l=Math.cos(v+ec)*c,u=Math.cos(v+ec)*(a?a/2-A:c),o=Math.sin(v+ec)*c,m=Math.sin(v+ec)*(a?a/2-A:c),e.arc(r-u,n-o,A,v-is,v-Sr),e.arc(r+m,n-l,A,v-Sr,v),e.arc(r+u,n+o,A,v,v+Sr),e.arc(r-m,n+l,A,v+Sr,v+is),e.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*p,d=a?a/2:c,e.rect(r-d,n-c,2*d,2*c);break}v+=ec;case"rectRot":u=Math.cos(v)*(a?a/2:p),l=Math.cos(v)*p,o=Math.sin(v)*p,m=Math.sin(v)*(a?a/2:p),e.moveTo(r-u,n-o),e.lineTo(r+m,n-l),e.lineTo(r+u,n+o),e.lineTo(r-m,n+l),e.closePath();break;case"crossRot":v+=ec;case"cross":u=Math.cos(v)*(a?a/2:p),l=Math.cos(v)*p,o=Math.sin(v)*p,m=Math.sin(v)*(a?a/2:p),e.moveTo(r-u,n-o),e.lineTo(r+u,n+o),e.moveTo(r+m,n-l),e.lineTo(r-m,n+l);break;case"star":u=Math.cos(v)*(a?a/2:p),l=Math.cos(v)*p,o=Math.sin(v)*p,m=Math.sin(v)*(a?a/2:p),e.moveTo(r-u,n-o),e.lineTo(r+u,n+o),e.moveTo(r+m,n-l),e.lineTo(r-m,n+l),v+=ec,u=Math.cos(v)*(a?a/2:p),l=Math.cos(v)*p,o=Math.sin(v)*p,m=Math.sin(v)*(a?a/2:p),e.moveTo(r-u,n-o),e.lineTo(r+u,n+o),e.moveTo(r+m,n-l),e.lineTo(r-m,n+l);break;case"line":l=a?a/2:Math.cos(v)*p,o=Math.sin(v)*p,e.moveTo(r-l,n-o),e.lineTo(r+l,n+o);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(v)*(a?a/2:p),n+Math.sin(v)*p);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Wh(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function Ew(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Fw(e){e.restore()}function gM(e,t,r,n,a){if(!t)return e.lineTo(r.x,r.y);if(a==="middle"){const i=(t.x+r.x)/2;e.lineTo(i,t.y),e.lineTo(i,r.y)}else a==="after"!=!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function pM(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function yM(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),es(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function bM(e,t,r,n,a){if(a.strikethrough||a.underline){const i=e.measureText(n),l=t-i.actualBoundingBoxLeft,o=t+i.actualBoundingBoxRight,c=r-i.actualBoundingBoxAscent,A=r+i.actualBoundingBoxDescent,d=a.strikethrough?(c+A)/2:A;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(l,d),e.lineTo(o,d),e.stroke()}}function vM(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function Yh(e,t,r,n,a,i={}){const l=Br(t)?t:[t],o=i.strokeWidth>0&&i.strokeColor!=="";let c,A;for(e.save(),e.font=a.string,yM(e,i),c=0;c<l.length;++c)A=l[c],i.backdrop&&vM(e,i.backdrop),o&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),es(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(A,r,n,i.maxWidth)),e.fillText(A,r,n,i.maxWidth),bM(e,r,n,A,i),n+=Number(a.lineHeight);e.restore()}function Px(e,t){const{x:r,y:n,w:a,h:i,radius:l}=t;e.arc(r+l.topLeft,n+l.topLeft,l.topLeft,1.5*is,is,!0),e.lineTo(r,n+i-l.bottomLeft),e.arc(r+l.bottomLeft,n+i-l.bottomLeft,l.bottomLeft,is,Sr,!0),e.lineTo(r+a-l.bottomRight,n+i),e.arc(r+a-l.bottomRight,n+i-l.bottomRight,l.bottomRight,Sr,0,!0),e.lineTo(r+a,n+l.topRight),e.arc(r+a-l.topRight,n+l.topRight,l.topRight,0,-Sr,!0),e.lineTo(r+l.topLeft,n)}const wM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,jM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function NM(e,t){const r=(""+e).match(wM);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const BM=e=>+e||0;function kw(e,t){const r={},n=zt(t),a=n?Object.keys(t):t,i=zt(e)?n?l=>St(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of a)r[l]=BM(i(l));return r}function T6(e){return kw(e,{top:"y",right:"x",bottom:"y",left:"x"})}function XA(e){return kw(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ka(e){const t=T6(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function cn(e,t){e=e||{},t=t||ir.font;let r=St(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let n=St(e.style,t.style);n&&!(""+n).match(jM)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:St(e.family,t.family),lineHeight:NM(St(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:St(e.weight,t.weight),string:""};return a.string=xM(a),a}function Lf(e,t,r,n){let a,i,l;for(a=0,i=e.length;a<i;++a)if(l=e[a],l!==void 0&&l!==void 0)return l}function CM(e,t,r){const{min:n,max:a}=e,i=F6(t,(a-n)/2),l=(o,c)=>r&&o===0?0:o+c;return{min:l(n,-Math.abs(i)),max:l(a,i)}}function Vc(e,t){return Object.assign(Object.create(e),t)}function _w(e,t=[""],r,n,a=()=>e[0]){const i=r||e;typeof n>"u"&&(n=K6("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:a,override:o=>_w([o,...e],t,i,n)};return new Proxy(l,{deleteProperty(o,c){return delete o[c],delete o._keys,delete e[0][c],!0},get(o,c){return O6(o,c,()=>LM(c,t,e,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,c){return qN(o).includes(c)},ownKeys(o){return qN(o)},set(o,c,A){const d=o._storage||(o._storage=a());return o[c]=d[c]=A,delete o._keys,!0}})}function fd(e,t,r,n){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:R6(e,n),setContext:i=>fd(e,i,r,n),override:i=>fd(e.override(i),t,r,n)};return new Proxy(a,{deleteProperty(i,l){return delete i[l],delete e[l],!0},get(i,l,o){return O6(i,l,()=>EM(i,l,o))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(i,l,o){return e[l]=o,delete i[l],!0}})}function R6(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:r,indexable:n,isScriptable:ko(r)?r:()=>r,isIndexable:ko(n)?n:()=>n}}const SM=(e,t)=>e?e+jw(t):t,Iw=(e,t)=>zt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function O6(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=r();return e[t]=n,n}function EM(e,t,r){const{_proxy:n,_context:a,_subProxy:i,_descriptors:l}=e;let o=n[t];return ko(o)&&l.isScriptable(t)&&(o=FM(t,o,e,r)),Br(o)&&o.length&&(o=kM(t,o,e,l.isIndexable)),Iw(t,o)&&(o=fd(o,a,i&&i[t],l)),o}function FM(e,t,r,n){const{_proxy:a,_context:i,_subProxy:l,_stack:o}=r;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let c=t(i,l||n);return o.delete(e),Iw(e,c)&&(c=Uw(a._scopes,a,e,c)),c}function kM(e,t,r,n){const{_proxy:a,_context:i,_subProxy:l,_descriptors:o}=r;if(typeof i.index<"u"&&n(e))return t[i.index%t.length];if(zt(t[0])){const c=t,A=a._scopes.filter(d=>d!==c);t=[];for(const d of c){const u=Uw(A,a,e,d);t.push(fd(u,i,l&&l[e],o))}}return t}function H6(e,t,r){return ko(e)?e(t,r):e}const _M=(e,t)=>e===!0?t:typeof e=="string"?Mc(t,e):void 0;function IM(e,t,r,n,a){for(const i of t){const l=_M(r,i);if(l){e.add(l);const o=H6(l._fallback,r,a);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(l===!1&&typeof n<"u"&&r!==n)return null}return!1}function Uw(e,t,r,n){const a=t._rootScopes,i=H6(t._fallback,r,n),l=[...e,...a],o=new Set;o.add(n);let c=GN(o,l,r,i||r,n);return c===null||typeof i<"u"&&i!==r&&(c=GN(o,l,i,c,n),c===null)?!1:_w(Array.from(o),[""],a,i,()=>UM(t,r,n))}function GN(e,t,r,n,a){for(;r;)r=IM(e,t,r,n,a);return r}function UM(e,t,r){const n=e._getTarget();t in n||(n[t]={});const a=n[t];return Br(a)&&zt(r)?r:a||{}}function LM(e,t,r,n){let a;for(const i of t)if(a=K6(SM(i,e),r),typeof a<"u")return Iw(e,a)?Uw(r,n,e,a):a}function K6(e,t){for(const r of t){if(!r)continue;const n=r[e];if(typeof n<"u")return n}}function qN(e){let t=e._keys;return t||(t=e._keys=QM(e._scopes)),t}function QM(e){const t=new Set;for(const r of e)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))t.add(n);return Array.from(t)}const PM=Number.EPSILON||1e-14,xd=(e,t)=>t<e.length&&!e[t].skip&&e[t],z6=e=>e==="x"?"y":"x";function DM(e,t,r,n){const a=e.skip?t:e,i=t,l=r.skip?t:r,o=yv(i,a),c=yv(l,i);let A=o/(o+c),d=c/(o+c);A=isNaN(A)?0:A,d=isNaN(d)?0:d;const u=n*A,m=n*d;return{previous:{x:i.x-u*(l.x-a.x),y:i.y-u*(l.y-a.y)},next:{x:i.x+m*(l.x-a.x),y:i.y+m*(l.y-a.y)}}}function MM(e,t,r){const n=e.length;let a,i,l,o,c,A=xd(e,0);for(let d=0;d<n-1;++d)if(c=A,A=xd(e,d+1),!(!c||!A)){if(dh(t[d],0,PM)){r[d]=r[d+1]=0;continue}a=r[d]/t[d],i=r[d+1]/t[d],o=Math.pow(a,2)+Math.pow(i,2),!(o<=9)&&(l=3/Math.sqrt(o),r[d]=a*l*t[d],r[d+1]=i*l*t[d])}}function TM(e,t,r="x"){const n=z6(r),a=e.length;let i,l,o,c=xd(e,0);for(let A=0;A<a;++A){if(l=o,o=c,c=xd(e,A+1),!o)continue;const d=o[r],u=o[n];l&&(i=(d-l[r])/3,o[`cp1${r}`]=d-i,o[`cp1${n}`]=u-i*t[A]),c&&(i=(c[r]-d)/3,o[`cp2${r}`]=d+i,o[`cp2${n}`]=u+i*t[A])}}function RM(e,t="x"){const r=z6(t),n=e.length,a=Array(n).fill(0),i=Array(n);let l,o,c,A=xd(e,0);for(l=0;l<n;++l)if(o=c,c=A,A=xd(e,l+1),!!c){if(A){const d=A[t]-c[t];a[l]=d!==0?(A[r]-c[r])/d:0}i[l]=o?A?ki(a[l-1])!==ki(a[l])?0:(a[l-1]+a[l])/2:a[l-1]:a[l]}MM(e,a,i),TM(e,i,t)}function Qf(e,t,r){return Math.max(Math.min(e,r),t)}function OM(e,t){let r,n,a,i,l,o=Wh(e[0],t);for(r=0,n=e.length;r<n;++r)l=i,i=o,o=r<n-1&&Wh(e[r+1],t),i&&(a=e[r],l&&(a.cp1x=Qf(a.cp1x,t.left,t.right),a.cp1y=Qf(a.cp1y,t.top,t.bottom)),o&&(a.cp2x=Qf(a.cp2x,t.left,t.right),a.cp2y=Qf(a.cp2y,t.top,t.bottom)))}function HM(e,t,r,n,a){let i,l,o,c;if(t.spanGaps&&(e=e.filter(A=>!A.skip)),t.cubicInterpolationMode==="monotone")RM(e,a);else{let A=n?e[e.length-1]:e[0];for(i=0,l=e.length;i<l;++i)o=e[i],c=DM(A,o,e[Math.min(i+1,l-(n?0:1))%l],t.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,A=o}t.capBezierPoints&&OM(e,r)}function Lw(){return typeof window<"u"&&typeof document<"u"}function Qw(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Dx(e,t,r){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[r])):n=e,n}const _g=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function KM(e,t){return _g(e).getPropertyValue(t)}const zM=["top","right","bottom","left"];function Cc(e,t,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=zM[a];n[i]=parseFloat(e[t+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const VM=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function $M(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:a,offsetY:i}=n;let l=!1,o,c;if(VM(a,i,e.target))o=a,c=i;else{const A=t.getBoundingClientRect();o=n.clientX-A.left,c=n.clientY-A.top,l=!0}return{x:o,y:c,box:l}}function ic(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,a=_g(r),i=a.boxSizing==="border-box",l=Cc(a,"padding"),o=Cc(a,"border","width"),{x:c,y:A,box:d}=$M(e,r),u=l.left+(d&&o.left),m=l.top+(d&&o.top);let{width:h,height:g}=t;return i&&(h-=l.width+o.width,g-=l.height+o.height),{x:Math.round((c-u)/h*r.width/n),y:Math.round((A-m)/g*r.height/n)}}function GM(e,t,r){let n,a;if(t===void 0||r===void 0){const i=e&&Qw(e);if(!i)t=e.clientWidth,r=e.clientHeight;else{const l=i.getBoundingClientRect(),o=_g(i),c=Cc(o,"border","width"),A=Cc(o,"padding");t=l.width-A.width-c.width,r=l.height-A.height-c.height,n=Dx(o.maxWidth,i,"clientWidth"),a=Dx(o.maxHeight,i,"clientHeight")}}return{width:t,height:r,maxWidth:n||Qx,maxHeight:a||Qx}}const Pf=e=>Math.round(e*10)/10;function qM(e,t,r,n){const a=_g(e),i=Cc(a,"margin"),l=Dx(a.maxWidth,e,"clientWidth")||Qx,o=Dx(a.maxHeight,e,"clientHeight")||Qx,c=GM(e,t,r);let{width:A,height:d}=c;if(a.boxSizing==="content-box"){const m=Cc(a,"border","width"),h=Cc(a,"padding");A-=h.width+m.width,d-=h.height+m.height}return A=Math.max(0,A-i.width),d=Math.max(0,n?A/n:d-i.height),A=Pf(Math.min(A,l,c.maxWidth)),d=Pf(Math.min(d,o,c.maxHeight)),A&&!d&&(d=Pf(A/2)),(t!==void 0||r!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,A=Pf(Math.floor(d*n))),{width:A,height:d}}function WN(e,t,r){const n=t||1,a=Math.floor(e.height*n),i=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(r||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||l.height!==a||l.width!==i?(e.currentDevicePixelRatio=n,l.height=a,l.width=i,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const WM=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Lw()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function YN(e,t){const r=KM(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function lc(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function YM(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:n==="middle"?r<.5?e.y:t.y:n==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function XM(e,t,r,n){const a={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},l=lc(e,a,r),o=lc(a,i,r),c=lc(i,t,r),A=lc(l,o,r),d=lc(o,c,r);return lc(A,d,r)}const JM=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},ZM=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function JA(e,t,r){return e?JM(t,r):ZM()}function V6(e,t){let r,n;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function $6(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function G6(e){return e==="angle"?{between:qh,compare:ZD,normalize:Va}:{between:ro,compare:(t,r)=>t-r,normalize:t=>t}}function XN({start:e,end:t,count:r,loop:n,style:a}){return{start:e%r,end:t%r,loop:n&&(t-e+1)%r===0,style:a}}function eT(e,t,r){const{property:n,start:a,end:i}=r,{between:l,normalize:o}=G6(n),c=t.length;let{start:A,end:d,loop:u}=e,m,h;if(u){for(A+=c,d+=c,m=0,h=c;m<h&&l(o(t[A%c][n]),a,i);++m)A--,d--;A%=c,d%=c}return d<A&&(d+=c),{start:A,end:d,loop:u,style:e.style}}function tT(e,t,r){if(!r)return[e];const{property:n,start:a,end:i}=r,l=t.length,{compare:o,between:c,normalize:A}=G6(n),{start:d,end:u,loop:m,style:h}=eT(e,t,r),g=[];let p=!1,v=null,x,b,j;const w=()=>c(a,j,x)&&o(a,j)!==0,S=()=>o(i,x)===0||c(i,j,x),F=()=>p||w(),I=()=>!p||S();for(let k=d,E=d;k<=u;++k)b=t[k%l],!b.skip&&(x=A(b[n]),x!==j&&(p=c(x,a,i),v===null&&F()&&(v=o(x,a)===0?k:E),v!==null&&I()&&(g.push(XN({start:v,end:k,loop:m,count:l,style:h})),v=null),E=k,j=x));return v!==null&&g.push(XN({start:v,end:u,loop:m,count:l,style:h})),g}function sT(e,t){const r=[],n=e.segments;for(let a=0;a<n.length;a++){const i=tT(n[a],e.points,t);i.length&&r.push(...i)}return r}function rT(e,t,r,n){let a=0,i=t-1;if(r&&!n)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,r&&(i+=a);i>a&&e[i%t].skip;)i--;return i%=t,{start:a,end:i}}function nT(e,t,r,n){const a=e.length,i=[];let l=t,o=e[t],c;for(c=t+1;c<=r;++c){const A=e[c%a];A.skip||A.stop?o.skip||(n=!1,i.push({start:t%a,end:(c-1)%a,loop:n}),t=l=A.stop?c:null):(l=c,o.skip&&(t=c)),o=A}return l!==null&&i.push({start:t%a,end:l%a,loop:n}),i}function aT(e,t){const r=e.points,n=e.options.spanGaps,a=r.length;if(!a)return[];const i=!!e._loop,{start:l,end:o}=rT(r,a,i,n);if(n===!0)return JN(e,[{start:l,end:o,loop:i}],r,t);const c=o<l?o+a:o,A=!!e._fullLoop&&l===0&&o===a-1;return JN(e,nT(r,l,c,A),r,t)}function JN(e,t,r,n){return!n||!n.setContext||!r?t:iT(e,t,r,n)}function iT(e,t,r,n){const a=e._chart.getContext(),i=ZN(e.options),{_datasetIndex:l,options:{spanGaps:o}}=e,c=r.length,A=[];let d=i,u=t[0].start,m=u;function h(g,p,v,x){const b=o?-1:1;if(g!==p){for(g+=c;r[g%c].skip;)g-=b;for(;r[p%c].skip;)p+=b;g%c!==p%c&&(A.push({start:g%c,end:p%c,loop:v,style:x}),d=x,u=p%c)}}for(const g of t){u=o?u:g.start;let p=r[u%c],v;for(m=u+1;m<=g.end;m++){const x=r[m%c];v=ZN(n.setContext(Vc(a,{type:"segment",p0:p,p1:x,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:l}))),lT(v,d)&&h(u,m-1,g.loop,d),p=x,d=v}u<m-1&&h(u,m-1,g.loop,d)}return A}function ZN(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function lT(e,t){if(!t)return!1;const r=[],n=function(a,i){return Cw(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function Df(e,t,r){return e.options.clip?e[r]:t[r]}function oT(e,t){const{xScale:r,yScale:n}=e;return r&&n?{left:Df(r,t,"left"),right:Df(r,t,"right"),top:Df(n,t,"top"),bottom:Df(n,t,"bottom")}:t}function cT(e,t){const r=t._clip;if(r.disabled)return!1;const n=oT(t,e.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?e.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?e.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class AT{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,n,a){const i=r.listeners[a],l=r.duration;i.forEach(o=>o({chart:t,initial:r.initial,numSteps:l,currentStep:Math.min(n-r.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=L6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let l=i.length-1,o=!1,c;for(;l>=0;--l)c=i[l],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),o=!0):(i[l]=i[i.length-1],i.pop());o&&(a.draw(),this._notify(a,n,t,"progress")),i.length||(n.running=!1,this._notify(a,n,t,"complete"),n.initial=!1),r+=i.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let n=r.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,n)),n}listen(t,r,n){this._getAnims(t).listeners[r].push(n)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var nl=new AT;const e5="transparent",dT={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const n=KN(e||e5),a=n.valid&&KN(t||e5);return a&&a.valid?a.mix(n,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class uT{constructor(t,r,n,a){const i=r[n];a=Lf([t.to,a,i,t.from]);const l=Lf([t.from,i,a]);this._active=!0,this._fn=t.fn||dT[t.type||typeof l],this._easing=uh[t.easing]||uh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=n,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(t,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,l=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Lf([t.to,r,a,t.from]),this._from=Lf([t.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,n=this._duration,a=this._prop,i=this._from,l=this._loop,o=this._to;let c;if(this._active=i!==o&&(l||r<n),!this._active){this._target[a]=o,this._notify(!0);return}if(r<0){this._target[a]=i;return}c=r/n%2,c=l&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,o,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,n)=>{t.push({res:r,rej:n})})}_notify(t){const r=t?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class q6{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!zt(t))return;const r=Object.keys(ir.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const i=t[a];if(!zt(i))return;const l={};for(const o of r)l[o]=i[o];(Br(i.properties)&&i.properties||[a]).forEach(o=>{(o===a||!n.has(o))&&n.set(o,l)})})}_animateOptions(t,r){const n=r.options,a=mT(t,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&hT(t.options.$animations,n).then(()=>{t.options=n},()=>{}),i}_createAnimations(t,r){const n=this._properties,a=[],i=t.$animations||(t.$animations={}),l=Object.keys(r),o=Date.now();let c;for(c=l.length-1;c>=0;--c){const A=l[c];if(A.charAt(0)==="$")continue;if(A==="options"){a.push(...this._animateOptions(t,r));continue}const d=r[A];let u=i[A];const m=n.get(A);if(u)if(m&&u.active()){u.update(m,d,o);continue}else u.cancel();if(!m||!m.duration){t[A]=d;continue}i[A]=u=new uT(m,t,A,d),a.push(u)}return a}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const n=this._createAnimations(t,r);if(n.length)return nl.add(this._chart,n),!0}}function hT(e,t){const r=[],n=Object.keys(t);for(let a=0;a<n.length;a++){const i=e[n[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function mT(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function t5(e,t){const r=e&&e.options||{},n=r.reverse,a=r.min===void 0?t:0,i=r.max===void 0?t:0;return{start:n?i:a,end:n?a:i}}function fT(e,t,r){if(r===!1)return!1;const n=t5(e,r),a=t5(t,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function xT(e){let t,r,n,a;return zt(e)?(t=e.top,r=e.right,n=e.bottom,a=e.left):t=r=n=a=e,{top:t,right:r,bottom:n,left:a,disabled:e===!1}}function W6(e,t){const r=[],n=e._getSortedDatasetMetas(t);let a,i;for(a=0,i=n.length;a<i;++a)r.push(n[a].index);return r}function s5(e,t,r,n={}){const a=e.keys,i=n.mode==="single";let l,o,c,A;if(t===null)return;let d=!1;for(l=0,o=a.length;l<o;++l){if(c=+a[l],c===r){if(d=!0,n.all)continue;break}A=e.values[c],Fa(A)&&(i||t===0||ki(t)===ki(A))&&(t+=A)}return!d&&!n.all?0:t}function gT(e,t){const{iScale:r,vScale:n}=t,a=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",l=Object.keys(e),o=new Array(l.length);let c,A,d;for(c=0,A=l.length;c<A;++c)d=l[c],o[c]={[a]:d,[i]:e[d]};return o}function Ay(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function pT(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function yT(e){const{min:t,max:r,minDefined:n,maxDefined:a}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function bT(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function r5(e,t,r,n){for(const a of t.getMatchingVisibleMetas(n).reverse()){const i=e[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function n5(e,t){const{chart:r,_cachedMeta:n}=e,a=r._stacks||(r._stacks={}),{iScale:i,vScale:l,index:o}=n,c=i.axis,A=l.axis,d=pT(i,l,n),u=t.length;let m;for(let h=0;h<u;++h){const g=t[h],{[c]:p,[A]:v}=g,x=g._stacks||(g._stacks={});m=x[A]=bT(a,d,p),m[o]=v,m._top=r5(m,l,!0,n.type),m._bottom=r5(m,l,!1,n.type);const b=m._visualValues||(m._visualValues={});b[o]=v}}function dy(e,t){const r=e.scales;return Object.keys(r).filter(n=>r[n].axis===t).shift()}function vT(e,t){return Vc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function wT(e,t,r){return Vc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function ju(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const a of t){const i=a._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const uy=e=>e==="reset"||e==="none",a5=(e,t)=>t?e:Object.assign({},e),jT=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:W6(r,!0),values:null};class Sc{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ay(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ju(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(u,m,h,g)=>u==="x"?m:u==="r"?g:h,i=r.xAxisID=St(n.xAxisID,dy(t,"x")),l=r.yAxisID=St(n.yAxisID,dy(t,"y")),o=r.rAxisID=St(n.rAxisID,dy(t,"r")),c=r.indexAxis,A=r.iAxisID=a(c,i,l,o),d=r.vAxisID=a(c,l,i,o);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(l),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(A),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&RN(this._data,this),t._stacked&&ju(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),n=this._data;if(zt(r)){const a=this._cachedMeta;this._data=gT(r,a)}else if(n!==r){if(n){RN(n,this);const a=this._cachedMeta;ju(a),a._parsed=[]}r&&Object.isExtensible(r)&&rM(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=Ay(r.vScale,r),r.stack!==n.stack&&(a=!0,ju(r),r.stack=n.stack),this._resyncElements(t),(a||i!==r._stacked)&&(n5(this,r._parsed),r._stacked=Ay(r.vScale,r))}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:l}=n,o=i.axis;let c=t===0&&r===a.length?!0:n._sorted,A=t>0&&n._parsed[t-1],d,u,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{Br(a[t])?m=this.parseArrayData(n,a,t,r):zt(a[t])?m=this.parseObjectData(n,a,t,r):m=this.parsePrimitiveData(n,a,t,r);const h=()=>u[o]===null||A&&u[o]<A[o];for(d=0;d<r;++d)n._parsed[d+t]=u=m[d],c&&(h()&&(c=!1),A=u);n._sorted=c}l&&n5(this,m)}parsePrimitiveData(t,r,n,a){const{iScale:i,vScale:l}=t,o=i.axis,c=l.axis,A=i.getLabels(),d=i===l,u=new Array(a);let m,h,g;for(m=0,h=a;m<h;++m)g=m+n,u[m]={[o]:d||i.parse(A[g],g),[c]:l.parse(r[g],g)};return u}parseArrayData(t,r,n,a){const{xScale:i,yScale:l}=t,o=new Array(a);let c,A,d,u;for(c=0,A=a;c<A;++c)d=c+n,u=r[d],o[c]={x:i.parse(u[0],d),y:l.parse(u[1],d)};return o}parseObjectData(t,r,n,a){const{xScale:i,yScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,A=new Array(a);let d,u,m,h;for(d=0,u=a;d<u;++d)m=d+n,h=r[m],A[d]={x:i.parse(Mc(h,o),m),y:l.parse(Mc(h,c),m)};return A}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,n){const a=this.chart,i=this._cachedMeta,l=r[t.axis],o={keys:W6(a,!0),values:r._stacks[t.axis]._visualValues};return s5(o,l,i.index,{mode:n})}updateRangeFromParsed(t,r,n,a){const i=n[r.axis];let l=i===null?NaN:i;const o=a&&n._stacks[r.axis];a&&o&&(a.values=o,l=s5(a,i,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,r){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&t===n.iScale,l=a.length,o=this._getOtherScale(t),c=jT(r,n,this.chart),A={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:u}=yT(o);let m,h;function g(){h=a[m];const p=h[o.axis];return!Fa(h[t.axis])||d>p||u<p}for(m=0;m<l&&!(!g()&&(this.updateRangeFromParsed(A,t,h,c),i));++m);if(i){for(m=l-1;m>=0;--m)if(!g()){this.updateRangeFromParsed(A,t,h,c);break}}return A}getAllParsedValues(t){const r=this._cachedMeta._parsed,n=[];let a,i,l;for(a=0,i=r.length;a<i;++a)l=r[a][t.axis],Fa(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,n=r.iScale,a=r.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=xT(St(this.options.clip,fT(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],i=r.chartArea,l=[],o=this._drawStart||0,c=this._drawCount||a.length-o,A=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(t,i,o,c),d=o;d<o+c;++d){const u=a[d];u.hidden||(u.active&&A?l.push(u):u.draw(t,i))}for(d=0;d<l.length;++d)l[d].draw(t,i)}getStyle(t,r){const n=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,r,n){const a=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];i=l.$context||(l.$context=wT(this.getContext(),t,l)),i.parsed=this.getParsed(t),i.raw=a.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=vT(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",n){const a=r==="active",i=this._cachedDataOpts,l=t+"-"+r,o=i[l],c=this.enableOptionSharing&&$h(n);if(o)return a5(o,c);const A=this.chart.config,d=A.datasetElementScopeKeys(this._type,t),u=a?[`${t}Hover`,"hover",t,""]:[t,""],m=A.getOptionScopes(this.getDataset(),d),h=Object.keys(ir.elements[t]),g=()=>this.getContext(n,a,r),p=A.resolveNamedOptions(m,h,g,u);return p.$shared&&(p.$shared=c,i[l]=Object.freeze(a5(p,c))),p}_resolveAnimations(t,r,n){const a=this.chart,i=this._cachedDataOpts,l=`animation-${r}`,o=i[l];if(o)return o;let c;if(a.options.animation!==!1){const d=this.chart.config,u=d.datasetAnimationScopeKeys(this._type,r),m=d.getOptionScopes(this.getDataset(),u);c=d.createResolver(m,this.getContext(t,n,r))}const A=new q6(a,c&&c.animations);return c&&c._cacheable&&(i[l]=Object.freeze(A)),A}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||uy(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const n=this.resolveDataElementOptions(t,r),a=this._sharedOptions,i=this.getSharedOptions(n),l=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:l}}updateElement(t,r,n,a){uy(a)?Object.assign(t,n):this._resolveAnimations(r,a).update(t,n)}updateSharedOptions(t,r,n){t&&!uy(r)&&this._resolveAnimations(void 0,r).update(t,n)}_setStyle(t,r,n,a){t.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(t,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(t,r,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,r,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,n=this._cachedMeta.data;for(const[o,c,A]of this._syncList)this[o](c,A);this._syncList=[];const a=n.length,i=r.length,l=Math.min(i,a);l&&this.parse(0,l),i>a?this._insertElements(a,i-a,t):i<a&&this._removeElements(i,a-i)}_insertElements(t,r,n=!0){const a=this._cachedMeta,i=a.data,l=t+r;let o;const c=A=>{for(A.length+=r,o=A.length-1;o>=l;o--)A[o]=A[o-r]};for(c(i),o=t;o<l;++o)i[o]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(t,r),n&&this.updateElements(i,t,r,"reset")}updateElements(t,r,n,a){}_removeElements(t,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(t,r);n._stacked&&ju(n,a)}n.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,n,a]=t;this[r](n,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}_e(Sc,"defaults",{}),_e(Sc,"datasetElementType",null),_e(Sc,"dataElementType",null);function NT(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let a=0,i=r.length;a<i;a++)n=n.concat(r[a].controller.getAllParsedValues(e));e._cache.$bar=U6(n.sort((a,i)=>a-i))}return e._cache.$bar}function BT(e){const t=e.iScale,r=NT(t,e.type);let n=t._length,a,i,l,o;const c=()=>{l===32767||l===-32768||($h(o)&&(n=Math.min(n,Math.abs(l-o)||n)),o=l)};for(a=0,i=r.length;a<i;++a)l=t.getPixelForValue(r[a]),c();for(o=void 0,a=0,i=t.ticks.length;a<i;++a)l=t.getPixelForTick(a),c();return n}function CT(e,t,r,n){const a=r.barThickness;let i,l;return es(a)?(i=t.min*r.categoryPercentage,l=r.barPercentage):(i=a*n,l=1),{chunk:i/n,ratio:l,start:t.pixels[e]-i/2}}function ST(e,t,r,n){const a=t.pixels,i=a[e];let l=e>0?a[e-1]:null,o=e<a.length-1?a[e+1]:null;const c=r.categoryPercentage;l===null&&(l=i-(o===null?t.end-t.start:o-i)),o===null&&(o=i+i-l);const A=i-(i-Math.min(l,o))/2*c;return{chunk:Math.abs(o-l)/2*c/n,ratio:r.barPercentage,start:A}}function ET(e,t,r,n){const a=r.parse(e[0],n),i=r.parse(e[1],n),l=Math.min(a,i),o=Math.max(a,i);let c=l,A=o;Math.abs(l)>Math.abs(o)&&(c=o,A=l),t[r.axis]=A,t._custom={barStart:c,barEnd:A,start:a,end:i,min:l,max:o}}function Y6(e,t,r,n){return Br(e)?ET(e,t,r,n):t[r.axis]=r.parse(e,n),t}function i5(e,t,r,n){const a=e.iScale,i=e.vScale,l=a.getLabels(),o=a===i,c=[];let A,d,u,m;for(A=r,d=r+n;A<d;++A)m=t[A],u={},u[a.axis]=o||a.parse(l[A],A),c.push(Y6(m,u,i,A));return c}function hy(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function FT(e,t,r){return e!==0?ki(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function kT(e){let t,r,n,a,i;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(a="end",i="start"):(a="start",i="end"),{start:r,end:n,reverse:t,top:a,bottom:i}}function _T(e,t,r,n){let a=t.borderSkipped;const i={};if(!a){e.borderSkipped=i;return}if(a===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:o,reverse:c,top:A,bottom:d}=kT(e);a==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?a=A:(r._bottom||0)===n?a=d:(i[l5(d,l,o,c)]=!0,a=A)),i[l5(a,l,o,c)]=!0,e.borderSkipped=i}function l5(e,t,r,n){return n?(e=IT(e,t,r),e=o5(e,r,t)):e=o5(e,t,r),e}function IT(e,t,r){return e===t?r:e===r?t:e}function o5(e,t,r){return e==="start"?t:e==="end"?r:e}function UT(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}class z0 extends Sc{parsePrimitiveData(t,r,n,a){return i5(t,r,n,a)}parseArrayData(t,r,n,a){return i5(t,r,n,a)}parseObjectData(t,r,n,a){const{iScale:i,vScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,A=i.axis==="x"?o:c,d=l.axis==="x"?o:c,u=[];let m,h,g,p;for(m=n,h=n+a;m<h;++m)p=r[m],g={},g[i.axis]=i.parse(Mc(p,A),m),u.push(Y6(Mc(p,d),g,l,m));return u}updateRangeFromParsed(t,r,n,a){super.updateRangeFromParsed(t,r,n,a);const i=n._custom;i&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:n,vScale:a}=r,i=this.getParsed(t),l=i._custom,o=hy(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,n,a){const i=a==="reset",{index:l,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),A=o.isHorizontal(),d=this._getRuler(),{sharedOptions:u,includeOptions:m}=this._getSharedOptions(r,a);for(let h=r;h<r+n;h++){const g=this.getParsed(h),p=i||es(g[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(h),v=this._calculateBarIndexPixels(h,d),x=(g._stacks||{})[o.axis],b={horizontal:A,base:p.base,enableBorderRadius:!x||hy(g._custom)||l===x._top||l===x._bottom,x:A?p.head:v.center,y:A?v.center:p.head,height:A?v.size:Math.abs(p.size),width:A?Math.abs(p.size):v.size};m&&(b.options=u||this.resolveDataElementOptions(h,t[h].active?"active":a));const j=b.options||t[h].options;_T(b,j,x,l),UT(b,j,d.ratio),this.updateElement(t[h],h,b,a)}}_getStacks(t,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=n.options.stacked,l=[],o=this._cachedMeta.controller.getParsed(r),c=o&&o[n.axis],A=d=>{const u=d._parsed.find(h=>h[n.axis]===c),m=u&&u[d.vScale.axis];if(es(m)||isNaN(m))return!0};for(const d of a)if(!(r!==void 0&&A(d))&&((i===!1||l.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&l.push(d.stack),d.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===r).shift()}_getAxis(){const t={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[St(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,n){const a=this._getStacks(t,n),i=r!==void 0?a.indexOf(r):-1;return i===-1?a.length-1:i}_getRuler(){const t=this.options,r=this._cachedMeta,n=r.iScale,a=[];let i,l;for(i=0,l=r.data.length;i<l;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const o=t.barThickness;return{min:o||BT(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:i,minBarLength:l}}=this,o=i||0,c=this.getParsed(t),A=c._custom,d=hy(A);let u=c[r.axis],m=0,h=n?this.applyStack(r,c,n):u,g,p;h!==u&&(m=h-u,h=u),d&&(u=A.barStart,h=A.barEnd-A.barStart,u!==0&&ki(u)!==ki(A.barEnd)&&(m=0),m+=u);const v=!es(i)&&!d?i:m;let x=r.getPixelForValue(v);if(this.chart.getDataVisibility(t)?g=r.getPixelForValue(m+h):g=x,p=g-x,Math.abs(p)<l){p=FT(p,r,o)*l,u===o&&(x-=p/2);const b=r.getPixelForDecimal(0),j=r.getPixelForDecimal(1),w=Math.min(b,j),S=Math.max(b,j);x=Math.max(Math.min(x,S),w),g=x+p,n&&!d&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(g)-r.getValueForPixel(x))}if(x===r.getPixelForValue(o)){const b=ki(p)*r.getLineWidthForValue(o)/2;x+=b,p-=b}return{size:p,base:x,head:g,center:g+p/2}}_calculateBarIndexPixels(t,r){const n=r.scale,a=this.options,i=a.skipNull,l=St(a.maxBarThickness,1/0);let o,c;const A=this._getAxisCount();if(r.grouped){const d=i?this._getStackCount(t):r.stackCount,u=a.barThickness==="flex"?ST(t,r,a,d*A):CT(t,r,a,d*A),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(St(m,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+h;o=u.start+u.chunk*g+u.chunk/2,c=Math.min(l,u.chunk*u.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),c=Math.min(l,r.min*r.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const t=this._cachedMeta,r=t.vScale,n=t.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}_e(z0,"id","bar"),_e(z0,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),_e(z0,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function LT(e,t,r){let n=1,a=1,i=0,l=0;if(t<zs){const o=e,c=o+t,A=Math.cos(o),d=Math.sin(o),u=Math.cos(c),m=Math.sin(c),h=(j,w,S)=>qh(j,o,c,!0)?1:Math.max(w,w*r,S,S*r),g=(j,w,S)=>qh(j,o,c,!0)?-1:Math.min(w,w*r,S,S*r),p=h(0,A,u),v=h(Sr,d,m),x=g(is,A,u),b=g(is+Sr,d,m);n=(p-x)/2,a=(v-b)/2,i=-(p+x)/2,l=-(v+b)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:l}}class Ru extends Sc{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=c=>+n[c];if(zt(n[t])){const{key:c="value"}=this._parsing;i=A=>+Mc(n[A],c)}let l,o;for(l=t,o=t+r;l<o;++l)a._parsed[l]=i(l)}}_getRotation(){return hl(this.options.rotation-90)}_getCircumference(){return hl(this.options.circumference)}_getRotationExtents(){let t=zs,r=-zs;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),l=a._getCircumference();t=Math.min(t,i),r=Math.max(r,i+l)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,i=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-l)/2,0),c=Math.min(RD(this.options.cutout,o),1),A=this._getRingWeight(this.index),{circumference:d,rotation:u}=this._getRotationExtents(),{ratioX:m,ratioY:h,offsetX:g,offsetY:p}=LT(u,d,c),v=(n.width-l)/m,x=(n.height-l)/h,b=Math.max(Math.min(v,x)/2,0),j=F6(this.options.radius,b),w=Math.max(j*c,0),S=(j-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*j,this.offsetY=p*j,a.total=this.calculateTotal(),this.outerRadius=j-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*A,0),this.updateElements(i,0,i.length,t)}_circumference(t,r){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*i/zs)}updateElements(t,r,n,a){const i=a==="reset",l=this.chart,o=l.chartArea,A=l.options.animation,d=(o.left+o.right)/2,u=(o.top+o.bottom)/2,m=i&&A.animateScale,h=m?0:this.innerRadius,g=m?0:this.outerRadius,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(r,a);let x=this._getRotation(),b;for(b=0;b<r;++b)x+=this._circumference(b,i);for(b=r;b<r+n;++b){const j=this._circumference(b,i),w=t[b],S={x:d+this.offsetX,y:u+this.offsetY,startAngle:x,endAngle:x+j,circumference:j,outerRadius:g,innerRadius:h};v&&(S.options=p||this.resolveDataElementOptions(b,w.active?"active":a)),x+=j,this.updateElement(w,b,S,a)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let n=0,a;for(a=0;a<r.length;a++){const i=t._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?zs*(Math.abs(t)/r):0}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=Sw(r._parsed[t],n.options.locale);return{label:a[t]||"",value:i}}getMaxBorderWidth(t){let r=0;const n=this.chart;let a,i,l,o,c;if(!t){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){l=n.getDatasetMeta(a),t=l.data,o=l.controller;break}}if(!t)return 0;for(a=0,i=t.length;a<i;++a)c=o.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let n=0,a=t.length;n<a;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(t){return Math.max(St(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}_e(Ru,"id","doughnut"),_e(Ru,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),_e(Ru,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),_e(Ru,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=t.legend.options;return r.labels.map((i,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class V0 extends Sc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=r,l=this.chart._animationsDisabled;let{start:o,count:c}=iM(r,a,l);this._drawStart=o,this._drawCount=c,lM(r)&&(o=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const A=this.resolveDatasetElementOptions(t);this.options.showLine||(A.borderWidth=0),A.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:A},t),this.updateElements(a,o,c,t)}updateElements(t,r,n,a){const i=a==="reset",{iScale:l,vScale:o,_stacked:c,_dataset:A}=this._cachedMeta,{sharedOptions:d,includeOptions:u}=this._getSharedOptions(r,a),m=l.axis,h=o.axis,{spanGaps:g,segment:p}=this.options,v=Gh(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||a==="none",b=r+n,j=t.length;let w=r>0&&this.getParsed(r-1);for(let S=0;S<j;++S){const F=t[S],I=x?F:{};if(S<r||S>=b){I.skip=!0;continue}const k=this.getParsed(S),E=es(k[h]),O=I[m]=l.getPixelForValue(k[m],S),L=I[h]=i||E?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,k,c):k[h],S);I.skip=isNaN(O)||isNaN(L)||E,I.stop=S>0&&Math.abs(k[m]-w[m])>v,p&&(I.parsed=k,I.raw=A.data[S]),u&&(I.options=d||this.resolveDataElementOptions(S,F.active?"active":a)),x||this.updateElement(F,S,I,a),w=k}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,n=r.options&&r.options.borderWidth||0,a=t.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}_e(V0,"id","line"),_e(V0,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),_e(V0,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function sc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Pw{constructor(t){_e(this,"options");this.options=t||{}}static override(t){Object.assign(Pw.prototype,t)}init(){}formats(){return sc()}parse(){return sc()}format(){return sc()}add(){return sc()}diff(){return sc()}startOf(){return sc()}endOf(){return sc()}}var QT={_date:Pw};function PT(e,t,r,n){const{controller:a,data:i,_sorted:l}=e,o=a._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&l&&i.length){const A=o._reversePixels?tM:pc;if(n){if(a._sharedOptions){const d=i[0],u=typeof d.getRange=="function"&&d.getRange(t);if(u){const m=A(i,t,r-u),h=A(i,t,r+u);return{lo:m.lo,hi:h.hi}}}}else{const d=A(i,t,r);if(c){const{vScale:u}=a._cachedMeta,{_parsed:m}=e,h=m.slice(0,d.lo+1).reverse().findIndex(p=>!es(p[u.axis]));d.lo-=Math.max(0,h);const g=m.slice(d.hi).findIndex(p=>!es(p[u.axis]));d.hi+=Math.max(0,g)}return d}}return{lo:0,hi:i.length-1}}function Bm(e,t,r,n,a){const i=e.getSortedVisibleDatasetMetas(),l=r[t];for(let o=0,c=i.length;o<c;++o){const{index:A,data:d}=i[o],{lo:u,hi:m}=PT(i[o],t,l,a);for(let h=u;h<=m;++h){const g=d[h];g.skip||n(g,A,h)}}}function DT(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(n,a){const i=t?Math.abs(n.x-a.x):0,l=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function my(e,t,r,n,a){const i=[];return!a&&!e.isPointInArea(t)||Bm(e,r,t,function(o,c,A){!a&&!Wh(o,e.chartArea,0)||o.inRange(t.x,t.y,n)&&i.push({element:o,datasetIndex:c,index:A})},!0),i}function MT(e,t,r,n){let a=[];function i(l,o,c){const{startAngle:A,endAngle:d}=l.getProps(["startAngle","endAngle"],n),{angle:u}=_6(l,{x:t.x,y:t.y});qh(u,A,d)&&a.push({element:l,datasetIndex:o,index:c})}return Bm(e,r,t,i),a}function TT(e,t,r,n,a,i){let l=[];const o=DT(r);let c=Number.POSITIVE_INFINITY;function A(d,u,m){const h=d.inRange(t.x,t.y,a);if(n&&!h)return;const g=d.getCenterPoint(a);if(!(!!i||e.isPointInArea(g))&&!h)return;const v=o(t,g);v<c?(l=[{element:d,datasetIndex:u,index:m}],c=v):v===c&&l.push({element:d,datasetIndex:u,index:m})}return Bm(e,r,t,A),l}function fy(e,t,r,n,a,i){return!i&&!e.isPointInArea(t)?[]:r==="r"&&!n?MT(e,t,r,a):TT(e,t,r,n,a,i)}function c5(e,t,r,n,a){const i=[],l=r==="x"?"inXRange":"inYRange";let o=!1;return Bm(e,r,t,(c,A,d)=>{c[l]&&c[l](t[r],a)&&(i.push({element:c,datasetIndex:A,index:d}),o=o||c.inRange(t.x,t.y,a))}),n&&!o?[]:i}var RT={evaluateInteractionItems:Bm,modes:{index(e,t,r,n){const a=ic(t,e),i=r.axis||"x",l=r.includeInvisible||!1,o=r.intersect?my(e,a,i,n,l):fy(e,a,i,!1,n,l),c=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(A=>{const d=o[0].index,u=A.data[d];u&&!u.skip&&c.push({element:u,datasetIndex:A.index,index:d})}),c):[]},dataset(e,t,r,n){const a=ic(t,e),i=r.axis||"xy",l=r.includeInvisible||!1;let o=r.intersect?my(e,a,i,n,l):fy(e,a,i,!1,n,l);if(o.length>0){const c=o[0].datasetIndex,A=e.getDatasetMeta(c).data;o=[];for(let d=0;d<A.length;++d)o.push({element:A[d],datasetIndex:c,index:d})}return o},point(e,t,r,n){const a=ic(t,e),i=r.axis||"xy",l=r.includeInvisible||!1;return my(e,a,i,n,l)},nearest(e,t,r,n){const a=ic(t,e),i=r.axis||"xy",l=r.includeInvisible||!1;return fy(e,a,i,r.intersect,n,l)},x(e,t,r,n){const a=ic(t,e);return c5(e,a,"x",r.intersect,n)},y(e,t,r,n){const a=ic(t,e);return c5(e,a,"y",r.intersect,n)}}};const X6=["left","top","right","bottom"];function Nu(e,t){return e.filter(r=>r.pos===t)}function A5(e,t){return e.filter(r=>X6.indexOf(r.pos)===-1&&r.box.axis===t)}function Bu(e,t){return e.sort((r,n)=>{const a=t?n:r,i=t?r:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function OT(e){const t=[];let r,n,a,i,l,o;for(r=0,n=(e||[]).length;r<n;++r)a=e[r],{position:i,options:{stack:l,stackWeight:o=1}}=a,t.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&i+l,stackWeight:o});return t}function HT(e){const t={};for(const r of e){const{stack:n,pos:a,stackWeight:i}=r;if(!n||!X6.includes(a))continue;const l=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return t}function KT(e,t){const r=HT(e),{vBoxMaxWidth:n,hBoxMaxHeight:a}=t;let i,l,o;for(i=0,l=e.length;i<l;++i){o=e[i];const{fullSize:c}=o.box,A=r[o.stack],d=A&&o.stackWeight/A.weight;o.horizontal?(o.width=d?d*n:c&&t.availableWidth,o.height=a):(o.width=n,o.height=d?d*a:c&&t.availableHeight)}return r}function zT(e){const t=OT(e),r=Bu(t.filter(A=>A.box.fullSize),!0),n=Bu(Nu(t,"left"),!0),a=Bu(Nu(t,"right")),i=Bu(Nu(t,"top"),!0),l=Bu(Nu(t,"bottom")),o=A5(t,"x"),c=A5(t,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:a.concat(c).concat(l).concat(o),chartArea:Nu(t,"chartArea"),vertical:n.concat(a).concat(c),horizontal:i.concat(l).concat(o)}}function d5(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function J6(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function VT(e,t,r,n){const{pos:a,box:i}=r,l=e.maxPadding;if(!zt(a)){r.size&&(e[a]-=r.size);const u=n[r.stack]||{size:0,count:1};u.size=Math.max(u.size,r.horizontal?i.height:i.width),r.size=u.size/u.count,e[a]+=r.size}i.getPadding&&J6(l,i.getPadding());const o=Math.max(0,t.outerWidth-d5(l,e,"left","right")),c=Math.max(0,t.outerHeight-d5(l,e,"top","bottom")),A=o!==e.w,d=c!==e.h;return e.w=o,e.h=c,r.horizontal?{same:A,other:d}:{same:d,other:A}}function $T(e){const t=e.maxPadding;function r(n){const a=Math.max(t[n]-e[n],0);return e[n]+=a,a}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function GT(e,t){const r=t.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{i[l]=Math.max(t[l],r[l])}),i}return n(e?["left","right"]:["top","bottom"])}function Ou(e,t,r,n){const a=[];let i,l,o,c,A,d;for(i=0,l=e.length,A=0;i<l;++i){o=e[i],c=o.box,c.update(o.width||t.w,o.height||t.h,GT(o.horizontal,t));const{same:u,other:m}=VT(t,r,o,n);A|=u&&a.length,d=d||m,c.fullSize||a.push(o)}return A&&Ou(a,t,r,n)||d}function Mf(e,t,r,n,a){e.top=r,e.left=t,e.right=t+n,e.bottom=r+a,e.width=n,e.height=a}function u5(e,t,r,n){const a=r.padding;let{x:i,y:l}=t;for(const o of e){const c=o.box,A=n[o.stack]||{count:1,placed:0,weight:1},d=o.stackWeight/A.weight||1;if(o.horizontal){const u=t.w*d,m=A.size||c.height;$h(A.start)&&(l=A.start),c.fullSize?Mf(c,a.left,l,r.outerWidth-a.right-a.left,m):Mf(c,t.left+A.placed,l,u,m),A.start=l,A.placed+=u,l=c.bottom}else{const u=t.h*d,m=A.size||c.width;$h(A.start)&&(i=A.start),c.fullSize?Mf(c,i,a.top,m,r.outerHeight-a.bottom-a.top):Mf(c,i,t.top+A.placed,m,u),A.start=i,A.placed+=u,i=c.right}}t.x=i,t.y=l}var wa={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const a=ka(e.options.layout.padding),i=Math.max(t-a.width,0),l=Math.max(r-a.height,0),o=zT(e.boxes),c=o.vertical,A=o.horizontal;ns(e.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const d=c.reduce((p,v)=>v.box.options&&v.box.options.display===!1?p:p+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:r,padding:a,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/d,hBoxMaxHeight:l/2}),m=Object.assign({},a);J6(m,ka(n));const h=Object.assign({maxPadding:m,w:i,h:l,x:a.left,y:a.top},a),g=KT(c.concat(A),u);Ou(o.fullSize,h,u,g),Ou(c,h,u,g),Ou(A,h,u,g)&&Ou(c,h,u,g),$T(h),u5(o.leftAndTop,h,u,g),h.x+=h.w,h.y+=h.h,u5(o.rightAndBottom,h,u,g),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},ns(o.chartArea,p=>{const v=p.box;Object.assign(v,e.chartArea),v.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class Z6{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,n){}removeEventListener(t,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,n,a){return r=Math.max(0,r||t.width),n=n||t.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(t){return!0}updateConfig(t){}}class qT extends Z6{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const $0="$chartjs",WT={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},h5=e=>e===null||e==="";function YT(e,t){const r=e.style,n=e.getAttribute("height"),a=e.getAttribute("width");if(e[$0]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",h5(a)){const i=YN(e,"width");i!==void 0&&(e.width=i)}if(h5(n))if(e.style.height==="")e.height=e.width/(t||2);else{const i=YN(e,"height");i!==void 0&&(e.height=i)}return e}const eE=WM?{passive:!0}:!1;function XT(e,t,r){e&&e.addEventListener(t,r,eE)}function JT(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,eE)}function ZT(e,t){const r=WT[e.type]||e.type,{x:n,y:a}=ic(e,t);return{type:r,chart:t,native:e,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Mx(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function eR(e,t,r){const n=e.canvas,a=new MutationObserver(i=>{let l=!1;for(const o of i)l=l||Mx(o.addedNodes,n),l=l&&!Mx(o.removedNodes,n);l&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function tR(e,t,r){const n=e.canvas,a=new MutationObserver(i=>{let l=!1;for(const o of i)l=l||Mx(o.removedNodes,n),l=l&&!Mx(o.addedNodes,n);l&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Xh=new Map;let m5=0;function tE(){const e=window.devicePixelRatio;e!==m5&&(m5=e,Xh.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function sR(e,t){Xh.size||window.addEventListener("resize",tE),Xh.set(e,t)}function rR(e){Xh.delete(e),Xh.size||window.removeEventListener("resize",tE)}function nR(e,t,r){const n=e.canvas,a=n&&Qw(n);if(!a)return;const i=Q6((o,c)=>{const A=a.clientWidth;r(o,c),A<a.clientWidth&&r()},window),l=new ResizeObserver(o=>{const c=o[0],A=c.contentRect.width,d=c.contentRect.height;A===0&&d===0||i(A,d)});return l.observe(a),sR(e,i),l}function xy(e,t,r){r&&r.disconnect(),t==="resize"&&rR(e)}function aR(e,t,r){const n=e.canvas,a=Q6(i=>{e.ctx!==null&&r(ZT(i,e))},e);return XT(n,t,a),a}class iR extends Z6{acquireContext(t,r){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(YT(t,r),n):null}releaseContext(t){const r=t.canvas;if(!r[$0])return!1;const n=r[$0].initial;["height","width"].forEach(i=>{const l=n[i];es(l)?r.removeAttribute(i):r.setAttribute(i,l)});const a=n.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[$0],!0}addEventListener(t,r,n){this.removeEventListener(t,r);const a=t.$proxies||(t.$proxies={}),l={attach:eR,detach:tR,resize:nR}[r]||aR;a[r]=l(t,r,n)}removeEventListener(t,r){const n=t.$proxies||(t.$proxies={}),a=n[r];if(!a)return;({attach:xy,detach:xy,resize:xy}[r]||JT)(t,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,n,a){return qM(t,r,n,a)}isAttached(t){const r=t&&Qw(t);return!!(r&&r.isConnected)}}function lR(e){return!Lw()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?qT:iR}class Ja{constructor(){_e(this,"x");_e(this,"y");_e(this,"active",!1);_e(this,"options");_e(this,"$animations")}tooltipPosition(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}hasValue(){return Gh(this.x)&&Gh(this.y)}getProps(t,r){const n=this.$animations;if(!r||!n)return this;const a={};return t.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}}_e(Ja,"defaults",{}),_e(Ja,"defaultRoutes");function oR(e,t){const r=e.options.ticks,n=cR(e),a=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?dR(t):[],l=i.length,o=i[0],c=i[l-1],A=[];if(l>a)return uR(t,A,i,l/a),A;const d=AR(i,t,a);if(l>0){let u,m;const h=l>1?Math.round((c-o)/(l-1)):null;for(Tf(t,A,d,es(h)?0:o-h,o),u=0,m=l-1;u<m;u++)Tf(t,A,d,i[u],i[u+1]);return Tf(t,A,d,c,es(h)?t.length:c+h),A}return Tf(t,A,d),A}function cR(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),a=e._maxLength/r;return Math.floor(Math.min(n,a))}function AR(e,t,r){const n=hR(e),a=t.length/r;if(!n)return Math.max(a,1);const i=qD(n);for(let l=0,o=i.length-1;l<o;l++){const c=i[l];if(c>a)return c}return Math.max(a,1)}function dR(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}function uR(e,t,r,n){let a=0,i=r[0],l;for(n=Math.ceil(n),l=0;l<e.length;l++)l===i&&(t.push(e[l]),a++,i=r[a*n])}function Tf(e,t,r,n,a){const i=St(n,0),l=Math.min(St(a,e.length),e.length);let o=0,c,A,d;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),d=i;d<0;)o++,d=Math.round(i+o*r);for(A=Math.max(i,0);A<l;A++)A===d&&(t.push(e[A]),o++,d=Math.round(i+o*r))}function hR(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}const mR=e=>e==="left"?"right":e==="right"?"left":e,f5=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r,x5=(e,t)=>Math.min(t||e,e);function g5(e,t){const r=[],n=e.length/t,a=e.length;let i=0;for(;i<a;i+=n)r.push(e[Math.floor(i)]);return r}function fR(e,t,r){const n=e.ticks.length,a=Math.min(t,n-1),i=e._startPixel,l=e._endPixel,o=1e-6;let c=e.getPixelForTick(a),A;if(!(r&&(n===1?A=Math.max(c-i,l-c):t===0?A=(e.getPixelForTick(1)-c)/2:A=(c-e.getPixelForTick(a-1))/2,c+=a<t?A:-A,c<i-o||c>l+o)))return c}function xR(e,t){ns(e,r=>{const n=r.gc,a=n.length/2;let i;if(a>t){for(i=0;i<a;++i)delete r.data[n[i]];n.splice(0,a)}})}function Cu(e){return e.drawTicks?e.tickLength:0}function p5(e,t){if(!e.display)return 0;const r=cn(e.font,t),n=ka(e.padding);return(Br(e.text)?e.text.length:1)*r.lineHeight+n.height}function gR(e,t){return Vc(e,{scale:t,type:"scale"})}function pR(e,t,r){return Vc(e,{tick:r,index:t,type:"tick"})}function yR(e,t,r){let n=Bw(e);return(r&&t!=="right"||!r&&t==="right")&&(n=mR(n)),n}function bR(e,t,r,n){const{top:a,left:i,bottom:l,right:o,chart:c}=e,{chartArea:A,scales:d}=c;let u=0,m,h,g;const p=l-a,v=o-i;if(e.isHorizontal()){if(h=rn(n,i,o),zt(r)){const x=Object.keys(r)[0],b=r[x];g=d[x].getPixelForValue(b)+p-t}else r==="center"?g=(A.bottom+A.top)/2+p-t:g=f5(e,r,t);m=o-i}else{if(zt(r)){const x=Object.keys(r)[0],b=r[x];h=d[x].getPixelForValue(b)-v+t}else r==="center"?h=(A.left+A.right)/2-v+t:h=f5(e,r,t);g=rn(n,l,a),u=r==="left"?-Sr:Sr}return{titleX:h,titleY:g,maxWidth:m,rotation:u}}class kd extends Ja{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return t=gi(t,Number.POSITIVE_INFINITY),r=gi(r,Number.NEGATIVE_INFINITY),n=gi(n,Number.POSITIVE_INFINITY),a=gi(a,Number.NEGATIVE_INFINITY),{min:gi(t,n),max:gi(r,a),minDefined:Fa(t),maxDefined:Fa(r)}}getMinMax(t){let{min:r,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),l;if(a&&i)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let c=0,A=o.length;c<A;++c)l=o[c].controller.getMinMax(this,t),a||(r=Math.min(r,l.min)),i||(n=Math.max(n,l.max));return r=i&&r>n?n:r,n=a&&r>n?r:n,{min:gi(r,gi(n,r)),max:gi(n,gi(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bs(this.options.beforeUpdate,[this])}update(t,r,n){const{beginAtZero:a,grace:i,ticks:l}=this.options,o=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=CM(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?g5(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=oR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,t=!t),this._startPixel=r,this._endPixel=n,this._reversePixels=t,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bs(this.options.afterUpdate,[this])}beforeSetDimensions(){Bs(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bs(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Bs(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bs(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n],i.label=Bs(r.callback,[i.value,n,t],this)}afterTickToLabelConversion(){Bs(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bs(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,n=x5(this.ticks.length,t.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let l=a,o,c,A;if(!this._isVisible()||!r.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),u=d.widest.width,m=d.highest.height,h=on(this.chart.width-u,0,this.maxWidth);o=t.offset?this.maxWidth/n:h/(n-1),u+6>o&&(o=h/(n-(t.offset?.5:1)),c=this.maxHeight-Cu(t.grid)-r.padding-p5(t.title,this.chart.options.font),A=Math.sqrt(u*u+m*m),l=JD(Math.min(Math.asin(on((d.highest.height+6)/o,-1,1)),Math.asin(on(c/A,-1,1))-Math.asin(on(m/A,-1,1)))),l=Math.max(a,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Bs(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Bs(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:i}}=this,l=this._isVisible(),o=this.isHorizontal();if(l){const c=p5(a,r.options.font);if(o?(t.width=this.maxWidth,t.height=Cu(i)+c):(t.height=this.maxHeight,t.width=Cu(i)+c),n.display&&this.ticks.length){const{first:A,last:d,widest:u,highest:m}=this._getLabelSizes(),h=n.padding*2,g=hl(this.labelRotation),p=Math.cos(g),v=Math.sin(g);if(o){const x=n.mirror?0:v*u.width+p*m.height;t.height=Math.min(this.maxHeight,t.height+x+h)}else{const x=n.mirror?0:p*u.width+v*m.height;t.width=Math.min(this.maxWidth,t.width+x+h)}this._calculatePadding(A,d,v,p)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,n,a){const{ticks:{align:i,padding:l},position:o}=this.options,c=this.labelRotation!==0,A=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,h=0;c?A?(m=a*t.width,h=n*r.height):(m=n*t.height,h=a*r.width):i==="start"?h=r.width:i==="end"?m=t.width:i!=="inner"&&(m=t.width/2,h=r.width/2),this.paddingLeft=Math.max((m-d+l)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-u+l)*this.width/(this.width-u),0)}else{let d=r.height/2,u=t.height/2;i==="start"?(d=0,u=t.height):i==="end"&&(d=r.height,u=0),this.paddingTop=d+l,this.paddingBottom=u+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bs(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,n;for(r=0,n=t.length;r<n;r++)es(t[r].label)&&(t.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=g5(n,r)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,r,n){const{ctx:a,_longestTextCache:i}=this,l=[],o=[],c=Math.floor(r/x5(r,n));let A=0,d=0,u,m,h,g,p,v,x,b,j,w,S;for(u=0;u<r;u+=c){if(g=t[u].label,p=this._resolveTickFontOptions(u),a.font=v=p.string,x=i[v]=i[v]||{data:{},gc:[]},b=p.lineHeight,j=w=0,!es(g)&&!Br(g))j=VN(a,x.data,x.gc,j,g),w=b;else if(Br(g))for(m=0,h=g.length;m<h;++m)S=g[m],!es(S)&&!Br(S)&&(j=VN(a,x.data,x.gc,j,S),w+=b);l.push(j),o.push(w),A=Math.max(j,A),d=Math.max(w,d)}xR(i,r);const F=l.indexOf(A),I=o.indexOf(d),k=E=>({width:l[E]||0,height:o[E]||0});return{first:k(0),last:k(r-1),widest:k(F),highest:k(I),widths:l,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return eM(this._alignToPixels?tc(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const n=r[t];return n.$context||(n.$context=pR(this.getContext(),t,n))}return this.$context||(this.$context=gR(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=hl(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),l=t.autoSkipPadding||0,o=i?i.widest.width+l:0,c=i?i.highest.height+l:0;return this.isHorizontal()?c*n>o*a?o/n:c/a:c*a<o*n?c/n:o/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,n=this.chart,a=this.options,{grid:i,position:l,border:o}=a,c=i.offset,A=this.isHorizontal(),u=this.ticks.length+(c?1:0),m=Cu(i),h=[],g=o.setContext(this.getContext()),p=g.display?g.width:0,v=p/2,x=function(Z){return tc(n,Z,p)};let b,j,w,S,F,I,k,E,O,L,P,U;if(l==="top")b=x(this.bottom),I=this.bottom-m,E=b-v,L=x(t.top)+v,U=t.bottom;else if(l==="bottom")b=x(this.top),L=t.top,U=x(t.bottom)-v,I=b+v,E=this.top+m;else if(l==="left")b=x(this.right),F=this.right-m,k=b-v,O=x(t.left)+v,P=t.right;else if(l==="right")b=x(this.left),O=t.left,P=x(t.right)-v,F=b+v,k=this.left+m;else if(r==="x"){if(l==="center")b=x((t.top+t.bottom)/2+.5);else if(zt(l)){const Z=Object.keys(l)[0],ae=l[Z];b=x(this.chart.scales[Z].getPixelForValue(ae))}L=t.top,U=t.bottom,I=b+v,E=I+m}else if(r==="y"){if(l==="center")b=x((t.left+t.right)/2);else if(zt(l)){const Z=Object.keys(l)[0],ae=l[Z];b=x(this.chart.scales[Z].getPixelForValue(ae))}F=b-v,k=F-m,O=t.left,P=t.right}const R=St(a.ticks.maxTicksLimit,u),V=Math.max(1,Math.ceil(u/R));for(j=0;j<u;j+=V){const Z=this.getContext(j),ae=i.setContext(Z),D=o.setContext(Z),Y=ae.lineWidth,re=ae.color,q=D.dash||[],_=D.dashOffset,z=ae.tickWidth,G=ae.tickColor,X=ae.tickBorderDash||[],J=ae.tickBorderDashOffset;w=fR(this,j,c),w!==void 0&&(S=tc(n,w,Y),A?F=k=O=P=S:I=E=L=U=S,h.push({tx1:F,ty1:I,tx2:k,ty2:E,x1:O,y1:L,x2:P,y2:U,width:Y,color:re,borderDash:q,borderDashOffset:_,tickWidth:z,tickColor:G,tickBorderDash:X,tickBorderDashOffset:J}))}return this._ticksLength=u,this._borderValue=b,h}_computeLabelItems(t){const r=this.axis,n=this.options,{position:a,ticks:i}=n,l=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:A,padding:d,mirror:u}=i,m=Cu(n.grid),h=m+d,g=u?-d:h,p=-hl(this.labelRotation),v=[];let x,b,j,w,S,F,I,k,E,O,L,P,U="middle";if(a==="top")F=this.bottom-g,I=this._getXAxisLabelAlignment();else if(a==="bottom")F=this.top+g,I=this._getXAxisLabelAlignment();else if(a==="left"){const V=this._getYAxisLabelAlignment(m);I=V.textAlign,S=V.x}else if(a==="right"){const V=this._getYAxisLabelAlignment(m);I=V.textAlign,S=V.x}else if(r==="x"){if(a==="center")F=(t.top+t.bottom)/2+h;else if(zt(a)){const V=Object.keys(a)[0],Z=a[V];F=this.chart.scales[V].getPixelForValue(Z)+h}I=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")S=(t.left+t.right)/2-h;else if(zt(a)){const V=Object.keys(a)[0],Z=a[V];S=this.chart.scales[V].getPixelForValue(Z)}I=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?U="top":c==="end"&&(U="bottom"));const R=this._getLabelSizes();for(x=0,b=o.length;x<b;++x){j=o[x],w=j.label;const V=i.setContext(this.getContext(x));k=this.getPixelForTick(x)+i.labelOffset,E=this._resolveTickFontOptions(x),O=E.lineHeight,L=Br(w)?w.length:1;const Z=L/2,ae=V.color,D=V.textStrokeColor,Y=V.textStrokeWidth;let re=I;l?(S=k,I==="inner"&&(x===b-1?re=this.options.reverse?"left":"right":x===0?re=this.options.reverse?"right":"left":re="center"),a==="top"?A==="near"||p!==0?P=-L*O+O/2:A==="center"?P=-R.highest.height/2-Z*O+O:P=-R.highest.height+O/2:A==="near"||p!==0?P=O/2:A==="center"?P=R.highest.height/2-Z*O:P=R.highest.height-L*O,u&&(P*=-1),p!==0&&!V.showLabelBackdrop&&(S+=O/2*Math.sin(p))):(F=k,P=(1-L)*O/2);let q;if(V.showLabelBackdrop){const _=ka(V.backdropPadding),z=R.heights[x],G=R.widths[x];let X=P-_.top,J=0-_.left;switch(U){case"middle":X-=z/2;break;case"bottom":X-=z;break}switch(I){case"center":J-=G/2;break;case"right":J-=G;break;case"inner":x===b-1?J-=G:x>0&&(J-=G/2);break}q={left:J,top:X,width:G+_.width,height:z+_.height,color:V.backdropColor}}v.push({label:w,font:E,textOffset:P,options:{rotation:p,color:ae,strokeColor:D,strokeWidth:Y,textAlign:re,textBaseline:U,translation:[S,F],backdrop:q}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-hl(this.labelRotation))return t==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,l=this._getLabelSizes(),o=t+i,c=l.widest.width;let A,d;return r==="left"?a?(d=this.right+i,n==="near"?A="left":n==="center"?(A="center",d+=c/2):(A="right",d+=c)):(d=this.right-o,n==="near"?A="right":n==="center"?(A="center",d-=c/2):(A="left",d=this.left)):r==="right"?a?(d=this.left+i,n==="near"?A="right":n==="center"?(A="center",d-=c/2):(A="left",d-=c)):(d=this.left+o,n==="near"?A="left":n==="center"?(A="center",d+=c/2):(A="right",d=this.right)):A="right",{textAlign:A,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:n,top:a,width:i,height:l}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(n,a,i,l),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===t);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,l;const o=(c,A,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(A.x,A.y),n.stroke(),n.restore())};if(r.display)for(i=0,l=a.length;i<l;++i){const c=a[i];r.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),l=n.display?i.width:0;if(!l)return;const o=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let A,d,u,m;this.isHorizontal()?(A=tc(t,this.left,l)-l/2,d=tc(t,this.right,o)+o/2,u=m=c):(u=tc(t,this.top,l)-l/2,m=tc(t,this.bottom,o)+o/2,A=d=c),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(A,u),r.lineTo(d,m),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&Ew(n,a);const i=this.getLabelItems(t);for(const l of i){const o=l.options,c=l.font,A=l.label,d=l.textOffset;Yh(n,A,0,d,c,o)}a&&Fw(n)}drawTitle(){const{ctx:t,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const i=cn(n.font),l=ka(n.padding),o=n.align;let c=i.lineHeight/2;r==="bottom"||r==="center"||zt(r)?(c+=l.bottom,Br(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=l.top;const{titleX:A,titleY:d,maxWidth:u,rotation:m}=bR(this,c,r,o);Yh(t,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:m,textAlign:yR(o,r,a),textBaseline:"middle",translation:[A,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,n=St(t.grid&&t.grid.z,-1),a=St(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==kd.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,l;for(i=0,l=r.length;i<l;++i){const o=r[i];o[n]===this.id&&(!t||o.type===t)&&a.push(o)}return a}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return cn(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Rf{constructor(t,r,n){this.type=t,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let n;jR(r)&&(n=this.register(r));const a=this.items,i=t.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in a||(a[i]=t,vR(t,l,n),this.override&&ir.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const r=this.items,n=t.id,a=this.scope;n in r&&delete r[n],a&&n in ir[a]&&(delete ir[a][n],this.override&&delete Tc[n])}}function vR(e,t,r){const n=Vh(Object.create(null),[r?ir.get(r):{},ir.get(t),e.defaults]);ir.set(t,n),e.defaultRoutes&&wR(t,e.defaultRoutes),e.descriptors&&ir.describe(t,e.descriptors)}function wR(e,t){Object.keys(t).forEach(r=>{const n=r.split("."),a=n.pop(),i=[e].concat(n).join("."),l=t[r].split("."),o=l.pop(),c=l.join(".");ir.route(i,a,c,o)})}function jR(e){return"id"in e&&"defaults"in e}class NR{constructor(){this.controllers=new Rf(Sc,"datasets",!0),this.elements=new Rf(Ja,"elements"),this.plugins=new Rf(Object,"plugins"),this.scales=new Rf(kd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,n){[...r].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(t,i,a):ns(a,l=>{const o=n||this._getRegistryForType(l);this._exec(t,o,l)})})}_exec(t,r,n){const a=jw(t);Bs(n["before"+a],[],n),r[t](n),Bs(n["after"+a],[],n)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(t))return n}return this.plugins}_get(t,r,n){const a=r.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return a}}var ji=new NR;class BR{constructor(){this._init=[]}notify(t,r,n,a){r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=a?this._descriptors(t).filter(a):this._descriptors(t),l=this._notify(i,t,r,n);return r==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,r,n,a){a=a||{};for(const i of t){const l=i.plugin,o=l[n],c=[r,a,i.options];if(Bs(o,c,l)===!1&&a.cancelable)return!1}return!0}invalidate(){es(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const n=t&&t.config,a=St(n.options&&n.options.plugins,{}),i=CR(n);return a===!1&&!r?[]:ER(t,i,a,r)}_notifyStateChanges(t){const r=this._oldCache||[],n=this._cache,a=(i,l)=>i.filter(o=>!l.some(c=>o.plugin.id===c.plugin.id));this._notify(a(r,n),t,"stop"),this._notify(a(n,r),t,"start")}}function CR(e){const t={},r=[],n=Object.keys(ji.plugins.items);for(let i=0;i<n.length;i++)r.push(ji.getPlugin(n[i]));const a=e.plugins||[];for(let i=0;i<a.length;i++){const l=a[i];r.indexOf(l)===-1&&(r.push(l),t[l.id]=!0)}return{plugins:r,localIds:t}}function SR(e,t){return!t&&e===!1?null:e===!0?{}:e}function ER(e,{plugins:t,localIds:r},n,a){const i=[],l=e.getContext();for(const o of t){const c=o.id,A=SR(n[c],a);A!==null&&i.push({plugin:o,options:FR(e.config,{plugin:o,local:r[c]},A,l)})}return i}function FR(e,{plugin:t,local:r},n,a){const i=e.pluginScopeKeys(t),l=e.getOptionScopes(n,i);return r&&t.defaults&&l.push(t.defaults),e.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function wv(e,t){const r=ir.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function kR(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function _R(e,t){return e===t?"_index_":"_value_"}function y5(e){if(e==="x"||e==="y"||e==="r")return e}function IR(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function jv(e,...t){if(y5(e))return e;for(const r of t){const n=r.axis||IR(r.position)||e.length>1&&y5(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function b5(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function UR(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(r.length)return b5(e,"x",r[0])||b5(e,"y",r[0])}return{}}function LR(e,t){const r=Tc[e.type]||{scales:{}},n=t.scales||{},a=wv(e.type,t),i=Object.create(null);return Object.keys(n).forEach(l=>{const o=n[l];if(!zt(o))return console.error(`Invalid scale configuration for scale: ${l}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const c=jv(l,o,UR(l,e),ir.scales[o.type]),A=_R(c,a),d=r.scales||{};i[l]=Ah(Object.create(null),[{axis:c},o,d[c],d[A]])}),e.data.datasets.forEach(l=>{const o=l.type||e.type,c=l.indexAxis||wv(o,t),d=(Tc[o]||{}).scales||{};Object.keys(d).forEach(u=>{const m=kR(u,c),h=l[m+"AxisID"]||m;i[h]=i[h]||Object.create(null),Ah(i[h],[{axis:m},n[h],d[u]])})}),Object.keys(i).forEach(l=>{const o=i[l];Ah(o,[ir.scales[o.type],ir.scale])}),i}function sE(e){const t=e.options||(e.options={});t.plugins=St(t.plugins,{}),t.scales=LR(e,t)}function rE(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function QR(e){return e=e||{},e.data=rE(e.data),sE(e),e}const v5=new Map,nE=new Set;function Of(e,t){let r=v5.get(e);return r||(r=t(),v5.set(e,r),nE.add(r)),r}const Su=(e,t,r)=>{const n=Mc(t,r);n!==void 0&&e.add(n)};let PR=class{constructor(t){this._config=QR(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=rE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),sE(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Of(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return Of(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return Of(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,n=this.type;return Of(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const n=this._scopeCache;let a=n.get(t);return(!a||r)&&(a=new Map,n.set(t,a)),a}getOptionScopes(t,r,n){const{options:a,type:i}=this,l=this._cachedScopes(t,n),o=l.get(r);if(o)return o;const c=new Set;r.forEach(d=>{t&&(c.add(t),d.forEach(u=>Su(c,t,u))),d.forEach(u=>Su(c,a,u)),d.forEach(u=>Su(c,Tc[i]||{},u)),d.forEach(u=>Su(c,ir,u)),d.forEach(u=>Su(c,bv,u))});const A=Array.from(c);return A.length===0&&A.push(Object.create(null)),nE.has(r)&&l.set(r,A),A}chartOptionScopes(){const{options:t,type:r}=this;return[t,Tc[r]||{},ir.datasets[r]||{},{type:r},ir,bv]}resolveNamedOptions(t,r,n,a=[""]){const i={$shared:!0},{resolver:l,subPrefixes:o}=w5(this._resolverCache,t,a);let c=l;if(MR(l,r)){i.$shared=!1,n=ko(n)?n():n;const A=this.createResolver(t,n,o);c=fd(l,n,A)}for(const A of r)i[A]=c[A];return i}createResolver(t,r,n=[""],a){const{resolver:i}=w5(this._resolverCache,t,n);return zt(r)?fd(i,r,void 0,a):i}};function w5(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const a=r.join();let i=n.get(a);return i||(i={resolver:_w(t,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(a,i)),i}const DR=e=>zt(e)&&Object.getOwnPropertyNames(e).some(t=>ko(e[t]));function MR(e,t){const{isScriptable:r,isIndexable:n}=R6(e);for(const a of t){const i=r(a),l=n(a),o=(l||i)&&e[a];if(i&&(ko(o)||DR(o))||l&&Br(o))return!0}return!1}var TR="4.5.0";const RR=["top","bottom","left","right","chartArea"];function j5(e,t){return e==="top"||e==="bottom"||RR.indexOf(e)===-1&&t==="x"}function N5(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function B5(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),Bs(r&&r.onComplete,[e],t)}function OR(e){const t=e.chart,r=t.options.animation;Bs(r&&r.onProgress,[e],t)}function aE(e){return Lw()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const G0={},C5=e=>{const t=aE(e);return Object.values(G0).filter(r=>r.canvas===t).pop()};function HR(e,t,r){const n=Object.keys(e);for(const a of n){const i=+a;if(i>=t){const l=e[a];delete e[a],(r>0||i>t)&&(e[i+r]=l)}}}function KR(e,t,r,n){return!r||e.type==="mouseout"?null:n?t:e}var zl;let $c=(zl=class{static register(...t){ji.add(...t),S5()}static unregister(...t){ji.remove(...t),S5()}constructor(t,r){const n=this.config=new PR(r),a=aE(t),i=C5(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||lR(a)),this.platform.updateConfig(n);const o=this.platform.acquireContext(a,l.aspectRatio),c=o&&o.canvas,A=c&&c.height,d=c&&c.width;if(this.id=TD(),this.ctx=o,this.canvas=c,this.width=d,this.height=A,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new BR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=nM(u=>this.update(u),l.resizeDelay||0),this._dataChanges=[],G0[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}nl.listen(this,"complete",B5),nl.listen(this,"progress",OR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:n,height:a,_aspectRatio:i}=this;return es(t)?r&&i?i:a?n/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ji}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():WN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $N(this.canvas,this.ctx),this}stop(){return nl.stop(this),this}resize(t,r){nl.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,t,r,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,WN(this,o,!0)&&(this.notifyPlugins("resize",{size:l}),Bs(n.onResize,[this,l],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};ns(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const t=this.options,r=t.scales,n=this.scales,a=Object.keys(n).reduce((l,o)=>(l[o]=!1,l),{});let i=[];r&&(i=i.concat(Object.keys(r).map(l=>{const o=r[l],c=jv(l,o),A=c==="r",d=c==="x";return{options:o,dposition:A?"chartArea":d?"bottom":"left",dtype:A?"radialLinear":d?"category":"linear"}}))),ns(i,l=>{const o=l.options,c=o.id,A=jv(c,o),d=St(o.type,l.dtype);(o.position===void 0||j5(o.position,A)!==j5(l.dposition))&&(o.position=l.dposition),a[c]=!0;let u=null;if(c in n&&n[c].type===d)u=n[c];else{const m=ji.getScale(d);u=new m({id:c,type:d,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(o,t)}),ns(a,(l,o)=>{l||delete n[o]}),ns(n,l=>{wa.configure(this,l,l.options),wa.addBox(this,l)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,n=t.length;if(t.sort((a,i)=>a.index-i.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);t.splice(r,n-r)}this._sortedMetasets=t.slice(0).sort(N5("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((n,a)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const i=r[n];let l=this.getDatasetMeta(n);const o=i.type||this.config.type;if(l.type&&l.type!==o&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=o,l.indexAxis=i.indexAxis||wv(o,this.options),l.order=i.order||0,l.index=n,l.label=""+i.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const c=ji.getController(o),{datasetElementType:A,dataElementType:d}=ir.datasets[o];Object.assign(c,{dataElementType:ji.getElement(d),datasetElementType:A&&ji.getElement(A)}),l.controller=new c(this,n),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){ns(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let A=0,d=this.data.datasets.length;A<d;A++){const{controller:u}=this.getDatasetMeta(A),m=!a&&i.indexOf(u)===-1;u.buildOrUpdateElements(m),l=Math.max(+u.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),a||ns(i,A=>{A.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(N5("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){ns(this.scales,t=>{wa.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!PN(r,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of r){const l=n==="_removeElements"?-i:i;HR(t,a,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(t.filter(l=>l[0]===i).map((l,o)=>o+","+l.splice(1).join(","))),a=n(0);for(let i=1;i<r;i++)if(!PN(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;wa.update(this,this.width,this.height,t);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],ns(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,ko(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const n=this.getDatasetMeta(t),a={meta:n,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(nl.has(this)?this.attached&&!nl.running(this)&&nl.start(this):(this.draw(),B5({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,n=[];let a,i;for(a=0,i=r.length;a<i;++a){const l=r[a];(!t||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,n={meta:t,index:t.index,cancelable:!0},a=cT(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&Ew(r,a),t.controller.draw(),a&&Fw(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return Wh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,n,a){const i=RT.modes[r];return typeof i=="function"?i(this,t,n,a):[]}getDatasetMeta(t){const r=this.data.datasets[t],n=this._metasets;let a=n.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Vc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(t,r){const n=this.getDatasetMeta(t);n.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,n){const a=n?"show":"hide",i=this.getDatasetMeta(t),l=i.controller._resolveAnimations(void 0,a);$h(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),l.update(i,{visible:n}),this.update(o=>o.datasetIndex===t?a:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),nl.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),$N(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete G0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,n=(i,l)=>{r.addEventListener(this,i,l),t[i]=l},a=(i,l,o)=>{i.offsetX=l,i.offsetY=o,this._eventHandler(i)};ns(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,n=(c,A)=>{r.addEventListener(this,c,A),t[c]=A},a=(c,A)=>{t[c]&&(r.removeEventListener(this,c,A),delete t[c])},i=(c,A)=>{this.canvas&&this.resize(c,A)};let l;const o=()=>{a("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",l)};l=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():l()}unbindEvents(){ns(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},ns(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,n){const a=n?"set":"remove";let i,l,o,c;for(r==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),o=0,c=t.length;o<c;++o){l=t[o];const A=l&&this.getDatasetMeta(l.datasetIndex).controller;A&&A[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],n=t.map(({datasetIndex:i,index:l})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[l],index:l}});!Ux(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(t,r,n){return this._plugins.notify(this,t,r,n)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,n){const a=this.options.hover,i=(c,A)=>c.filter(d=>!A.some(u=>d.datasetIndex===u.datasetIndex&&d.index===u.index)),l=i(r,t),o=n?t:i(t,r);l.length&&this.updateHoverStyle(l,a.mode,!1),o.length&&a.mode&&this.updateHoverStyle(o,a.mode,!0)}_eventHandler(t,r){const n={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},a=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(t,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(t,r,n){const{_active:a=[],options:i}=this,l=r,o=this._getActiveElements(t,a,n,l),c=VD(t),A=KR(t,this._lastEvent,n,c);n&&(this._lastEvent=null,Bs(i.onHover,[t,o,this],this),c&&Bs(i.onClick,[t,o,this],this));const d=!Ux(o,a);return(d||r)&&(this._active=o,this._updateHoverStyles(o,a,r)),this._lastEvent=A,d}_getActiveElements(t,r,n,a){if(t.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,a)}},_e(zl,"defaults",ir),_e(zl,"instances",G0),_e(zl,"overrides",Tc),_e(zl,"registry",ji),_e(zl,"version",TR),_e(zl,"getChart",C5),zl);function S5(){return ns($c.instances,e=>e._plugins.invalidate())}function zR(e,t,r){const{startAngle:n,x:a,y:i,outerRadius:l,innerRadius:o,options:c}=t,{borderWidth:A,borderJoinStyle:d}=c,u=Math.min(A/l,Va(n-r));if(e.beginPath(),e.arc(a,i,l-A/2,n+u/2,r-u/2),o>0){const m=Math.min(A/o,Va(n-r));e.arc(a,i,o+A/2,r-m/2,n+m/2,!0)}else{const m=Math.min(A/2,l*Va(n-r));if(d==="round")e.arc(a,i,m,r-is/2,n+is/2,!0);else if(d==="bevel"){const h=2*m*m,g=-h*Math.cos(r+is/2)+a,p=-h*Math.sin(r+is/2)+i,v=h*Math.cos(n+is/2)+a,x=h*Math.sin(n+is/2)+i;e.lineTo(g,p),e.lineTo(v,x)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function VR(e,t,r){const{startAngle:n,pixelMargin:a,x:i,y:l,outerRadius:o,innerRadius:c}=t;let A=a/o;e.beginPath(),e.arc(i,l,o,n-A,r+A),c>a?(A=a/c,e.arc(i,l,c,r+A,n-A,!0)):e.arc(i,l,a,r+Sr,n-Sr),e.closePath(),e.clip()}function $R(e){return kw(e,["outerStart","outerEnd","innerStart","innerEnd"])}function GR(e,t,r,n){const a=$R(e.options.borderRadius),i=(r-t)/2,l=Math.min(i,n*t/2),o=c=>{const A=(r-Math.min(i,c))*n/2;return on(c,0,Math.min(i,A))};return{outerStart:o(a.outerStart),outerEnd:o(a.outerEnd),innerStart:on(a.innerStart,0,l),innerEnd:on(a.innerEnd,0,l)}}function mA(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function Tx(e,t,r,n,a,i){const{x:l,y:o,startAngle:c,pixelMargin:A,innerRadius:d}=t,u=Math.max(t.outerRadius+n+r-A,0),m=d>0?d+n+r+A:0;let h=0;const g=a-c;if(n){const V=d>0?d-n:0,Z=u>0?u-n:0,ae=(V+Z)/2,D=ae!==0?g*ae/(ae+n):g;h=(g-D)/2}const p=Math.max(.001,g*u-r/is)/u,v=(g-p)/2,x=c+v+h,b=a-v-h,{outerStart:j,outerEnd:w,innerStart:S,innerEnd:F}=GR(t,m,u,b-x),I=u-j,k=u-w,E=x+j/I,O=b-w/k,L=m+S,P=m+F,U=x+S/L,R=b-F/P;if(e.beginPath(),i){const V=(E+O)/2;if(e.arc(l,o,u,E,V),e.arc(l,o,u,V,O),w>0){const Y=mA(k,O,l,o);e.arc(Y.x,Y.y,w,O,b+Sr)}const Z=mA(P,b,l,o);if(e.lineTo(Z.x,Z.y),F>0){const Y=mA(P,R,l,o);e.arc(Y.x,Y.y,F,b+Sr,R+Math.PI)}const ae=(b-F/m+(x+S/m))/2;if(e.arc(l,o,m,b-F/m,ae,!0),e.arc(l,o,m,ae,x+S/m,!0),S>0){const Y=mA(L,U,l,o);e.arc(Y.x,Y.y,S,U+Math.PI,x-Sr)}const D=mA(I,x,l,o);if(e.lineTo(D.x,D.y),j>0){const Y=mA(I,E,l,o);e.arc(Y.x,Y.y,j,x-Sr,E)}}else{e.moveTo(l,o);const V=Math.cos(E)*u+l,Z=Math.sin(E)*u+o;e.lineTo(V,Z);const ae=Math.cos(O)*u+l,D=Math.sin(O)*u+o;e.lineTo(ae,D)}e.closePath()}function qR(e,t,r,n,a){const{fullCircles:i,startAngle:l,circumference:o}=t;let c=t.endAngle;if(i){Tx(e,t,r,n,c,a);for(let A=0;A<i;++A)e.fill();isNaN(o)||(c=l+(o%zs||zs))}return Tx(e,t,r,n,c,a),e.fill(),c}function WR(e,t,r,n,a){const{fullCircles:i,startAngle:l,circumference:o,options:c}=t,{borderWidth:A,borderJoinStyle:d,borderDash:u,borderDashOffset:m,borderRadius:h}=c,g=c.borderAlign==="inner";if(!A)return;e.setLineDash(u||[]),e.lineDashOffset=m,g?(e.lineWidth=A*2,e.lineJoin=d||"round"):(e.lineWidth=A,e.lineJoin=d||"bevel");let p=t.endAngle;if(i){Tx(e,t,r,n,p,a);for(let v=0;v<i;++v)e.stroke();isNaN(o)||(p=l+(o%zs||zs))}g&&VR(e,t,p),c.selfJoin&&p-l>=is&&h===0&&d!=="miter"&&zR(e,t,p),i||(Tx(e,t,r,n,p,a),e.stroke())}class Hu extends Ja{constructor(r){super();_e(this,"circumference");_e(this,"endAngle");_e(this,"fullCircles");_e(this,"innerRadius");_e(this,"outerRadius");_e(this,"pixelMargin");_e(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const i=this.getProps(["x","y"],a),{angle:l,distance:o}=_6(i,{x:r,y:n}),{startAngle:c,endAngle:A,innerRadius:d,outerRadius:u,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),h=(this.options.spacing+this.options.borderWidth)/2,g=St(m,A-c),p=qh(l,c,A)&&c!==A,v=g>=zs||p,x=ro(o,d+h,u+h);return v&&x}getCenterPoint(r){const{x:n,y:a,startAngle:i,endAngle:l,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:A,spacing:d}=this.options,u=(i+l)/2,m=(o+c+d+A)/2;return{x:n+Math.cos(u)*m,y:a+Math.sin(u)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,i=(n.offset||0)/4,l=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>zs?Math.floor(a/zs):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*i,Math.sin(c)*i);const A=1-Math.sin(Math.min(is,a||0)),d=i*A;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,qR(r,this,d,l,o),WR(r,this,d,l,o),r.restore()}}_e(Hu,"id","arc"),_e(Hu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),_e(Hu,"defaultRoutes",{backgroundColor:"backgroundColor"}),_e(Hu,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function iE(e,t,r=t){e.lineCap=St(r.borderCapStyle,t.borderCapStyle),e.setLineDash(St(r.borderDash,t.borderDash)),e.lineDashOffset=St(r.borderDashOffset,t.borderDashOffset),e.lineJoin=St(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=St(r.borderWidth,t.borderWidth),e.strokeStyle=St(r.borderColor,t.borderColor)}function YR(e,t,r){e.lineTo(r.x,r.y)}function XR(e){return e.stepped?gM:e.tension||e.cubicInterpolationMode==="monotone"?pM:YR}function lE(e,t,r={}){const n=e.length,{start:a=0,end:i=n-1}=r,{start:l,end:o}=t,c=Math.max(a,l),A=Math.min(i,o),d=a<l&&i<l||a>o&&i>o;return{count:n,start:c,loop:t.loop,ilen:A<c&&!d?n+A-c:A-c}}function JR(e,t,r,n){const{points:a,options:i}=t,{count:l,start:o,loop:c,ilen:A}=lE(a,r,n),d=XR(i);let{move:u=!0,reverse:m}=n||{},h,g,p;for(h=0;h<=A;++h)g=a[(o+(m?A-h:h))%l],!g.skip&&(u?(e.moveTo(g.x,g.y),u=!1):d(e,p,g,m,i.stepped),p=g);return c&&(g=a[(o+(m?A:0))%l],d(e,p,g,m,i.stepped)),!!c}function ZR(e,t,r,n){const a=t.points,{count:i,start:l,ilen:o}=lE(a,r,n),{move:c=!0,reverse:A}=n||{};let d=0,u=0,m,h,g,p,v,x;const b=w=>(l+(A?o-w:w))%i,j=()=>{p!==v&&(e.lineTo(d,v),e.lineTo(d,p),e.lineTo(d,x))};for(c&&(h=a[b(0)],e.moveTo(h.x,h.y)),m=0;m<=o;++m){if(h=a[b(m)],h.skip)continue;const w=h.x,S=h.y,F=w|0;F===g?(S<p?p=S:S>v&&(v=S),d=(u*d+w)/++u):(j(),e.lineTo(w,S),g=F,u=0,p=v=S),x=S}j()}function Nv(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?ZR:JR}function e7(e){return e.stepped?YM:e.tension||e.cubicInterpolationMode==="monotone"?XM:lc}function t7(e,t,r,n){let a=t._path;a||(a=t._path=new Path2D,t.path(a,r,n)&&a.closePath()),iE(e,t.options),e.stroke(a)}function s7(e,t,r,n){const{segments:a,options:i}=t,l=Nv(t);for(const o of a)iE(e,i,o.style),e.beginPath(),l(e,t,o,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}const r7=typeof Path2D=="function";function n7(e,t,r,n){r7&&!t.options.segment?t7(e,t,r,n):s7(e,t,r,n)}class Ku extends Ja{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;HM(this._points,n,t,a,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=aT(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,n=t.length;return n&&r[t[n-1].end]}interpolate(t,r){const n=this.options,a=t[r],i=this.points,l=sT(this,{property:r,start:a,end:a});if(!l.length)return;const o=[],c=e7(n);let A,d;for(A=0,d=l.length;A<d;++A){const{start:u,end:m}=l[A],h=i[u],g=i[m];if(h===g){o.push(h);continue}const p=Math.abs((a-h[r])/(g[r]-h[r])),v=c(h,g,p,n.stepped);v[r]=t[r],o.push(v)}return o.length===1?o[0]:o}pathSegment(t,r,n){return Nv(this)(t,this,r,n)}path(t,r,n){const a=this.segments,i=Nv(this);let l=this._loop;r=r||0,n=n||this.points.length-r;for(const o of a)l&=i(t,this,o,{start:r,end:r+n-1});return!!l}draw(t,r,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),n7(t,this,n,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}_e(Ku,"id","line"),_e(Ku,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),_e(Ku,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),_e(Ku,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function E5(e,t,r,n){const a=e.options,{[r]:i}=e.getProps([r],n);return Math.abs(t-i)<a.radius+a.hitRadius}class q0 extends Ja{constructor(r){super();_e(this,"parsed");_e(this,"skip");_e(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const i=this.options,{x:l,y:o}=this.getProps(["x","y"],a);return Math.pow(r-l,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return E5(this,r,"x",n)}inYRange(r,n){return E5(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!Wh(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,vv(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}_e(q0,"id","point"),_e(q0,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),_e(q0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function oE(e,t){const{x:r,y:n,base:a,width:i,height:l}=e.getProps(["x","y","base","width","height"],t);let o,c,A,d,u;return e.horizontal?(u=l/2,o=Math.min(r,a),c=Math.max(r,a),A=n-u,d=n+u):(u=i/2,o=r-u,c=r+u,A=Math.min(n,a),d=Math.max(n,a)),{left:o,top:A,right:c,bottom:d}}function no(e,t,r,n){return e?0:on(t,r,n)}function a7(e,t,r){const n=e.options.borderWidth,a=e.borderSkipped,i=T6(n);return{t:no(a.top,i.top,0,r),r:no(a.right,i.right,0,t),b:no(a.bottom,i.bottom,0,r),l:no(a.left,i.left,0,t)}}function i7(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,i=XA(a),l=Math.min(t,r),o=e.borderSkipped,c=n||zt(a);return{topLeft:no(!c||o.top||o.left,i.topLeft,0,l),topRight:no(!c||o.top||o.right,i.topRight,0,l),bottomLeft:no(!c||o.bottom||o.left,i.bottomLeft,0,l),bottomRight:no(!c||o.bottom||o.right,i.bottomRight,0,l)}}function l7(e){const t=oE(e),r=t.right-t.left,n=t.bottom-t.top,a=a7(e,r/2,n/2),i=i7(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function gy(e,t,r,n){const a=t===null,i=r===null,o=e&&!(a&&i)&&oE(e,n);return o&&(a||ro(t,o.left,o.right))&&(i||ro(r,o.top,o.bottom))}function o7(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function c7(e,t){e.rect(t.x,t.y,t.w,t.h)}function py(e,t,r={}){const n=e.x!==r.x?-t:0,a=e.y!==r.y?-t:0,i=(e.x+e.w!==r.x+r.w?t:0)-n,l=(e.y+e.h!==r.y+r.h?t:0)-a;return{x:e.x+n,y:e.y+a,w:e.w+i,h:e.h+l,radius:e.radius}}class mh extends Ja{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:l}=l7(this),o=o7(l.radius)?Px:c7;t.save(),(l.w!==i.w||l.h!==i.h)&&(t.beginPath(),o(t,py(l,r,i)),t.clip(),o(t,py(i,-r,l)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,py(i,r)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,r,n){return gy(this,t,r,n)}inXRange(t,r){return gy(this,t,null,r)}inYRange(t,r){return gy(this,null,t,r)}getCenterPoint(t){const{x:r,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(r+a)/2:r,y:i?n:(n+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}_e(mh,"id","bar"),_e(mh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),_e(mh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const F5=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}},A7=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class k5 extends Ja{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,n){this.maxWidth=t,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let r=Bs(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(n=>t.filter(n,this.chart.data))),t.sort&&(r=r.sort((n,a)=>t.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,a=cn(n.font),i=a.size,l=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=F5(n,i);let A,d;r.font=a.string,this.isHorizontal()?(A=this.maxWidth,d=this._fitRows(l,i,o,c)+10):(d=this.maxHeight,A=this._fitCols(l,a,o,c)+10),this.width=Math.min(A,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,r,n,a){const{ctx:i,maxWidth:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],A=this.lineWidths=[0],d=a+o;let u=t;i.textAlign="left",i.textBaseline="middle";let m=-1,h=-d;return this.legendItems.forEach((g,p)=>{const v=n+r/2+i.measureText(g.text).width;(p===0||A[A.length-1]+v+2*o>l)&&(u+=d,A[A.length-(p>0?0:1)]=0,h+=d,m++),c[p]={left:0,top:h,row:m,width:v,height:a},A[A.length-1]+=v+o}),u}_fitCols(t,r,n,a){const{ctx:i,maxHeight:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],A=this.columnSizes=[],d=l-t;let u=o,m=0,h=0,g=0,p=0;return this.legendItems.forEach((v,x)=>{const{itemWidth:b,itemHeight:j}=d7(n,r,i,v,a);x>0&&h+j+2*o>d&&(u+=m+o,A.push({width:m,height:h}),g+=m+o,p++,m=h=0),c[x]={left:g,top:h,col:p,width:b,height:j},m=Math.max(m,b),h+=j+o}),u+=m,A.push({width:m,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:i}}=this,l=JA(i,this.left,this.width);if(this.isHorizontal()){let o=0,c=rn(n,this.left+a,this.right-this.lineWidths[o]);for(const A of r)o!==A.row&&(o=A.row,c=rn(n,this.left+a,this.right-this.lineWidths[o])),A.top+=this.top+t+a,A.left=l.leftForLtr(l.x(c),A.width),c+=A.width+a}else{let o=0,c=rn(n,this.top+t+a,this.bottom-this.columnSizes[o].height);for(const A of r)A.col!==o&&(o=A.col,c=rn(n,this.top+t+a,this.bottom-this.columnSizes[o].height)),A.top=c,A.left+=this.left+a,A.left=l.leftForLtr(l.x(A.left),A.width),c+=A.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ew(t,this),this._draw(),Fw(t)}}_draw(){const{options:t,columnSizes:r,lineWidths:n,ctx:a}=this,{align:i,labels:l}=t,o=ir.color,c=JA(t.rtl,this.left,this.width),A=cn(l.font),{padding:d}=l,u=A.size,m=u/2;let h;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=A.string;const{boxWidth:g,boxHeight:p,itemHeight:v}=F5(l,u),x=function(F,I,k){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;a.save();const E=St(k.lineWidth,1);if(a.fillStyle=St(k.fillStyle,o),a.lineCap=St(k.lineCap,"butt"),a.lineDashOffset=St(k.lineDashOffset,0),a.lineJoin=St(k.lineJoin,"miter"),a.lineWidth=E,a.strokeStyle=St(k.strokeStyle,o),a.setLineDash(St(k.lineDash,[])),l.usePointStyle){const O={radius:p*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:E},L=c.xPlus(F,g/2),P=I+m;M6(a,O,L,P,l.pointStyleWidth&&g)}else{const O=I+Math.max((u-p)/2,0),L=c.leftForLtr(F,g),P=XA(k.borderRadius);a.beginPath(),Object.values(P).some(U=>U!==0)?Px(a,{x:L,y:O,w:g,h:p,radius:P}):a.rect(L,O,g,p),a.fill(),E!==0&&a.stroke()}a.restore()},b=function(F,I,k){Yh(a,k.text,F,I+v/2,A,{strikethrough:k.hidden,textAlign:c.textAlign(k.textAlign)})},j=this.isHorizontal(),w=this._computeTitleHeight();j?h={x:rn(i,this.left+d,this.right-n[0]),y:this.top+d+w,line:0}:h={x:this.left+d,y:rn(i,this.top+w+d,this.bottom-r[0].height),line:0},V6(this.ctx,t.textDirection);const S=v+d;this.legendItems.forEach((F,I)=>{a.strokeStyle=F.fontColor,a.fillStyle=F.fontColor;const k=a.measureText(F.text).width,E=c.textAlign(F.textAlign||(F.textAlign=l.textAlign)),O=g+m+k;let L=h.x,P=h.y;c.setWidth(this.width),j?I>0&&L+O+d>this.right&&(P=h.y+=S,h.line++,L=h.x=rn(i,this.left+d,this.right-n[h.line])):I>0&&P+S>this.bottom&&(L=h.x=L+r[h.line].width+d,h.line++,P=h.y=rn(i,this.top+w+d,this.bottom-r[h.line].height));const U=c.x(L);if(x(U,P,F),L=aM(E,L+g+m,j?L+O:this.right,t.rtl),b(c.x(L),P,F),j)h.x+=O+d;else if(typeof F.text!="string"){const R=A.lineHeight;h.y+=cE(F,R)+d}else h.y+=S}),$6(this.ctx,t.textDirection)}drawTitle(){const t=this.options,r=t.title,n=cn(r.font),a=ka(r.padding);if(!r.display)return;const i=JA(t.rtl,this.left,this.width),l=this.ctx,o=r.position,c=n.size/2,A=a.top+c;let d,u=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+A,u=rn(t.align,u,this.right-m);else{const g=this.columnSizes.reduce((p,v)=>Math.max(p,v.height),0);d=A+rn(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const h=rn(o,u,u+m);l.textAlign=i.textAlign(Bw(o)),l.textBaseline="middle",l.strokeStyle=r.color,l.fillStyle=r.color,l.font=n.string,Yh(l,r.text,h,d,n)}_computeTitleHeight(){const t=this.options.title,r=cn(t.font),n=ka(t.padding);return t.display?r.lineHeight+n.height:0}_getLegendItemAt(t,r){let n,a,i;if(ro(t,this.left,this.right)&&ro(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],ro(t,a.left,a.left+a.width)&&ro(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(t){const r=this.options;if(!m7(t.type,r))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,i=A7(a,n);a&&!i&&Bs(r.onLeave,[t,a,this],this),this._hoveredItem=n,n&&!i&&Bs(r.onHover,[t,n,this],this)}else n&&Bs(r.onClick,[t,n,this],this)}}function d7(e,t,r,n,a){const i=u7(n,e,t,r),l=h7(a,n,t.lineHeight);return{itemWidth:i,itemHeight:l}}function u7(e,t,r,n){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((i,l)=>i.length>l.length?i:l)),t+r.size/2+n.measureText(a).width}function h7(e,t,r){let n=e;return typeof t.text!="string"&&(n=cE(t,r)),n}function cE(e,t){const r=e.text?e.text.length:0;return t*r}function m7(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Ig={id:"legend",_element:k5,start(e,t,r){const n=e.legend=new k5({ctx:e.ctx,options:r,chart:e});wa.configure(e,n,r),wa.addBox(e,n)},stop(e){wa.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;wa.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),t.hidden=!0):(a.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:i,useBorderRadius:l,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const A=c.controller.getStyle(r?0:void 0),d=ka(A.borderWidth);return{text:t[c.index].label,fillStyle:A.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:A.borderCapStyle,lineDash:A.borderDash,lineDashOffset:A.borderDashOffset,lineJoin:A.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:A.borderColor,pointStyle:n||A.pointStyle,rotation:A.rotation,textAlign:a||A.textAlign,borderRadius:l&&(o||A.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class AE extends Ja{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;const a=Br(n.text)?n.text.length:1;this._padding=ka(n.padding);const i=a*cn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:r,left:n,bottom:a,right:i,options:l}=this,o=l.align;let c=0,A,d,u;return this.isHorizontal()?(d=rn(o,n,i),u=r+t,A=i-n):(l.position==="left"?(d=n+t,u=rn(o,a,r),c=is*-.5):(d=i-t,u=rn(o,r,a),c=is*.5),A=a-r),{titleX:d,titleY:u,maxWidth:A,rotation:c}}draw(){const t=this.ctx,r=this.options;if(!r.display)return;const n=cn(r.font),i=n.lineHeight/2+this._padding.top,{titleX:l,titleY:o,maxWidth:c,rotation:A}=this._drawArgs(i);Yh(t,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:A,textAlign:Bw(r.align),textBaseline:"middle",translation:[l,o]})}}function f7(e,t){const r=new AE({ctx:e.ctx,options:t,chart:e});wa.configure(e,r,t),wa.addBox(e,r),e.titleBlock=r}var Dw={id:"title",_element:AE,start(e,t,r){f7(e,r)},stop(e){const t=e.titleBlock;wa.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const n=e.titleBlock;wa.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zu={average(e){if(!e.length)return!1;let t,r,n=new Set,a=0,i=0;for(t=0,r=e.length;t<r;++t){const o=e[t].element;if(o&&o.hasValue()){const c=o.tooltipPosition();n.add(c.x),a+=c.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((o,c)=>o+c)/n.size,y:a/i}},nearest(e,t){if(!e.length)return!1;let r=t.x,n=t.y,a=Number.POSITIVE_INFINITY,i,l,o;for(i=0,l=e.length;i<l;++i){const c=e[i].element;if(c&&c.hasValue()){const A=c.getCenterPoint(),d=yv(t,A);d<a&&(a=d,o=c)}}if(o){const c=o.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function bi(e,t){return t&&(Br(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function al(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function x7(e,t){const{element:r,datasetIndex:n,index:a}=t,i=e.getDatasetMeta(n).controller,{label:l,value:o}=i.getLabelAndValue(a);return{chart:e,label:l,parsed:i.getParsed(a),raw:e.data.datasets[n].data[a],formattedValue:o,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function _5(e,t){const r=e.chart.ctx,{body:n,footer:a,title:i}=e,{boxWidth:l,boxHeight:o}=t,c=cn(t.bodyFont),A=cn(t.titleFont),d=cn(t.footerFont),u=i.length,m=a.length,h=n.length,g=ka(t.padding);let p=g.height,v=0,x=n.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(x+=e.beforeBody.length+e.afterBody.length,u&&(p+=u*A.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),x){const w=t.displayColors?Math.max(o,c.lineHeight):c.lineHeight;p+=h*w+(x-h)*c.lineHeight+(x-1)*t.bodySpacing}m&&(p+=t.footerMarginTop+m*d.lineHeight+(m-1)*t.footerSpacing);let b=0;const j=function(w){v=Math.max(v,r.measureText(w).width+b)};return r.save(),r.font=A.string,ns(e.title,j),r.font=c.string,ns(e.beforeBody.concat(e.afterBody),j),b=t.displayColors?l+2+t.boxPadding:0,ns(n,w=>{ns(w.before,j),ns(w.lines,j),ns(w.after,j)}),b=0,r.font=d.string,ns(e.footer,j),r.restore(),v+=g.width,{width:v,height:p}}function g7(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}function p7(e,t,r,n){const{x:a,width:i}=n,l=r.caretSize+r.caretPadding;if(e==="left"&&a+i+l>t.width||e==="right"&&a-i-l<0)return!0}function y7(e,t,r,n){const{x:a,width:i}=r,{width:l,chartArea:{left:o,right:c}}=e;let A="center";return n==="center"?A=a<=(o+c)/2?"left":"right":a<=i/2?A="left":a>=l-i/2&&(A="right"),p7(A,e,t,r)&&(A="center"),A}function I5(e,t,r){const n=r.yAlign||t.yAlign||g7(e,r);return{xAlign:r.xAlign||t.xAlign||y7(e,t,r,n),yAlign:n}}function b7(e,t){let{x:r,width:n}=e;return t==="right"?r-=n:t==="center"&&(r-=n/2),r}function v7(e,t,r){let{y:n,height:a}=e;return t==="top"?n+=r:t==="bottom"?n-=a+r:n-=a/2,n}function U5(e,t,r,n){const{caretSize:a,caretPadding:i,cornerRadius:l}=e,{xAlign:o,yAlign:c}=r,A=a+i,{topLeft:d,topRight:u,bottomLeft:m,bottomRight:h}=XA(l);let g=b7(t,o);const p=v7(t,c,A);return c==="center"?o==="left"?g+=A:o==="right"&&(g-=A):o==="left"?g-=Math.max(d,m)+a:o==="right"&&(g+=Math.max(u,h)+a),{x:on(g,0,n.width-t.width),y:on(p,0,n.height-t.height)}}function Hf(e,t,r){const n=ka(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function L5(e){return bi([],al(e))}function w7(e,t,r){return Vc(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function Q5(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const dE={beforeTitle:Zi,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:Zi,beforeBody:Zi,beforeLabel:Zi,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return es(r)||(t+=r),t},labelColor(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Zi,afterBody:Zi,beforeFooter:Zi,footer:Zi,afterFooter:Zi};function Cn(e,t,r,n){const a=e[t].call(r,n);return typeof a>"u"?dE[t].call(r,n):a}class Bv extends Ja{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,i=new q6(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=w7(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:n}=r,a=Cn(n,"beforeTitle",this,t),i=Cn(n,"title",this,t),l=Cn(n,"afterTitle",this,t);let o=[];return o=bi(o,al(a)),o=bi(o,al(i)),o=bi(o,al(l)),o}getBeforeBody(t,r){return L5(Cn(r.callbacks,"beforeBody",this,t))}getBody(t,r){const{callbacks:n}=r,a=[];return ns(t,i=>{const l={before:[],lines:[],after:[]},o=Q5(n,i);bi(l.before,al(Cn(o,"beforeLabel",this,i))),bi(l.lines,Cn(o,"label",this,i)),bi(l.after,al(Cn(o,"afterLabel",this,i))),a.push(l)}),a}getAfterBody(t,r){return L5(Cn(r.callbacks,"afterBody",this,t))}getFooter(t,r){const{callbacks:n}=r,a=Cn(n,"beforeFooter",this,t),i=Cn(n,"footer",this,t),l=Cn(n,"afterFooter",this,t);let o=[];return o=bi(o,al(a)),o=bi(o,al(i)),o=bi(o,al(l)),o}_createItems(t){const r=this._active,n=this.chart.data,a=[],i=[],l=[];let o=[],c,A;for(c=0,A=r.length;c<A;++c)o.push(x7(this.chart,r[c]));return t.filter&&(o=o.filter((d,u,m)=>t.filter(d,u,m,n))),t.itemSort&&(o=o.sort((d,u)=>t.itemSort(d,u,n))),ns(o,d=>{const u=Q5(t.callbacks,d);a.push(Cn(u,"labelColor",this,d)),i.push(Cn(u,"labelPointStyle",this,d)),l.push(Cn(u,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=o,o}update(t,r){const n=this.options.setContext(this.getContext()),a=this._active;let i,l=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const o=zu[n.position].call(this,a,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const c=this._size=_5(this,n),A=Object.assign({},o,c),d=I5(this.chart,n,A),u=U5(n,A,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:u.x,y:u.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,n,a){const i=this.getCaretPosition(t,n,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(t,r,n){const{xAlign:a,yAlign:i}=this,{caretSize:l,cornerRadius:o}=n,{topLeft:c,topRight:A,bottomLeft:d,bottomRight:u}=XA(o),{x:m,y:h}=t,{width:g,height:p}=r;let v,x,b,j,w,S;return i==="center"?(w=h+p/2,a==="left"?(v=m,x=v-l,j=w+l,S=w-l):(v=m+g,x=v+l,j=w-l,S=w+l),b=v):(a==="left"?x=m+Math.max(c,d)+l:a==="right"?x=m+g-Math.max(A,u)-l:x=this.caretX,i==="top"?(j=h,w=j-l,v=x-l,b=x+l):(j=h+p,w=j+l,v=x+l,b=x-l),S=j),{x1:v,x2:x,x3:b,y1:j,y2:w,y3:S}}drawTitle(t,r,n){const a=this.title,i=a.length;let l,o,c;if(i){const A=JA(n.rtl,this.x,this.width);for(t.x=Hf(this,n.titleAlign,n),r.textAlign=A.textAlign(n.titleAlign),r.textBaseline="middle",l=cn(n.titleFont),o=n.titleSpacing,r.fillStyle=n.titleColor,r.font=l.string,c=0;c<i;++c)r.fillText(a[c],A.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+o,c+1===i&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,r,n,a,i){const l=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:c,boxWidth:A}=i,d=cn(i.bodyFont),u=Hf(this,"left",i),m=a.x(u),h=c<d.lineHeight?(d.lineHeight-c)/2:0,g=r.y+h;if(i.usePointStyle){const p={radius:Math.min(A,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=a.leftForLtr(m,A)+A/2,x=g+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,vv(t,p,v,x),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,vv(t,p,v,x)}else{t.lineWidth=zt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const p=a.leftForLtr(m,A),v=a.leftForLtr(a.xPlus(m,1),A-2),x=XA(l.borderRadius);Object.values(x).some(b=>b!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Px(t,{x:p,y:g,w:A,h:c,radius:x}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Px(t,{x:v,y:g+1,w:A-2,h:c-2,radius:x}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(p,g,A,c),t.strokeRect(p,g,A,c),t.fillStyle=l.backgroundColor,t.fillRect(v,g+1,A-2,c-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,r,n){const{body:a}=this,{bodySpacing:i,bodyAlign:l,displayColors:o,boxHeight:c,boxWidth:A,boxPadding:d}=n,u=cn(n.bodyFont);let m=u.lineHeight,h=0;const g=JA(n.rtl,this.x,this.width),p=function(k){r.fillText(k,g.x(t.x+h),t.y+m/2),t.y+=m+i},v=g.textAlign(l);let x,b,j,w,S,F,I;for(r.textAlign=l,r.textBaseline="middle",r.font=u.string,t.x=Hf(this,v,n),r.fillStyle=n.bodyColor,ns(this.beforeBody,p),h=o&&v!=="right"?l==="center"?A/2+d:A+2+d:0,w=0,F=a.length;w<F;++w){for(x=a[w],b=this.labelTextColors[w],r.fillStyle=b,ns(x.before,p),j=x.lines,o&&j.length&&(this._drawColorBox(r,t,w,g,n),m=Math.max(u.lineHeight,c)),S=0,I=j.length;S<I;++S)p(j[S]),m=u.lineHeight;ns(x.after,p)}h=0,m=u.lineHeight,ns(this.afterBody,p),t.y-=i}drawFooter(t,r,n){const a=this.footer,i=a.length;let l,o;if(i){const c=JA(n.rtl,this.x,this.width);for(t.x=Hf(this,n.footerAlign,n),t.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",l=cn(n.footerFont),r.fillStyle=n.footerColor,r.font=l.string,o=0;o<i;++o)r.fillText(a[o],c.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+n.footerSpacing}}drawBackground(t,r,n,a){const{xAlign:i,yAlign:l}=this,{x:o,y:c}=t,{width:A,height:d}=n,{topLeft:u,topRight:m,bottomLeft:h,bottomRight:g}=XA(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(o+u,c),l==="top"&&this.drawCaret(t,r,n,a),r.lineTo(o+A-m,c),r.quadraticCurveTo(o+A,c,o+A,c+m),l==="center"&&i==="right"&&this.drawCaret(t,r,n,a),r.lineTo(o+A,c+d-g),r.quadraticCurveTo(o+A,c+d,o+A-g,c+d),l==="bottom"&&this.drawCaret(t,r,n,a),r.lineTo(o+h,c+d),r.quadraticCurveTo(o,c+d,o,c+d-h),l==="center"&&i==="left"&&this.drawCaret(t,r,n,a),r.lineTo(o,c+u),r.quadraticCurveTo(o,c,o+u,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const l=zu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const o=this._size=_5(this,t),c=Object.assign({},l,this._size),A=I5(r,t,c),d=U5(t,c,A,r);(a._to!==d.x||i._to!==d.y)&&(this.xAlign=A.xAlign,this.yAlign=A.yAlign,this.width=o.width,this.height=o.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=ka(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,a,r),V6(t,r.textDirection),i.y+=l.top,this.drawTitle(i,t,r),this.drawBody(i,t,r),this.drawFooter(i,t,r),$6(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const n=this._active,a=t.map(({datasetIndex:o,index:c})=>{const A=this.chart.getDatasetMeta(o);if(!A)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:A.data[c],index:c}}),i=!Ux(n,a),l=this._positionChanged(a,r);(i||l)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],l=this._getActiveElements(t,i,r,n),o=this._positionChanged(l,t),c=r||!Ux(l,i)||o;return c&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),c}_getActiveElements(t,r,n,a){const i=this.options;if(t.type==="mouseout")return[];if(!a)return r.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&l.reverse(),l}_positionChanged(t,r){const{caretX:n,caretY:a,options:i}=this,l=zu[i.position].call(this,t,r);return l!==!1&&(n!==l.x||a!==l.y)}}_e(Bv,"positioners",zu);var Ug={id:"tooltip",_element:Bv,positioners:zu,afterInit(e,t,r){r&&(e.tooltip=new Bv({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:dE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const j7=(e,t,r,n)=>(typeof t=="string"?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function N7(e,t,r,n){const a=e.indexOf(t);if(a===-1)return j7(e,t,r,n);const i=e.lastIndexOf(t);return a!==i?r:a}const B7=(e,t)=>e===null?null:on(Math.round(e),0,t);function P5(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Jh extends kd{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:i}of r)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(es(t))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===t?r:N7(n,t,St(r,t),this._addedLabels),B7(r,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const t=this.min,r=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=t===0&&r===i.length-1?i:i.slice(t,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=t;l<=r;l++)a.push({value:l});return a}getLabelForValue(t){return P5.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}_e(Jh,"id","category"),_e(Jh,"defaults",{ticks:{callback:P5}});function C7(e,t){const r=[],{bounds:a,step:i,min:l,max:o,precision:c,count:A,maxTicks:d,maxDigits:u,includeBounds:m}=e,h=i||1,g=d-1,{min:p,max:v}=t,x=!es(l),b=!es(o),j=!es(A),w=(v-p)/(u+1);let S=MN((v-p)/g/h)*h,F,I,k,E;if(S<1e-14&&!x&&!b)return[{value:p},{value:v}];E=Math.ceil(v/S)-Math.floor(p/S),E>g&&(S=MN(E*S/g/h)*h),es(c)||(F=Math.pow(10,c),S=Math.ceil(S*F)/F),a==="ticks"?(I=Math.floor(p/S)*S,k=Math.ceil(v/S)*S):(I=p,k=v),x&&b&&i&&YD((o-l)/i,S/1e3)?(E=Math.round(Math.min((o-l)/S,d)),S=(o-l)/E,I=l,k=o):j?(I=x?l:I,k=b?o:k,E=A-1,S=(k-I)/E):(E=(k-I)/S,dh(E,Math.round(E),S/1e3)?E=Math.round(E):E=Math.ceil(E));const O=Math.max(TN(S),TN(I));F=Math.pow(10,es(c)?O:c),I=Math.round(I*F)/F,k=Math.round(k*F)/F;let L=0;for(x&&(m&&I!==l?(r.push({value:l}),I<l&&L++,dh(Math.round((I+L*S)*F)/F,l,D5(l,w,e))&&L++):I<l&&L++);L<E;++L){const P=Math.round((I+L*S)*F)/F;if(b&&P>o)break;r.push({value:P})}return b&&m&&k!==o?r.length&&dh(r[r.length-1].value,o,D5(o,w,e))?r[r.length-1].value=o:r.push({value:o}):(!b||k===o)&&r.push({value:k}),r}function D5(e,t,{horizontal:r,minRotation:n}){const a=hl(n),i=(r?Math.sin(a):Math.cos(a))||.001,l=.75*t*(""+e).length;return Math.min(t/i,l)}class S7 extends kd{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return es(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const l=c=>a=r?a:c,o=c=>i=n?i:c;if(t){const c=ki(a),A=ki(i);c<0&&A<0?o(0):c>0&&A>0&&l(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);o(i+c),t||l(a-c)}this.min=a,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=t,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,l=C7(a,i);return t.bounds==="ticks"&&XD(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const a=(n-r)/Math.max(t.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(t){return Sw(t,this.chart.options.locale,this.options.ticks.format)}}class Zh extends S7{determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=Fa(t)?t:0,this.max=Fa(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,n=hl(this.options.ticks.minRotation),a=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}_e(Zh,"id","linear"),_e(Zh,"defaults",{ticks:{callback:D6.formatters.numeric}});const Lg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fn=Object.keys(Lg);function M5(e,t){return e-t}function T5(e,t){if(es(t))return null;const r=e._adapter,{parser:n,round:a,isoWeekday:i}=e._parseOpts;let l=t;return typeof n=="function"&&(l=n(l)),Fa(l)||(l=typeof n=="string"?r.parse(l,n):r.parse(l)),l===null?null:(a&&(l=a==="week"&&(Gh(i)||i===!0)?r.startOf(l,"isoWeek",i):r.startOf(l,a)),+l)}function R5(e,t,r,n){const a=Fn.length;for(let i=Fn.indexOf(e);i<a-1;++i){const l=Lg[Fn[i]],o=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((r-t)/(o*l.size))<=n)return Fn[i]}return Fn[a-1]}function E7(e,t,r,n,a){for(let i=Fn.length-1;i>=Fn.indexOf(r);i--){const l=Fn[i];if(Lg[l].common&&e._adapter.diff(a,n,l)>=t-1)return l}return Fn[r?Fn.indexOf(r):0]}function F7(e){for(let t=Fn.indexOf(e)+1,r=Fn.length;t<r;++t)if(Lg[Fn[t]].common)return Fn[t]}function O5(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:n,hi:a}=Nw(r,t),i=r[n]>=t?r[n]:r[a];e[i]=!0}}function k7(e,t,r,n){const a=e._adapter,i=+a.startOf(t[0].value,n),l=t[t.length-1].value;let o,c;for(o=i;o<=l;o=+a.add(o,1,n))c=r[o],c>=0&&(t[c].major=!0);return t}function H5(e,t,r){const n=[],a={},i=t.length;let l,o;for(l=0;l<i;++l)o=t[l],a[o]=l,n.push({value:o,major:!1});return i===0||!r?n:k7(e,n,a,r)}class Rx extends kd{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){const n=t.time||(t.time={}),a=this._adapter=new QT._date(t.adapters.date);a.init(r),Ah(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:T5(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,n=t.time.unit||"day";let{min:a,max:i,minDefined:l,maxDefined:o}=this.getUserBounds();function c(A){!l&&!isNaN(A.min)&&(a=Math.min(a,A.min)),!o&&!isNaN(A.max)&&(i=Math.max(i,A.max))}(!l||!o)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Fa(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),i=Fa(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],n=t[t.length-1]),{min:r,max:n}}buildTicks(){const t=this.options,r=t.time,n=t.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,l=this.max,o=sM(a,i,l);return this._unit=r.unit||(n.autoSkip?R5(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):E7(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:F7(this._unit),this.initOffsets(a),t.reverse&&o.reverse(),H5(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,n=0,a,i;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?r=1-a:r=(this.getDecimalForValue(t[1])-a)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?n=i:n=(i-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;r=on(r,0,l),n=on(n,0,l),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const t=this._adapter,r=this.min,n=this.max,a=this.options,i=a.time,l=i.unit||R5(i.minUnit,r,n,this._getLabelCapacity(r)),o=St(a.ticks.stepSize,1),c=l==="week"?i.isoWeekday:!1,A=Gh(c)||c===!0,d={};let u=r,m,h;if(A&&(u=+t.startOf(u,"isoWeek",c)),u=+t.startOf(u,A?"day":l),t.diff(n,r,l)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+l);const g=a.ticks.source==="data"&&this.getDataTimestamps();for(m=u,h=0;m<n;m=+t.add(m,o,l),h++)O5(d,m,g);return(m===n||a.bounds==="ticks"||h===1)&&O5(d,m,g),Object.keys(d).sort(M5).map(p=>+p)}getLabelForValue(t){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(t,n.tooltipFormat):r.format(t,n.displayFormats.datetime)}format(t,r){const a=this.options.time.displayFormats,i=this._unit,l=r||a[i];return this._adapter.format(t,l)}_tickFormatFunction(t,r,n,a){const i=this.options,l=i.ticks.callback;if(l)return Bs(l,[t,r,n],this);const o=i.time.displayFormats,c=this._unit,A=this._majorUnit,d=c&&o[c],u=A&&o[A],m=n[r],h=A&&u&&m&&m.major;return this._adapter.format(t,a||(h?u:d))}generateTickLabels(t){let r,n,a;for(r=0,n=t.length;r<n;++r)a=t[r],a.label=this._tickFormatFunction(a.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,n=this.ctx.measureText(t).width,a=hl(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),l=Math.sin(a),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*l,h:n*l+o*i}}_getLabelCapacity(t){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,i=this._tickFormatFunction(t,0,H5(this,[t],this._majorUnit),a),l=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],r,n;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)t=t.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,n;if(t.length)return t;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)t.push(T5(this,a[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return U6(t.sort(M5))}}_e(Rx,"id","time"),_e(Rx,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Kf(e,t,r){let n=0,a=e.length-1,i,l,o,c;r?(t>=e[n].pos&&t<=e[a].pos&&({lo:n,hi:a}=pc(e,"pos",t)),{pos:i,time:o}=e[n],{pos:l,time:c}=e[a]):(t>=e[n].time&&t<=e[a].time&&({lo:n,hi:a}=pc(e,"time",t)),{time:i,pos:o}=e[n],{time:l,pos:c}=e[a]);const A=l-i;return A?o+(c-o)*(t-i)/A:o}class K5 extends Rx{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=Kf(r,this.min),this._tableRange=Kf(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:n}=this,a=[],i=[];let l,o,c,A,d;for(l=0,o=t.length;l<o;++l)A=t[l],A>=r&&A<=n&&a.push(A);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(l=0,o=a.length;l<o;++l)d=a[l+1],c=a[l-1],A=a[l],Math.round((d+c)/2)!==A&&i.push({time:A,pos:l/(o-1)});return i}_generate(){const t=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?t=this.normalize(r.concat(n)):t=r.length?r:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Kf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return Kf(this._table,n*this._tableRange+this._minPos,!0)}}_e(K5,"id","timeseries"),_e(K5,"defaults",Rx.defaults);const uE="label";function z5(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function _7(e,t){const r=e.options;r&&t&&Object.assign(r,t)}function hE(e,t){e.labels=t}function mE(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uE;const n=[];e.datasets=t.map(a=>{const i=e.datasets.find(l=>l[r]===a[r]);return!i||!a.data||n.includes(i)?{...a}:(n.push(i),Object.assign(i,a),i)})}function I7(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uE;const r={labels:[],datasets:[]};return hE(r,e.labels),mE(r,e.datasets,t),r}function U7(e,t){const{height:r=150,width:n=300,redraw:a=!1,datasetIdKey:i,type:l,data:o,options:c,plugins:A=[],fallbackContent:d,updateMode:u,...m}=e,h=N.useRef(null),g=N.useRef(null),p=()=>{h.current&&(g.current=new $c(h.current,{type:l,data:I7(o,i),options:c&&{...c},plugins:A}),z5(t,g.current))},v=()=>{z5(t,null),g.current&&(g.current.destroy(),g.current=null)};return N.useEffect(()=>{!a&&g.current&&c&&_7(g.current,c)},[a,c]),N.useEffect(()=>{!a&&g.current&&hE(g.current.config.data,o.labels)},[a,o.labels]),N.useEffect(()=>{!a&&g.current&&o.datasets&&mE(g.current.config.data,o.datasets,i)},[a,o.datasets]),N.useEffect(()=>{g.current&&(a?(v(),setTimeout(p)):g.current.update(u))},[a,c,o.labels,o.datasets,u]),N.useEffect(()=>{g.current&&(v(),setTimeout(p))},[l]),N.useEffect(()=>(p(),()=>v()),[]),wd.createElement("canvas",{ref:h,role:"img",height:r,width:n,...m},d)}const L7=N.forwardRef(U7);function Mw(e,t){return $c.register(t),N.forwardRef((r,n)=>wd.createElement(L7,{...r,ref:n,type:e}))}const Q7=Mw("line",V0),fE=Mw("bar",z0),P7=Mw("doughnut",Ru);$c.register(Jh,Zh,q0,Ku,Dw,Ug,Ig);const D7=({data:e})=>{const t={labels:e.students.map(n=>n.month),datasets:[{label:"Students",data:e.students.map(n=>n.count),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0},{label:"Society Members",data:e.societyMembers.map(n=>n.count),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!0}]},r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"User Growth Over Time",font:{size:16,weight:"bold"}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{color:"rgba(0, 0, 0, 0.1)"}}},interaction:{intersect:!1,mode:"index"}};return s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsx("div",{className:"h-80",children:s.jsx(Q7,{data:t,options:r})})})};$c.register(Jh,Zh,mh,Dw,Ug,Ig);const M7=({data:e})=>{const t={labels:e.cdInvestments.map(n=>n.month),datasets:[{label:"CD Investments ()",data:e.cdInvestments.map(n=>n.amount||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1},{label:"Loans ()",data:e.loans.map(n=>n.amount||0),backgroundColor:"rgba(16, 185, 129, 0.8)",borderColor:"rgb(16, 185, 129)",borderWidth:1},{label:"Fees ()",data:e.fees.map(n=>n.amount||0),backgroundColor:"rgba(245, 158, 11, 0.8)",borderColor:"rgb(245, 158, 11)",borderWidth:1}]},r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Financial Overview",font:{size:16,weight:"bold"}},tooltip:{callbacks:{label:function(n){const a=n.parsed.y;return`${n.dataset.label}: ${a.toLocaleString()}`}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{callback:function(n){return""+n.toLocaleString()}}},x:{grid:{color:"rgba(0, 0, 0, 0.1)"}}}};return s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsx("div",{className:"h-80",children:s.jsx(fE,{data:t,options:r})})})};$c.register(Hu,Ug,Ig);const T7=({data:e,type:t})=>{const r=()=>{switch(t){case"students":return e.students;case"societyMembers":return e.societyMembers;case"courses":return e.courses;default:return[]}},n=()=>{switch(t){case"students":return"Students by Department";case"societyMembers":return"Society Members by Department";case"courses":return"Courses by Department";default:return""}},a=()=>["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)"].slice(0,r().length),i={labels:r().map(o=>o._id),datasets:[{data:r().map(o=>o.count),backgroundColor:a(),borderColor:a().map(o=>o.replace("0.8","1")),borderWidth:2}]},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},title:{display:!0,text:n(),font:{size:16,weight:"bold"}},tooltip:{callbacks:{label:function(o){const c=o.label||"",A=o.parsed,d=o.dataset.data.reduce((m,h)=>m+h,0),u=(A/d*100).toFixed(1);return`${c}: ${A} (${u}%)`}}}}};return s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsx("div",{className:"h-80",children:s.jsx(P7,{data:i,options:l})})})};$c.register(Jh,Zh,mh,Dw,Ug,Ig);const yy=({data:e,type:t})=>{const r=()=>{switch(t){case"cdInvestments":return e.cdInvestments;case"loans":return e.loans;case"feeRequests":return e.feeRequests;case"enrollments":return e.enrollments;default:return[]}},n=()=>{switch(t){case"cdInvestments":return"CD Investment Status Breakdown";case"loans":return"Loan Status Breakdown";case"feeRequests":return"Fee Request Status Breakdown";case"enrollments":return"Enrollment Status Breakdown";default:return""}},a=()=>{const o={pending:"rgba(245, 158, 11, 0.8)",approved:"rgba(16, 185, 129, 0.8)",rejected:"rgba(239, 68, 68, 0.8)",active:"rgba(59, 130, 246, 0.8)",disbursed:"rgba(139, 92, 246, 0.8)",paid:"rgba(16, 185, 129, 0.8)",completed:"rgba(16, 185, 129, 0.8)"};return r().map(c=>o[c._id]||"rgba(156, 163, 175, 0.8)")},i={labels:r().map(o=>o._id.charAt(0).toUpperCase()+o._id.slice(1)),datasets:[{label:"Count",data:r().map(o=>o.count),backgroundColor:a(),borderColor:a().map(o=>o.replace("0.8","1")),borderWidth:1}]},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:n(),font:{size:16,weight:"bold"}},tooltip:{callbacks:{label:function(o){return`Count: ${o.parsed.y}`}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{color:"rgba(0, 0, 0, 0.1)"}}}};return s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsx("div",{className:"h-80",children:s.jsx(fE,{data:i,options:l})})})},R7=({data:e})=>{if(!e)return s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsx("p",{className:"text-gray-500 text-center",children:"No recent activities available"})})});const t=i=>new Date(i).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),r=i=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(i),n=i=>{switch(i.toLowerCase()){case"pending":return"text-yellow-600 bg-yellow-100";case"approved":return"text-green-600 bg-green-100";case"rejected":return"text-red-600 bg-red-100";case"active":return"text-blue-600 bg-blue-100";case"paid":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},a=i=>{switch(i.toLowerCase()){case"pending":return Qt;case"approved":case"paid":return Me;case"rejected":return pt;case"active":return Me;default:return Qt}};return s.jsxs("div",{className:"space-y-6",children:[e.students&&e.students.length>0&&s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Vt,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Students"})]}),s.jsx("div",{className:"space-y-3",children:e.students.slice(0,5).map(i=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Vt,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900",children:[i.firstName," ",i.lastName]}),s.jsx("p",{className:"text-sm text-gray-500",children:i.email}),i.studentId&&s.jsx("p",{className:"text-xs text-blue-600 font-mono",children:i.studentId})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm text-gray-500",children:t(i.createdAt)})})]},i._id))})]}),e.societyMembers&&e.societyMembers.length>0&&s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(fv,{className:"w-5 h-5 text-green-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Society Members"})]}),s.jsx("div",{className:"space-y-3",children:e.societyMembers.slice(0,5).map(i=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(fv,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900",children:[i.firstName," ",i.lastName]}),s.jsx("p",{className:"text-sm text-gray-500",children:i.email}),i.memberId&&s.jsx("p",{className:"text-xs text-green-600 font-mono",children:i.memberId})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm text-gray-500",children:t(i.createdAt)})})]},i._id))})]}),e.cdInvestments&&e.cdInvestments.length>0&&s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(yt,{className:"w-5 h-5 text-yellow-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent CD Investments"})]}),s.jsx("div",{className:"space-y-3",children:e.cdInvestments.slice(0,5).map(i=>{const l=a(i.status);return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(yt,{className:"w-5 h-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:i.userDisplayName||`${i.userEmail||"Unknown User"}`}),s.jsx("p",{className:"text-sm text-gray-500",children:i.cdId}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:r(i.investmentAmount)})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${n(i.status)}`,children:[s.jsx(l,{className:"w-3 h-3 mr-1"}),i.status]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t(i.requestDate)})]})]},i._id)})})]}),e.loanRequests&&e.loanRequests.length>0&&s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Qr,{className:"w-5 h-5 text-red-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Loan Requests"})]}),s.jsx("div",{className:"space-y-3",children:e.loanRequests.slice(0,5).map(i=>{const l=a(i.status);return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Qr,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900",children:["Loan Request #",i._id.slice(-6)]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",i._id]}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:r(i.loanAmount)})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${n(i.status)}`,children:[s.jsx(l,{className:"w-3 h-3 mr-1"}),i.status]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t(i.requestDate)})]})]},i._id)})})]}),e.feePayments&&e.feePayments.length>0&&s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Et,{className:"w-5 h-5 text-teal-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Fee Payments"})]}),s.jsx("div",{className:"space-y-3",children:e.feePayments.slice(0,5).map(i=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center",children:s.jsx(Et,{className:"w-5 h-5 text-teal-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900",children:["Payment #",i._id.slice(-6)]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",i._id]}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:r(i.amount)})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-green-600 bg-green-100",children:[s.jsx(Me,{className:"w-3 h-3 mr-1"}),"Paid"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t(i.paymentDate)})]})]},i._id))})]})]})},Ec=({className:e="",height:t="h-4",width:r="w-full",rounded:n=!0,animate:a=!0})=>s.jsx("div",{className:`
        bg-gray-200 
        ${t} 
        ${r} 
        ${n?"rounded":""} 
        ${a?"animate-pulse":""} 
        ${e}
      `}),_d=({rows:e=5,columns:t=6})=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex space-x-4",children:Array.from({length:t}).map((r,n)=>s.jsx(Ec,{width:"w-24",height:"h-6"},n))}),Array.from({length:e}).map((r,n)=>s.jsx("div",{className:"flex space-x-4",children:Array.from({length:t}).map((a,i)=>s.jsx(Ec,{width:"w-20",height:"h-4"},i))},n))]}),Qg=({count:e=4})=>s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:e}).map((t,r)=>s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ec,{width:"w-20",height:"h-4"}),s.jsx(Ec,{width:"w-16",height:"h-6"})]}),s.jsx(Ec,{width:"w-12",height:"h-12",rounded:!0})]})},r))}),ia=({error:e,onRetry:t,onDismiss:r,title:n="Something went wrong",className:a="",showRetry:i=!0,showDismiss:l=!0})=>{if(!e)return null;const o=typeof e=="string"?e:e.message;return s.jsx("div",{className:`bg-red-50 border border-red-200 rounded-lg p-4 ${a}`,children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(pt,{className:"w-5 h-5 text-red-500"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:n}),s.jsx("p",{className:"mt-1 text-sm text-red-700",children:o}),s.jsxs("div",{className:"mt-3 flex space-x-3",children:[i&&t&&s.jsxs("button",{onClick:t,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Try Again"]}),l&&r&&s.jsxs("button",{onClick:r,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 hover:text-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[s.jsx(rt,{className:"w-4 h-4 mr-2"}),"Dismiss"]})]})]})]})})},O7=()=>{var m,h,g,p,v,x,b,j,w,S,F,I,k,E,O,L,P,U,R,V,Z,ae,D,Y;const[e,t]=N.useState(null),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState(!1),c=async(re=!0)=>{try{re&&n(!0),i(null),console.log("Loading dashboard data...");const q=await fD.getDashboardData();console.log("Dashboard response:",q),console.log("Response structure:",{hasAdmin:!!q.admin,hasOverview:!!q.overview,hasInvestments:!!q.investments,hasLoans:!!q.loans,hasFees:!!q.fees,hasAcademics:!!q.academics,hasCharts:!!q.charts,hasSummary:!!q.summary,overviewKeys:q.overview?Object.keys(q.overview):"no overview",investmentsKeys:q.investments?Object.keys(q.investments):"no investments"}),t(q)}catch(q){console.error("Dashboard error:",q);const _={admin:{id:"1",name:"Admin User",email:"admin@example.com",role:"admin",lastLogin:new Date().toISOString()},overview:{totalUsers:0,totalStudents:0,totalSocietyMembers:0,totalAdmins:1,activeUsers:0,newUsersThisMonth:0},investments:{cdInvestments:{total:0,totalAmount:0,pending:0,approved:0},regularInvestments:{total:0,totalAmount:0,pending:0},combined:{totalInvestments:0,totalAmount:0}},loans:{totalRequests:0,totalAmount:0,pending:0,approved:0,disbursed:0},fees:{totalRequests:0,totalAmount:0,pending:0,totalPayments:0,totalCollected:0},academics:{totalCourses:0,totalBatches:0,totalEnrollments:0,activeEnrollments:0,totalAttendanceRecords:0,attendanceThisMonth:0},charts:{userGrowth:{students:[],societyMembers:[]},financial:{cdInvestments:[],loans:[],fees:[]}},monthlyStats:{current:{students:0,societyMembers:0,cdInvestments:{count:0,amount:0},loans:{count:0,amount:0},fees:{count:0,amount:0}},last:{students:0,societyMembers:0,cdInvestments:{count:0,amount:0},loans:{count:0,amount:0},fees:{count:0,amount:0}},growth:{students:0,societyMembers:0,cdInvestments:0,loans:0,fees:0}},departmentStats:{students:[],societyMembers:[],courses:[]},statusBreakdowns:{cdInvestments:[],loans:[],feeRequests:[],enrollments:[]},recentActivities:{students:[],societyMembers:[],cdInvestments:[],loanRequests:[],feePayments:[]},summary:{totalRevenue:0,totalInvestments:0,totalPendingApprovals:0,systemHealth:{activeUsers:0,activeCourses:0,activeBatches:0,systemUptime:0}}};t(_),i("Dashboard API not available. Showing empty data.")}finally{n(!1),o(!1)}};N.useEffect(()=>{c()},[]);const A=()=>{o(!0),c(!1)},d=re=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(re),u=re=>{const q=Math.floor(re/86400),_=Math.floor(re%86400/3600),z=Math.floor(re%3600/60);return`${q}d ${_}h ${z}m`};return r?s.jsx(Ec,{}):a?s.jsx(ia,{message:a,onRetry:A}):e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Welcome back, ",e.admin.name]})]}),s.jsxs("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]}),s.jsxs("button",{onClick:A,disabled:l,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[s.jsx(Tt,{className:`w-4 h-4 ${l?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]})]})]}),a&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"API Status:"})," ",a]})})]})}),s.jsx(xD,{overview:e.overview,investments:e.investments,loans:e.loans,fees:e.fees,academics:e.academics}),e.summary&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(kt,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d(e.summary.totalRevenue||0)})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(GP,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Approvals"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.summary.totalPendingApprovals||0})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(lD,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"System Uptime"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u(((m=e.summary.systemHealth)==null?void 0:m.systemUptime)||0)})]})]})})]}),e.charts&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.charts.userGrowth&&s.jsx(D7,{data:e.charts.userGrowth}),e.charts.financial&&s.jsx(M7,{data:e.charts.financial})]}),e.departmentStats&&e.statusBreakdowns&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(T7,{data:e.departmentStats,type:"students"}),s.jsx(yy,{data:e.statusBreakdowns,type:"cdInvestments"})]}),e.statusBreakdowns&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(yy,{data:e.statusBreakdowns,type:"loans"}),s.jsx(yy,{data:e.statusBreakdowns,type:"feeRequests"})]}),e.recentActivities&&s.jsx(R7,{data:e.recentActivities}),e.monthlyStats&&s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Monthly Growth Comparison"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Students"}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:((h=e.monthlyStats.current)==null?void 0:h.students)||0}),s.jsxs("div",{className:`flex items-center ${(((g=e.monthlyStats.growth)==null?void 0:g.students)||0)>=0?"text-green-600":"text-red-600"}`,children:[(((p=e.monthlyStats.growth)==null?void 0:p.students)||0)>=0?s.jsx(kt,{className:"w-4 h-4"}):s.jsx(wu,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(((v=e.monthlyStats.growth)==null?void 0:v.students)||0),"%"]})]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Society Members"}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:((x=e.monthlyStats.current)==null?void 0:x.societyMembers)||0}),s.jsxs("div",{className:`flex items-center ${(((b=e.monthlyStats.growth)==null?void 0:b.societyMembers)||0)>=0?"text-green-600":"text-red-600"}`,children:[(((j=e.monthlyStats.growth)==null?void 0:j.societyMembers)||0)>=0?s.jsx(kt,{className:"w-4 h-4"}):s.jsx(wu,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(((w=e.monthlyStats.growth)==null?void 0:w.societyMembers)||0),"%"]})]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"CD Investments"}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:((F=(S=e.monthlyStats.current)==null?void 0:S.cdInvestments)==null?void 0:F.count)||0}),s.jsxs("div",{className:`flex items-center ${(((I=e.monthlyStats.growth)==null?void 0:I.cdInvestments)||0)>=0?"text-green-600":"text-red-600"}`,children:[(((k=e.monthlyStats.growth)==null?void 0:k.cdInvestments)||0)>=0?s.jsx(kt,{className:"w-4 h-4"}):s.jsx(wu,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(((E=e.monthlyStats.growth)==null?void 0:E.cdInvestments)||0),"%"]})]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Loans"}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:((L=(O=e.monthlyStats.current)==null?void 0:O.loans)==null?void 0:L.count)||0}),s.jsxs("div",{className:`flex items-center ${(((P=e.monthlyStats.growth)==null?void 0:P.loans)||0)>=0?"text-green-600":"text-red-600"}`,children:[(((U=e.monthlyStats.growth)==null?void 0:U.loans)||0)>=0?s.jsx(kt,{className:"w-4 h-4"}):s.jsx(wu,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(((R=e.monthlyStats.growth)==null?void 0:R.loans)||0),"%"]})]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Fees"}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:((Z=(V=e.monthlyStats.current)==null?void 0:V.fees)==null?void 0:Z.count)||0}),s.jsxs("div",{className:`flex items-center ${(((ae=e.monthlyStats.growth)==null?void 0:ae.fees)||0)>=0?"text-green-600":"text-red-600"}`,children:[(((D=e.monthlyStats.growth)==null?void 0:D.fees)||0)>=0?s.jsx(kt,{className:"w-4 h-4"}):s.jsx(wu,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(((Y=e.monthlyStats.growth)==null?void 0:Y.fees)||0),"%"]})]})]})]})]})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("p",{className:"text-gray-500",children:"No dashboard data available"})})},Id=({isOpen:e,onClose:t,documentUrl:r,documentType:n,documentName:a})=>{const[i,l]=N.useState(100),[o,c]=N.useState(0),[A,d]=N.useState(!1);if(!e)return null;const u=()=>{l(x=>Math.min(x+25,300))},m=()=>{l(x=>Math.max(x-25,50))},h=()=>{c(x=>(x+90)%360)},g=()=>{const x=document.createElement("a");x.href=r,x.download=a||`${n}-document`,x.target="_blank",document.body.appendChild(x),x.click(),document.body.removeChild(x)},p=()=>{window.open(r,"_blank")},v=()=>{l(100),c(0),d(!1)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.toLowerCase().includes("aadhar")?s.jsx(sa,{className:"w-5 h-5 text-blue-600"}):s.jsx(ds,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[n," Document"]}),s.jsx("p",{className:"text-sm text-gray-500",children:a||`${n} Document Preview`})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:v,className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"Reset View"}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(rt,{className:"w-5 h-5 text-gray-600"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:m,disabled:i<=50,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Zoom Out",children:s.jsx(AD,{className:"w-4 h-4"})}),s.jsxs("span",{className:"px-3 py-1 bg-white rounded-lg text-sm font-medium min-w-[60px] text-center",children:[i,"%"]}),s.jsx("button",{onClick:u,disabled:i>=300,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Zoom In",children:s.jsx(cD,{className:"w-4 h-4"})}),s.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Rotate",children:s.jsx(aD,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:p,className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx(xv,{className:"w-4 h-4"}),s.jsx("span",{children:"Open in New Tab"})]}),s.jsxs("button",{onClick:g,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{children:"Download"})]})]})]}),s.jsx("div",{className:"flex-1 overflow-auto bg-gray-100 p-4",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:A?s.jsxs("div",{className:"text-center",children:[s.jsx(pt,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Failed to Load Document"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The document image could not be loaded. This might be due to:"}),s.jsxs("ul",{className:"text-sm text-gray-500 text-left max-w-md mx-auto mb-4",children:[s.jsx("li",{children:" Invalid or expired document URL"}),s.jsx("li",{children:" Network connectivity issues"}),s.jsx("li",{children:" Document access permissions"}),s.jsx("li",{children:" Unsupported file format"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[s.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"}),s.jsx("button",{onClick:p,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Open in New Tab"})]})]}):s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:r,alt:`${n} Document`,className:"max-w-full max-h-full shadow-lg rounded-lg",style:{transform:`scale(${i/100}) rotate(${o}deg)`,transition:"transform 0.3s ease-in-out"},onError:()=>d(!0),onLoad:()=>d(!1)}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Loading document..."})]})})]})})}),s.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsxs("p",{children:["Document Type: ",s.jsx("span",{className:"font-medium text-gray-700",children:n})]}),a&&s.jsxs("p",{children:["File Name: ",s.jsx("span",{className:"font-medium text-gray-700",children:a})]})]}),s.jsx("div",{className:"text-sm text-gray-500",children:s.jsxs("p",{children:["Zoom: ",i,"% | Rotation: ",o,""]})})]})})]})})},H7=({memberId:e,isOpen:t,onClose:r})=>{const[n,a]=N.useState(null),[i,l]=N.useState(!1),[o,c]=N.useState(null),[A,d]=N.useState(null),[u,m]=N.useState(!1);N.useEffect(()=>{t&&e&&h()},[t,e]);const h=async()=>{l(!0),c(null);try{const j=await Ui.getSocietyMemberById(e);a(j)}catch(j){console.error("Error loading member details:",j),c("Failed to load member details. Please try again.")}finally{l(!1)}},g=j=>typeof j=="string"?j:j&&typeof j=="object"?`${j.street}, ${j.city}, ${j.state} ${j.zipCode}, ${j.country}`:"Address not available",p=j=>{if(!j)return s.jsx(Qt,{className:"w-4 h-4 text-gray-400"});switch(j.status){case"approved":return s.jsx(Me,{className:"w-4 h-4 text-green-500"});case"rejected":return s.jsx(Ft,{className:"w-4 h-4 text-red-500"});case"pending":return s.jsx(Qt,{className:"w-4 h-4 text-yellow-500"});default:return s.jsx(Qt,{className:"w-4 h-4 text-gray-400"})}},v=j=>{if(!j)return"bg-gray-100 text-gray-800";switch(j.status){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},x=(j,w,S)=>{d({url:j,type:w,name:S}),m(!0)},b=()=>{m(!1),d(null)};return t?s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx(dt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Society Member Details"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Complete member information and KYC status"})]})]}),s.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(rt,{className:"w-6 h-6 text-gray-600"})})]}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)]",children:i?s.jsx("div",{className:"flex items-center justify-center p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Loading member details..."})]})}):o?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[s.jsx(Ft,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),s.jsx("p",{className:"text-red-700",children:o}),s.jsx("button",{onClick:h,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):n?s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(dt,{className:"w-5 h-5 mr-2 text-green-600"}),"Basic Information"]}),s.jsxs("button",{className:"flex items-center space-x-2 px-3 py-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[s.jsx(Ea,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Edit"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[n.firstName," ",n.lastName]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Member ID"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:n.memberId})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kg,{className:"w-4 h-4 text-gray-400"}),s.jsx("p",{className:"text-gray-800",children:n.email})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jm,{className:"w-4 h-4 text-gray-400"}),s.jsx("p",{className:"text-gray-800",children:n.phoneNumber||n.phone})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Et,{className:"w-4 h-4 text-gray-400"}),s.jsx("p",{className:"text-gray-800",children:n.dateOfBirth?new Date(n.dateOfBirth).toLocaleDateString():"Not provided"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Address"}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Fo,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsx("p",{className:"text-gray-800",children:g(n.address)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Login"}),s.jsx("p",{className:"text-gray-800",children:n.lastLogin?new Date(n.lastLogin).toLocaleString():"Never"})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[s.jsx(dr,{className:"w-5 h-5 mr-2 text-green-600"}),"Society Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Society Name"}),s.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n.societyName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Position"}),s.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n.position})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Contribution"}),s.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["",n.totalContribution?n.totalContribution.toLocaleString():"0"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Membership Date"}),s.jsx("p",{className:"text-gray-800",children:n.membershipDate?new Date(n.membershipDate).toLocaleDateString():"Not provided"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),s.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${n.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.isActive?"Active":"Inactive"})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[s.jsx(Ga,{className:"w-5 h-5 mr-2 text-green-600"}),"KYC Information"]}),n.kyc?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[p(n.kyc),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-800",children:"KYC Status"}),s.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${v(n.kyc)}`,children:n.kyc.status.toUpperCase()})]})]}),n.kyc.status==="approved"&&n.kyc.approvedBy&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Approved by"}),s.jsxs("p",{className:"font-semibold text-gray-800",children:[n.kyc.approvedBy.firstName," ",n.kyc.approvedBy.lastName]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[n.kyc.submittedAt&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Submitted At"}),s.jsx("p",{className:"text-gray-800",children:n.kyc.submittedAt?new Date(n.kyc.submittedAt).toLocaleString():"Not available"})]}),n.kyc.approvedAt&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Approved At"}),s.jsx("p",{className:"text-gray-800",children:n.kyc.approvedAt?new Date(n.kyc.approvedAt).toLocaleString():"Not available"})]}),n.kyc.rejectionReason&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Rejection Reason"}),s.jsx("p",{className:"text-red-600",children:n.kyc.rejectionReason})]})]}),s.jsxs("div",{className:"space-y-4",children:[n.kyc.aadharNumber&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Aadhar Number"}),s.jsx("p",{className:"text-gray-800 font-mono",children:n.kyc.aadharNumber})]}),n.kyc.panNumber&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"PAN Number"}),s.jsx("p",{className:"text-gray-800 font-mono",children:n.kyc.panNumber})]}),s.jsxs("div",{className:"space-y-4",children:[n.kyc.aadharCardImage&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Aadhar Card"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(sa,{className:"w-4 h-4 text-gray-400"}),s.jsxs("button",{onClick:()=>{var j;return((j=n.kyc)==null?void 0:j.aadharCardImage)&&x(n.kyc.aadharCardImage,"Aadhar Card",`${n.firstName}_${n.lastName}_Aadhar.jpg`)},className:"text-green-600 hover:text-green-800 flex items-center space-x-1 mr-3",children:[s.jsx(xs,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Preview"})]}),s.jsxs("button",{onClick:()=>{var j;if((j=n.kyc)!=null&&j.aadharCardImage){const w=document.createElement("a");w.href=n.kyc.aadharCardImage,w.download=`${n.firstName}_${n.lastName}_Aadhar.jpg`,w.target="_blank",document.body.appendChild(w),w.click(),document.body.removeChild(w)}},className:"text-green-600 hover:text-green-800 flex items-center space-x-1",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Download"})]})]})]}),n.kyc.panCardImage&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"PAN Card"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(sa,{className:"w-4 h-4 text-gray-400"}),s.jsxs("button",{onClick:()=>{var j;return((j=n.kyc)==null?void 0:j.panCardImage)&&x(n.kyc.panCardImage,"PAN Card",`${n.firstName}_${n.lastName}_PAN.jpg`)},className:"text-green-600 hover:text-green-800 flex items-center space-x-1 mr-3",children:[s.jsx(xs,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Preview"})]}),s.jsxs("button",{onClick:()=>{var j;if((j=n.kyc)!=null&&j.panCardImage){const w=document.createElement("a");w.href=n.kyc.panCardImage,w.download=`${n.firstName}_${n.lastName}_PAN.jpg`,w.target="_blank",document.body.appendChild(w),w.click(),document.body.removeChild(w)}},className:"text-green-600 hover:text-green-800 flex items-center space-x-1",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Download"})]})]})]})]})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ga,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"No KYC information available"})]})]}),(n.skills||n.responsibilities||n.achievements||n.eventsOrganized)&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[s.jsx(md,{className:"w-5 h-5 mr-2 text-green-600"}),"Additional Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.skills&&n.skills.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Skills"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.skills.map((j,w)=>s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:j},w))})]}),n.responsibilities&&n.responsibilities.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Responsibilities"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.responsibilities.map((j,w)=>s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-sm rounded-full",children:j},w))})]}),n.achievements&&n.achievements.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Achievements"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.achievements.map((j,w)=>s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:j},w))})]}),n.eventsOrganized&&n.eventsOrganized.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Events Organized"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.eventsOrganized.map((j,w)=>s.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-sm rounded-full",children:j},w))})]})]})]}),n.paymentHistory&&n.paymentHistory.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[s.jsx(ds,{className:"w-5 h-5 mr-2 text-green-600"}),"Recent Payment History"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:n.paymentHistory.slice(0,5).map((j,w)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:j.date?new Date(j.date).toLocaleDateString():"N/A"}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:j.type||"N/A"}),s.jsxs("td",{className:"px-4 py-2 text-sm font-semibold text-green-600",children:["",j.amount?j.amount.toLocaleString():"0"]}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${j.status==="completed"?"bg-green-100 text-green-800":j.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:j.status||"Unknown"})})]},w))})]})})]})]}):null}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[s.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Close"}),s.jsx("button",{className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Edit Member"})]})]}),A&&s.jsx(Id,{isOpen:u,onClose:b,documentUrl:A.url,documentType:A.type,documentName:A.name})]}):null},K7=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l]=N.useState({}),[o,c]=N.useState(""),[A,d]=N.useState("all"),[u,m]=N.useState("all"),[h,g]=N.useState("all"),[p,v]=N.useState(1),[x,b]=N.useState(1),[j,w]=N.useState(0),[S,F]=N.useState(!1),[I,k]=N.useState(!1),[E,O]=N.useState(null),[L,P]=N.useState(!1),U=async(Y=1)=>{n(!0),i(null);try{const re={...l,search:o||void 0,isActive:A==="all"?void 0:A==="active",societyName:u==="all"?void 0:u,kycStatus:h==="all"?void 0:h};Object.keys(re).forEach(_=>{re[_]===void 0&&delete re[_]});const q=await Ui.getAllSocietyMembers(Y,10,re,"firstName","asc");t(q.societyMembers),b(q.pagination.totalPages),w(q.pagination.totalItems),F(q.pagination.hasNextPage),k(q.pagination.hasPrevPage),v(q.pagination.currentPage)}catch(re){console.error("Error loading members:",re),i("Failed to load society members. Please try again.")}finally{n(!1)}};N.useEffect(()=>{U(1)},[o,A,u,h]);const R=Y=>{v(Y),U(Y)},V=async()=>{try{const Y={...l,search:o||void 0,isActive:A==="all"?void 0:A==="active",societyName:u==="all"?void 0:u,kycStatus:h==="all"?void 0:h};await Ui.exportUsers("society-members",Y,"excel")}catch(Y){console.error("Error exporting members:",Y),i("Failed to export members. Please try again.")}},Z=()=>{U(p)},ae=Y=>{O(Y),P(!0)},D=()=>{P(!1),O(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(dt,{className:"w-8 h-8 text-green-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Society Members"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:Z,disabled:r,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Tt,{className:`w-4 h-4 ${r?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]}),s.jsxs("button",{onClick:V,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]}),s.jsxs("button",{className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Er,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Member"})]})]})]}),a&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[s.jsx(pt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-red-700",children:a}),s.jsx("button",{onClick:()=>i(null),className:"ml-auto text-red-500 hover:text-red-700",children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:j})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(dt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Members"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(Y=>Y.isActive).length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-blue-600 font-bold text-lg",children:""})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"KYC Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(Y=>Y.kycStatus==="pending").length})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-yellow-600 font-bold text-lg",children:""})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Verified"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(Y=>Y.isVerified).length})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-purple-600 font-bold text-lg",children:""})})]})})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by name, email, or member ID...",value:o,onChange:Y=>c(Y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("select",{value:A,onChange:Y=>d(Y.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]}),s.jsxs("select",{value:u,onChange:Y=>m(Y.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Societies"}),s.jsx("option",{value:"tech-club",children:"Tech Club"}),s.jsx("option",{value:"sports-club",children:"Sports Club"}),s.jsx("option",{value:"cultural-society",children:"Cultural Society"})]}),s.jsxs("select",{value:h,onChange:Y=>g(Y.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All KYC Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Members List (",e.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Society"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Join Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"KYC Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-green-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"ml-3 text-gray-500",children:"Loading members..."})]})})}):e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(dt,{className:"w-12 h-12 text-gray-300 mb-2"}),s.jsx("p",{children:"No members found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})}):e.map(Y=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[Y.firstName.charAt(0),Y.lastName.charAt(0)]})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[Y.firstName," ",Y.lastName]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",Y.memberId]})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:Y.email}),s.jsx("div",{className:"text-sm text-gray-500",children:Y.phoneNumber||Y.phone})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Y.societyName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Y.position}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Y.membershipDate?new Date(Y.membershipDate).toLocaleDateString():"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y.kycStatus==="approved"?"bg-green-100 text-green-800":Y.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:Y.kycStatus})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Y.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>ae(Y.id||Y._id),className:"text-green-600 hover:text-green-900",title:"View Details",children:s.jsx(xs,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Edit",children:s.jsx(Ea,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete",children:s.jsx(yn,{className:"w-4 h-4"})})]})})]},Y.id))})]})}),e.length>0&&s.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",j," members"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>R(p-1),disabled:!I,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",p," of ",x]}),s.jsx("button",{onClick:()=>R(p+1),disabled:!S,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),E&&s.jsx(H7,{memberId:E,isOpen:L,onClose:D})]})},z7=()=>{const[e,t]=N.useState("monthly"),r=[{id:1,member:"John Doe",amount:500,type:"Membership Fee",date:"2024-01-15",status:"Completed",method:"Credit Card"},{id:2,member:"Jane Smith",amount:250,type:"Event Fee",date:"2024-01-14",status:"Pending",method:"Bank Transfer"},{id:3,member:"Mike Johnson",amount:750,type:"Annual Fee",date:"2024-01-13",status:"Completed",method:"PayPal"},{id:4,member:"Sarah Wilson",amount:300,type:"Workshop Fee",date:"2024-01-12",status:"Failed",method:"Credit Card"},{id:5,member:"David Brown",amount:450,type:"Membership Fee",date:"2024-01-11",status:"Completed",method:"Cash"}],n=r.filter(i=>i.status==="Completed").reduce((i,l)=>i+(l.amount||0),0),a=r.filter(i=>i.status==="Pending").reduce((i,l)=>i+(l.amount||0),0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Qr,{className:"w-8 h-8 text-sky-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Payments"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]}),s.jsxs("button",{className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Er,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Payment"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",n.toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(kt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Payments"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",a.toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(Qr,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r.filter(i=>i.status==="Completed").length})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 font-bold text-lg",children:""})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r.filter(i=>i.status==="Failed").length})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-red-600 font-bold text-lg",children:""})})]})})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("select",{value:e,onChange:i=>t(i.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[s.jsx("option",{value:"weekly",children:"This Week"}),s.jsx("option",{value:"monthly",children:"This Month"}),s.jsx("option",{value:"quarterly",children:"This Quarter"}),s.jsx("option",{value:"yearly",children:"This Year"})]}),s.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[s.jsx("option",{children:"All Status"}),s.jsx("option",{children:"Completed"}),s.jsx("option",{children:"Pending"}),s.jsx("option",{children:"Failed"})]}),s.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[s.jsx("option",{children:"All Methods"}),s.jsx("option",{children:"Credit Card"}),s.jsx("option",{children:"Bank Transfer"}),s.jsx("option",{children:"PayPal"}),s.jsx("option",{children:"Cash"})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Payments"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(i=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",i.id.toString().padStart(4,"0")]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.member}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.type}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:["$",i.amount]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.method}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.date?new Date(i.date).toLocaleDateString():"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i.status==="Completed"?"bg-green-100 text-green-800":i.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:i.status})})]},i.id))})]})})]})]})},V7=()=>{const e=[{id:1,member:"John Doe",amount:1e4,purpose:"Education",interestRate:5.5,term:24,status:"Active",nextDue:"2024-02-15",remainingBalance:8500},{id:2,member:"Jane Smith",amount:15e3,purpose:"Business",interestRate:6,term:36,status:"Pending",nextDue:null,remainingBalance:15e3},{id:3,member:"Mike Johnson",amount:5e3,purpose:"Emergency",interestRate:4.5,term:12,status:"Completed",nextDue:null,remainingBalance:0},{id:4,member:"Sarah Wilson",amount:8e3,purpose:"Home Improvement",interestRate:5,term:18,status:"Overdue",nextDue:"2024-01-10",remainingBalance:6200},{id:5,member:"David Brown",amount:12e3,purpose:"Vehicle",interestRate:7,term:30,status:"Active",nextDue:"2024-02-20",remainingBalance:9800}],t=e.reduce((a,i)=>a+(i.amount||0),0),r=e.reduce((a,i)=>a+(i.remainingBalance||0),0),n=e.filter(a=>a.status==="Active").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(yo,{className:"w-8 h-8 text-sky-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Loans"})]}),s.jsxs("button",{className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Er,{className:"w-5 h-5"}),s.jsx("span",{children:"New Loan"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Loaned"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",t.toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(yo,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Outstanding"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",r.toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(Qt,{className:"w-6 h-6 text-orange-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Loans"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Me,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(a=>a.status==="Overdue").length})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(Ft,{className:"w-6 h-6 text-red-600"})})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Loan Applications"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loan ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purpose"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interest Rate"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remaining"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Next Due"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(a=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#L",a.id.toString().padStart(4,"0")]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-sky-500 rounded-full flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:a.member.split(" ").map(i=>i[0]).join("")})}),s.jsx("span",{className:"text-sm text-gray-900",children:a.member})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.purpose}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:["$",a.amount?a.amount.toLocaleString():"0"]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[a.interestRate,"%"]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:["$",a.remainingBalance?a.remainingBalance.toLocaleString():"0"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.nextDue?new Date(a.nextDue).toLocaleDateString():"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a.status==="Active"?"bg-green-100 text-green-800":a.status==="Pending"?"bg-yellow-100 text-yellow-800":a.status==="Completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:a.status})})]},a.id))})]})})]})]})},$7=()=>{const e=[{id:1,member:"John Doe",type:"Late Payment",amount:50,reason:"Membership fee overdue by 15 days",date:"2024-01-10",dueDate:"2024-01-25",status:"Unpaid"},{id:2,member:"Jane Smith",type:"Violation",amount:100,reason:"Facility misuse",date:"2024-01-08",dueDate:"2024-01-23",status:"Paid"},{id:3,member:"Mike Johnson",type:"Late Return",amount:25,reason:"Book returned 5 days late",date:"2024-01-05",dueDate:"2024-01-20",status:"Unpaid"},{id:4,member:"Sarah Wilson",type:"Damage",amount:200,reason:"Equipment damage during event",date:"2024-01-03",dueDate:"2024-01-18",status:"Disputed"},{id:5,member:"David Brown",type:"Late Payment",amount:75,reason:"Course fee overdue by 10 days",date:"2024-01-01",dueDate:"2024-01-16",status:"Unpaid"}],t=e.reduce((a,i)=>a+i.amount,0),r=e.filter(a=>a.status==="Unpaid").reduce((a,i)=>a+i.amount,0),n=e.filter(a=>a.status==="Disputed").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ts,{className:"w-8 h-8 text-sky-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Penalties"})]}),s.jsxs("button",{className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Er,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Penalty"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Penalties"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",t]})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(ts,{className:"w-6 h-6 text-red-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Unpaid Amount"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",r]})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(yt,{className:"w-6 h-6 text-orange-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Et,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Disputed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-yellow-600 font-bold text-lg",children:"?"})})]})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-red-500 hover:bg-red-50 transition-all",children:[s.jsx(ts,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Issue Penalty"})]}),s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all",children:[s.jsx(yt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Record Payment"})]}),s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all",children:[s.jsx(Et,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Send Reminder"})]}),s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all",children:[s.jsx("span",{className:"text-2xl text-gray-400 mx-auto mb-2 block",children:""}),s.jsx("span",{className:"text-sm text-gray-600",children:"Generate Report"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Penalties"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Penalty ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(a=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#P",a.id.toString().padStart(4,"0")]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-sky-500 rounded-full flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:a.member.split(" ").map(i=>i[0]).join("")})}),s.jsx("span",{className:"text-sm text-gray-900",children:a.member})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a.type==="Late Payment"?"bg-orange-100 text-orange-800":a.type==="Violation"?"bg-red-100 text-red-800":a.type==="Damage"?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800"}`,children:a.type})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:a.reason}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:["$",a.amount]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.dueDate?new Date(a.dueDate).toLocaleDateString():"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a.status==="Paid"?"bg-green-100 text-green-800":a.status==="Disputed"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.status})})]},a.id))})]})})]})]})},G7=({studentId:e,isOpen:t,onClose:r})=>{const[n,a]=N.useState(null),[i,l]=N.useState(!1),[o,c]=N.useState(null),[A,d]=N.useState(null),[u,m]=N.useState(!1);N.useEffect(()=>{t&&e&&h()},[t,e]);const h=async()=>{l(!0),c(null);try{const j=await Ui.getStudentById(e);a(j)}catch(j){console.error("Error loading student details:",j),c("Failed to load student details. Please try again.")}finally{l(!1)}},g=j=>typeof j=="string"?j:j&&typeof j=="object"?`${j.street}, ${j.city}, ${j.state} ${j.zipCode}, ${j.country}`:"Address not available",p=j=>{if(!j)return s.jsx(Qt,{className:"w-4 h-4 text-gray-400"});switch(j.status){case"approved":return s.jsx(Me,{className:"w-4 h-4 text-green-500"});case"rejected":return s.jsx(Ft,{className:"w-4 h-4 text-red-500"});case"pending":return s.jsx(Qt,{className:"w-4 h-4 text-yellow-500"});default:return s.jsx(Qt,{className:"w-4 h-4 text-gray-400"})}},v=j=>{if(!j)return"bg-gray-100 text-gray-800";switch(j.status){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},x=(j,w,S)=>{d({url:j,type:w,name:S}),m(!0)},b=()=>{m(!1),d(null)};return t?s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-sky-50 to-blue-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-sky-500 rounded-full flex items-center justify-center",children:s.jsx(Vt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Student Details"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Complete student information and KYC status"})]})]}),s.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(rt,{className:"w-6 h-6 text-gray-600"})})]}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)]",children:i?s.jsx("div",{className:"flex items-center justify-center p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-sky-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Loading student details..."})]})}):o?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[s.jsx(Ft,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),s.jsx("p",{className:"text-red-700",children:o}),s.jsx("button",{onClick:h,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):n?s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(Vt,{className:"w-5 h-5 mr-2 text-sky-600"}),"Basic Information"]}),s.jsxs("button",{className:"flex items-center space-x-2 px-3 py-1 bg-sky-100 text-sky-700 rounded-lg hover:bg-sky-200 transition-colors",children:[s.jsx(Ea,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Edit"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[n.firstName," ",n.lastName]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Student ID"}),s.jsx("p",{className:"text-lg font-semibold text-sky-600",children:n.studentId})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kg,{className:"w-4 h-4 text-gray-400"}),s.jsx("p",{className:"text-gray-800",children:n.email})]})]}),n.originalPassword&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Original Password"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fg,{className:"w-4 h-4 text-gray-400"}),s.jsx("p",{className:"text-gray-800 font-mono bg-gray-100 px-2 py-1 rounded text-sm",children:n.originalPassword})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jm,{className:"w-4 h-4 text-gray-400"}),s.jsx("p",{className:"text-gray-800",children:n.phoneNumber||n.phone})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Et,{className:"w-4 h-4 text-gray-400"}),s.jsx("p",{className:"text-gray-800",children:new Date(n.dateOfBirth).toLocaleDateString()})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Address"}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Fo,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsx("p",{className:"text-gray-800",children:g(n.address)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Login"}),s.jsx("p",{className:"text-gray-800",children:n.lastLogin?new Date(n.lastLogin).toLocaleString():"Never"})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[s.jsx(ar,{className:"w-5 h-5 mr-2 text-sky-600"}),"Academic Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Department"}),s.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n.department})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Course"}),s.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n.courseName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Year"}),s.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n.year||n.academicYear})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Batch"}),s.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n.batchName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Enrollment Date"}),s.jsx("p",{className:"text-gray-800",children:new Date(n.enrollmentDate).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),s.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${n.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.isActive?"Active":"Inactive"})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[s.jsx(Ga,{className:"w-5 h-5 mr-2 text-sky-600"}),"KYC Information"]}),n.kyc?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[p(n.kyc),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-800",children:"KYC Status"}),s.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${v(n.kyc)}`,children:n.kyc.status.toUpperCase()})]})]}),n.kyc.status==="approved"&&n.kyc.approvedBy&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Approved by"}),s.jsxs("p",{className:"font-semibold text-gray-800",children:[n.kyc.approvedBy.firstName," ",n.kyc.approvedBy.lastName]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[n.kyc.submittedAt&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Submitted At"}),s.jsx("p",{className:"text-gray-800",children:new Date(n.kyc.submittedAt).toLocaleString()})]}),n.kyc.approvedAt&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Approved At"}),s.jsx("p",{className:"text-gray-800",children:new Date(n.kyc.approvedAt).toLocaleString()})]}),n.kyc.rejectionReason&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Rejection Reason"}),s.jsx("p",{className:"text-red-600",children:n.kyc.rejectionReason})]})]}),s.jsxs("div",{className:"space-y-4",children:[n.kyc.aadharNumber&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Aadhar Number"}),s.jsx("p",{className:"text-gray-800 font-mono",children:n.kyc.aadharNumber})]}),n.kyc.aadharCardImage&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Aadhar Card"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(sa,{className:"w-4 h-4 text-gray-400"}),s.jsxs("button",{onClick:()=>{var j;return((j=n.kyc)==null?void 0:j.aadharCardImage)&&x(n.kyc.aadharCardImage,"Aadhar Card",`${n.firstName}_${n.lastName}_Aadhar.jpg`)},className:"text-sky-600 hover:text-sky-800 flex items-center space-x-1 mr-3",children:[s.jsx(xs,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Preview"})]}),s.jsxs("button",{onClick:()=>{var j;if((j=n.kyc)!=null&&j.aadharCardImage){const w=document.createElement("a");w.href=n.kyc.aadharCardImage,w.download=`${n.firstName}_${n.lastName}_Aadhar.jpg`,w.target="_blank",document.body.appendChild(w),w.click(),document.body.removeChild(w)}},className:"text-sky-600 hover:text-sky-800 flex items-center space-x-1",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Download"})]})]})]})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ga,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"No KYC information available"})]})]}),(n.interests||n.achievements||n.registeredSocieties)&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[s.jsx(ds,{className:"w-5 h-5 mr-2 text-sky-600"}),"Additional Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.interests&&n.interests.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Interests"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.interests.map((j,w)=>s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:j},w))})]}),n.achievements&&n.achievements.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Achievements"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.achievements.map((j,w)=>s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:j},w))})]}),n.registeredSocieties&&n.registeredSocieties.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Registered Societies"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.registeredSocieties.map((j,w)=>s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-sm rounded-full",children:j},w))})]})]})]})]}):null}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[s.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Close"}),s.jsx("button",{className:"px-6 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors",children:"Edit Student"})]})]}),A&&s.jsx(Id,{isOpen:u,onClose:b,documentUrl:A.url,documentType:A.type,documentName:A.name})]}):null},q7=({isOpen:e,onClose:t,student:r})=>{const[n,a]=N.useState([]),[i,l]=N.useState(!1),[o,c]=N.useState(null);N.useEffect(()=>{e&&r&&A()},[e,r]);const A=async()=>{if(r){l(!0),c(null);try{const m=await Xt.getEnrollmentsByStudentId(r._id);if(m.success&&m.data)a(m.data.enrollments);else throw new Error(m.message||"Failed to load enrollments")}catch(m){console.error("Error loading enrollments:",m),c(m instanceof Error?m.message:"An unknown error occurred")}finally{l(!1)}}},d=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),u=m=>new Date(m).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Vt,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Student Enrollments"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[r.firstName," ",r.lastName," (",r.studentId,")"]})]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Close",children:s.jsx(rt,{size:20})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading enrollments..."})]}):o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(pt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-red-600 font-medium",children:"Error loading enrollments"}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:o}),s.jsx("button",{onClick:A,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):n.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ar,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"No enrollments found"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"This student hasn't enrolled in any courses yet."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Department:"}),s.jsx("p",{className:"text-gray-900",children:r.department})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Year:"}),s.jsx("p",{className:"text-gray-900",children:r.year})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Total Enrollments:"}),s.jsx("p",{className:"text-gray-900",children:n.length})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(nr,{className:"w-5 h-5 text-blue-600 mr-2"}),"Course Enrollments"]}),n.map(m=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:m.courseId.title}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-medium text-gray-600 w-20",children:"Category:"}),s.jsx("span",{className:"text-gray-900",children:m.courseId.category})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-medium text-gray-600 w-20",children:"Type:"}),s.jsx("span",{className:"text-gray-900 capitalize",children:m.courseId.type})]})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Batch Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-medium text-gray-600 w-20",children:"Batch:"}),s.jsx("span",{className:"text-gray-900",children:m.batchId.name})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Et,{className:"w-4 h-4 text-gray-500 mr-2"}),s.jsxs("span",{className:"text-gray-900",children:[d(m.batchId.startDate)," - ",d(m.batchId.endDate)]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Enrollment Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Status:"}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Xt.getEnrollmentStatusColor(m.status)}`,children:m.status})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Payment:"}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Xt.getPaymentStatusColor(m.paymentStatus)}`,children:m.paymentStatus})]}),m.paymentAmount&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Amount:"}),s.jsxs("span",{className:"text-gray-900",children:["",m.paymentAmount]})]})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Timeline"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qt,{className:"w-4 h-4 text-gray-500 mr-2"}),s.jsx("span",{className:"text-gray-600",children:"Enrolled:"}),s.jsx("span",{className:"text-gray-900 ml-2",children:u(m.enrollmentDate)})]}),m.paymentDate&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(yt,{className:"w-4 h-4 text-gray-500 mr-2"}),s.jsx("span",{className:"text-gray-600",children:"Paid:"}),s.jsx("span",{className:"text-gray-900 ml-2",children:u(m.paymentDate)})]}),m.completionDate&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Me,{className:"w-4 h-4 text-gray-500 mr-2"}),s.jsx("span",{className:"text-gray-600",children:"Completed:"}),s.jsx("span",{className:"text-gray-900 ml-2",children:u(m.completionDate)})]})]})]}),(m.grade||m.certificateIssued)&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Results"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[m.grade&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Grade:"}),s.jsx("span",{className:"text-gray-900",children:m.grade})]}),m.certificateIssued&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Certificate:"}),s.jsx("span",{className:"text-green-600 font-medium",children:"Issued"})]})]})]})]})]})},m._id))]})]})}),s.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})})},xE=wd.memo(()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l]=N.useState({}),[o,c]=N.useState(""),[A,d]=N.useState("all"),[u,m]=N.useState("all"),[h,g]=N.useState("all"),[p,v]=N.useState(1),[x,b]=N.useState(1),[j,w]=N.useState(0),[S,F]=N.useState(!1),[I,k]=N.useState(!1),[E,O]=N.useState(null),[L,P]=N.useState(!1),[U,R]=N.useState(null),[V,Z]=N.useState(!1),ae=N.useCallback(async(J=1)=>{n(!0),i(null);try{const de={...l,search:o||void 0,isActive:A==="all"?void 0:A==="active",department:u==="all"?void 0:u,kycStatus:h==="all"?void 0:h};Object.keys(de).forEach(le=>{de[le]===void 0&&delete de[le]});const ge=await Ui.getAllStudents(J,10,de,"firstName","asc");t(ge.students),b(ge.pagination.totalPages),w(ge.pagination.totalItems),F(ge.pagination.hasNextPage),k(ge.pagination.hasPrevPage),v(ge.pagination.currentPage)}catch(de){console.error("Error loading students:",de),i("Failed to load students. Please try again.")}finally{n(!1)}},[l,o,A,u,h]);N.useEffect(()=>{ae(1)},[ae]);const D=N.useCallback(J=>{v(J),ae(J)},[ae]),Y=N.useCallback(async()=>{try{const J={...l,search:o||void 0,isActive:A==="all"?void 0:A==="active",department:u==="all"?void 0:u,kycStatus:h==="all"?void 0:h};await Ui.exportUsers("students",J,"excel")}catch(J){console.error("Error exporting students:",J),i("Failed to export students. Please try again.")}},[l,o,A,u,h]),re=N.useCallback(()=>{ae(p)},[ae,p]),q=N.useCallback(J=>{O(J),P(!0)},[]),_=N.useCallback(()=>{P(!1),O(null)},[]),z=N.useCallback(J=>{R(J),Z(!0)},[]),G=N.useCallback(()=>{Z(!1),R(null)},[]),X=N.useMemo(()=>({activeStudents:e.filter(J=>J.isActive).length,kycPending:e.filter(J=>J.kycStatus==="pending").length,verified:e.filter(J=>J.isVerified).length}),[e]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ar,{className:"w-8 h-8 text-sky-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Students"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:re,disabled:r,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors","aria-label":"Refresh students list",children:[s.jsx(Tt,{className:`w-4 h-4 ${r?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]}),s.jsxs("button",{onClick:Y,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors","aria-label":"Export students data",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]}),s.jsxs("button",{className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors","aria-label":"Add new student",disabled:!0,children:[s.jsx(Er,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Student"})]})]})]}),s.jsx(ia,{error:a,onRetry:re,onDismiss:()=>i(null),title:"Failed to load students"}),r?s.jsx(Qg,{count:4}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:j})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(ar,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:X.activeStudents})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 font-bold text-lg",children:""})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"KYC Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:X.kycPending})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-yellow-600 font-bold text-lg",children:""})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Verified"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:X.verified})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-purple-600 font-bold text-lg",children:""})})]})})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by name, email, or student ID...",value:o,onChange:J=>c(J.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent","aria-label":"Search students","aria-describedby":"search-help"}),s.jsx("div",{id:"search-help",className:"sr-only",children:"Enter student name, email, or student ID to filter the list"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("select",{value:A,onChange:J=>d(J.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent","aria-label":"Filter by status",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]}),s.jsxs("select",{value:u,onChange:J=>m(J.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent","aria-label":"Filter by department",children:[s.jsx("option",{value:"all",children:"All Departments"}),s.jsx("option",{value:"Arts",children:"Arts"}),s.jsx("option",{value:"Business",children:"Business"}),s.jsx("option",{value:"Science",children:"Science"}),s.jsx("option",{value:"Computer Science",children:"Computer Science"}),s.jsx("option",{value:"Engineering",children:"Engineering"}),s.jsx("option",{value:"Medicine",children:"Medicine"})]}),s.jsxs("select",{value:h,onChange:J=>g(J.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent","aria-label":"Filter by KYC status",children:[s.jsx("option",{value:"all",children:"All KYC Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"not_submitted",children:"Not Submitted"})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Student List (",e.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",role:"table","aria-label":"Students table",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"KYC Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-6 py-8",children:s.jsx(_d,{rows:5,columns:8})})}):e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(ar,{className:"w-12 h-12 text-gray-300 mb-2"}),s.jsx("p",{children:"No students found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})}):e.map(J=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:J.profilePicture?s.jsx("img",{src:J.profilePicture,alt:`${J.firstName} ${J.lastName}`,className:"w-full h-full object-cover",onError:de=>{const ge=de.target;ge.style.display="none";const le=ge.parentElement;le&&(le.innerHTML=`
                                    <div class="w-full h-full bg-sky-500 flex items-center justify-center">
                                      <span class="text-white text-sm font-semibold">
                                        ${J.firstName.charAt(0)}${J.lastName.charAt(0)}
                                      </span>
                                    </div>
                                  `)}}):s.jsx("div",{className:"w-full h-full bg-sky-500 flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[J.firstName.charAt(0),J.lastName.charAt(0)]})})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[J.firstName," ",J.lastName]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",J.studentId]})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:J.email}),s.jsx("div",{className:"text-sm text-gray-500",children:J.phoneNumber||J.phone})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:J.department}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:J.courseName||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:J.enrollmentDate?new Date(J.enrollmentDate).toLocaleDateString():"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${J.kycStatus==="approved"?"bg-green-100 text-green-800":J.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":J.kycStatus==="not_submitted"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:J.kycStatus==="not_submitted"?"Not Submitted":J.kycStatus})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${J.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:J.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>q(J.id||J._id),className:"text-sky-600 hover:text-sky-900",title:"View Student Details","aria-label":`View details for ${J.firstName} ${J.lastName}`,children:s.jsx(xs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>z(J),className:"text-blue-600 hover:text-blue-900",title:"View Enrollments","aria-label":`View enrollments for ${J.firstName} ${J.lastName}`,children:s.jsx(nr,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Edit","aria-label":`Edit ${J.firstName} ${J.lastName}`,disabled:!0,children:s.jsx(Ea,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete","aria-label":`Delete ${J.firstName} ${J.lastName}`,disabled:!0,children:s.jsx(yn,{className:"w-4 h-4"})})]})})]},J.id||J._id||J.studentId))})]})}),e.length>0&&s.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",j," students"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>D(p-1),disabled:!I,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50","aria-label":"Go to previous page",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-sm","aria-live":"polite",children:["Page ",p," of ",x]}),s.jsx("button",{onClick:()=>D(p+1),disabled:!S,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50","aria-label":"Go to next page",children:"Next"})]})]})]}),E&&s.jsx(G7,{studentId:E,isOpen:L,onClose:_}),s.jsx(q7,{isOpen:V,onClose:G,student:U})]})});xE.displayName="Students";const W7=()=>{const e=[{id:1,name:"2024-A",course:"Computer Science",instructor:"Dr. Smith",students:25,startDate:"2024-01-15",endDate:"2024-05-15",status:"Active"},{id:2,name:"2024-B",course:"Mathematics",instructor:"Prof. Johnson",students:20,startDate:"2024-02-01",endDate:"2024-06-01",status:"Active"},{id:3,name:"2024-C",course:"Physics",instructor:"Dr. Wilson",students:18,startDate:"2024-03-01",endDate:"2024-07-01",status:"Upcoming"},{id:4,name:"2023-D",course:"Chemistry",instructor:"Prof. Brown",students:22,startDate:"2023-09-01",endDate:"2024-01-01",status:"Completed"},{id:5,name:"2024-E",course:"Biology",instructor:"Dr. Davis",students:30,startDate:"2024-04-01",endDate:"2024-08-01",status:"Upcoming"}],t=e.reduce((a,i)=>a+i.students,0),r=e.filter(a=>a.status==="Active").length,n=e.filter(a=>a.status==="Upcoming").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(nr,{className:"w-8 h-8 text-sky-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Course Batches"})]}),s.jsxs("button",{className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Er,{className:"w-5 h-5"}),s.jsx("span",{children:"New Batch"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Batches"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(nr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Batches"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 font-bold text-lg",children:""})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:t})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(dt,{className:"w-6 h-6 text-purple-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(Et,{className:"w-6 h-6 text-yellow-600"})})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(a=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:a.name}),s.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${a.status==="Active"?"bg-green-100 text-green-800":a.status==="Upcoming"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:a.status})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),a.course]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(dt,{className:"w-4 h-4 mr-2"}),a.students," Students"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Instructor:"})," ",a.instructor]}),s.jsx("div",{className:"text-sm text-gray-600",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Et,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[new Date(a.startDate).toLocaleDateString()," - ",new Date(a.endDate).toLocaleDateString()]})]})})]}),s.jsxs("div",{className:"mt-6 flex space-x-3",children:[s.jsx("button",{className:"flex-1 bg-sky-50 hover:bg-sky-100 text-sky-700 py-2 px-4 rounded-lg transition-colors text-sm font-medium",children:"View Details"}),s.jsx("button",{className:"flex-1 bg-gray-50 hover:bg-gray-100 text-gray-700 py-2 px-4 rounded-lg transition-colors text-sm font-medium",children:"Manage"})]})]})},a.id))}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-sky-500 hover:bg-sky-50 transition-all",children:[s.jsx(nr,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Create Batch"})]}),s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all",children:[s.jsx(dt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Assign Students"})]}),s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all",children:[s.jsx(Et,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Schedule Classes"})]}),s.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-all",children:[s.jsx("span",{className:"text-2xl text-gray-400 mx-auto mb-2 block",children:""}),s.jsx("span",{className:"text-sm text-gray-600",children:"View Reports"})]})]})]})]})},Y7=()=>{const e=[{id:1,student:"Alice Johnson",course:"Computer Science",batch:"2024-A",issueDate:"2024-01-20",type:"Course Completion",status:"Issued",grade:"A+"},{id:2,student:"Bob Smith",course:"Mathematics",batch:"2024-B",issueDate:"2024-01-18",type:"Excellence Award",status:"Pending",grade:"A"},{id:3,student:"Eva Brown",course:"Biology",batch:"2023-D",issueDate:"2024-01-15",type:"Course Completion",status:"Issued",grade:"A+"},{id:4,student:"Carol Davis",course:"Physics",batch:"2024-A",issueDate:"2024-01-12",type:"Participation",status:"Draft",grade:"B+"},{id:5,student:"David Wilson",course:"Chemistry",batch:"2024-C",issueDate:"2024-01-10",type:"Course Completion",status:"Issued",grade:"A-"}],t=e.filter(a=>a.status==="Issued").length,r=e.filter(a=>a.status==="Pending").length,n=e.filter(a=>a.status==="Draft").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(dr,{className:"w-8 h-8 text-sky-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Certificates"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{children:"Export All"})]}),s.jsxs("button",{className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Er,{className:"w-5 h-5"}),s.jsx("span",{children:"Issue Certificate"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(dr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Issued"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:t})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 font-bold text-lg",children:""})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-orange-600 font-bold text-lg",children:""})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Draft"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n})]}),s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-gray-600 font-bold text-lg",children:""})})]})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Certificate Templates"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"border-2 border-dashed border-sky-300 rounded-lg p-6 text-center hover:border-sky-500 hover:bg-sky-50 transition-all cursor-pointer",children:[s.jsx(dr,{className:"w-12 h-12 text-sky-500 mx-auto mb-3"}),s.jsx("h3",{className:"font-semibold text-gray-800",children:"Course Completion"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Standard completion certificate"})]}),s.jsxs("div",{className:"border-2 border-dashed border-purple-300 rounded-lg p-6 text-center hover:border-purple-500 hover:bg-purple-50 transition-all cursor-pointer",children:[s.jsx("span",{className:"text-4xl mb-3 block",children:""}),s.jsx("h3",{className:"font-semibold text-gray-800",children:"Excellence Award"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"For outstanding performance"})]}),s.jsxs("div",{className:"border-2 border-dashed border-green-300 rounded-lg p-6 text-center hover:border-green-500 hover:bg-green-50 transition-all cursor-pointer",children:[s.jsx("span",{className:"text-4xl mb-3 block",children:""}),s.jsx("h3",{className:"font-semibold text-gray-800",children:"Graduation"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Degree completion certificate"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Certificates"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Certificate ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issue Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(a=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#C",a.id.toString().padStart(4,"0")]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-sky-500 rounded-full flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:a.student.split(" ").map(i=>i[0]).join("")})}),s.jsx("span",{className:"text-sm text-gray-900",children:a.student})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:a.course}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Batch: ",a.batch]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a.type==="Course Completion"?"bg-blue-100 text-blue-800":a.type==="Excellence Award"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:a.type})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`text-sm font-semibold ${a.grade.startsWith("A")?"text-green-600":a.grade.startsWith("B")?"text-blue-600":"text-orange-600"}`,children:a.grade})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(a.issueDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a.status==="Issued"?"bg-green-100 text-green-800":a.status==="Pending"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:a.status})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[s.jsx("button",{className:"text-sky-600 hover:text-sky-900",title:"View",children:s.jsx(xs,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Download",children:s.jsx(lr,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"Send",children:s.jsx(iD,{className:"w-4 h-4"})})]})]},a.id))})]})})]})]})};class X7{async generateCertificateFromMarksheet(t,r){try{const n=await pe.post(`/admin/student-documents/certificates/generate-from-marksheet/${t}`,r||{});if(n.success&&n.data)return n.data.data;throw new Error(n.message||"Failed to generate certificate")}catch(n){throw console.error("Generate certificate error:",n),n}}async getCertificate(t){try{const r=await pe.get(`/admin/student-documents/certificates/${t}`);if(r.success&&r.data)return r.data.data;throw new Error(r.message||"Failed to fetch certificate")}catch(r){throw console.error("Get certificate error:",r),r}}async getStudentCertificateData(t,r=1,n=10,a){try{const i={page:r,limit:n,includeDetails:!0};a&&Object.entries(a).forEach(([o,c])=>{c!=null&&c!==""&&(i[o]=c)});const l=await pe.get(`/admin/student-documents/students/${t}/certificate-data`,{params:i});if(l.success&&l.data)return l.data;throw new Error(l.message||"Failed to fetch student certificate data")}catch(i){throw console.error("Get student certificate data error:",i),i}}async getStudentCertificates(t,r=1,n=10){try{const a=await pe.get(`/admin/student-documents/students/${t}/certificates`,{params:{page:r,limit:n}});if(a.success&&a.data)return a.data.data;throw new Error(a.message||"Failed to fetch student certificates")}catch(a){throw console.error("Get student certificates error:",a),a}}}const Tw=new X7,J7="modulepreload",Z7=function(e){return"/"+e},V5={},fh=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Z7(c),c in V5)return;V5[c]=!0;const A=c.endsWith(".css"),d=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const u=document.createElement("link");if(u.rel=A?"stylesheet":J7,A||(u.as="script"),u.crossOrigin="",u.href=c,o&&u.setAttribute("nonce",o),document.head.appendChild(u),A)return new Promise((m,h)=>{u.addEventListener("load",m),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function as(e){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}var Za=Uint8Array,Zn=Uint16Array,Rw=Int32Array,Ow=new Za([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hw=new Za([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$5=new Za([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gE=function(e,t){for(var r=new Zn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new Rw(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},pE=gE(Ow,2),eO=pE.b,Cv=pE.r;eO[28]=258,Cv[258]=28;var tO=gE(Hw,0),G5=tO.r,Sv=new Zn(32768);for(var Fs=0;Fs<32768;++Fs){var Hl=(Fs&43690)>>1|(Fs&21845)<<1;Hl=(Hl&52428)>>2|(Hl&13107)<<2,Hl=(Hl&61680)>>4|(Hl&3855)<<4,Sv[Fs]=((Hl&65280)>>8|(Hl&255)<<8)>>1}var xh=function(e,t,r){for(var n=e.length,a=0,i=new Zn(t);a<n;++a)e[a]&&++i[e[a]-1];var l=new Zn(t);for(a=1;a<t;++a)l[a]=l[a-1]+i[a-1]<<1;var o;if(r){o=new Zn(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var A=a<<4|e[a],d=t-e[a],u=l[e[a]-1]++<<d,m=u|(1<<d)-1;u<=m;++u)o[Sv[u]>>c]=A}else for(o=new Zn(n),a=0;a<n;++a)e[a]&&(o[a]=Sv[l[e[a]-1]++]>>15-e[a]);return o},Rc=new Za(288);for(var Fs=0;Fs<144;++Fs)Rc[Fs]=8;for(var Fs=144;Fs<256;++Fs)Rc[Fs]=9;for(var Fs=256;Fs<280;++Fs)Rc[Fs]=7;for(var Fs=280;Fs<288;++Fs)Rc[Fs]=8;var Ox=new Za(32);for(var Fs=0;Fs<32;++Fs)Ox[Fs]=5;var sO=xh(Rc,9,0),rO=xh(Ox,5,0),yE=function(e){return(e+7)/8|0},nO=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Za(e.subarray(t,r))},el=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Eu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},by=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:vE,l:0};if(a==1){var l=new Za(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(S,F){return S.f-F.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],A=0,d=1,u=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=a-1;)o=r[r[A].f<r[u].f?A++:u++],c=r[A!=d&&r[A].f<r[u].f?A++:u++],r[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var m=i[0].s,n=1;n<a;++n)i[n].s>m&&(m=i[n].s);var h=new Zn(m+1),g=Ev(r[d-1],h,0);if(g>t){var n=0,p=0,v=g-t,x=1<<v;for(i.sort(function(F,I){return h[I.s]-h[F.s]||F.f-I.f});n<a;++n){var b=i[n].s;if(h[b]>t)p+=x-(1<<g-h[b]),h[b]=t;else break}for(p>>=v;p>0;){var j=i[n].s;h[j]<t?p-=1<<t-h[j]++-1:++n}for(;n>=0&&p;--n){var w=i[n].s;h[w]==t&&(--h[w],++p)}g=t}return{t:new Za(h),l:g}},Ev=function(e,t,r){return e.s==-1?Math.max(Ev(e.l,t,r+1),Ev(e.r,t,r+1)):t[e.s]=r},q5=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Zn(++t),n=0,a=e[0],i=1,l=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Fu=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},bE=function(e,t,r){var n=r.length,a=yE(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},W5=function(e,t,r,n,a,i,l,o,c,A,d){el(t,d++,r),++a[256];for(var u=by(a,15),m=u.t,h=u.l,g=by(i,15),p=g.t,v=g.l,x=q5(m),b=x.c,j=x.n,w=q5(p),S=w.c,F=w.n,I=new Zn(19),k=0;k<b.length;++k)++I[b[k]&31];for(var k=0;k<S.length;++k)++I[S[k]&31];for(var E=by(I,7),O=E.t,L=E.l,P=19;P>4&&!O[$5[P-1]];--P);var U=A+5<<3,R=Fu(a,Rc)+Fu(i,Ox)+l,V=Fu(a,m)+Fu(i,p)+l+14+3*P+Fu(I,O)+2*I[16]+3*I[17]+7*I[18];if(c>=0&&U<=R&&U<=V)return bE(t,d,e.subarray(c,c+A));var Z,ae,D,Y;if(el(t,d,1+(V<R)),d+=2,V<R){Z=xh(m,h,0),ae=m,D=xh(p,v,0),Y=p;var re=xh(O,L,0);el(t,d,j-257),el(t,d+5,F-1),el(t,d+10,P-4),d+=14;for(var k=0;k<P;++k)el(t,d+3*k,O[$5[k]]);d+=3*P;for(var q=[b,S],_=0;_<2;++_)for(var z=q[_],k=0;k<z.length;++k){var G=z[k]&31;el(t,d,re[G]),d+=O[G],G>15&&(el(t,d,z[k]>>5&127),d+=z[k]>>12)}}else Z=sO,ae=Rc,D=rO,Y=Ox;for(var k=0;k<o;++k){var X=n[k];if(X>255){var G=X>>18&31;Eu(t,d,Z[G+257]),d+=ae[G+257],G>7&&(el(t,d,X>>23&31),d+=Ow[G]);var J=X&31;Eu(t,d,D[J]),d+=Y[J],J>3&&(Eu(t,d,X>>5&8191),d+=Hw[J])}else Eu(t,d,Z[X]),d+=ae[X]}return Eu(t,d,Z[256]),d+ae[256]},aO=new Rw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vE=new Za(0),iO=function(e,t,r,n,a,i){var l=i.z||e.length,o=new Za(n+l+5*(1+Math.ceil(l/7e3))+a),c=o.subarray(n,o.length-a),A=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var u=aO[t-1],m=u>>13,h=u&8191,g=(1<<r)-1,p=i.p||new Zn(32768),v=i.h||new Zn(g+1),x=Math.ceil(r/3),b=2*x,j=function(be){return(e[be]^e[be+1]<<x^e[be+2]<<b)&g},w=new Rw(25e3),S=new Zn(288),F=new Zn(32),I=0,k=0,E=i.i||0,O=0,L=i.w||0,P=0;E+2<l;++E){var U=j(E),R=E&32767,V=v[U];if(p[R]=V,v[U]=R,L<=E){var Z=l-E;if((I>7e3||O>24576)&&(Z>423||!A)){d=W5(e,c,0,w,S,F,k,O,P,E-P,d),O=I=k=0,P=E;for(var ae=0;ae<286;++ae)S[ae]=0;for(var ae=0;ae<30;++ae)F[ae]=0}var D=2,Y=0,re=h,q=R-V&32767;if(Z>2&&U==j(E-q))for(var _=Math.min(m,Z)-1,z=Math.min(32767,E),G=Math.min(258,Z);q<=z&&--re&&R!=V;){if(e[E+D]==e[E+D-q]){for(var X=0;X<G&&e[E+X]==e[E+X-q];++X);if(X>D){if(D=X,Y=q,X>_)break;for(var J=Math.min(q,X-2),de=0,ae=0;ae<J;++ae){var ge=E-q+ae&32767,le=p[ge],ce=ge-le&32767;ce>de&&(de=ce,V=ge)}}}R=V,V=p[R],q+=R-V&32767}if(Y){w[O++]=268435456|Cv[D]<<18|G5[Y];var ye=Cv[D]&31,Se=G5[Y]&31;k+=Ow[ye]+Hw[Se],++S[257+ye],++F[Se],L=E+D,++I}else w[O++]=e[E],++S[e[E]]}}for(E=Math.max(E,L);E<l;++E)w[O++]=e[E],++S[e[E]];d=W5(e,c,A,w,S,F,k,O,P,E-P,d),A||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=v,i.p=p,i.i=E,i.w=L)}else{for(var E=i.w||0;E<l+A;E+=65535){var Le=E+65535;Le>=l&&(c[d/8|0]=A,Le=l),d=bE(c,d+1,e.subarray(E,Le))}i.i=l}return nO(o,0,n+yE(d)+a)},wE=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,l=0;l!=i;){for(var o=Math.min(l+2655,i);l<o;++l)a+=n+=r[l];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},lO=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new Za(i.length+e.length);l.set(i),l.set(e,i.length),e=l,a.w=i.length}return iO(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},jE=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},oO=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=wE();a.p(t.dictionary),jE(e,2,a.d())}};function Fv(e,t){t||(t={});var r=wE();r.p(e);var n=lO(e,t,t.dictionary?6:2,4);return oO(n,t),jE(n,n.length-4,r.d()),n}var cO=typeof TextDecoder<"u"&&new TextDecoder,AO=0;try{cO.decode(vE,{stream:!0}),AO=1}catch{}function dO(e){if(Array.isArray(e))return e}function uO(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,o=[],c=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){A=!0,a=d}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(A)throw a}}return o}}function Y5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function hO(e,t){if(e){if(typeof e=="string")return Y5(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y5(e,t):void 0}}function mO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X5(e,t){return dO(e)||uO(e,t)||hO(e,t)||mO()}function J5(e,t="utf8"){return new TextDecoder(t).decode(e)}const fO=new TextEncoder;function xO(e){return fO.encode(e)}const gO=1024*8,pO=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),vy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Kw{constructor(t=gO,r={}){_e(this,"buffer");_e(this,"byteLength");_e(this,"byteOffset");_e(this,"length");_e(this,"offset");_e(this,"lastWrittenByte");_e(this,"littleEndian");_e(this,"_data");_e(this,"_mark");_e(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let l=a;(ArrayBuffer.isView(t)||t instanceof Kw)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=vy[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===pO&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const c=new vy[r](o.buffer);return this.offset+=n,c.reverse(),c}const l=new vy[r](i);return this.offset+=n,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return J5(this.readBytes(t))}decodeText(t=1,r="utf8"){return J5(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(xO(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const yO=4,Z5=0,eB=1,bO=2;function Ud(e){let t=e.length;for(;--t>=0;)e[t]=0}const vO=0,NE=1,wO=2,jO=3,NO=258,zw=29,Cm=256,em=Cm+1+zw,ZA=30,Vw=19,BE=2*em+1,yc=15,wy=16,BO=7,$w=256,CE=16,SE=17,EE=18,kv=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),W0=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),CO=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),FE=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),SO=512,cl=new Array((em+2)*2);Ud(cl);const gh=new Array(ZA*2);Ud(gh);const tm=new Array(SO);Ud(tm);const sm=new Array(NO-jO+1);Ud(sm);const Gw=new Array(zw);Ud(Gw);const Hx=new Array(ZA);Ud(Hx);function jy(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}let kE,_E,IE;function Ny(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const UE=e=>e<256?tm[e]:tm[256+(e>>>7)],rm=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},_n=(e,t,r)=>{e.bi_valid>wy-r?(e.bi_buf|=t<<e.bi_valid&65535,rm(e,e.bi_buf),e.bi_buf=t>>wy-e.bi_valid,e.bi_valid+=r-wy):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Bi=(e,t,r)=>{_n(e,r[t*2],r[t*2+1])},LE=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},EO=e=>{e.bi_valid===16?(rm(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},FO=(e,t)=>{const r=t.dyn_tree,n=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,l=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length;let A,d,u,m,h,g,p=0;for(m=0;m<=yc;m++)e.bl_count[m]=0;for(r[e.heap[e.heap_max]*2+1]=0,A=e.heap_max+1;A<BE;A++)d=e.heap[A],m=r[r[d*2+1]*2+1]+1,m>c&&(m=c,p++),r[d*2+1]=m,!(d>n)&&(e.bl_count[m]++,h=0,d>=o&&(h=l[d-o]),g=r[d*2],e.opt_len+=g*(m+h),i&&(e.static_len+=g*(a[d*2+1]+h)));if(p!==0){do{for(m=c-1;e.bl_count[m]===0;)m--;e.bl_count[m]--,e.bl_count[m+1]+=2,e.bl_count[c]--,p-=2}while(p>0);for(m=c;m!==0;m--)for(d=e.bl_count[m];d!==0;)u=e.heap[--A],!(u>n)&&(r[u*2+1]!==m&&(e.opt_len+=(m-r[u*2+1])*r[u*2],r[u*2+1]=m),d--)}},QE=(e,t,r)=>{const n=new Array(yc+1);let a=0,i,l;for(i=1;i<=yc;i++)a=a+r[i-1]<<1,n[i]=a;for(l=0;l<=t;l++){let o=e[l*2+1];o!==0&&(e[l*2]=LE(n[o]++,o))}},kO=()=>{let e,t,r,n,a;const i=new Array(yc+1);for(r=0,n=0;n<zw-1;n++)for(Gw[n]=r,e=0;e<1<<kv[n];e++)sm[r++]=n;for(sm[r-1]=n,a=0,n=0;n<16;n++)for(Hx[n]=a,e=0;e<1<<W0[n];e++)tm[a++]=n;for(a>>=7;n<ZA;n++)for(Hx[n]=a<<7,e=0;e<1<<W0[n]-7;e++)tm[256+a++]=n;for(t=0;t<=yc;t++)i[t]=0;for(e=0;e<=143;)cl[e*2+1]=8,e++,i[8]++;for(;e<=255;)cl[e*2+1]=9,e++,i[9]++;for(;e<=279;)cl[e*2+1]=7,e++,i[7]++;for(;e<=287;)cl[e*2+1]=8,e++,i[8]++;for(QE(cl,em+1,i),e=0;e<ZA;e++)gh[e*2+1]=5,gh[e*2]=LE(e,5);kE=new jy(cl,kv,Cm+1,em,yc),_E=new jy(gh,W0,0,ZA,yc),IE=new jy(new Array(0),CO,0,Vw,BO)},PE=e=>{let t;for(t=0;t<em;t++)e.dyn_ltree[t*2]=0;for(t=0;t<ZA;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Vw;t++)e.bl_tree[t*2]=0;e.dyn_ltree[$w*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},DE=e=>{e.bi_valid>8?rm(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},tB=(e,t,r,n)=>{const a=t*2,i=r*2;return e[a]<e[i]||e[a]===e[i]&&n[t]<=n[r]},By=(e,t,r)=>{const n=e.heap[r];let a=r<<1;for(;a<=e.heap_len&&(a<e.heap_len&&tB(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!tB(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n},sB=(e,t,r)=>{let n,a,i=0,l,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,a=e.pending_buf[e.sym_buf+i++],n===0?Bi(e,a,t):(l=sm[a],Bi(e,l+Cm+1,t),o=kv[l],o!==0&&(a-=Gw[l],_n(e,a,o)),n--,l=UE(n),Bi(e,l,r),o=W0[l],o!==0&&(n-=Hx[l],_n(e,n,o)));while(i<e.sym_next);Bi(e,$w,t)},_v=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let l,o,c=-1,A;for(e.heap_len=0,e.heap_max=BE,l=0;l<i;l++)r[l*2]!==0?(e.heap[++e.heap_len]=c=l,e.depth[l]=0):r[l*2+1]=0;for(;e.heap_len<2;)A=e.heap[++e.heap_len]=c<2?++c:0,r[A*2]=1,e.depth[A]=0,e.opt_len--,a&&(e.static_len-=n[A*2+1]);for(t.max_code=c,l=e.heap_len>>1;l>=1;l--)By(e,r,l);A=i;do l=e.heap[1],e.heap[1]=e.heap[e.heap_len--],By(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=l,e.heap[--e.heap_max]=o,r[A*2]=r[l*2]+r[o*2],e.depth[A]=(e.depth[l]>=e.depth[o]?e.depth[l]:e.depth[o])+1,r[l*2+1]=r[o*2+1]=A,e.heap[1]=A++,By(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],FO(e,t),QE(r,c,e.bl_count)},rB=(e,t,r)=>{let n,a=-1,i,l=t[0*2+1],o=0,c=7,A=4;for(l===0&&(c=138,A=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=l,l=t[(n+1)*2+1],!(++o<c&&i===l)&&(o<A?e.bl_tree[i*2]+=o:i!==0?(i!==a&&e.bl_tree[i*2]++,e.bl_tree[CE*2]++):o<=10?e.bl_tree[SE*2]++:e.bl_tree[EE*2]++,o=0,a=i,l===0?(c=138,A=3):i===l?(c=6,A=3):(c=7,A=4))},nB=(e,t,r)=>{let n,a=-1,i,l=t[0*2+1],o=0,c=7,A=4;for(l===0&&(c=138,A=3),n=0;n<=r;n++)if(i=l,l=t[(n+1)*2+1],!(++o<c&&i===l)){if(o<A)do Bi(e,i,e.bl_tree);while(--o!==0);else i!==0?(i!==a&&(Bi(e,i,e.bl_tree),o--),Bi(e,CE,e.bl_tree),_n(e,o-3,2)):o<=10?(Bi(e,SE,e.bl_tree),_n(e,o-3,3)):(Bi(e,EE,e.bl_tree),_n(e,o-11,7));o=0,a=i,l===0?(c=138,A=3):i===l?(c=6,A=3):(c=7,A=4)}},_O=e=>{let t;for(rB(e,e.dyn_ltree,e.l_desc.max_code),rB(e,e.dyn_dtree,e.d_desc.max_code),_v(e,e.bl_desc),t=Vw-1;t>=3&&e.bl_tree[FE[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},IO=(e,t,r,n)=>{let a;for(_n(e,t-257,5),_n(e,r-1,5),_n(e,n-4,4),a=0;a<n;a++)_n(e,e.bl_tree[FE[a]*2+1],3);nB(e,e.dyn_ltree,t-1),nB(e,e.dyn_dtree,r-1)},UO=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Z5;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return eB;for(r=32;r<Cm;r++)if(e.dyn_ltree[r*2]!==0)return eB;return Z5};let aB=!1;const LO=e=>{aB||(kO(),aB=!0),e.l_desc=new Ny(e.dyn_ltree,kE),e.d_desc=new Ny(e.dyn_dtree,_E),e.bl_desc=new Ny(e.bl_tree,IE),e.bi_buf=0,e.bi_valid=0,PE(e)},ME=(e,t,r,n)=>{_n(e,(vO<<1)+(n?1:0),3),DE(e),rm(e,r),rm(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},QO=e=>{_n(e,NE<<1,3),Bi(e,$w,cl),EO(e)},PO=(e,t,r,n)=>{let a,i,l=0;e.level>0?(e.strm.data_type===bO&&(e.strm.data_type=UO(e)),_v(e,e.l_desc),_v(e,e.d_desc),l=_O(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=r+5,r+4<=a&&t!==-1?ME(e,t,r,n):e.strategy===yO||i===a?(_n(e,(NE<<1)+(n?1:0),3),sB(e,cl,gh)):(_n(e,(wO<<1)+(n?1:0),3),IO(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),sB(e,e.dyn_ltree,e.dyn_dtree)),PE(e),n&&DE(e)},DO=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(sm[r]+Cm+1)*2]++,e.dyn_dtree[UE(t)*2]++),e.sym_next===e.sym_end);var MO=LO,TO=ME,RO=PO,OO=DO,HO=QO,KO={_tr_init:MO,_tr_stored_block:TO,_tr_flush_block:RO,_tr_tally:OO,_tr_align:HO};const zO=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,l=0;for(;r!==0;){l=r>2e3?2e3:r,r-=l;do a=a+t[n++]|0,i=i+a|0;while(--l);a%=65521,i%=65521}return a|i<<16|0};var nm=zO;const VO=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},$O=new Uint32Array(VO()),GO=(e,t,r,n)=>{const a=$O,i=n+r;e^=-1;for(let l=n;l<i;l++)e=e>>>8^a[(e^t[l])&255];return e^-1};var Ir=GO,gd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Sm={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:qO,_tr_stored_block:Iv,_tr_flush_block:WO,_tr_tally:wo,_tr_align:YO}=KO,{Z_NO_FLUSH:jo,Z_PARTIAL_FLUSH:XO,Z_FULL_FLUSH:JO,Z_FINISH:ba,Z_BLOCK:iB,Z_OK:Kr,Z_STREAM_END:lB,Z_STREAM_ERROR:_i,Z_DATA_ERROR:ZO,Z_BUF_ERROR:Cy,Z_DEFAULT_COMPRESSION:eH,Z_FILTERED:tH,Z_HUFFMAN_ONLY:zf,Z_RLE:sH,Z_FIXED:rH,Z_DEFAULT_STRATEGY:nH,Z_UNKNOWN:aH,Z_DEFLATED:Pg}=Sm,iH=9,lH=15,oH=8,cH=29,AH=256,Uv=AH+1+cH,dH=30,uH=19,hH=2*Uv+1,mH=15,Mt=3,ao=258,Ii=ao+Mt+1,fH=32,pd=42,qw=57,Lv=69,Qv=73,Pv=91,Dv=103,bc=113,Vu=666,gn=1,Ld=2,Oc=3,Qd=4,xH=3,vc=(e,t)=>(e.msg=gd[t],t),oB=e=>e*2-(e>4?9:0),Zl=e=>{let t=e.length;for(;--t>=0;)e[t]=0},gH=e=>{let t,r,n,a=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=a?r-a:0;while(--t);t=a,n=t;do r=e.prev[--n],e.prev[n]=r>=a?r-a:0;while(--t)};let pH=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,No=pH;const qn=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},ea=(e,t)=>{WO(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,qn(e.strm)},Wt=(e,t)=>{e.pending_buf[e.pending++]=t},ku=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},Mv=(e,t,r,n)=>{let a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),r),e.state.wrap===1?e.adler=nm(e.adler,t,a,r):e.state.wrap===2&&(e.adler=Ir(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)},TE=(e,t)=>{let r=e.max_chain_length,n=e.strstart,a,i,l=e.prev_length,o=e.nice_match;const c=e.strstart>e.w_size-Ii?e.strstart-(e.w_size-Ii):0,A=e.window,d=e.w_mask,u=e.prev,m=e.strstart+ao;let h=A[n+l-1],g=A[n+l];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do if(a=t,!(A[a+l]!==g||A[a+l-1]!==h||A[a]!==A[n]||A[++a]!==A[n+1])){n+=2,a++;do;while(A[++n]===A[++a]&&A[++n]===A[++a]&&A[++n]===A[++a]&&A[++n]===A[++a]&&A[++n]===A[++a]&&A[++n]===A[++a]&&A[++n]===A[++a]&&A[++n]===A[++a]&&n<m);if(i=ao-(m-n),n=m-ao,i>l){if(e.match_start=t,l=i,i>=o)break;h=A[n+l-1],g=A[n+l]}}while((t=u[t&d])>c&&--r!==0);return l<=e.lookahead?l:e.lookahead},yd=e=>{const t=e.w_size;let r,n,a;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ii)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),gH(e),n+=t),e.strm.avail_in===0)break;if(r=Mv(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=Mt)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=No(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=No(e,e.ins_h,e.window[a+Mt-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<Mt)););}while(e.lookahead<Ii&&e.strm.avail_in!==0)},RE=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,a,i,l=0,o=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,a=e.strstart-e.block_start,n>a+e.strm.avail_in&&(n=a+e.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&t!==ba||t===jo||n!==a+e.strm.avail_in)))break;l=t===ba&&n===a+e.strm.avail_in?1:0,Iv(e,0,0,l),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,qn(e.strm),a&&(a>n&&(a=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,n-=a),n&&(Mv(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(l===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),l?Qd:t!==jo&&t!==ba&&e.strm.avail_in===0&&e.strstart===e.block_start?Ld:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(Mv(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,a=e.strstart-e.block_start,(a>=r||(a||t===ba)&&t!==jo&&e.strm.avail_in===0&&a<=i)&&(n=a>i?i:a,l=t===ba&&e.strm.avail_in===0&&n===a?1:0,Iv(e,e.block_start,n,l),e.block_start+=n,qn(e.strm)),l?Oc:gn)},Sy=(e,t)=>{let r,n;for(;;){if(e.lookahead<Ii){if(yd(e),e.lookahead<Ii&&t===jo)return gn;if(e.lookahead===0)break}if(r=0,e.lookahead>=Mt&&(e.ins_h=No(e,e.ins_h,e.window[e.strstart+Mt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-Ii&&(e.match_length=TE(e,r)),e.match_length>=Mt)if(n=wo(e,e.strstart-e.match_start,e.match_length-Mt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Mt){e.match_length--;do e.strstart++,e.ins_h=No(e,e.ins_h,e.window[e.strstart+Mt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=No(e,e.ins_h,e.window[e.strstart+1]);else n=wo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ea(e,!1),e.strm.avail_out===0))return gn}return e.insert=e.strstart<Mt-1?e.strstart:Mt-1,t===ba?(ea(e,!0),e.strm.avail_out===0?Oc:Qd):e.sym_next&&(ea(e,!1),e.strm.avail_out===0)?gn:Ld},fA=(e,t)=>{let r,n,a;for(;;){if(e.lookahead<Ii){if(yd(e),e.lookahead<Ii&&t===jo)return gn;if(e.lookahead===0)break}if(r=0,e.lookahead>=Mt&&(e.ins_h=No(e,e.ins_h,e.window[e.strstart+Mt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Mt-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Ii&&(e.match_length=TE(e,r),e.match_length<=5&&(e.strategy===tH||e.match_length===Mt&&e.strstart-e.match_start>4096)&&(e.match_length=Mt-1)),e.prev_length>=Mt&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-Mt,n=wo(e,e.strstart-1-e.prev_match,e.prev_length-Mt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=No(e,e.ins_h,e.window[e.strstart+Mt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Mt-1,e.strstart++,n&&(ea(e,!1),e.strm.avail_out===0))return gn}else if(e.match_available){if(n=wo(e,0,e.window[e.strstart-1]),n&&ea(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return gn}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=wo(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Mt-1?e.strstart:Mt-1,t===ba?(ea(e,!0),e.strm.avail_out===0?Oc:Qd):e.sym_next&&(ea(e,!1),e.strm.avail_out===0)?gn:Ld},yH=(e,t)=>{let r,n,a,i;const l=e.window;for(;;){if(e.lookahead<=ao){if(yd(e),e.lookahead<=ao&&t===jo)return gn;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Mt&&e.strstart>0&&(a=e.strstart-1,n=l[a],n===l[++a]&&n===l[++a]&&n===l[++a])){i=e.strstart+ao;do;while(n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&a<i);e.match_length=ao-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Mt?(r=wo(e,1,e.match_length-Mt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=wo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(ea(e,!1),e.strm.avail_out===0))return gn}return e.insert=0,t===ba?(ea(e,!0),e.strm.avail_out===0?Oc:Qd):e.sym_next&&(ea(e,!1),e.strm.avail_out===0)?gn:Ld},bH=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(yd(e),e.lookahead===0)){if(t===jo)return gn;break}if(e.match_length=0,r=wo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(ea(e,!1),e.strm.avail_out===0))return gn}return e.insert=0,t===ba?(ea(e,!0),e.strm.avail_out===0?Oc:Qd):e.sym_next&&(ea(e,!1),e.strm.avail_out===0)?gn:Ld};function pi(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}const $u=[new pi(0,0,0,0,RE),new pi(4,4,8,4,Sy),new pi(4,5,16,8,Sy),new pi(4,6,32,32,Sy),new pi(4,4,16,16,fA),new pi(8,16,32,32,fA),new pi(8,16,128,128,fA),new pi(8,32,128,256,fA),new pi(32,128,258,1024,fA),new pi(32,258,258,4096,fA)],vH=e=>{e.window_size=2*e.w_size,Zl(e.head),e.max_lazy_match=$u[e.level].max_lazy,e.good_match=$u[e.level].good_length,e.nice_match=$u[e.level].nice_length,e.max_chain_length=$u[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Mt-1,e.match_available=0,e.ins_h=0};function wH(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Pg,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(hH*2),this.dyn_dtree=new Uint16Array((2*dH+1)*2),this.bl_tree=new Uint16Array((2*uH+1)*2),Zl(this.dyn_ltree),Zl(this.dyn_dtree),Zl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(mH+1),this.heap=new Uint16Array(2*Uv+1),Zl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Uv+1),Zl(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Em=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==pd&&t.status!==qw&&t.status!==Lv&&t.status!==Qv&&t.status!==Pv&&t.status!==Dv&&t.status!==bc&&t.status!==Vu?1:0},OE=e=>{if(Em(e))return vc(e,_i);e.total_in=e.total_out=0,e.data_type=aH;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?qw:t.wrap?pd:bc,e.adler=t.wrap===2?0:1,t.last_flush=-2,qO(t),Kr},HE=e=>{const t=OE(e);return t===Kr&&vH(e.state),t},jH=(e,t)=>Em(e)||e.state.wrap!==2?_i:(e.state.gzhead=t,Kr),KE=(e,t,r,n,a,i)=>{if(!e)return _i;let l=1;if(t===eH&&(t=6),n<0?(l=0,n=-n):n>15&&(l=2,n-=16),a<1||a>iH||r!==Pg||n<8||n>15||t<0||t>9||i<0||i>rH||n===8&&l!==1)return vc(e,_i);n===8&&(n=9);const o=new wH;return e.state=o,o.strm=e,o.status=pd,o.wrap=l,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Mt-1)/Mt),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=i,o.method=r,HE(e)},NH=(e,t)=>KE(e,t,Pg,lH,oH,nH),BH=(e,t)=>{if(Em(e)||t>iB||t<0)return e?vc(e,_i):_i;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Vu&&t!==ba)return vc(e,e.avail_out===0?Cy:_i);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(qn(e),e.avail_out===0)return r.last_flush=-1,Kr}else if(e.avail_in===0&&oB(t)<=oB(n)&&t!==ba)return vc(e,Cy);if(r.status===Vu&&e.avail_in!==0)return vc(e,Cy);if(r.status===pd&&r.wrap===0&&(r.status=bc),r.status===pd){let a=Pg+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=zf||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,a|=i<<6,r.strstart!==0&&(a|=fH),a+=31-a%31,ku(r,a),r.strstart!==0&&(ku(r,e.adler>>>16),ku(r,e.adler&65535)),e.adler=1,r.status=bc,qn(e),r.pending!==0)return r.last_flush=-1,Kr}if(r.status===qw){if(e.adler=0,Wt(r,31),Wt(r,139),Wt(r,8),r.gzhead)Wt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Wt(r,r.gzhead.time&255),Wt(r,r.gzhead.time>>8&255),Wt(r,r.gzhead.time>>16&255),Wt(r,r.gzhead.time>>24&255),Wt(r,r.level===9?2:r.strategy>=zf||r.level<2?4:0),Wt(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Wt(r,r.gzhead.extra.length&255),Wt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Ir(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Lv;else if(Wt(r,0),Wt(r,0),Wt(r,0),Wt(r,0),Wt(r,0),Wt(r,r.level===9?2:r.strategy>=zf||r.level<2?4:0),Wt(r,xH),r.status=bc,qn(e),r.pending!==0)return r.last_flush=-1,Kr}if(r.status===Lv){if(r.gzhead.extra){let a=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>a&&(e.adler=Ir(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex+=o,qn(e),r.pending!==0)return r.last_flush=-1,Kr;a=0,i-=o}let l=new Uint8Array(r.gzhead.extra);r.pending_buf.set(l.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>a&&(e.adler=Ir(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=Qv}if(r.status===Qv){if(r.gzhead.name){let a=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=Ir(e.adler,r.pending_buf,r.pending-a,a)),qn(e),r.pending!==0)return r.last_flush=-1,Kr;a=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,Wt(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=Ir(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=Pv}if(r.status===Pv){if(r.gzhead.comment){let a=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=Ir(e.adler,r.pending_buf,r.pending-a,a)),qn(e),r.pending!==0)return r.last_flush=-1,Kr;a=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,Wt(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=Ir(e.adler,r.pending_buf,r.pending-a,a))}r.status=Dv}if(r.status===Dv){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(qn(e),r.pending!==0))return r.last_flush=-1,Kr;Wt(r,e.adler&255),Wt(r,e.adler>>8&255),e.adler=0}if(r.status=bc,qn(e),r.pending!==0)return r.last_flush=-1,Kr}if(e.avail_in!==0||r.lookahead!==0||t!==jo&&r.status!==Vu){let a=r.level===0?RE(r,t):r.strategy===zf?bH(r,t):r.strategy===sH?yH(r,t):$u[r.level].func(r,t);if((a===Oc||a===Qd)&&(r.status=Vu),a===gn||a===Oc)return e.avail_out===0&&(r.last_flush=-1),Kr;if(a===Ld&&(t===XO?YO(r):t!==iB&&(Iv(r,0,0,!1),t===JO&&(Zl(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),qn(e),e.avail_out===0))return r.last_flush=-1,Kr}return t!==ba?Kr:r.wrap<=0?lB:(r.wrap===2?(Wt(r,e.adler&255),Wt(r,e.adler>>8&255),Wt(r,e.adler>>16&255),Wt(r,e.adler>>24&255),Wt(r,e.total_in&255),Wt(r,e.total_in>>8&255),Wt(r,e.total_in>>16&255),Wt(r,e.total_in>>24&255)):(ku(r,e.adler>>>16),ku(r,e.adler&65535)),qn(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Kr:lB)},CH=e=>{if(Em(e))return _i;const t=e.state.status;return e.state=null,t===bc?vc(e,ZO):Kr},SH=(e,t)=>{let r=t.length;if(Em(e))return _i;const n=e.state,a=n.wrap;if(a===2||a===1&&n.status!==pd||n.lookahead)return _i;if(a===1&&(e.adler=nm(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){a===0&&(Zl(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(r-n.w_size,r),0),t=c,r=n.w_size}const i=e.avail_in,l=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,yd(n);n.lookahead>=Mt;){let c=n.strstart,A=n.lookahead-(Mt-1);do n.ins_h=No(n,n.ins_h,n.window[c+Mt-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--A);n.strstart=c,n.lookahead=Mt-1,yd(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Mt-1,n.match_available=0,e.next_in=l,e.input=o,e.avail_in=i,n.wrap=a,Kr};var EH=NH,FH=KE,kH=HE,_H=OE,IH=jH,UH=BH,LH=CH,QH=SH,PH="pako deflate (from Nodeca project)",ph={deflateInit:EH,deflateInit2:FH,deflateReset:kH,deflateResetKeep:_H,deflateSetHeader:IH,deflate:UH,deflateEnd:LH,deflateSetDictionary:QH,deflateInfo:PH};const DH=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var MH=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)DH(r,n)&&(e[n]=r[n])}}return e},TH=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let l=e[n];r.set(l,a),a+=l.length}return r},Dg={assign:MH,flattenChunks:TH};let zE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{zE=!1}const am=new Uint8Array(256);for(let e=0;e<256;e++)am[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;am[254]=am[254]=1;var RH=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,l=e.length,o=0;for(a=0;a<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const OH=(e,t)=>{if(t<65534&&e.subarray&&zE)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var HH=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let l=e[n++];if(l<128){i[a++]=l;continue}let o=am[l];if(o>4){i[a++]=65533,n+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&n<r;)l=l<<6|e[n++]&63,o--;if(o>1){i[a++]=65533;continue}l<65536?i[a++]=l:(l-=65536,i[a++]=55296|l>>10&1023,i[a++]=56320|l&1023)}return OH(i,a)},KH=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+am[e[r]]>t?r:t},im={string2buf:RH,buf2string:HH,utf8border:KH};function zH(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var VE=zH;const $E=Object.prototype.toString,{Z_NO_FLUSH:VH,Z_SYNC_FLUSH:$H,Z_FULL_FLUSH:GH,Z_FINISH:qH,Z_OK:Kx,Z_STREAM_END:WH,Z_DEFAULT_COMPRESSION:YH,Z_DEFAULT_STRATEGY:XH,Z_DEFLATED:JH}=Sm;function Ww(e){this.options=Dg.assign({level:YH,method:JH,chunkSize:16384,windowBits:15,memLevel:8,strategy:XH},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new VE,this.strm.avail_out=0;let r=ph.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Kx)throw new Error(gd[r]);if(t.header&&ph.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=im.string2buf(t.dictionary):$E.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=ph.deflateSetDictionary(this.strm,n),r!==Kx)throw new Error(gd[r]);this._dict_set=!0}}Ww.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let a,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?qH:VH,typeof e=="string"?r.input=im.string2buf(e):$E.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===$H||i===GH)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(a=ph.deflate(r,i),a===WH)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=ph.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Kx;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Ww.prototype.onData=function(e){this.chunks.push(e)};Ww.prototype.onEnd=function(e){e===Kx&&(this.result=Dg.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const Vf=16209,ZH=16191;var e9=function(t,r){let n,a,i,l,o,c,A,d,u,m,h,g,p,v,x,b,j,w,S,F,I,k,E,O;const L=t.state;n=t.next_in,E=t.input,a=n+(t.avail_in-5),i=t.next_out,O=t.output,l=i-(r-t.avail_out),o=i+(t.avail_out-257),c=L.dmax,A=L.wsize,d=L.whave,u=L.wnext,m=L.window,h=L.hold,g=L.bits,p=L.lencode,v=L.distcode,x=(1<<L.lenbits)-1,b=(1<<L.distbits)-1;e:do{g<15&&(h+=E[n++]<<g,g+=8,h+=E[n++]<<g,g+=8),j=p[h&x];t:for(;;){if(w=j>>>24,h>>>=w,g-=w,w=j>>>16&255,w===0)O[i++]=j&65535;else if(w&16){S=j&65535,w&=15,w&&(g<w&&(h+=E[n++]<<g,g+=8),S+=h&(1<<w)-1,h>>>=w,g-=w),g<15&&(h+=E[n++]<<g,g+=8,h+=E[n++]<<g,g+=8),j=v[h&b];s:for(;;){if(w=j>>>24,h>>>=w,g-=w,w=j>>>16&255,w&16){if(F=j&65535,w&=15,g<w&&(h+=E[n++]<<g,g+=8,g<w&&(h+=E[n++]<<g,g+=8)),F+=h&(1<<w)-1,F>c){t.msg="invalid distance too far back",L.mode=Vf;break e}if(h>>>=w,g-=w,w=i-l,F>w){if(w=F-w,w>d&&L.sane){t.msg="invalid distance too far back",L.mode=Vf;break e}if(I=0,k=m,u===0){if(I+=A-w,w<S){S-=w;do O[i++]=m[I++];while(--w);I=i-F,k=O}}else if(u<w){if(I+=A+u-w,w-=u,w<S){S-=w;do O[i++]=m[I++];while(--w);if(I=0,u<S){w=u,S-=w;do O[i++]=m[I++];while(--w);I=i-F,k=O}}}else if(I+=u-w,w<S){S-=w;do O[i++]=m[I++];while(--w);I=i-F,k=O}for(;S>2;)O[i++]=k[I++],O[i++]=k[I++],O[i++]=k[I++],S-=3;S&&(O[i++]=k[I++],S>1&&(O[i++]=k[I++]))}else{I=i-F;do O[i++]=O[I++],O[i++]=O[I++],O[i++]=O[I++],S-=3;while(S>2);S&&(O[i++]=O[I++],S>1&&(O[i++]=O[I++]))}}else if(w&64){t.msg="invalid distance code",L.mode=Vf;break e}else{j=v[(j&65535)+(h&(1<<w)-1)];continue s}break}}else if(w&64)if(w&32){L.mode=ZH;break e}else{t.msg="invalid literal/length code",L.mode=Vf;break e}else{j=p[(j&65535)+(h&(1<<w)-1)];continue t}break}}while(n<a&&i<o);S=g>>3,n-=S,g-=S<<3,h&=(1<<g)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<o?257+(o-i):257-(i-o),L.hold=h,L.bits=g};const xA=15,cB=852,AB=592,dB=0,Ey=1,uB=2,t9=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),s9=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),r9=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),n9=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),a9=(e,t,r,n,a,i,l,o)=>{const c=o.bits;let A=0,d=0,u=0,m=0,h=0,g=0,p=0,v=0,x=0,b=0,j,w,S,F,I,k=null,E;const O=new Uint16Array(xA+1),L=new Uint16Array(xA+1);let P=null,U,R,V;for(A=0;A<=xA;A++)O[A]=0;for(d=0;d<n;d++)O[t[r+d]]++;for(h=c,m=xA;m>=1&&O[m]===0;m--);if(h>m&&(h=m),m===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(u=1;u<m&&O[u]===0;u++);for(h<u&&(h=u),v=1,A=1;A<=xA;A++)if(v<<=1,v-=O[A],v<0)return-1;if(v>0&&(e===dB||m!==1))return-1;for(L[1]=0,A=1;A<xA;A++)L[A+1]=L[A]+O[A];for(d=0;d<n;d++)t[r+d]!==0&&(l[L[t[r+d]]++]=d);if(e===dB?(k=P=l,E=20):e===Ey?(k=t9,P=s9,E=257):(k=r9,P=n9,E=0),b=0,d=0,A=u,I=i,g=h,p=0,S=-1,x=1<<h,F=x-1,e===Ey&&x>cB||e===uB&&x>AB)return 1;for(;;){U=A-p,l[d]+1<E?(R=0,V=l[d]):l[d]>=E?(R=P[l[d]-E],V=k[l[d]-E]):(R=96,V=0),j=1<<A-p,w=1<<g,u=w;do w-=j,a[I+(b>>p)+w]=U<<24|R<<16|V|0;while(w!==0);for(j=1<<A-1;b&j;)j>>=1;if(j!==0?(b&=j-1,b+=j):b=0,d++,--O[A]===0){if(A===m)break;A=t[r+l[d]]}if(A>h&&(b&F)!==S){for(p===0&&(p=h),I+=u,g=A-p,v=1<<g;g+p<m&&(v-=O[g+p],!(v<=0));)g++,v<<=1;if(x+=1<<g,e===Ey&&x>cB||e===uB&&x>AB)return 1;S=b&F,a[S]=h<<24|g<<16|I-i|0}}return b!==0&&(a[I+b]=A-p<<24|64<<16|0),o.bits=h,0};var yh=a9;const i9=0,GE=1,qE=2,{Z_FINISH:hB,Z_BLOCK:l9,Z_TREES:$f,Z_OK:Hc,Z_STREAM_END:o9,Z_NEED_DICT:c9,Z_STREAM_ERROR:_a,Z_DATA_ERROR:WE,Z_MEM_ERROR:YE,Z_BUF_ERROR:A9,Z_DEFLATED:mB}=Sm,Mg=16180,fB=16181,xB=16182,gB=16183,pB=16184,yB=16185,bB=16186,vB=16187,wB=16188,jB=16189,zx=16190,tl=16191,Fy=16192,NB=16193,ky=16194,BB=16195,CB=16196,SB=16197,EB=16198,Gf=16199,qf=16200,FB=16201,kB=16202,_B=16203,IB=16204,UB=16205,_y=16206,LB=16207,QB=16208,_s=16209,XE=16210,JE=16211,d9=852,u9=592,h9=15,m9=h9,PB=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function f9(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Gc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Mg||t.mode>JE?1:0},ZE=e=>{if(Gc(e))return _a;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Mg,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(d9),t.distcode=t.distdyn=new Int32Array(u9),t.sane=1,t.back=-1,Hc},eF=e=>{if(Gc(e))return _a;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,ZE(e)},tF=(e,t)=>{let r;if(Gc(e))return _a;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?_a:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,eF(e))},sF=(e,t)=>{if(!e)return _a;const r=new f9;e.state=r,r.strm=e,r.window=null,r.mode=Mg;const n=tF(e,t);return n!==Hc&&(e.state=null),n},x9=e=>sF(e,m9);let DB=!0,Iy,Uy;const g9=e=>{if(DB){Iy=new Int32Array(512),Uy=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(yh(GE,e.lens,0,288,Iy,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;yh(qE,e.lens,0,32,Uy,0,e.work,{bits:5}),DB=!1}e.lencode=Iy,e.lenbits=9,e.distcode=Uy,e.distbits=5},rF=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},p9=(e,t)=>{let r,n,a,i,l,o,c,A,d,u,m,h,g,p,v=0,x,b,j,w,S,F,I,k;const E=new Uint8Array(4);let O,L;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Gc(e)||!e.output||!e.input&&e.avail_in!==0)return _a;r=e.state,r.mode===tl&&(r.mode=Fy),l=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,A=r.hold,d=r.bits,u=o,m=c,k=Hc;e:for(;;)switch(r.mode){case Mg:if(r.wrap===0){r.mode=Fy;break}for(;d<16;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}if(r.wrap&2&&A===35615){r.wbits===0&&(r.wbits=15),r.check=0,E[0]=A&255,E[1]=A>>>8&255,r.check=Ir(r.check,E,2,0),A=0,d=0,r.mode=fB;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((A&255)<<8)+(A>>8))%31){e.msg="incorrect header check",r.mode=_s;break}if((A&15)!==mB){e.msg="unknown compression method",r.mode=_s;break}if(A>>>=4,d-=4,I=(A&15)+8,r.wbits===0&&(r.wbits=I),I>15||I>r.wbits){e.msg="invalid window size",r.mode=_s;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=A&512?jB:tl,A=0,d=0;break;case fB:for(;d<16;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}if(r.flags=A,(r.flags&255)!==mB){e.msg="unknown compression method",r.mode=_s;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=_s;break}r.head&&(r.head.text=A>>8&1),r.flags&512&&r.wrap&4&&(E[0]=A&255,E[1]=A>>>8&255,r.check=Ir(r.check,E,2,0)),A=0,d=0,r.mode=xB;case xB:for(;d<32;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}r.head&&(r.head.time=A),r.flags&512&&r.wrap&4&&(E[0]=A&255,E[1]=A>>>8&255,E[2]=A>>>16&255,E[3]=A>>>24&255,r.check=Ir(r.check,E,4,0)),A=0,d=0,r.mode=gB;case gB:for(;d<16;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=A&255,r.head.os=A>>8),r.flags&512&&r.wrap&4&&(E[0]=A&255,E[1]=A>>>8&255,r.check=Ir(r.check,E,2,0)),A=0,d=0,r.mode=pB;case pB:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}r.length=A,r.head&&(r.head.extra_len=A),r.flags&512&&r.wrap&4&&(E[0]=A&255,E[1]=A>>>8&255,r.check=Ir(r.check,E,2,0)),A=0,d=0}else r.head&&(r.head.extra=null);r.mode=yB;case yB:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),I)),r.flags&512&&r.wrap&4&&(r.check=Ir(r.check,n,h,i)),o-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=bB;case bB:if(r.flags&2048){if(o===0)break e;h=0;do I=n[i+h++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I));while(I&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Ir(r.check,n,h,i)),o-=h,i+=h,I)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=vB;case vB:if(r.flags&4096){if(o===0)break e;h=0;do I=n[i+h++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I));while(I&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Ir(r.check,n,h,i)),o-=h,i+=h,I)break e}else r.head&&(r.head.comment=null);r.mode=wB;case wB:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}if(r.wrap&4&&A!==(r.check&65535)){e.msg="header crc mismatch",r.mode=_s;break}A=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=tl;break;case jB:for(;d<32;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}e.adler=r.check=PB(A),A=0,d=0,r.mode=zx;case zx:if(r.havedict===0)return e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=A,r.bits=d,c9;e.adler=r.check=1,r.mode=tl;case tl:if(t===l9||t===$f)break e;case Fy:if(r.last){A>>>=d&7,d-=d&7,r.mode=_y;break}for(;d<3;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}switch(r.last=A&1,A>>>=1,d-=1,A&3){case 0:r.mode=NB;break;case 1:if(g9(r),r.mode=Gf,t===$f){A>>>=2,d-=2;break e}break;case 2:r.mode=CB;break;case 3:e.msg="invalid block type",r.mode=_s}A>>>=2,d-=2;break;case NB:for(A>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}if((A&65535)!==(A>>>16^65535)){e.msg="invalid stored block lengths",r.mode=_s;break}if(r.length=A&65535,A=0,d=0,r.mode=ky,t===$f)break e;case ky:r.mode=BB;case BB:if(h=r.length,h){if(h>o&&(h=o),h>c&&(h=c),h===0)break e;a.set(n.subarray(i,i+h),l),o-=h,i+=h,c-=h,l+=h,r.length-=h;break}r.mode=tl;break;case CB:for(;d<14;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}if(r.nlen=(A&31)+257,A>>>=5,d-=5,r.ndist=(A&31)+1,A>>>=5,d-=5,r.ncode=(A&15)+4,A>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=_s;break}r.have=0,r.mode=SB;case SB:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}r.lens[P[r.have++]]=A&7,A>>>=3,d-=3}for(;r.have<19;)r.lens[P[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,O={bits:r.lenbits},k=yh(i9,r.lens,0,19,r.lencode,0,r.work,O),r.lenbits=O.bits,k){e.msg="invalid code lengths set",r.mode=_s;break}r.have=0,r.mode=EB;case EB:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[A&(1<<r.lenbits)-1],x=v>>>24,b=v>>>16&255,j=v&65535,!(x<=d);){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}if(j<16)A>>>=x,d-=x,r.lens[r.have++]=j;else{if(j===16){for(L=x+2;d<L;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}if(A>>>=x,d-=x,r.have===0){e.msg="invalid bit length repeat",r.mode=_s;break}I=r.lens[r.have-1],h=3+(A&3),A>>>=2,d-=2}else if(j===17){for(L=x+3;d<L;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}A>>>=x,d-=x,I=0,h=3+(A&7),A>>>=3,d-=3}else{for(L=x+7;d<L;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}A>>>=x,d-=x,I=0,h=11+(A&127),A>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=_s;break}for(;h--;)r.lens[r.have++]=I}}if(r.mode===_s)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=_s;break}if(r.lenbits=9,O={bits:r.lenbits},k=yh(GE,r.lens,0,r.nlen,r.lencode,0,r.work,O),r.lenbits=O.bits,k){e.msg="invalid literal/lengths set",r.mode=_s;break}if(r.distbits=6,r.distcode=r.distdyn,O={bits:r.distbits},k=yh(qE,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,O),r.distbits=O.bits,k){e.msg="invalid distances set",r.mode=_s;break}if(r.mode=Gf,t===$f)break e;case Gf:r.mode=qf;case qf:if(o>=6&&c>=258){e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=A,r.bits=d,e9(e,m),l=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,A=r.hold,d=r.bits,r.mode===tl&&(r.back=-1);break}for(r.back=0;v=r.lencode[A&(1<<r.lenbits)-1],x=v>>>24,b=v>>>16&255,j=v&65535,!(x<=d);){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}if(b&&!(b&240)){for(w=x,S=b,F=j;v=r.lencode[F+((A&(1<<w+S)-1)>>w)],x=v>>>24,b=v>>>16&255,j=v&65535,!(w+x<=d);){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}A>>>=w,d-=w,r.back+=w}if(A>>>=x,d-=x,r.back+=x,r.length=j,b===0){r.mode=UB;break}if(b&32){r.back=-1,r.mode=tl;break}if(b&64){e.msg="invalid literal/length code",r.mode=_s;break}r.extra=b&15,r.mode=FB;case FB:if(r.extra){for(L=r.extra;d<L;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}r.length+=A&(1<<r.extra)-1,A>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=kB;case kB:for(;v=r.distcode[A&(1<<r.distbits)-1],x=v>>>24,b=v>>>16&255,j=v&65535,!(x<=d);){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}if(!(b&240)){for(w=x,S=b,F=j;v=r.distcode[F+((A&(1<<w+S)-1)>>w)],x=v>>>24,b=v>>>16&255,j=v&65535,!(w+x<=d);){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}A>>>=w,d-=w,r.back+=w}if(A>>>=x,d-=x,r.back+=x,b&64){e.msg="invalid distance code",r.mode=_s;break}r.offset=j,r.extra=b&15,r.mode=_B;case _B:if(r.extra){for(L=r.extra;d<L;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}r.offset+=A&(1<<r.extra)-1,A>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=_s;break}r.mode=IB;case IB:if(c===0)break e;if(h=m-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=_s;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),p=r.window}else p=a,g=l-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do a[l++]=p[g++];while(--h);r.length===0&&(r.mode=qf);break;case UB:if(c===0)break e;a[l++]=r.length,c--,r.mode=qf;break;case _y:if(r.wrap){for(;d<32;){if(o===0)break e;o--,A|=n[i++]<<d,d+=8}if(m-=c,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Ir(r.check,a,m,l-m):nm(r.check,a,m,l-m)),m=c,r.wrap&4&&(r.flags?A:PB(A))!==r.check){e.msg="incorrect data check",r.mode=_s;break}A=0,d=0}r.mode=LB;case LB:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,A+=n[i++]<<d,d+=8}if(r.wrap&4&&A!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=_s;break}A=0,d=0}r.mode=QB;case QB:k=o9;break e;case _s:k=WE;break e;case XE:return YE;case JE:default:return _a}return e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=A,r.bits=d,(r.wsize||m!==e.avail_out&&r.mode<_s&&(r.mode<_y||t!==hB))&&rF(e,e.output,e.next_out,m-e.avail_out),u-=e.avail_in,m-=e.avail_out,e.total_in+=u,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Ir(r.check,a,m,e.next_out-m):nm(r.check,a,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===tl?128:0)+(r.mode===Gf||r.mode===ky?256:0),(u===0&&m===0||t===hB)&&k===Hc&&(k=A9),k},y9=e=>{if(Gc(e))return _a;let t=e.state;return t.window&&(t.window=null),e.state=null,Hc},b9=(e,t)=>{if(Gc(e))return _a;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Hc):_a},v9=(e,t)=>{const r=t.length;let n,a,i;return Gc(e)||(n=e.state,n.wrap!==0&&n.mode!==zx)?_a:n.mode===zx&&(a=1,a=nm(a,t,r,0),a!==n.check)?WE:(i=rF(e,t,r,r),i?(n.mode=XE,YE):(n.havedict=1,Hc))};var w9=eF,j9=tF,N9=ZE,B9=x9,C9=sF,S9=p9,E9=y9,F9=b9,k9=v9,_9="pako inflate (from Nodeca project)",Al={inflateReset:w9,inflateReset2:j9,inflateResetKeep:N9,inflateInit:B9,inflateInit2:C9,inflate:S9,inflateEnd:E9,inflateGetHeader:F9,inflateSetDictionary:k9,inflateInfo:_9};function I9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var U9=I9;const nF=Object.prototype.toString,{Z_NO_FLUSH:L9,Z_FINISH:Q9,Z_OK:lm,Z_STREAM_END:Ly,Z_NEED_DICT:Qy,Z_STREAM_ERROR:P9,Z_DATA_ERROR:MB,Z_MEM_ERROR:D9}=Sm;function Fm(e){this.options=Dg.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new VE,this.strm.avail_out=0;let r=Al.inflateInit2(this.strm,t.windowBits);if(r!==lm)throw new Error(gd[r]);if(this.header=new U9,Al.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=im.string2buf(t.dictionary):nF.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Al.inflateSetDictionary(this.strm,t.dictionary),r!==lm)))throw new Error(gd[r])}Fm.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?Q9:L9,nF.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Al.inflate(r,l),i===Qy&&a&&(i=Al.inflateSetDictionary(r,a),i===lm?i=Al.inflate(r,l):i===MB&&(i=Qy));r.avail_in>0&&i===Ly&&r.state.wrap>0&&e[r.next_in]!==0;)Al.inflateReset(r),i=Al.inflate(r,l);switch(i){case P9:case MB:case Qy:case D9:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===Ly))if(this.options.to==="string"){let c=im.utf8border(r.output,r.next_out),A=r.next_out-c,d=im.buf2string(r.output,c);r.next_out=A,r.avail_out=n-A,A&&r.output.set(r.output.subarray(c,c+A),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===lm&&o===0)){if(i===Ly)return i=Al.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Fm.prototype.onData=function(e){this.chunks.push(e)};Fm.prototype.onEnd=function(e){e===lm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Dg.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Yw(e,t){const r=new Fm(t);if(r.push(e),r.err)throw r.msg||gd[r.err];return r.result}function M9(e,t){return t=t||{},t.raw=!0,Yw(e,t)}var T9=Fm,R9=Yw,O9=M9,H9=Yw,K9=Sm,z9={Inflate:T9,inflate:R9,inflateRaw:O9,ungzip:H9,constants:K9};const{Inflate:V9,inflate:$9,inflateRaw:kY,ungzip:_Y}=z9;var TB=V9,G9=$9;const aF=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;aF[e]=t}const RB=4294967295;function q9(e,t,r){let n=e;for(let a=0;a<r;a++)n=aF[(n^t[a])&255]^n>>>8;return n}function W9(e,t){return(q9(RB,e,t)^RB)>>>0}function OB(e,t,r){const n=e.readUint32(),a=W9(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function iF(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function lF(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function oF(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function cF(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function AF(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+Y9(t[i-a],r[i],r[i-a])&255}}function Y9(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),l=Math.abs(n-r);return a<=i&&a<=l?e:i<=l?t:r}function X9(e,t,r,n,a,i){switch(e){case 0:iF(t,r,a);break;case 1:lF(t,r,a,i);break;case 2:oF(t,r,n,a);break;case 3:cF(t,r,n,a,i);break;case 4:AF(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const J9=new Uint16Array([255]),Z9=new Uint8Array(J9.buffer),eK=Z9[0]===255;function tK(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,c=new Uint8Array(n*r*o);let A=0;for(let d=0;d<7;d++){const u=l[d],m=Math.ceil((r-u.x)/u.xStep),h=Math.ceil((n-u.y)/u.yStep);if(m<=0||h<=0)continue;const g=m*o,p=new Uint8Array(g);for(let v=0;v<h;v++){const x=t[A++],b=t.subarray(A,A+g);A+=g;const j=new Uint8Array(g);X9(x,b,j,p,g,o),p.set(j);for(let w=0;w<m;w++){const S=u.x+w*u.xStep,F=u.y+v*u.yStep;if(!(S>=r||F>=n))for(let I=0;I<o;I++)c[(F*r+S)*o+I]=j[w*o+I]}}}if(i===16){const d=new Uint16Array(c.buffer);if(eK)for(let u=0;u<d.length;u++)d[u]=sK(d[u]);return d}else return c}function sK(e){return(e&255)<<8|e>>8&255}const rK=new Uint16Array([255]),nK=new Uint8Array(rK.buffer),aK=nK[0]===255,iK=new Uint8Array(0);function HB(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*r),c=new Uint8Array(n*o);let A=iK,d=0,u,m;for(let h=0;h<n;h++){switch(u=t.subarray(d+1,d+1+o),m=c.subarray(h*o,(h+1)*o),t[d]){case 0:iF(u,m,o);break;case 1:lF(u,m,o,l);break;case 2:oF(u,m,A,o);break;case 3:cF(u,m,A,o,l);break;case 4:AF(u,m,A,o,l);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}A=m,d+=o+1}if(i===16){const h=new Uint16Array(c.buffer);if(aK)for(let g=0;g<h.length;g++)h[g]=lK(h[g]);return h}else return c}function lK(e){return(e&255)<<8|e>>8&255}const Y0=Uint8Array.of(137,80,78,71,13,10,26,10);function KB(e){if(!oK(e.readBytes(Y0.length)))throw new Error("wrong PNG signature")}function oK(e){if(e.length<Y0.length)return!1;for(let t=0;t<Y0.length;t++)if(e[t]!==Y0[t])return!1;return!0}const cK="tEXt",AK=0,dF=new TextDecoder("latin1");function dK(e){if(hK(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const uK=/^[\u0000-\u00FF]*$/;function hK(e){if(!uK.test(e))throw new Error("invalid latin1 text")}function mK(e,t,r){const n=uF(t);e[n]=fK(t,r-n.length-1)}function uF(e){for(e.mark();e.readByte()!==AK;);const t=e.offset;e.reset();const r=dF.decode(e.readBytes(t-e.offset-1));return e.skip(1),dK(r),r}function fK(e,t){return dF.decode(e.readBytes(t))}const $n={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Py={UNKNOWN:-1,DEFLATE:0},zB={UNKNOWN:-1,ADAPTIVE:0},Dy={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Wf={NONE:0,BACKGROUND:1,PREVIOUS:2},My={SOURCE:0,OVER:1};class xK extends Kw{constructor(r,n={}){super(r);_e(this,"_checkCrc");_e(this,"_inflator");_e(this,"_png");_e(this,"_apng");_e(this,"_end");_e(this,"_hasPalette");_e(this,"_palette");_e(this,"_hasTransparency");_e(this,"_transparency");_e(this,"_compressionMethod");_e(this,"_filterMethod");_e(this,"_interlaceMethod");_e(this,"_colorType");_e(this,"_isAnimated");_e(this,"_numberOfFrames");_e(this,"_numberOfPlays");_e(this,"_frames");_e(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new TB,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Py.UNKNOWN,this._filterMethod=zB.UNKNOWN,this._interlaceMethod=Dy.UNKNOWN,this._colorType=$n.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(KB(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(KB(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case cK:mK(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?OB(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?OB(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=gK(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case $n.GREYSCALE:a=1;break;case $n.TRUECOLOUR:a=3;break;case $n.INDEXED_COLOUR:a=1;break;case $n.GREYSCALE_ALPHA:a=2;break;case $n.TRUECOLOUR_ALPHA:a=4;break;case $n.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Py.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case $n.GREYSCALE:case $n.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case $n.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case $n.UNKNOWN:case $n.GREYSCALE_ALPHA:case $n.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=uF(this),a=this.readUint8();if(a!==Py.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:G9(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=HB({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Wf.NONE:break;case Wf.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let l=0;l<this._png.width;l++){const o=(i*r.width+l)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[o+c]=0}break;case Wf.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(l,o)=>{const c=((l+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,A=(l*n.width+o)*this._png.channels;return{index:c,frameIndex:A}};switch(n.blendOp){case My.SOURCE:for(let l=0;l<n.height;l++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:A}=i(l,o);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[A+d]}break;case My.OVER:for(let l=0;l<n.height;l++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:A}=i(l,o);for(let d=0;d<this._png.channels;d++){const u=n.data[A+this._png.channels-1]/a,m=d%(this._png.channels-1)===0?1:n.data[A+d],h=Math.floor(u*m+(1-u)*r.data[c+d]);r.data[c+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==zB.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Dy.NO_INTERLACE)this._png.data=HB({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Dy.ADAM7)this._png.data=tK({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Wf.NONE,blendOp:My.SOURCE,data:r}),this._inflator=new TB,this._writingDataChunks=!1}}function gK(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var VB;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(VB||(VB={}));function pK(e,t){return new xK(e,t).decode()}var ot=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ty(){ot.console&&typeof ot.console.log=="function"&&ot.console.log.apply(ot.console,arguments)}var fs={log:Ty,warn:function(e){ot.console&&(typeof ot.console.warn=="function"?ot.console.warn.apply(ot.console,arguments):Ty.call(null,arguments))},error:function(e){ot.console&&(typeof ot.console.error=="function"?ot.console.error.apply(ot.console,arguments):Ty(e))}};function Ry(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){oc(n.response,t,r)},n.onerror=function(){fs.error("could not download file")},n.send()}function $B(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Yf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var oc=ot.saveAs||((typeof window>"u"?"undefined":as(window))!=="object"||window!==ot?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=ot.URL||ot.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?$B(a.href)?Ry(e,t,r):Yf(a,a.target="_blank"):Yf(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Yf(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if($B(e))Ry(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Yf(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:as(i)!=="object"&&(fs.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Ry(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(ot.HTMLElement)||ot.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&i)&&(typeof FileReader>"u"?"undefined":as(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=l?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var c=ot.URL||ot.webkitURL,A=c.createObjectURL(e);n?n.location=A:location.href=A,n=null,setTimeout(function(){c.revokeObjectURL(A)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hF(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,l=a.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),A=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),A.length==1&&(A="0"+A),"#"+o+c+A}}var X0=ot.atob.bind(ot),GB=ot.btoa.bind(ot);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Oy(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Jr(r,n,a,i,t[0],7,-680876936),i=Jr(i,r,n,a,t[1],12,-389564586),a=Jr(a,i,r,n,t[2],17,606105819),n=Jr(n,a,i,r,t[3],22,-1044525330),r=Jr(r,n,a,i,t[4],7,-176418897),i=Jr(i,r,n,a,t[5],12,1200080426),a=Jr(a,i,r,n,t[6],17,-1473231341),n=Jr(n,a,i,r,t[7],22,-45705983),r=Jr(r,n,a,i,t[8],7,1770035416),i=Jr(i,r,n,a,t[9],12,-1958414417),a=Jr(a,i,r,n,t[10],17,-42063),n=Jr(n,a,i,r,t[11],22,-1990404162),r=Jr(r,n,a,i,t[12],7,1804603682),i=Jr(i,r,n,a,t[13],12,-40341101),a=Jr(a,i,r,n,t[14],17,-1502002290),r=Zr(r,n=Jr(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Zr(i,r,n,a,t[6],9,-1069501632),a=Zr(a,i,r,n,t[11],14,643717713),n=Zr(n,a,i,r,t[0],20,-373897302),r=Zr(r,n,a,i,t[5],5,-701558691),i=Zr(i,r,n,a,t[10],9,38016083),a=Zr(a,i,r,n,t[15],14,-660478335),n=Zr(n,a,i,r,t[4],20,-405537848),r=Zr(r,n,a,i,t[9],5,568446438),i=Zr(i,r,n,a,t[14],9,-1019803690),a=Zr(a,i,r,n,t[3],14,-187363961),n=Zr(n,a,i,r,t[8],20,1163531501),r=Zr(r,n,a,i,t[13],5,-1444681467),i=Zr(i,r,n,a,t[2],9,-51403784),a=Zr(a,i,r,n,t[7],14,1735328473),r=en(r,n=Zr(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=en(i,r,n,a,t[8],11,-2022574463),a=en(a,i,r,n,t[11],16,1839030562),n=en(n,a,i,r,t[14],23,-35309556),r=en(r,n,a,i,t[1],4,-1530992060),i=en(i,r,n,a,t[4],11,1272893353),a=en(a,i,r,n,t[7],16,-155497632),n=en(n,a,i,r,t[10],23,-1094730640),r=en(r,n,a,i,t[13],4,681279174),i=en(i,r,n,a,t[0],11,-358537222),a=en(a,i,r,n,t[3],16,-722521979),n=en(n,a,i,r,t[6],23,76029189),r=en(r,n,a,i,t[9],4,-640364487),i=en(i,r,n,a,t[12],11,-421815835),a=en(a,i,r,n,t[15],16,530742520),r=tn(r,n=en(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=tn(i,r,n,a,t[7],10,1126891415),a=tn(a,i,r,n,t[14],15,-1416354905),n=tn(n,a,i,r,t[5],21,-57434055),r=tn(r,n,a,i,t[12],6,1700485571),i=tn(i,r,n,a,t[3],10,-1894986606),a=tn(a,i,r,n,t[10],15,-1051523),n=tn(n,a,i,r,t[1],21,-2054922799),r=tn(r,n,a,i,t[8],6,1873313359),i=tn(i,r,n,a,t[15],10,-30611744),a=tn(a,i,r,n,t[6],15,-1560198380),n=tn(n,a,i,r,t[13],21,1309151649),r=tn(r,n,a,i,t[4],6,-145523070),i=tn(i,r,n,a,t[11],10,-1120210379),a=tn(a,i,r,n,t[2],15,718787259),n=tn(n,a,i,r,t[9],21,-343485551),e[0]=io(r,e[0]),e[1]=io(n,e[1]),e[2]=io(a,e[2]),e[3]=io(i,e[3])}function Tg(e,t,r,n,a,i){return t=io(io(t,e),io(n,i)),io(t<<a|t>>>32-a,r)}function Jr(e,t,r,n,a,i,l){return Tg(t&r|~t&n,e,t,a,i,l)}function Zr(e,t,r,n,a,i,l){return Tg(t&n|r&~n,e,t,a,i,l)}function en(e,t,r,n,a,i,l){return Tg(t^r^n,e,t,a,i,l)}function tn(e,t,r,n,a,i,l){return Tg(r^(t|~n),e,t,a,i,l)}function mF(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Oy(n,yK(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Oy(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Oy(n,a),n}function yK(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var qB="0123456789abcdef".split("");function bK(e){for(var t="",r=0;r<4;r++)t+=qB[e>>8*r+4&15]+qB[e>>8*r&15];return t}function vK(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Tv(e){return mF(e).map(vK).join("")}var wK=function(e){for(var t=0;t<e.length;t++)e[t]=bK(e[t]);return e.join("")}(mF("hello"))!="5d41402abc4b2a76b9719d911017c592";function io(e,t){if(wK){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Rv(e,t){var r,n,a,i;if(e!==r){for(var l=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),o=[],c=0;c<256;c++)o[c]=c;var A=0;for(c=0;c<256;c++){var d=o[c];A=(A+d+l.charCodeAt(c))%256,o[c]=o[A],o[A]=d}r=e,n=o}else o=n;var u=t.length,m=0,h=0,g="";for(c=0;c<u;c++)h=(h+(d=o[m=(m+1)%256]))%256,o[m]=o[h],o[h]=d,l=o[(o[m]+o[h])%256],g+=String.fromCharCode(t.charCodeAt(c)^l);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var WB={print:4,modify:8,copy:16,"annot-forms":32};function BA(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(WB.perm!==void 0)throw new Error("Invalid permission: "+o);a+=WB[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^a)),this.encryptionKey=Tv(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Rv(this.encryptionKey,this.padding)}function CA(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function YB(e){if(as(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var l=t[r][i];try{l[0].apply(e,n)}catch(o){ot.console&&fs.error("jsPDF PubSub Error",o.message,o)}l[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Vx(e){if(!(this instanceof Vx))return new Vx(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function fF(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function cc(e,t,r,n,a){if(!(this instanceof cc))return new cc(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,fF.call(this,n,a)}function HA(e,t,r,n,a){if(!(this instanceof HA))return new HA(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,fF.call(this,n,a)}function Ye(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],l=[],o=1,c=16,A="S",d=null;as(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),A=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),n=n||"mm",r=(""+(r||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=YB;var g="1.3",p=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(B){g=B};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var x=h.__private__.getPageFormat=function(B){return v[B]};a=a||"a4";var b="compat",j="advanced",w=b;function S(){this.saveGraphicsState(),ne(new at(it,0,0,-it,0,Mn()*it).toString()+" cm"),this.setFontSize(this.getFontSize()/it),A="n",w=j}function F(){this.restoreGraphicsState(),A="S",w=b}var I=h.__private__.combineFontStyleAndFontWeight=function(B,T){if(B=="bold"&&T=="normal"||B=="bold"&&T==400||B=="normal"&&T=="italic"||B=="bold"&&T=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return T&&(B=T==400||T==="normal"?B==="italic"?"italic":"normal":T!=700&&T!=="bold"||B!=="normal"?(T==700?"bold":T)+""+B:"bold"),B};h.advancedAPI=function(B){var T=w===b;return T&&S.call(this),typeof B!="function"||(B(this),T&&F.call(this)),this},h.compatAPI=function(B){var T=w===j;return T&&F.call(this),typeof B!="function"||(B(this),T&&S.call(this)),this},h.isAdvancedAPI=function(){return w===j};var k,E=function(B){if(w!==j)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=h.roundToPrecision=h.__private__.roundToPrecision=function(B,T){var se=t||T;if(isNaN(B)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(se).replace(/0+$/,"")};k=h.hpf=h.__private__.hpf=typeof c=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return O(B,c)}:c==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return O(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return O(B,16)};var L=h.f2=h.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return O(B,2)},P=h.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return O(B,3)},U=h.scale=h.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return w===b?B*it:w===j?B:void 0},R=function(B){return U(function(T){return w===b?Mn()-T:w===j?T:void 0}(B))};h.__private__.setPrecision=h.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(t=parseInt(B,10))};var V,Z="00000000000000000000000000000000",ae=h.__private__.getFileId=function(){return Z},D=h.__private__.setFileId=function(B){return Z=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&($s=new BA(d.userPermissions,d.userPassword,d.ownerPassword,Z)),Z};h.setFileId=function(B){return D(B),this},h.getFileId=function(){return ae()};var Y=h.__private__.convertDateToPDFDate=function(B){var T=B.getTimezoneOffset(),se=T<0?"+":"-",ie=Math.floor(Math.abs(T/60)),ue=Math.abs(T%60),je=[se,G(ie),"'",G(ue),"'"].join("");return["D:",B.getFullYear(),G(B.getMonth()+1),G(B.getDate()),G(B.getHours()),G(B.getMinutes()),G(B.getSeconds()),je].join("")},re=h.__private__.convertPDFDateToDate=function(B){var T=parseInt(B.substr(2,4),10),se=parseInt(B.substr(6,2),10)-1,ie=parseInt(B.substr(8,2),10),ue=parseInt(B.substr(10,2),10),je=parseInt(B.substr(12,2),10),Ce=parseInt(B.substr(14,2),10);return new Date(T,se,ie,ue,je,Ce,0)},q=h.__private__.setCreationDate=function(B){var T;if(B===void 0&&(B=new Date),B instanceof Date)T=Y(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");T=B}return V=T},_=h.__private__.getCreationDate=function(B){var T=V;return B==="jsDate"&&(T=re(V)),T};h.setCreationDate=function(B){return q(B),this},h.getCreationDate=function(B){return _(B)};var z,G=h.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},X=h.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},J=0,de=[],ge=[],le=0,ce=[],ye=[],Se=!1,Le=ge;h.__private__.setCustomOutputDestination=function(B){Se=!0,Le=B};var be=function(B){Se||(Le=B)};h.__private__.resetCustomOutputDestination=function(){Se=!1,Le=ge};var ne=h.__private__.out=function(B){return B=B.toString(),le+=B.length+1,Le.push(B),Le},It=h.__private__.write=function(B){return ne(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},bt=h.__private__.getArrayBuffer=function(B){for(var T=B.length,se=new ArrayBuffer(T),ie=new Uint8Array(se);T--;)ie[T]=B.charCodeAt(T);return se},st=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return st};var Fe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(B){return Fe=w===j?B/it:B,this};var Je,Qe=h.__private__.getFontSize=h.getFontSize=function(){return w===b?Fe:Fe*it},vt=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(B){return vt=B,this},h.__private__.getR2L=h.getR2L=function(){return vt};var tt,$t=h.__private__.setZoomMode=function(B){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))Je=B;else if(isNaN(B)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');Je=B}else Je=parseInt(B,10)};h.__private__.getZoomMode=function(){return Je};var ht,mt=h.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');tt=B};h.__private__.getPageMode=function(){return tt};var os=h.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');ht=B};h.__private__.getLayoutMode=function(){return ht},h.__private__.setDisplayMode=h.setDisplayMode=function(B,T,se){return $t(B),os(T),mt(se),this};var wt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(B){if(Object.keys(wt).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wt[B]},h.__private__.getDocumentProperties=function(){return wt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(B){for(var T in wt)wt.hasOwnProperty(T)&&B[T]&&(wt[T]=B[T]);return this},h.__private__.setDocumentProperty=function(B,T){if(Object.keys(wt).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wt[B]=T};var Ze,it,et,gs,Gt,qe={},ft={},us=[],nt={},Pt={},xt={},Vs={},gr=null,hs=0,ct=[],Jt=new YB(h),Do=e.hotfixes||[],qr={},Mi={},ai=[],at=function B(T,se,ie,ue,je,Ce){if(!(this instanceof B))return new B(T,se,ie,ue,je,Ce);isNaN(T)&&(T=1),isNaN(se)&&(se=0),isNaN(ie)&&(ie=0),isNaN(ue)&&(ue=1),isNaN(je)&&(je=0),isNaN(Ce)&&(Ce=0),this._matrix=[T,se,ie,ue,je,Ce]};Object.defineProperty(at.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(at.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(at.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(at.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(at.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(at.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(at.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(at.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(at.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(at.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(at.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(at.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(at.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(at.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(at.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(at.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),at.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(B)},at.prototype.multiply=function(B){var T=B.sx*this.sx+B.shy*this.shx,se=B.sx*this.shy+B.shy*this.sy,ie=B.shx*this.sx+B.sy*this.shx,ue=B.shx*this.shy+B.sy*this.sy,je=B.tx*this.sx+B.ty*this.shx+this.tx,Ce=B.tx*this.shy+B.ty*this.sy+this.ty;return new at(T,se,ie,ue,je,Ce)},at.prototype.decompose=function(){var B=this.sx,T=this.shy,se=this.shx,ie=this.sy,ue=this.tx,je=this.ty,Ce=Math.sqrt(B*B+T*T),He=(B/=Ce)*se+(T/=Ce)*ie;se-=B*He,ie-=T*He;var Ge=Math.sqrt(se*se+ie*ie);return He/=Ge,B*(ie/=Ge)<T*(se/=Ge)&&(B=-B,T=-T,He=-He,Ce=-Ce),{scale:new at(Ce,0,0,Ge,0,0),translate:new at(1,0,0,1,ue,je),rotate:new at(B,T,-T,B,0,0),skew:new at(1,0,He,1,0,0)}},at.prototype.toString=function(B){return this.join(" ")},at.prototype.inversed=function(){var B=this.sx,T=this.shy,se=this.shx,ie=this.sy,ue=this.tx,je=this.ty,Ce=1/(B*ie-T*se),He=ie*Ce,Ge=-T*Ce,lt=-se*Ce,jt=B*Ce;return new at(He,Ge,lt,jt,-He*ue-lt*je,-Ge*ue-jt*je)},at.prototype.applyToPoint=function(B){var T=B.x*this.sx+B.y*this.shx+this.tx,se=B.x*this.shy+B.y*this.sy+this.ty;return new Go(T,se)},at.prototype.applyToRectangle=function(B){var T=this.applyToPoint(B),se=this.applyToPoint(new Go(B.x+B.w,B.y+B.h));return new Gd(T.x,T.y,se.x-T.x,se.y-T.y)},at.prototype.clone=function(){var B=this.sx,T=this.shy,se=this.shx,ie=this.sy,ue=this.tx,je=this.ty;return new at(B,T,se,ie,ue,je)},h.Matrix=at;var Ti=h.matrixMult=function(B,T){return T.multiply(B)},Ri=new at(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ri;var la=function(B,T){if(!Pt[B]){var se=(T instanceof cc?"Sh":"P")+(Object.keys(nt).length+1).toString(10);T.id=se,Pt[B]=se,nt[se]=T,Jt.publish("addPattern",T)}};h.ShadingPattern=cc,h.TilingPattern=HA,h.addShadingPattern=function(B,T){return E("addShadingPattern()"),la(B,T),this},h.beginTilingPattern=function(B){E("beginTilingPattern()"),qd(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},h.endTilingPattern=function(B,T){E("endTilingPattern()"),T.stream=ye[z].join(`
`),la(B,T),Jt.publish("endTilingPattern",T),ai.pop().restore()};var oa,Ts=h.__private__.newObject=function(){var B=Fr();return Dr(B,!0),B},Fr=h.__private__.newObjectDeferred=function(){return J++,de[J]=function(){return le},J},Dr=function(B,T){return T=typeof T=="boolean"&&T,de[B]=le,T&&ne(B+" 0 obj"),B},Mo=h.__private__.newAdditionalObject=function(){var B={objId:Fr(),content:""};return ce.push(B),B},Cl=Fr(),Ia=Fr(),ii=h.__private__.decodeColorString=function(B){var T=B.split(" ");if(T.length!==2||T[1]!=="g"&&T[1]!=="G")T.length!==5||T[4]!=="k"&&T[4]!=="K"||(T=[(1-T[0])*(1-T[3]),(1-T[1])*(1-T[3]),(1-T[2])*(1-T[3]),"r"]);else{var se=parseFloat(T[0]);T=[se,se,se,"r"]}for(var ie="#",ue=0;ue<3;ue++)ie+=("0"+Math.floor(255*parseFloat(T[ue])).toString(16)).slice(-2);return ie},Ua=h.__private__.encodeColorString=function(B){var T;typeof B=="string"&&(B={ch1:B});var se=B.ch1,ie=B.ch2,ue=B.ch3,je=B.ch4,Ce=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var He=new hF(se);if(He.ok)se=He.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var Ge=parseInt(se.substr(1),16);se=Ge>>16&255,ie=Ge>>8&255,ue=255&Ge}if(ie===void 0||je===void 0&&se===ie&&ie===ue)T=typeof se=="string"?se+" "+Ce[0]:B.precision===2?L(se/255)+" "+Ce[0]:P(se/255)+" "+Ce[0];else if(je===void 0||as(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return["1.","1.","1.",Ce[1]].join(" ");T=typeof se=="string"?[se,ie,ue,Ce[1]].join(" "):B.precision===2?[L(se/255),L(ie/255),L(ue/255),Ce[1]].join(" "):[P(se/255),P(ie/255),P(ue/255),Ce[1]].join(" ")}else T=typeof se=="string"?[se,ie,ue,je,Ce[2]].join(" "):B.precision===2?[L(se),L(ie),L(ue),L(je),Ce[2]].join(" "):[P(se),P(ie),P(ue),P(je),Ce[2]].join(" ");return T},La=h.__private__.getFilters=function(){return l},ca=h.__private__.putStream=function(B){var T=(B=B||{}).data||"",se=B.filters||La(),ie=B.alreadyAppliedFilters||[],ue=B.addLength1||!1,je=T.length,Ce=B.objectId,He=function(pr){return pr};if(d!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(He=$s.encryptor(Ce,0));var Ge={};se===!0&&(se=["FlateEncode"]);var lt=B.additionalKeyValues||[],jt=(Ge=Ye.API.processDataByFilters!==void 0?Ye.API.processDataByFilters(T,se):{data:T,reverseChain:[]}).reverseChain+(Array.isArray(ie)?ie.join(" "):ie.toString());if(Ge.data.length!==0&&(lt.push({key:"Length",value:Ge.data.length}),ue===!0&&lt.push({key:"Length1",value:je})),jt.length!=0)if(jt.split("/").length-1==1)lt.push({key:"Filter",value:jt});else{lt.push({key:"Filter",value:"["+jt+"]"});for(var qt=0;qt<lt.length;qt+=1)if(lt[qt].key==="DecodeParms"){for(var Qs=[],cr=0;cr<Ge.reverseChain.split("/").length-1;cr+=1)Qs.push("null");Qs.push(lt[qt].value),lt[qt].value="["+Qs.join(" ")+"]"}}ne("<<");for(var cs=0;cs<lt.length;cs++)ne("/"+lt[cs].key+" "+lt[cs].value);ne(">>"),Ge.data.length!==0&&(ne("stream"),ne(He(Ge.data)),ne("endstream"))},To=h.__private__.putPage=function(B){var T=B.number,se=B.data,ie=B.objId,ue=B.contentsObjId;Dr(ie,!0),ne("<</Type /Page"),ne("/Parent "+B.rootDictionaryObjId+" 0 R"),ne("/Resources "+B.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(k(B.mediaBox.bottomLeftX))+" "+parseFloat(k(B.mediaBox.bottomLeftY))+" "+k(B.mediaBox.topRightX)+" "+k(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&ne("/CropBox ["+k(B.cropBox.bottomLeftX)+" "+k(B.cropBox.bottomLeftY)+" "+k(B.cropBox.topRightX)+" "+k(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&ne("/BleedBox ["+k(B.bleedBox.bottomLeftX)+" "+k(B.bleedBox.bottomLeftY)+" "+k(B.bleedBox.topRightX)+" "+k(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&ne("/TrimBox ["+k(B.trimBox.bottomLeftX)+" "+k(B.trimBox.bottomLeftY)+" "+k(B.trimBox.topRightX)+" "+k(B.trimBox.topRightY)+"]"),B.artBox!==null&&ne("/ArtBox ["+k(B.artBox.bottomLeftX)+" "+k(B.artBox.bottomLeftY)+" "+k(B.artBox.topRightX)+" "+k(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&ne("/UserUnit "+B.userUnit),Jt.publish("putPage",{objId:ie,pageContext:ct[T],pageNumber:T,page:se}),ne("/Contents "+ue+" 0 R"),ne(">>"),ne("endobj");var je=se.join(`
`);return w===j&&(je+=`
Q`),Dr(ue,!0),ca({data:je,filters:La(),objectId:ue}),ne("endobj"),ie},li=h.__private__.putPages=function(){var B,T,se=[];for(B=1;B<=hs;B++)ct[B].objId=Fr(),ct[B].contentsObjId=Fr();for(B=1;B<=hs;B++)se.push(To({number:B,data:ye[B],objId:ct[B].objId,contentsObjId:ct[B].contentsObjId,mediaBox:ct[B].mediaBox,cropBox:ct[B].cropBox,bleedBox:ct[B].bleedBox,trimBox:ct[B].trimBox,artBox:ct[B].artBox,userUnit:ct[B].userUnit,rootDictionaryObjId:Cl,resourceDictionaryObjId:Ia}));Dr(Cl,!0),ne("<</Type /Pages");var ie="/Kids [";for(T=0;T<hs;T++)ie+=se[T]+" 0 R ";ne(ie+"]"),ne("/Count "+hs),ne(">>"),ne("endobj"),Jt.publish("postPutPages")},Ro=function(B){Jt.publish("putFont",{font:B,out:ne,newObject:Ts,putStream:ca}),B.isAlreadyPutted!==!0&&(B.objectNumber=Ts(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+CA(B.postScriptName)),ne("/Subtype /Type1"),typeof B.encoding=="string"&&ne("/Encoding /"+B.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Wc=function(B){B.objectNumber=Ts();var T=[];T.push({key:"Type",value:"/XObject"}),T.push({key:"Subtype",value:"/Form"}),T.push({key:"BBox",value:"["+[k(B.x),k(B.y),k(B.x+B.width),k(B.y+B.height)].join(" ")+"]"}),T.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var se=B.pages[1].join(`
`);ca({data:se,additionalKeyValues:T,objectId:B.objectNumber}),ne("endobj")},Yc=function(B,T){T||(T=21);var se=Ts(),ie=function(Ce,He){var Ge,lt=[],jt=1/(He-1);for(Ge=0;Ge<1;Ge+=jt)lt.push(Ge);if(lt.push(1),Ce[0].offset!=0){var qt={offset:0,color:Ce[0].color};Ce.unshift(qt)}if(Ce[Ce.length-1].offset!=1){var Qs={offset:1,color:Ce[Ce.length-1].color};Ce.push(Qs)}for(var cr="",cs=0,pr=0;pr<lt.length;pr++){for(Ge=lt[pr];Ge>Ce[cs+1].offset;)cs++;var Ar=Ce[cs].offset,Mr=(Ge-Ar)/(Ce[cs+1].offset-Ar),zi=Ce[cs].color,Fl=Ce[cs+1].color;cr+=X(Math.round((1-Mr)*zi[0]+Mr*Fl[0]).toString(16))+X(Math.round((1-Mr)*zi[1]+Mr*Fl[1]).toString(16))+X(Math.round((1-Mr)*zi[2]+Mr*Fl[2]).toString(16))}return cr.trim()}(B.colors,T),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+T+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ca({data:ie,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),ne("endobj"),B.objectNumber=Ts(),ne("<< /ShadingType "+B.type),ne("/ColorSpace /DeviceRGB");var je="/Coords ["+k(parseFloat(B.coords[0]))+" "+k(parseFloat(B.coords[1]))+" ";B.type===2?je+=k(parseFloat(B.coords[2]))+" "+k(parseFloat(B.coords[3])):je+=k(parseFloat(B.coords[2]))+" "+k(parseFloat(B.coords[3]))+" "+k(parseFloat(B.coords[4]))+" "+k(parseFloat(B.coords[5])),ne(je+="]"),B.matrix&&ne("/Matrix ["+B.matrix.toString()+"]"),ne("/Function "+se+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Xc=function(B,T){var se=Fr(),ie=Ts();T.push({resourcesOid:se,objectOid:ie}),B.objectNumber=ie;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+B.boundingBox.map(k).join(" ")+"]"}),ue.push({key:"XStep",value:k(B.xStep)}),ue.push({key:"YStep",value:k(B.yStep)}),ue.push({key:"Resources",value:se+" 0 R"}),B.matrix&&ue.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),ca({data:B.stream,additionalKeyValues:ue,objectId:B.objectNumber}),ne("endobj")},Yg=function(B){for(var T in B.objectNumber=Ts(),ne("<<"),B)switch(T){case"opacity":ne("/ca "+L(B[T]));break;case"stroke-opacity":ne("/CA "+L(B[T]))}ne(">>"),ne("endobj")},Dd=function(B){Dr(B.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var T in ne("/Font <<"),qe)qe.hasOwnProperty(T)&&(u===!1||u===!0&&m.hasOwnProperty(T))&&ne("/"+T+" "+qe[T].objectNumber+" 0 R");ne(">>")}(),function(){if(Object.keys(nt).length>0){for(var T in ne("/Shading <<"),nt)nt.hasOwnProperty(T)&&nt[T]instanceof cc&&nt[T].objectNumber>=0&&ne("/"+T+" "+nt[T].objectNumber+" 0 R");Jt.publish("putShadingPatternDict"),ne(">>")}}(),function(T){if(Object.keys(nt).length>0){for(var se in ne("/Pattern <<"),nt)nt.hasOwnProperty(se)&&nt[se]instanceof h.TilingPattern&&nt[se].objectNumber>=0&&nt[se].objectNumber<T&&ne("/"+se+" "+nt[se].objectNumber+" 0 R");Jt.publish("putTilingPatternDict"),ne(">>")}}(B.objectOid),function(){if(Object.keys(xt).length>0){var T;for(T in ne("/ExtGState <<"),xt)xt.hasOwnProperty(T)&&xt[T].objectNumber>=0&&ne("/"+T+" "+xt[T].objectNumber+" 0 R");Jt.publish("putGStateDict"),ne(">>")}}(),function(){for(var T in ne("/XObject <<"),qr)qr.hasOwnProperty(T)&&qr[T].objectNumber>=0&&ne("/"+T+" "+qr[T].objectNumber+" 0 R");Jt.publish("putXobjectDict"),ne(">>")}(),ne(">>"),ne("endobj")},Im=function(B){ft[B.fontName]=ft[B.fontName]||{},ft[B.fontName][B.fontStyle]=B.id},Um=function(B,T,se,ie,ue){var je={id:"F"+(Object.keys(qe).length+1).toString(10),postScriptName:B,fontName:T,fontStyle:se,encoding:ie,isStandardFont:ue||!1,metadata:{}};return Jt.publish("addFont",{font:je,instance:this}),qe[je.id]=je,Im(je),je.id},Aa=h.__private__.pdfEscape=h.pdfEscape=function(B,T){return function(se,ie){var ue,je,Ce,He,Ge,lt,jt,qt,Qs;if(Ce=(ie=ie||{}).sourceEncoding||"Unicode",Ge=ie.outputEncoding,(ie.autoencode||Ge)&&qe[Ze].metadata&&qe[Ze].metadata[Ce]&&qe[Ze].metadata[Ce].encoding&&(He=qe[Ze].metadata[Ce].encoding,!Ge&&qe[Ze].encoding&&(Ge=qe[Ze].encoding),!Ge&&He.codePages&&(Ge=He.codePages[0]),typeof Ge=="string"&&(Ge=He[Ge]),Ge)){for(jt=!1,lt=[],ue=0,je=se.length;ue<je;ue++)(qt=Ge[se.charCodeAt(ue)])?lt.push(String.fromCharCode(qt)):lt.push(se[ue]),lt[ue].charCodeAt(0)>>8&&(jt=!0);se=lt.join("")}for(ue=se.length;jt===void 0&&ue!==0;)se.charCodeAt(ue-1)>>8&&(jt=!0),ue--;if(!jt)return se;for(lt=ie.noBOM?[]:[254,255],ue=0,je=se.length;ue<je;ue++){if((Qs=(qt=se.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");lt.push(Qs),lt.push(qt-(Qs<<8))}return String.fromCharCode.apply(void 0,lt)}(B,T).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Md=h.__private__.beginPage=function(B){ye[++hs]=[],ct[hs]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},Qm(hs),be(ye[z])},Lm=function(B,T){var se,ie,ue;switch(r=T||r,typeof B=="string"&&(se=x(B.toLowerCase()),Array.isArray(se)&&(ie=se[0],ue=se[1])),Array.isArray(B)&&(ie=B[0]*it,ue=B[1]*it),isNaN(ie)&&(ie=a[0],ue=a[1]),(ie>14400||ue>14400)&&(fs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ie=Math.min(14400,ie),ue=Math.min(14400,ue)),a=[ie,ue],r.substr(0,1)){case"l":ue>ie&&(a=[ue,ie]);break;case"p":ie>ue&&(a=[ue,ie])}Md(a),ap(Kd),ne(Zc),Vd!==0&&ne(Vd+" J"),$d!==0&&ne($d+" j"),Jt.publish("addPage",{pageNumber:hs})},Td=function(B){B>0&&B<=hs&&(ye.splice(B,1),ct.splice(B,1),hs--,z>hs&&(z=hs),this.setPage(z))},Qm=function(B){B>0&&B<=hs&&(z=B)},Pm=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ye.length-1},Dm=function(B,T,se){var ie,ue=void 0;return se=se||{},B=B!==void 0?B:qe[Ze].fontName,T=T!==void 0?T:qe[Ze].fontStyle,ie=B.toLowerCase(),ft[ie]!==void 0&&ft[ie][T]!==void 0?ue=ft[ie][T]:ft[B]!==void 0&&ft[B][T]!==void 0?ue=ft[B][T]:se.disableWarning===!1&&fs.warn("Unable to look up font label for font '"+B+"', '"+T+"'. Refer to getFontList() for available fonts."),ue||se.noFallback||(ue=ft.times[T])==null&&(ue=ft.times.normal),ue},Jc=h.__private__.putInfo=function(){var B=Ts(),T=function(ie){return ie};for(var se in d!==null&&(T=$s.encryptor(B,0)),ne("<<"),ne("/Producer ("+Aa(T("jsPDF "+Ye.version))+")"),wt)wt.hasOwnProperty(se)&&wt[se]&&ne("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+Aa(T(wt[se]))+")");ne("/CreationDate ("+Aa(T(V))+")"),ne(">>"),ne("endobj")},Xg=h.__private__.putCatalog=function(B){var T=(B=B||{}).rootDictionaryObjId||Cl;switch(Ts(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+T+" 0 R"),Je||(Je="fullwidth"),Je){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+Je;se.substr(se.length-1)==="%"&&(Je=parseInt(Je)/100),typeof Je=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+L(Je)+"]")}switch(ht||(ht="continuous"),ht){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}tt&&ne("/PageMode /"+tt),Jt.publish("putCatalog"),ne(">>"),ne("endobj")},or=h.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(J+1)),ne("/Root "+J+" 0 R"),ne("/Info "+(J-1)+" 0 R"),d!==null&&ne("/Encrypt "+$s.oid+" 0 R"),ne("/ID [ <"+Z+"> <"+Z+"> ]"),ne(">>")},Mm=h.__private__.putHeader=function(){ne("%PDF-"+g),ne("%")},Tm=h.__private__.putXRef=function(){var B="0000000000";ne("xref"),ne("0 "+(J+1)),ne("0000000000 65535 f ");for(var T=1;T<=J;T++)typeof de[T]=="function"?ne((B+de[T]()).slice(-10)+" 00000 n "):de[T]!==void 0?ne((B+de[T]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},Oi=h.__private__.buildDocument=function(){var B;J=0,le=0,ge=[],de=[],ce=[],Cl=Fr(),Ia=Fr(),be(ge),Jt.publish("buildDocument"),Mm(),li(),function(){Jt.publish("putAdditionalObjects");for(var se=0;se<ce.length;se++){var ie=ce[se];Dr(ie.objId,!0),ne(ie.content),ne("endobj")}Jt.publish("postPutAdditionalObjects")}(),B=[],function(){for(var se in qe)qe.hasOwnProperty(se)&&(u===!1||u===!0&&m.hasOwnProperty(se))&&Ro(qe[se])}(),function(){var se;for(se in xt)xt.hasOwnProperty(se)&&Yg(xt[se])}(),function(){for(var se in qr)qr.hasOwnProperty(se)&&Wc(qr[se])}(),function(se){var ie;for(ie in nt)nt.hasOwnProperty(ie)&&(nt[ie]instanceof cc?Yc(nt[ie]):nt[ie]instanceof HA&&Xc(nt[ie],se))}(B),Jt.publish("putResources"),B.forEach(Dd),Dd({resourcesOid:Ia,objectOid:Number.MAX_SAFE_INTEGER}),Jt.publish("postPutResources"),d!==null&&($s.oid=Ts(),ne("<<"),ne("/Filter /Standard"),ne("/V "+$s.v),ne("/R "+$s.r),ne("/U <"+$s.toHexString($s.U)+">"),ne("/O <"+$s.toHexString($s.O)+">"),ne("/P "+$s.P),ne(">>"),ne("endobj")),Jc(),Xg();var T=le;return Tm(),or(),ne("startxref"),ne(""+T),ne("%%EOF"),be(ye[z]),ge.join(`
`)},Oo=h.__private__.getBlob=function(B){return new Blob([bt(B)],{type:"application/pdf"})},Qa=h.output=h.__private__.output=(oa=function(B,T){switch(typeof(T=T||{})=="string"?T={filename:T}:T.filename=T.filename||"generated.pdf",B){case void 0:return Oi();case"save":h.save(T.filename);break;case"arraybuffer":return bt(Oi());case"blob":return Oo(Oi());case"bloburi":case"bloburl":if(ot.URL!==void 0&&typeof ot.URL.createObjectURL=="function")return ot.URL&&ot.URL.createObjectURL(Oo(Oi()))||void 0;fs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",ie=Oi();try{se=GB(ie)}catch{se=GB(unescape(encodeURIComponent(ie)))}return"data:application/pdf;filename="+T.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';T.pdfObjectUrl&&(ue=T.pdfObjectUrl,je="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(T)+");<\/script></body></html>",He=ot.open();return He!==null&&He.document.write(Ce),He}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(T.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+T.filename+'" width="500px" height="400px" /></body></html>',lt=ot.open();if(lt!==null){lt.document.write(Ge);var jt=this;lt.document.documentElement.querySelector("#pdfViewer").onload=function(){lt.document.title=T.filename,lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jt.output("bloburl"))}}return lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ot)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",T)+'"></iframe></body></html>',Qs=ot.open();if(Qs!==null&&(Qs.document.write(qt),Qs.document.title=T.filename),Qs||typeof safari>"u")return Qs;break;case"datauri":case"dataurl":return ot.document.location.href=this.output("datauristring",T);default:return null}},oa.foo=function(){try{return oa.apply(this,arguments)}catch(se){var B=se.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var T="Error in function "+B.split(`
`)[0].split("<")[0]+": "+se.message;if(!ot.console)throw new Error(T);ot.console.error(T,se),ot.alert&&alert(T)}},oa.foo.bar=oa,oa.foo),Ho=function(B){return Array.isArray(Do)===!0&&Do.indexOf(B)>-1};switch(n){case"pt":it=1;break;case"mm":it=72/25.4;break;case"cm":it=72/2.54;break;case"in":it=72;break;case"px":it=Ho("px_scaling")==1?.75:96/72;break;case"pc":case"em":it=12;break;case"ex":it=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);it=n}var $s=null;q(),D();var Rd=h.__private__.getPageInfo=h.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[B].objId,pageNumber:B,pageContext:ct[B]}},Jg=h.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var T in ct)if(ct[T].objId===B)break;return Rd(T)},Zg=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ct[z].objId,pageNumber:z,pageContext:ct[z]}};h.addPage=function(){return Lm.apply(this,arguments),this},h.setPage=function(){return Qm.apply(this,arguments),be.call(this,ye[z]),this},h.insertPage=function(B){return this.addPage(),this.movePage(z,B),this},h.movePage=function(B,T){var se,ie;if(B>T){se=ye[B],ie=ct[B];for(var ue=B;ue>T;ue--)ye[ue]=ye[ue-1],ct[ue]=ct[ue-1];ye[T]=se,ct[T]=ie,this.setPage(T)}else if(B<T){se=ye[B],ie=ct[B];for(var je=B;je<T;je++)ye[je]=ye[je+1],ct[je]=ct[je+1];ye[T]=se,ct[T]=ie,this.setPage(T)}return this},h.deletePage=function(){return Td.apply(this,arguments),this},h.__private__.text=h.text=function(B,T,se,ie,ue){var je,Ce,He,Ge,lt,jt,qt,Qs,cr,cs=(ie=ie||{}).scope||this;if(typeof B=="number"&&typeof T=="number"&&(typeof se=="string"||Array.isArray(se))){var pr=se;se=T,T=B,B=pr}if(arguments[3]instanceof at==0?(He=arguments[4],Ge=arguments[5],as(qt=arguments[3])==="object"&&qt!==null||(typeof He=="string"&&(Ge=He,He=null),typeof qt=="string"&&(Ge=qt,qt=null),typeof qt=="number"&&(He=qt,qt=null),ie={flags:qt,angle:He,align:Ge})):(E("The transform parameter of text() with a Matrix value"),cr=ue),isNaN(T)||isNaN(se)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return cs;var Ar,Mr="",zi=typeof ie.lineHeightFactor=="number"?ie.lineHeightFactor:zo,Fl=cs.internal.scaleFactor;function up(ps){return ps=ps.split("	").join(Array(ie.TabLen||9).join(" ")),Aa(ps,qt)}function Hm(ps){for(var ys,qs=ps.concat(),Ws=[],qi=qs.length;qi--;)typeof(ys=qs.shift())=="string"?Ws.push(ys):Array.isArray(ps)&&(ys.length===1||ys[1]===void 0&&ys[2]===void 0)?Ws.push(ys[0]):Ws.push([ys[0],ys[1],ys[2]]);return Ws}function Wo(ps,ys){var qs;if(typeof ps=="string")qs=ys(ps)[0];else if(Array.isArray(ps)){for(var Ws,qi,AA=ps.concat(),mi=[],nu=AA.length;nu--;)typeof(Ws=AA.shift())=="string"?mi.push(ys(Ws)[0]):Array.isArray(Ws)&&typeof Ws[0]=="string"&&(qi=ys(Ws[0],Ws[1],Ws[2]),mi.push([qi[0],qi[1],qi[2]]));qs=mi}return qs}var Pa=!1,Xd=!0;if(typeof B=="string")Pa=!0;else if(Array.isArray(B)){var rA=B.concat();Ce=[];for(var kl,kr=rA.length;kr--;)(typeof(kl=rA.shift())!="string"||Array.isArray(kl)&&typeof kl[0]!="string")&&(Xd=!1);Pa=Xd}if(Pa===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var Vi=Fe/cs.internal.scaleFactor,$i=Vi*(zi-1);switch(ie.baseline){case"bottom":se-=$i;break;case"top":se+=Vi-$i;break;case"hanging":se+=Vi-2*$i;break;case"middle":se+=Vi/2-$i}if((jt=ie.maxWidth||0)>0&&(typeof B=="string"?B=cs.splitTextToSize(B,jt):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(ps,ys){return ps.concat(cs.splitTextToSize(ys,jt))},[]))),je={text:B,x:T,y:se,options:ie,mutex:{pdfEscape:Aa,activeFontKey:Ze,fonts:qe,activeFontSize:Fe}},Jt.publish("preProcessText",je),B=je.text,He=(ie=je.options).angle,cr instanceof at==0&&He&&typeof He=="number"){He*=Math.PI/180,ie.rotationDirection===0&&(He=-He),w===j&&(He=-He);var nA=Math.cos(He),Jd=Math.sin(He);cr=new at(nA,Jd,-Jd,nA,0,0)}else He&&He instanceof at&&(cr=He);w!==j||cr||(cr=Ri),(lt=ie.charSpace||tA)!==void 0&&(Mr+=k(U(lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qs=ie.horizontalScale)!==void 0&&(Mr+=k(100*Qs)+` Tz
`),ie.lang;var dn=-1,Km=ie.renderingMode!==void 0?ie.renderingMode:ie.stroke,aA=cs.internal.getCurrentPageInfo().pageContext;switch(Km){case 0:case!1:case"fill":dn=0;break;case 1:case!0:case"stroke":dn=1;break;case 2:case"fillThenStroke":dn=2;break;case 3:case"invisible":dn=3;break;case 4:case"fillAndAddForClipping":dn=4;break;case 5:case"strokeAndAddPathForClipping":dn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":dn=6;break;case 7:case"addToPathForClipping":dn=7}var zm=aA.usedRenderingMode!==void 0?aA.usedRenderingMode:-1;dn!==-1?Mr+=dn+` Tr
`:zm!==-1&&(Mr+=`0 Tr
`),dn!==-1&&(aA.usedRenderingMode=dn),Ge=ie.align||"left";var yr,da=Fe*zi,Zd=cs.internal.pageSize.getWidth(),eu=qe[Ze];lt=ie.charSpace||tA,jt=ie.maxWidth||0,qt=Object.assign({autoencode:!0,noBOM:!0},ie.flags);var _l=[],iA=function(ps){return cs.getStringUnitWidth(ps,{font:eu,charSpace:lt,fontSize:Fe,doKerning:!1})*Fe/Fl};if(Object.prototype.toString.call(B)==="[object Array]"){var wn;Ce=Hm(B),Ge!=="left"&&(yr=Ce.map(iA));var jn,Yo=0;if(Ge==="right"){T-=yr[0],B=[],kr=Ce.length;for(var Ai=0;Ai<kr;Ai++)Ai===0?(jn=Hi(T),wn=Ki(se)):(jn=U(Yo-yr[Ai]),wn=-da),B.push([Ce[Ai],jn,wn]),Yo=yr[Ai]}else if(Ge==="center"){T-=yr[0]/2,B=[],kr=Ce.length;for(var Il=0;Il<kr;Il++)Il===0?(jn=Hi(T),wn=Ki(se)):(jn=U((Yo-yr[Il])/2),wn=-da),B.push([Ce[Il],jn,wn]),Yo=yr[Il]}else if(Ge==="left"){B=[],kr=Ce.length;for(var tu=0;tu<kr;tu++)B.push(Ce[tu])}else if(Ge==="justify"&&eu.encoding==="Identity-H"){B=[],kr=Ce.length,jt=jt!==0?jt:Zd;for(var Ul=0,Gs=0;Gs<kr;Gs++)if(wn=Gs===0?Ki(se):-da,jn=Gs===0?Hi(T):Ul,Gs<kr-1){var hp=U((jt-yr[Gs])/(Ce[Gs].split(" ").length-1)),di=Ce[Gs].split(" ");B.push([di[0]+" ",jn,wn]),Ul=0;for(var ui=1;ui<di.length;ui++){var lA=(iA(di[ui-1]+" "+di[ui])-iA(di[ui]))*Fl+hp;ui==di.length-1?B.push([di[ui],lA,0]):B.push([di[ui]+" ",lA,0]),Ul-=lA}}else B.push([Ce[Gs],jn,wn]);B.push(["",Ul,0])}else{if(Ge!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],kr=Ce.length,jt=jt!==0?jt:Zd,Gs=0;Gs<kr;Gs++)wn=Gs===0?Ki(se):-da,jn=Gs===0?Hi(T):0,Gs<kr-1?_l.push(k(U((jt-yr[Gs])/(Ce[Gs].split(" ").length-1)))):_l.push(0),B.push([Ce[Gs],jn,wn])}}(typeof ie.R2L=="boolean"?ie.R2L:vt)===!0&&(B=Wo(B,function(ps,ys,qs){return[ps.split("").reverse().join(""),ys,qs]})),je={text:B,x:T,y:se,options:ie,mutex:{pdfEscape:Aa,activeFontKey:Ze,fonts:qe,activeFontSize:Fe}},Jt.publish("postProcessText",je),B=je.text,Ar=je.mutex.isHex||!1;var su=qe[Ze].encoding;su!=="WinAnsiEncoding"&&su!=="StandardEncoding"||(B=Wo(B,function(ps,ys,qs){return[up(ps),ys,qs]})),Ce=Hm(B),B=[];for(var oA,cA,Xo,Jo=Array.isArray(Ce[0])?1:0,Gi="",ru=function(ps,ys,qs){var Ws="";return qs instanceof at?(qs=typeof ie.angle=="number"?Ti(qs,new at(1,0,0,1,ps,ys)):Ti(new at(1,0,0,1,ps,ys),qs),w===j&&(qs=Ti(new at(1,0,0,-1,0,0),qs)),Ws=qs.join(" ")+` Tm
`):Ws=k(ps)+" "+k(ys)+` Td
`,Ws},Tn=0;Tn<Ce.length;Tn++){switch(Gi="",Jo){case 1:Xo=(Ar?"<":"(")+Ce[Tn][0]+(Ar?">":")"),oA=parseFloat(Ce[Tn][1]),cA=parseFloat(Ce[Tn][2]);break;case 0:Xo=(Ar?"<":"(")+Ce[Tn]+(Ar?">":")"),oA=Hi(T),cA=Ki(se)}_l!==void 0&&_l[Tn]!==void 0&&(Gi=_l[Tn]+` Tw
`),Tn===0?B.push(Gi+ru(oA,cA,cr)+Xo):Jo===0?B.push(Gi+Xo):Jo===1&&B.push(Gi+ru(oA,cA,cr)+Xo)}B=Jo===0?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var hi=`BT
/`;return hi+=Ze+" "+Fe+` Tf
`,hi+=k(Fe*zi)+` TL
`,hi+=Vo+`
`,hi+=Mr,hi+=B,ne(hi+="ET"),m[Ze]=!0,cs};var ep=h.__private__.clip=h.clip=function(B){return ne(B==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return ep("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ne("n"),this};var oi=h.__private__.isValidStyle=function(B){var T=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(T=!0),T};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(B){return oi(B)&&(A=B),this};var Rm=h.__private__.getStyle=h.getStyle=function(B){var T=A;switch(B){case"D":case"S":T="S";break;case"F":T="f";break;case"FD":case"DF":T="B";break;case"f":case"f*":case"B":case"B*":T=B}return T},Om=h.close=function(){return ne("h"),this};h.stroke=function(){return ne("S"),this},h.fill=function(B){return Sl("f",B),this},h.fillEvenOdd=function(B){return Sl("f*",B),this},h.fillStroke=function(B){return Sl("B",B),this},h.fillStrokeEvenOdd=function(B){return Sl("B*",B),this};var Sl=function(B,T){as(T)==="object"?sp(T,B):ne(B)},Od=function(B){B===null||w===j&&B===void 0||(B=Rm(B),ne(B))};function tp(B,T,se,ie,ue){var je=new HA(T||this.boundingBox,se||this.xStep,ie||this.yStep,this.gState,ue||this.matrix);je.stream=this.stream;var Ce=B+"$$"+this.cloneIndex+++"$$";return la(Ce,je),je}var sp=function(B,T){var se=Pt[B.key],ie=nt[se];if(ie instanceof cc)ne("q"),ne(rp(T)),ie.gState&&h.setGState(ie.gState),ne(B.matrix.toString()+" cm"),ne("/"+se+" sh"),ne("Q");else if(ie instanceof HA){var ue=new at(1,0,0,-1,0,Mn());B.matrix&&(ue=ue.multiply(B.matrix||Ri),se=tp.call(ie,B.key,B.boundingBox,B.xStep,B.yStep,ue).id),ne("q"),ne("/Pattern cs"),ne("/"+se+" scn"),ie.gState&&h.setGState(ie.gState),ne(T),ne("Q")}},rp=function(B){switch(B){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Hd=h.moveTo=function(B,T){return ne(k(U(B))+" "+k(R(T))+" m"),this},Ko=h.lineTo=function(B,T){return ne(k(U(B))+" "+k(R(T))+" l"),this},El=h.curveTo=function(B,T,se,ie,ue,je){return ne([k(U(B)),k(R(T)),k(U(se)),k(R(ie)),k(U(ue)),k(R(je)),"c"].join(" ")),this};h.__private__.line=h.line=function(B,T,se,ie,ue){if(isNaN(B)||isNaN(T)||isNaN(se)||isNaN(ie)||!oi(ue))throw new Error("Invalid arguments passed to jsPDF.line");return w===b?this.lines([[se-B,ie-T]],B,T,[1,1],ue||"S"):this.lines([[se-B,ie-T]],B,T,[1,1]).stroke()},h.__private__.lines=h.lines=function(B,T,se,ie,ue,je){var Ce,He,Ge,lt,jt,qt,Qs,cr,cs,pr,Ar,Mr;if(typeof B=="number"&&(Mr=se,se=T,T=B,B=Mr),ie=ie||[1,1],je=je||!1,isNaN(T)||isNaN(se)||!Array.isArray(B)||!Array.isArray(ie)||!oi(ue)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Hd(T,se),Ce=ie[0],He=ie[1],lt=B.length,pr=T,Ar=se,Ge=0;Ge<lt;Ge++)(jt=B[Ge]).length===2?(pr=jt[0]*Ce+pr,Ar=jt[1]*He+Ar,Ko(pr,Ar)):(qt=jt[0]*Ce+pr,Qs=jt[1]*He+Ar,cr=jt[2]*Ce+pr,cs=jt[3]*He+Ar,pr=jt[4]*Ce+pr,Ar=jt[5]*He+Ar,El(qt,Qs,cr,cs,pr,Ar));return je&&Om(),Od(ue),this},h.path=function(B){for(var T=0;T<B.length;T++){var se=B[T],ie=se.c;switch(se.op){case"m":Hd(ie[0],ie[1]);break;case"l":Ko(ie[0],ie[1]);break;case"c":El.apply(this,ie);break;case"h":Om()}}return this},h.__private__.rect=h.rect=function(B,T,se,ie,ue){if(isNaN(B)||isNaN(T)||isNaN(se)||isNaN(ie)||!oi(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b&&(ie=-ie),ne([k(U(B)),k(R(T)),k(U(se)),k(U(ie)),"re"].join(" ")),Od(ue),this},h.__private__.triangle=h.triangle=function(B,T,se,ie,ue,je,Ce){if(isNaN(B)||isNaN(T)||isNaN(se)||isNaN(ie)||isNaN(ue)||isNaN(je)||!oi(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-B,ie-T],[ue-se,je-ie],[B-ue,T-je]],B,T,[1,1],Ce,!0),this},h.__private__.roundedRect=h.roundedRect=function(B,T,se,ie,ue,je,Ce){if(isNaN(B)||isNaN(T)||isNaN(se)||isNaN(ie)||isNaN(ue)||isNaN(je)||!oi(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var He=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*se),je=Math.min(je,.5*ie),this.lines([[se-2*ue,0],[ue*He,0,ue,je-je*He,ue,je],[0,ie-2*je],[0,je*He,-ue*He,je,-ue,je],[2*ue-se,0],[-ue*He,0,-ue,-je*He,-ue,-je],[0,2*je-ie],[0,-je*He,ue*He,-je,ue,-je]],B+ue,T,[1,1],Ce,!0),this},h.__private__.ellipse=h.ellipse=function(B,T,se,ie,ue){if(isNaN(B)||isNaN(T)||isNaN(se)||isNaN(ie)||!oi(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*se,Ce=4/3*(Math.SQRT2-1)*ie;return Hd(B+se,T),El(B+se,T-Ce,B+je,T-ie,B,T-ie),El(B-je,T-ie,B-se,T-Ce,B-se,T),El(B-se,T+Ce,B-je,T+ie,B,T+ie),El(B+je,T+ie,B+se,T+Ce,B+se,T),Od(ue),this},h.__private__.circle=h.circle=function(B,T,se,ie){if(isNaN(B)||isNaN(T)||isNaN(se)||!oi(ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,T,se,se,ie)},h.setFont=function(B,T,se){return se&&(T=I(T,se)),Ze=Dm(B,T,{disableWarning:!1}),this};var np=h.__private__.getFont=h.getFont=function(){return qe[Dm.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var B,T,se={};for(B in ft)if(ft.hasOwnProperty(B))for(T in se[B]=[],ft[B])ft[B].hasOwnProperty(T)&&se[B].push(T);return se},h.addFont=function(B,T,se,ie,ue){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(se=I(se,ie)),Um.call(this,B,T,se,ue=ue||"Identity-H")};var zo,Kd=e.lineWidth||.200025,At=h.__private__.getLineWidth=h.getLineWidth=function(){return Kd},ap=h.__private__.setLineWidth=h.setLineWidth=function(B){return Kd=B,ne(k(U(B))+" w"),this};h.__private__.setLineDash=Ye.API.setLineDash=Ye.API.setLineDashPattern=function(B,T){if(B=B||[],T=T||0,isNaN(T)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(se){return k(U(se))}).join(" "),T=k(U(T)),ne("["+B+"] "+T+" d"),this};var ip=h.__private__.getLineHeight=h.getLineHeight=function(){return Fe*zo};h.__private__.getLineHeight=h.getLineHeight=function(){return Fe*zo};var lp=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(zo=B),this},op=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return zo};lp(e.lineHeight);var Hi=h.__private__.getHorizontalCoordinate=function(B){return U(B)},Ki=h.__private__.getVerticalCoordinate=function(B){return w===j?B:ct[z].mediaBox.topRightY-ct[z].mediaBox.bottomLeftY-U(B)},cp=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(B){return k(Hi(B))},Ap=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(B){return k(Ki(B))},Zc=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ii(Zc)},h.__private__.setStrokeColor=h.setDrawColor=function(B,T,se,ie){return Zc=Ua({ch1:B,ch2:T,ch3:se,ch4:ie,pdfColorType:"draw",precision:2}),ne(Zc),this};var zd=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ii(zd)},h.__private__.setFillColor=h.setFillColor=function(B,T,se,ie){return zd=Ua({ch1:B,ch2:T,ch3:se,ch4:ie,pdfColorType:"fill",precision:2}),ne(zd),this};var Vo=e.textColor||"0 g",eA=h.__private__.getTextColor=h.getTextColor=function(){return ii(Vo)};h.__private__.setTextColor=h.setTextColor=function(B,T,se,ie){return Vo=Ua({ch1:B,ch2:T,ch3:se,ch4:ie,pdfColorType:"text",precision:3}),this};var tA=e.charSpace,dp=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(tA||0)};h.__private__.setCharSpace=h.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return tA=B,this};var Vd=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(B){var T=h.CapJoinStyles[B];if(T===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vd=T,ne(T+" J"),this};var $d=0;h.__private__.setLineJoin=h.setLineJoin=function(B){var T=h.CapJoinStyles[B];if(T===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $d=T,ne(T+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(k(U(B))+" M"),this},h.GState=Vx,h.setGState=function(B){(B=typeof B=="string"?xt[Vs[B]]:$o(null,B)).equals(gr)||(ne("/"+B.id+" gs"),gr=B)};var $o=function(B,T){if(!B||!Vs[B]){var se=!1;for(var ie in xt)if(xt.hasOwnProperty(ie)&&xt[ie].equals(T)){se=!0;break}if(se)T=xt[ie];else{var ue="GS"+(Object.keys(xt).length+1).toString(10);xt[ue]=T,T.id=ue}return B&&(Vs[B]=T.id),Jt.publish("addGState",T),T}};h.addGState=function(B,T){return $o(B,T),this},h.saveGraphicsState=function(){return ne("q"),us.push({key:Ze,size:Fe,color:Vo}),this},h.restoreGraphicsState=function(){ne("Q");var B=us.pop();return Ze=B.key,Fe=B.size,Vo=B.color,gr=null,this},h.setCurrentTransformationMatrix=function(B){return ne(B.toString()+" cm"),this},h.comment=function(B){return ne("#"+B),this};var Go=function(B,T){var se=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(je){isNaN(je)||(se=parseFloat(je))}});var ie=T||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ie},set:function(je){isNaN(je)||(ie=parseFloat(je))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(je){ue=je.toString()}}),this},Gd=function(B,T,se,ie){Go.call(this,B,T),this.type="rect";var ue=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Ce){isNaN(Ce)||(ue=parseFloat(Ce))}});var je=ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Ce){isNaN(Ce)||(je=parseFloat(Ce))}}),this},sA=function(){this.page=hs,this.currentPage=z,this.pages=ye.slice(0),this.pagesContext=ct.slice(0),this.x=et,this.y=gs,this.matrix=Gt,this.width=Wd(z),this.height=Mn(z),this.outputDestination=Le,this.id="",this.objectNumber=-1};sA.prototype.restore=function(){hs=this.page,z=this.currentPage,ct=this.pagesContext,ye=this.pages,et=this.x,gs=this.y,Gt=this.matrix,Yd(z,this.width),ci(z,this.height),Le=this.outputDestination};var qd=function(B,T,se,ie,ue){ai.push(new sA),hs=z=0,ye=[],et=B,gs=T,Gt=ue,Md([se,ie])};for(var qo in h.beginFormObject=function(B,T,se,ie,ue){return qd(B,T,se,ie,ue),this},h.endFormObject=function(B){return function(T){if(Mi[T])ai.pop().restore();else{var se=new sA,ie="Xo"+(Object.keys(qr).length+1).toString(10);se.id=ie,Mi[T]=ie,qr[ie]=se,Jt.publish("addFormObject",se),ai.pop().restore()}}(B),this},h.doFormObject=function(B,T){var se=qr[Mi[B]];return ne("q"),ne(T.toString()+" cm"),ne("/"+se.id+" Do"),ne("Q"),this},h.getFormObject=function(B){var T=qr[Mi[B]];return{x:T.x,y:T.y,width:T.width,height:T.height,matrix:T.matrix}},h.save=function(B,T){return B=B||"generated.pdf",(T=T||{}).returnPromise=T.returnPromise||!1,T.returnPromise===!1?(oc(Oo(Oi()),B),typeof oc.unload=="function"&&ot.setTimeout&&setTimeout(oc.unload,911),this):new Promise(function(se,ie){try{var ue=oc(Oo(Oi()),B);typeof oc.unload=="function"&&ot.setTimeout&&setTimeout(oc.unload,911),se(ue)}catch(je){ie(je.message)}})},Ye.API)Ye.API.hasOwnProperty(qo)&&(qo==="events"&&Ye.API.events.length?function(B,T){var se,ie,ue;for(ue=T.length-1;ue!==-1;ue--)se=T[ue][0],ie=T[ue][1],B.subscribe.apply(B,[se].concat(typeof ie=="function"?[ie]:ie))}(Jt,Ye.API.events):h[qo]=Ye.API[qo]);var Wd=h.getPageWidth=function(B){return(ct[B=B||z].mediaBox.topRightX-ct[B].mediaBox.bottomLeftX)/it},Yd=h.setPageWidth=function(B,T){ct[B].mediaBox.topRightX=T*it+ct[B].mediaBox.bottomLeftX},Mn=h.getPageHeight=function(B){return(ct[B=B||z].mediaBox.topRightY-ct[B].mediaBox.bottomLeftY)/it},ci=h.setPageHeight=function(B,T){ct[B].mediaBox.topRightY=T*it+ct[B].mediaBox.bottomLeftY};return h.internal={pdfEscape:Aa,getStyle:Rm,getFont:np,getFontSize:Qe,getCharSpace:dp,getTextColor:eA,getLineHeight:ip,getLineHeightFactor:op,getLineWidth:At,write:It,getHorizontalCoordinate:Hi,getVerticalCoordinate:Ki,getCoordinateString:cp,getVerticalCoordinateString:Ap,collections:{},newObject:Ts,newAdditionalObject:Mo,newObjectDeferred:Fr,newObjectDeferredBegin:Dr,getFilters:La,putStream:ca,events:Jt,scaleFactor:it,pageSize:{getWidth:function(){return Wd(z)},setWidth:function(B){Yd(z,B)},getHeight:function(){return Mn(z)},setHeight:function(B){ci(z,B)}},encryptionOptions:d,encryption:$s,getEncryptor:function(B){return d!==null?$s.encryptor(B,0):function(T){return T}},output:Qa,getNumberOfPages:Pm,pages:ye,out:ne,f2:L,f3:P,getPageInfo:Rd,getPageInfoByObjId:Jg,getCurrentPageInfo:Zg,getPDFVersion:p,Point:Go,Rectangle:Gd,Matrix:at,hasHotfix:Ho},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Wd(z)},set:function(B){Yd(z,B)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Mn(z)},set:function(B){ci(z,B)},enumerable:!0,configurable:!0}),(function(B){for(var T=0,se=st.length;T<se;T++){var ie=Um.call(this,B[T][0],B[T][1],B[T][2],st[T][3],!0);u===!1&&(m[ie]=!0);var ue=B[T][0].split("-");Im({id:ie,fontName:ue[0],fontStyle:ue[1]||""})}Jt.publish("addFonts",{fonts:qe,dictionary:ft})}).call(h,st),Ze="F1",Lm(a,r),Jt.publish("initialized"),h}BA.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},BA.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},BA.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},BA.prototype.processOwnerPassword=function(e,t){return Rv(Tv(t).substr(0,5),e)},BA.prototype.encryptor=function(e,t){var r=Tv(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Rv(r,n)}},Vx.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||as(e)!==as(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ye.API={events:[]},Ye.version="3.0.2";var Hs=Ye.API,Xw=1,qc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gA=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ut=function(e){return e.toFixed(2)},Kl=function(e){return e.toFixed(5)};Hs.__acroform__={};var Dn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},XB=function(e){return e*Xw},vi=function(e){var t=new gF,r=Oe.internal.getHeight(e)||0,n=Oe.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ut(n)),Number(ut(r))],t},jK=Hs.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},NK=Hs.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},BK=Hs.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},tr=Hs.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return BK(e,t-1)},sr=Hs.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jK(e,t-1)},rr=Hs.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return NK(e,t-1)},CK=Hs.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],l=e[2],o=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+o)||0,c.upperRight_X=r(a+l)||0,c.upperRight_Y=n(i)||0,[Number(ut(c.lowerLeft_X)),Number(ut(c.lowerLeft_Y)),Number(ut(c.upperRight_X)),Number(ut(c.upperRight_Y))]},SK=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Ov(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+ut(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=vi(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Ov=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(L){return L.split(`
`)}):a.map(function(L){return[L]});var i=r,l=Oe.internal.getHeight(e)||0;l=l<0?-l:l;var o=Oe.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(L,P,U){if(L+1<a.length){var R=P+" "+a[L+1][0];return Xf(R,e,U).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var A,d,u=Xf("3",e,i).height,m=e.multiline?l-i:(l-u)/2,h=m+=2,g=0,p=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Xf(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var x="",b=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var w=!1;if(a[j].length!==1&&v!==a[j].length-1){if((u+2)*(b+2)+2>l)continue e;x+=a[j][v],w=!0,p=j,j--}else{x=(x+=a[j][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var S=parseInt(j),F=c(S,x,i),I=j>=a.length-1;if(F&&!I){x+=" ",v=0;continue}if(F||I){if(I)p=S;else if(e.multiline&&(u+2)*(b+2)+2>l)continue e}else{if(!e.multiline||(u+2)*(b+2)+2>l)continue e;p=S}}for(var k="",E=g;E<=p;E++){var O=a[E];if(e.multiline){if(E===p){k+=O[v]+" ",v=(v+1)%O.length;continue}if(E===g){k+=O[O.length-1]+" ";continue}}k+=O[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,d=Xf(k,e,i).width,e.textAlign){case"right":A=o-d-2;break;case"center":A=(o-d)/2;break;default:A=2}t+=ut(A)+" "+ut(h)+` Td
`,t+="("+qc(k)+`) Tj
`,t+=-ut(A)+` 0 Td
`,h=-(i+2),d=0,g=w?p:p+1,b++,x=""}break}return n.text=t,n.fontSize=i,n},Xf=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},EK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},FK=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},kK=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(si.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(EK)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Xw=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new pF,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&FK(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var l in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var o=n[l],c=[],A=o.Rect;if(o.Rect&&(o.Rect=CK(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Oe.createDefaultAppearanceStream(o),as(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=A,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=SK(o);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var u="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var h=o.appearanceStreamContent[m];if(u+="/"+m+" ",u+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var l in h)if(h.hasOwnProperty(l)){var g=h[l];typeof g=="function"&&(g=g.call(a,o)),u+="/"+l+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(a,o)),u+="/"+l+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);u+=">>"}c.push({key:"AP",value:`<<
`+u+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:o.objId}),a.internal.out("endobj")}i&&function(p,v){for(var x in p)if(p.hasOwnProperty(x)){var b=x,j=p[x];v.internal.newObjectDeferredBegin(j.objId,!0),as(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete p[b]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},xF=Hs.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(l){return l};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),as(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+qc(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Hy=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+qc(n(e))+")"},Si=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Si.prototype.toString=function(){return this.objId+" 0 R"},Si.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Si.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:xF(a,this.objId,this.scope)}):a instanceof Si?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var gF=function(){Si.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Dn(gF,Si);var pF=function(){Si.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+qc(r(e))+")"}},set:function(r){e=r}})};Dn(pF,Si);var si=function e(){Si.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!tr(t,3)},set:function(x){x?this.F=sr(t,3):this.F=rr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof $x)return;i="FieldObject"+e.FieldNum++}var x=function(b){return b};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+qc(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return A===void 0?50/Xw:A},set:function(x){A=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof $x||this instanceof Fc))return Hy(u,this.objId,this.scope)},set:function(x){x=x.toString(),u=x}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Lr==0?Hy(m,this.objId,this.scope):m},set:function(x){x=x.toString(),m=this instanceof Lr==0?x.substr(0,1)==="("?gA(x.substr(1,x.length-2)):gA(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lr==1?gA(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof Lr==1?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Lr==0?Hy(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof Lr==0?x.substr(0,1)==="("?gA(x.substr(1,x.length-2)):gA(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lr==1?gA(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof Lr==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(x){x=!!x,p=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,1)},set:function(x){x?this.Ff=sr(this.Ff,1):this.Ff=rr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,2)},set:function(x){x?this.Ff=sr(this.Ff,2):this.Ff=rr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,3)},set:function(x){x?this.Ff=sr(this.Ff,3):this.Ff=rr(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Dn(si,Si);var ed=function(){si.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return xF(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,l,o){o||(o=1);for(var c,A=[];c=l.exec(i);)A.push(c[o]);return A}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,18)},set:function(r){r?this.Ff=sr(this.Ff,18):this.Ff=rr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=sr(this.Ff,19):this.Ff=rr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,20)},set:function(r){r?(this.Ff=sr(this.Ff,20),t.sort()):this.Ff=rr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,22)},set:function(r){r?this.Ff=sr(this.Ff,22):this.Ff=rr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,23)},set:function(r){r?this.Ff=sr(this.Ff,23):this.Ff=rr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,27)},set:function(r){r?this.Ff=sr(this.Ff,27):this.Ff=rr(this.Ff,27)}}),this.hasAppearanceStream=!1};Dn(ed,si);var td=function(){ed.call(this),this.fontName="helvetica",this.combo=!1};Dn(td,ed);var sd=function(){td.call(this),this.combo=!0};Dn(sd,td);var J0=function(){sd.call(this),this.edit=!0};Dn(J0,sd);var Lr=function(){si.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,15)},set:function(r){r?this.Ff=sr(this.Ff,15):this.Ff=rr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,16)},set:function(r){r?this.Ff=sr(this.Ff,16):this.Ff=rr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,17)},set:function(r){r?this.Ff=sr(this.Ff,17):this.Ff=rr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,26)},set:function(r){r?this.Ff=sr(this.Ff,26):this.Ff=rr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+qc(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){as(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Dn(Lr,si);var Z0=function(){Lr.call(this),this.pushButton=!0};Dn(Z0,Lr);var rd=function(){Lr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Dn(rd,Lr);var $x=function(){var e,t;si.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),n)l.push("/"+i+" ("+qc(a(n[i]))+")");return l.push(">>"),l.join(`
`)},set:function(a){as(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Oe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Dn($x,si),rd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},rd.prototype.createOption=function(e){var t=new $x;return t.Parent=this,t.optionName=e,this.Kids.push(t),_K.call(this.scope,t),t};var ex=function(){Lr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Oe.CheckBox.createAppearanceStream()};Dn(ex,Lr);var Fc=function(){si.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,13)},set:function(t){t?this.Ff=sr(this.Ff,13):this.Ff=rr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,21)},set:function(t){t?this.Ff=sr(this.Ff,21):this.Ff=rr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,23)},set:function(t){t?this.Ff=sr(this.Ff,23):this.Ff=rr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,24)},set:function(t){t?this.Ff=sr(this.Ff,24):this.Ff=rr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,25)},set:function(t){t?this.Ff=sr(this.Ff,25):this.Ff=rr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,26)},set:function(t){t?this.Ff=sr(this.Ff,26):this.Ff=rr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Dn(Fc,si);var tx=function(){Fc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,14)},set:function(e){e?this.Ff=sr(this.Ff,14):this.Ff=rr(this.Ff,14)}}),this.password=!0};Dn(tx,Fc);var Oe={CheckBox:{createAppearanceStream:function(){return{N:{On:Oe.CheckBox.YesNormal},D:{On:Oe.CheckBox.YesPushDown,Off:Oe.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=vi(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=Ov(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ut(Oe.internal.getWidth(e))+" "+ut(Oe.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ut(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=vi(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Oe.internal.getHeight(e),l=Oe.internal.getWidth(e),o=Ov(e,e.caption);return a.push("1 g"),a.push("0 0 "+ut(l)+" "+ut(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ut(l-1)+" "+ut(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+ut(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=vi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ut(Oe.internal.getWidth(e))+" "+ut(Oe.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Oe.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Oe.RadioButton.Circle.YesNormal,t.D[e]=Oe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=vi(e);t.scope=e.scope;var r=[],n=Oe.internal.getWidth(e)<=Oe.internal.getHeight(e)?Oe.internal.getWidth(e)/4:Oe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Oe.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Kl(Oe.internal.getWidth(e)/2)+" "+Kl(Oe.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=vi(e);t.scope=e.scope;var r=[],n=Oe.internal.getWidth(e)<=Oe.internal.getHeight(e)?Oe.internal.getWidth(e)/4:Oe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Oe.internal.Bezier_C).toFixed(5)),l=Number((n*Oe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Kl(Oe.internal.getWidth(e)/2)+" "+Kl(Oe.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Kl(Oe.internal.getWidth(e)/2)+" "+Kl(Oe.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=vi(e);t.scope=e.scope;var r=[],n=Oe.internal.getWidth(e)<=Oe.internal.getHeight(e)?Oe.internal.getWidth(e)/4:Oe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Oe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Kl(Oe.internal.getWidth(e)/2)+" "+Kl(Oe.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Oe.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Oe.RadioButton.Cross.YesNormal,t.D[e]=Oe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=vi(e);t.scope=e.scope;var r=[],n=Oe.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ut(Oe.internal.getWidth(e)-2)+" "+ut(Oe.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ut(n.x1.x)+" "+ut(n.x1.y)+" m"),r.push(ut(n.x2.x)+" "+ut(n.x2.y)+" l"),r.push(ut(n.x4.x)+" "+ut(n.x4.y)+" m"),r.push(ut(n.x3.x)+" "+ut(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=vi(e);t.scope=e.scope;var r=Oe.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+ut(Oe.internal.getWidth(e))+" "+ut(Oe.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ut(Oe.internal.getWidth(e)-2)+" "+ut(Oe.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ut(r.x1.x)+" "+ut(r.x1.y)+" m"),n.push(ut(r.x2.x)+" "+ut(r.x2.y)+" l"),n.push(ut(r.x4.x)+" "+ut(r.x4.y)+" m"),n.push(ut(r.x3.x)+" "+ut(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=vi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ut(Oe.internal.getWidth(e))+" "+ut(Oe.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Oe.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Oe.internal.getWidth(e),r=Oe.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Oe.internal.getWidth=function(e){var t=0;return as(e)==="object"&&(t=XB(e.Rect[2])),t},Oe.internal.getHeight=function(e){var t=0;return as(e)==="object"&&(t=XB(e.Rect[3])),t};var _K=Hs.addField=function(e){if(kK(this,e),!(e instanceof si))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Hs.AcroFormChoiceField=ed,Hs.AcroFormListBox=td,Hs.AcroFormComboBox=sd,Hs.AcroFormEditBox=J0,Hs.AcroFormButton=Lr,Hs.AcroFormPushButton=Z0,Hs.AcroFormRadioButton=rd,Hs.AcroFormCheckBox=ex,Hs.AcroFormTextField=Fc,Hs.AcroFormPasswordField=tx,Hs.AcroFormAppearance=Oe,Hs.AcroForm={ChoiceField:ed,ListBox:td,ComboBox:sd,EditBox:J0,Button:Lr,PushButton:Z0,RadioButton:rd,CheckBox:ex,TextField:Fc,PasswordField:tx,Appearance:Oe},Ye.AcroForm={ChoiceField:ed,ListBox:td,ComboBox:sd,EditBox:J0,Button:Lr,PushButton:Z0,RadioButton:rd,CheckBox:ex,TextField:Fc,PasswordField:tx,Appearance:Oe};function yF(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(L,P){var U,R,V,Z,ae,D=r;if((P=P||r)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(F(L))for(ae in n)for(V=n[ae],U=0;U<V.length;U+=1){for(Z=!0,R=0;R<V[U].length;R+=1)if(V[U][R]!==void 0&&V[U][R]!==L[R]){Z=!1;break}if(Z===!0){D=ae;break}}else for(ae in n)for(V=n[ae],U=0;U<V.length;U+=1){for(Z=!0,R=0;R<V[U].length;R+=1)if(V[U][R]!==void 0&&V[U][R]!==L.charCodeAt(R)){Z=!1;break}if(Z===!0){D=ae;break}}return D===r&&P!==r&&(D=P),D},i=function L(P){for(var U=this.internal.write,R=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:P.width}),Z.push({key:"Height",value:P.height}),P.colorSpace===x.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===x.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var ae="",D=0,Y=P.transparency.length;D<Y;D++)ae+=P.transparency[D]+" "+P.transparency[D]+" ";Z.push({key:"Mask",value:"["+ae+"]"})}P.sMask!==void 0&&Z.push({key:"SMask",value:P.objectId+1+" 0 R"});var re=P.filter!==void 0?["/"+P.filter]:void 0;if(R({data:P.data,additionalKeyValues:Z,alreadyAppliedFilters:re,objectId:P.objectId}),U("endobj"),"sMask"in P&&P.sMask!==void 0){var q=(P.predictor!=null?"/Predictor "+P.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+P.width,_={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:q,data:P.sMask};"filter"in P&&(_.filter=P.filter),L.call(this,_)}if(P.colorSpace===x.INDEXED){var z=this.internal.newObject();R({data:k(new Uint8Array(P.palette)),objectId:z}),U("endobj")}},l=function(){var L=this.internal.collections[t+"images"];for(var P in L)i.call(this,L[P])},o=function(){var L,P=this.internal.collections[t+"images"],U=this.internal.write;for(var R in P)U("/I"+(L=P[R]).index,L.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},A=function(){var L=this.internal.collections[t+"images"];return c.call(this),L},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(L){return typeof e["process"+L.toUpperCase()]=="function"},m=function(L){return as(L)==="object"&&L.nodeType===1},h=function(L,P){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var U=""+L.getAttribute("src");if(U.indexOf("data:image/")===0)return X0(unescape(U).split("base64,").pop());var R=e.loadFile(U,!0);if(R!==void 0)return R}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var V;switch(P){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;default:V="image/jpeg"}return X0(L.toDataURL(V,1).split("base64,").pop())}},g=function(L){var P=this.internal.collections[t+"images"];if(P){for(var U in P)if(L===P[U].alias)return P[U]}},p=function(L,P,U){return L||P||(L=-96,P=-96),L<0&&(L=-1*U.width*72/L/this.internal.scaleFactor),P<0&&(P=-1*U.height*72/P/this.internal.scaleFactor),L===0&&(L=P*U.width/U.height),P===0&&(P=L*U.height/U.width),[L,P]},v=function(L,P,U,R,V,Z){var ae=p.call(this,U,R,V),D=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,re=A.call(this);if(U=ae[0],R=ae[1],re[V.index]=V,Z){Z*=Math.PI/180;var q=Math.cos(Z),_=Math.sin(Z),z=function(X){return X.toFixed(4)},G=[z(q),z(_),z(-1*_),z(q),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,D(L),Y(P+R),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([D(U),"0","0",D(R),"0","0","cm"].join(" "))):this.internal.write([D(U),"0","0",D(R),D(L),Y(P+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(L){var P,U,R=0;if(typeof L=="string")for(U=L.length,P=0;P<U;P++)R=(R<<5)-R+L.charCodeAt(P),R|=0;else if(F(L))for(U=L.byteLength/2,P=0;P<U;P++)R=(R<<5)-R+L[P],R|=0;return R},w=e.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var P=!0;return L.length===0&&(P=!1),L.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(P=!1),P},S=e.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var P=L.indexOf(",");return P<0?null:L.substring(0,P).trim().endsWith("base64")?L.substring(P+1):null};e.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},I=e.__addimage__.binaryStringToUint8Array=function(L){for(var P=L.length,U=new Uint8Array(P),R=0;R<P;R++)U[R]=L.charCodeAt(R);return U},k=e.__addimage__.arrayBufferToBinaryString=function(L){for(var P="",U=F(L)?L:new Uint8Array(L),R=0;R<U.length;R+=8192)P+=String.fromCharCode.apply(null,U.subarray(R,R+8192));return P};e.addImage=function(){var L,P,U,R,V,Z,ae,D,Y;if(typeof arguments[1]=="number"?(P=r,U=arguments[1],R=arguments[2],V=arguments[3],Z=arguments[4],ae=arguments[5],D=arguments[6],Y=arguments[7]):(P=arguments[1],U=arguments[2],R=arguments[3],V=arguments[4],Z=arguments[5],ae=arguments[6],D=arguments[7],Y=arguments[8]),as(L=arguments[0])==="object"&&!m(L)&&"imageData"in L){var re=L;L=re.imageData,P=re.format||P||r,U=re.x||U||0,R=re.y||R||0,V=re.w||re.width||V,Z=re.h||re.height||Z,ae=re.alias||ae,D=re.compression||D,Y=re.rotation||re.angle||Y}var q=this.internal.getFilters();if(D===void 0&&q.indexOf("FlateEncode")!==-1&&(D="SLOW"),isNaN(U)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var _=E.call(this,L,P,ae,D);return v.call(this,U,R,V,Z,_,Y),this};var E=function(L,P,U,R){var V,Z,ae;if(typeof L=="string"&&a(L)===r){L=unescape(L);var D=O(L,!1);(D!==""||(D=e.loadFile(L,!0))!==void 0)&&(L=D)}if(m(L)&&(L=h(L,P)),P=a(L,P),!u(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((ae=U)==null||ae.length===0)&&(U=function(Y){return typeof Y=="string"||F(Y)?j(Y):F(Y.data)?j(Y.data):null}(L)),(V=g.call(this,U))||(L instanceof Uint8Array||P==="RGBA"||(Z=L,L=I(L)),V=this["process"+P.toUpperCase()](L,d.call(this),U,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:b.NONE}(R),Z)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},O=e.__addimage__.convertBase64ToBinaryString=function(L,P){P=typeof P!="boolean"||P;var U,R="";if(typeof L=="string"){var V;U=(V=S(L))!==null&&V!==void 0?V:L;try{R=X0(U)}catch(Z){if(P)throw w(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};e.getImageProperties=function(L){var P,U,R="";if(m(L)&&(L=h(L)),typeof L=="string"&&a(L)===r&&((R=O(L,!1))===""&&(R=e.loadFile(L)||""),L=R),U=a(L),!u(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(L instanceof Uint8Array||(L=I(L)),!(P=this["process"+U.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=U,P}})(Ye.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ye.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),A=r.pageContext.annotations,d=!1,u=0;u<A.length&&!d;u++)switch((n=A[u]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<A.length;m++){n=A[m];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(p.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(x(b))+") >>",p.content=i;var j=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(p.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var F=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,l){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:A(n),w:c(r+a),h:A(n+i)},options:l,type:"link"})},e.textWithLink=function(r,n,a,i){var l,o,c=this.getTextWidth(r),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(r,o).length;l=Math.ceil(A*d)}else o=c,l=A;return this.text(r,n,a,i),a+=.2*A,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-A,o,l,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ye.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},o=e.__arabicParser__.isArabicEndLetter=function(p){return l(p)&&i(p)&&t[p.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(p){return l(p)&&a.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return l(p)&&i(p)&&t[p.charCodeAt(0)].length>=1};var A=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return l(p)&&i(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return l(p)&&i(p)&&t[p.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return l(p)&&i(p)&&t[p.charCodeAt(0)].length==4},u=e.__arabicParser__.resolveLigatures=function(p){var v=0,x=r,b="",j=0;for(v=0;v<p.length;v+=1)x[p.charCodeAt(v)]!==void 0?(j++,typeof(x=x[p.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(x),x=r,j=0),v===p.length-1&&(x=r,b+=p.charAt(v-(j-1)),v-=j-1,j=0)):(x=r,b+=p.charAt(v-j),v-=j,j=0);return b};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(p,v,x){return l(p)?i(p)===!1?-1:!A(p)||!l(v)&&!l(x)||!l(x)&&o(v)||o(p)&&!l(v)||o(p)&&c(v)||o(p)&&o(v)?0:d(p)&&l(v)&&!o(v)&&l(x)&&A(x)?3:o(p)||!l(x)?1:2:-1},h=function(p){var v=0,x=0,b=0,j="",w="",S="",F=(p=p||"").split("\\s+"),I=[];for(v=0;v<F.length;v+=1){for(I.push(""),x=0;x<F[v].length;x+=1)j=F[v][x],w=F[v][x-1],S=F[v][x+1],l(j)?(b=m(j,w,S),I[v]+=b!==-1?String.fromCharCode(t[j.charCodeAt(0)][b]):j):I[v]+=j;I[v]=u(I[v])}return I.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var p,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var b=0;for(x=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?x.push([h(v[b][0]),v[b][1],v[b][2]]):x.push([h(v[b])]);p=x}else p=h(v);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",g])}(Ye.API),Ye.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ye.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(p){A=p}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(p){m=p}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(p){g=p}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,A){n.call(this);var d=(A=A||{}).fontSize||this.getFontSize(),u=A.font||this.getFont(),m=A.scaleFactor||this.internal.scaleFactor,h=0,g=0,p=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=A.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,w){return j.concat(v.splitTextToSize(w,x))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)h<(p=this.getStringUnitWidth(c[b],{font:u})*d)&&(h=p);return h!==0&&(g=c.length),{w:h/=m,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var A=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,u=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return A.lineNumber!==void 0&&(A.lineNumber===c.lineNumber?(c.x=(A.x||0)+(A.width||0),c.y=A.y||0):A.y+A.height+c.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=u.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=A.y+A.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,A,d,u,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,g,p,v,x=[],b=[],j=[],w={},S={},F=[],I=[],k=(m=m||{}).autoSize||!1,E=m.printHeaders!==!1,O=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,L=m.margins||Object.assign({width:this.getPageWidth()},t),P=typeof m.padding=="number"?m.padding:3,U=m.headerBackgroundColor||"#c8c8c8",R=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=R,this.setFontSize(O),u==null)b=x=Object.keys(d[0]),j=x.map(function(){return"left"});else if(Array.isArray(u)&&as(u[0])==="object")for(x=u.map(function(re){return re.name}),b=u.map(function(re){return re.prompt||re.name||""}),j=u.map(function(re){return re.align||"left"}),h=0;h<u.length;h+=1)S[u[h].name]=.7499990551181103*u[h].width;else Array.isArray(u)&&typeof u[0]=="string"&&(b=x=u,j=x.map(function(){return"left"}));if(k||Array.isArray(u)&&typeof u[0]=="string")for(h=0;h<x.length;h+=1){for(w[v=x[h]]=d.map(function(re){return re[v]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=w[v],this.setFont(void 0,"normal"),p=0;p<g.length;p+=1)F.push(this.getTextDimensions(g[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,F)+P+P,F=[]}if(E){var V={};for(h=0;h<x.length;h+=1)V[x[h]]={},V[x[h]].text=b[h],V[x[h]].align=j[h];var Z=o.call(this,V,S);I=x.map(function(re){return new i(c,A,S[re],Z,V[re].text,void 0,V[re].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var ae=u.reduce(function(re,q){return re[q.name]=q.align,re},{});for(h=0;h<d.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:d[h]},this);var D=o.call(this,d[h],S);for(p=0;p<x.length;p+=1){var Y=d[h][x[p]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:p,data:Y},this),l.call(this,new i(c,A,S[x[p]],D,Y,h+2,ae[x[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=A,this};var o=function(c,A){var d=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var g=c[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,A[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*u/m+d+d},this).reduce(function(h,g){return Math.max(h,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,A){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),A&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,d),this.setTextColor(g)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(Ye.API);var bF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Hv=yF(vF),wF=[100,200,300,400,500,600,700,800,900],IK=yF(wF);function Ky(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return bF[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),a=function(i){return typeof Hv[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function JB(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var UK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ZB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function e4(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function t4(e){return e.trimLeft()}function LK(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function QK(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Jf,s4,r4,pA,Zf,n4,a4,i4,zy=["times"];function l4(e,t,r,n){var a=4,i=c4;switch(n){case Ye.API.image_compression.FAST:a=1,i=o4;break;case Ye.API.image_compression.MEDIUM:a=6,i=A4;break;case Ye.API.image_compression.SLOW:a=9,i=d4}e=function(o,c,A,d){for(var u,m=o.length/c,h=new Uint8Array(o.length+m),g=[PK,o4,c4,A4,d4],p=0;p<m;p+=1){var v=p*c,x=o.subarray(v,v+c);if(d)h.set(d(x,A,u),v+p);else{for(var b=g.length,j=[],w=0;w<b;w+=1)j[w]=g[w](x,A,u);var S=MK(j.concat());h.set(j[S],v+p)}u=x}return h}(e,t,r,i);var l=Fv(e,{level:a});return Ye.API.__addimage__.arrayBufferToBinaryString(l)}function PK(e){var t=Array.apply([],e);return t.unshift(0),t}function o4(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function c4(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var l=r&&r[i]||0;a[i+1]=e[i]-l+256&255}return a}function A4(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var l=e[i-t]||0,o=r&&r[i]||0;a[i+1]=e[i]+256-(l+o>>>1)&255}return a}function d4(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var l=DK(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-l+256&255}return a}function DK(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function MK(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function Vy(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),l=(1<<r)-1;return jF(e,a)>>i&l}function u4(e,t,r,n){var a=r*n,i=Math.floor(a/8),l=16-(a-8*i+n),o=(1<<n)-1,c=(t&o)<<l;(function(A,d,u){if(d+1<A.byteLength)A.setUint16(d,u,!1);else{var m=u>>8&255;A.setUint8(d,m)}})(e,i,jF(e,i)&~(o<<l)&65535|c)}function jF(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function TK(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,l=1<<1+(7&a);e[t++],e[t++];var o=null,c=null;i&&(o=t,c=l,t+=3*l);var A=!0,d=[],u=0,m=null,h=0,g=null;for(this.width=r,this.height=n;A&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];u=e[t++]|e[t++]<<8,m=e[t++],1&p||(m=null),h=p>>2&7,t++;break;case 254:for(;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,w=e[t++],S=w>>6&1,F=1<<1+(7&w),I=o,k=c,E=!1;w>>7&&(E=!0,I=t,k=F,t+=3*F);var O=t;for(t++;;){var L;if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}d.push({x:v,y:x,width:b,height:j,has_local_palette:E,palette_offset:I,palette_size:k,data_offset:O,data_length:t-O,transparent_index:m,interlaced:!!S,delay:u,disposal:h});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,U){var R=this.frameInfo(P),V=R.width*R.height,Z=new Uint8Array(V);h4(e,R.data_offset,Z,V);var ae=R.palette_offset,D=R.transparent_index;D===null&&(D=256);var Y=R.width,re=r-Y,q=Y,_=4*(R.y*r+R.x),z=4*((R.y+R.height)*r+R.x),G=_,X=4*re;R.interlaced===!0&&(X+=4*r*7);for(var J=8,de=0,ge=Z.length;de<ge;++de){var le=Z[de];if(q===0&&(q=Y,(G+=X)>=z&&(X=4*re+4*r*(J-1),G=_+(Y+re)*(J<<1),J>>=1)),le===D)G+=4;else{var ce=e[ae+3*le],ye=e[ae+3*le+1],Se=e[ae+3*le+2];U[G++]=Se,U[G++]=ye,U[G++]=ce,U[G++]=255}--q}},this.decodeAndBlitFrameRGBA=function(P,U){var R=this.frameInfo(P),V=R.width*R.height,Z=new Uint8Array(V);h4(e,R.data_offset,Z,V);var ae=R.palette_offset,D=R.transparent_index;D===null&&(D=256);var Y=R.width,re=r-Y,q=Y,_=4*(R.y*r+R.x),z=4*((R.y+R.height)*r+R.x),G=_,X=4*re;R.interlaced===!0&&(X+=4*r*7);for(var J=8,de=0,ge=Z.length;de<ge;++de){var le=Z[de];if(q===0&&(q=Y,(G+=X)>=z&&(X=4*re+4*r*(J-1),G=_+(Y+re)*(J<<1),J>>=1)),le===D)G+=4;else{var ce=e[ae+3*le],ye=e[ae+3*le+1],Se=e[ae+3*le+2];U[G++]=ce,U[G++]=ye,U[G++]=Se,U[G++]=255}--q}}}function h4(e,t,r,n){for(var a=e[t++],i=1<<a,l=i+1,o=l+1,c=a+1,A=(1<<c)-1,d=0,u=0,m=0,h=e[t++],g=new Int32Array(4096),p=null;;){for(;d<16&&h!==0;)u|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<c)break;var v=u&A;if(u>>=c,d-=c,v!==i){if(v===l)break;for(var x=v<o?v:p,b=0,j=x;j>i;)j=g[j]>>8,++b;var w=j;if(m+b+(x!==v?1:0)>n)return void fs.log("Warning, gif stream longer than expected.");r[m++]=w;var S=m+=b;for(x!==v&&(r[m++]=w),j=x;b--;)j=g[j],r[--S]=255&j,j>>=8;p!==null&&o<4096&&(g[o++]=p<<8|w,o>=A+1&&c<12&&(++c,A=A<<1|1)),p=v}else o=l+1,A=(1<<(c=a+1))-1,p=null}return m!==n&&fs.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $y(e){var t,r,n,a,i,l=Math.floor,o=new Array(64),c=new Array(64),A=new Array(64),d=new Array(64),u=new Array(65535),m=new Array(65535),h=new Array(64),g=new Array(64),p=[],v=0,x=7,b=new Array(64),j=new Array(64),w=new Array(64),S=new Array(256),F=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(_,z){for(var G=0,X=0,J=new Array,de=1;de<=16;de++){for(var ge=1;ge<=_[de];ge++)J[z[X]]=[],J[z[X]][0]=G,J[z[X]][1]=de,X++,G++;G*=2}return J}function ae(_){for(var z=_[0],G=_[1]-1;G>=0;)z&1<<G&&(v|=1<<x),G--,--x<0&&(v==255?(D(255),D(0)):D(v),x=7,v=0)}function D(_){p.push(_)}function Y(_){D(_>>8&255),D(255&_)}function re(_,z,G,X,J){for(var de,ge=J[0],le=J[240],ce=function(Fe,Je){var Qe,vt,tt,$t,ht,mt,os,wt,Ze,it,et=0;for(Ze=0;Ze<8;++Ze){Qe=Fe[et],vt=Fe[et+1],tt=Fe[et+2],$t=Fe[et+3],ht=Fe[et+4],mt=Fe[et+5],os=Fe[et+6];var gs=Qe+(wt=Fe[et+7]),Gt=Qe-wt,qe=vt+os,ft=vt-os,us=tt+mt,nt=tt-mt,Pt=$t+ht,xt=$t-ht,Vs=gs+Pt,gr=gs-Pt,hs=qe+us,ct=qe-us;Fe[et]=Vs+hs,Fe[et+4]=Vs-hs;var Jt=.707106781*(ct+gr);Fe[et+2]=gr+Jt,Fe[et+6]=gr-Jt;var Do=.382683433*((Vs=xt+nt)-(ct=ft+Gt)),qr=.5411961*Vs+Do,Mi=1.306562965*ct+Do,ai=.707106781*(hs=nt+ft),at=Gt+ai,Ti=Gt-ai;Fe[et+5]=Ti+qr,Fe[et+3]=Ti-qr,Fe[et+1]=at+Mi,Fe[et+7]=at-Mi,et+=8}for(et=0,Ze=0;Ze<8;++Ze){Qe=Fe[et],vt=Fe[et+8],tt=Fe[et+16],$t=Fe[et+24],ht=Fe[et+32],mt=Fe[et+40],os=Fe[et+48];var Ri=Qe+(wt=Fe[et+56]),la=Qe-wt,oa=vt+os,Ts=vt-os,Fr=tt+mt,Dr=tt-mt,Mo=$t+ht,Cl=$t-ht,Ia=Ri+Mo,ii=Ri-Mo,Ua=oa+Fr,La=oa-Fr;Fe[et]=Ia+Ua,Fe[et+32]=Ia-Ua;var ca=.707106781*(La+ii);Fe[et+16]=ii+ca,Fe[et+48]=ii-ca;var To=.382683433*((Ia=Cl+Dr)-(La=Ts+la)),li=.5411961*Ia+To,Ro=1.306562965*La+To,Wc=.707106781*(Ua=Dr+Ts),Yc=la+Wc,Xc=la-Wc;Fe[et+40]=Xc+li,Fe[et+24]=Xc-li,Fe[et+8]=Yc+Ro,Fe[et+56]=Yc-Ro,et++}for(Ze=0;Ze<64;++Ze)it=Fe[Ze]*Je[Ze],h[Ze]=it>0?it+.5|0:it-.5|0;return h}(_,z),ye=0;ye<64;++ye)g[I[ye]]=ce[ye];var Se=g[0]-G;G=g[0],Se==0?ae(X[0]):(ae(X[m[de=32767+Se]]),ae(u[de]));for(var Le=63;Le>0&&g[Le]==0;)Le--;if(Le==0)return ae(ge),G;for(var be,ne=1;ne<=Le;){for(var It=ne;g[ne]==0&&ne<=Le;)++ne;var bt=ne-It;if(bt>=16){be=bt>>4;for(var st=1;st<=be;++st)ae(le);bt&=15}de=32767+g[ne],ae(J[(bt<<4)+m[de]]),ae(u[de]),ne++}return Le!=63&&ae(ge),G}function q(_){_=Math.min(Math.max(_,1),100),i!=_&&(function(z){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var J=l((G[X]*z+50)/100);J=Math.min(Math.max(J,1),255),o[I[X]]=J}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var le=l((de[ge]*z+50)/100);le=Math.min(Math.max(le,1),255),c[I[ge]]=le}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,Se=0;Se<8;Se++)for(var Le=0;Le<8;Le++)A[ye]=1/(o[I[ye]]*ce[Se]*ce[Le]*8),d[ye]=1/(c[I[ye]]*ce[Se]*ce[Le]*8),ye++}(_<50?Math.floor(5e3/_):Math.floor(200-2*_)),i=_)}this.encode=function(_,z){z&&q(z),p=new Array,v=0,x=7,Y(65496),Y(65504),Y(16),D(74),D(70),D(73),D(70),D(0),D(1),D(1),D(0),Y(1),Y(1),D(0),D(0),function(){Y(65499),Y(132),D(0);for(var vt=0;vt<64;vt++)D(o[vt]);D(1);for(var tt=0;tt<64;tt++)D(c[tt])}(),function(vt,tt){Y(65472),Y(17),D(8),Y(tt),Y(vt),D(3),D(1),D(17),D(0),D(2),D(17),D(1),D(3),D(17),D(1)}(_.width,_.height),function(){Y(65476),Y(418),D(0);for(var vt=0;vt<16;vt++)D(k[vt+1]);for(var tt=0;tt<=11;tt++)D(E[tt]);D(16);for(var $t=0;$t<16;$t++)D(O[$t+1]);for(var ht=0;ht<=161;ht++)D(L[ht]);D(1);for(var mt=0;mt<16;mt++)D(P[mt+1]);for(var os=0;os<=11;os++)D(U[os]);D(17);for(var wt=0;wt<16;wt++)D(R[wt+1]);for(var Ze=0;Ze<=161;Ze++)D(V[Ze])}(),Y(65498),Y(12),D(3),D(1),D(0),D(2),D(17),D(3),D(17),D(0),D(63),D(0);var G=0,X=0,J=0;v=0,x=7,this.encode.displayName="_encode_";for(var de,ge,le,ce,ye,Se,Le,be,ne,It=_.data,bt=_.width,st=_.height,Fe=4*bt,Je=0;Je<st;){for(de=0;de<Fe;){for(ye=Fe*Je+de,Le=-1,be=0,ne=0;ne<64;ne++)Se=ye+(be=ne>>3)*Fe+(Le=4*(7&ne)),Je+be>=st&&(Se-=Fe*(Je+1+be-st)),de+Le>=Fe&&(Se-=de+Le-Fe+4),ge=It[Se++],le=It[Se++],ce=It[Se++],b[ne]=(F[ge]+F[le+256|0]+F[ce+512|0]>>16)-128,j[ne]=(F[ge+768|0]+F[le+1024|0]+F[ce+1280|0]>>16)-128,w[ne]=(F[ge+1280|0]+F[le+1536|0]+F[ce+1792|0]>>16)-128;G=re(b,A,G,t,n),X=re(j,d,X,r,a),J=re(w,d,J,r,a),de+=32}Je+=8}if(x>=0){var Qe=[];Qe[1]=x+1,Qe[0]=(1<<x+1)-1,ae(Qe)}return Y(65497),new Uint8Array(p)},e=e||50,function(){for(var _=String.fromCharCode,z=0;z<256;z++)S[z]=_(z)}(),t=Z(k,E),r=Z(P,U),n=Z(O,L),a=Z(R,V),function(){for(var _=1,z=2,G=1;G<=15;G++){for(var X=_;X<z;X++)m[32767+X]=G,u[32767+X]=[],u[32767+X][1]=G,u[32767+X][0]=X;for(var J=-(z-1);J<=-_;J++)m[32767+J]=G,u[32767+J]=[],u[32767+J][1]=G,u[32767+J][0]=z-1+J;_<<=1,z<<=1}}(),function(){for(var _=0;_<256;_++)F[_]=19595*_,F[_+256|0]=38470*_,F[_+512|0]=7471*_+32768,F[_+768|0]=-11059*_,F[_+1024|0]=-21709*_,F[_+1280|0]=32768*_+8421375,F[_+1536|0]=-27439*_,F[_+1792|0]=-5329*_}(),q(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Oa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function m4(e){function t(E){if(!E)throw Error("assert :P")}function r(E,O,L){for(var P=0;4>P;P++)if(E[O+P]!=L.charCodeAt(P))return!0;return!1}function n(E,O,L,P,U){for(var R=0;R<U;R++)E[O+R]=L[P+R]}function a(E,O,L,P){for(var U=0;U<P;U++)E[O+U]=L}function i(E){return new Int32Array(E)}function l(E,O){for(var L=[],P=0;P<E;P++)L.push(new O);return L}function o(E,O){var L=[];return function P(U,R,V){for(var Z=V[R],ae=0;ae<Z&&(U.push(V.length>R+1?[]:new O),!(V.length<R+1));ae++)P(U[ae],R+1,V)}(L,0,E),L}var c=function(){var E=this;function O(f,y){for(var C=1<<y-1>>>0;f&C;)C>>>=1;return C?(f&C-1)+C:f}function L(f,y,C,Q,M){t(!(Q%C));do f[y+(Q-=C)]=M;while(0<Q)}function P(f,y,C,Q,M){if(t(2328>=M),512>=M)var H=i(512);else if((H=i(M))==null)return 0;return function(K,$,W,ee,oe,fe){var te,Ae,he=$,ve=1<<W,me=i(16),we=i(16);for(t(oe!=0),t(ee!=null),t(K!=null),t(0<W),Ae=0;Ae<oe;++Ae){if(15<ee[Ae])return 0;++me[ee[Ae]]}if(me[0]==oe)return 0;for(we[1]=0,te=1;15>te;++te){if(me[te]>1<<te)return 0;we[te+1]=we[te]+me[te]}for(Ae=0;Ae<oe;++Ae)te=ee[Ae],0<ee[Ae]&&(fe[we[te]++]=Ae);if(we[15]==1)return(ee=new U).g=0,ee.value=fe[0],L(K,he,1,ve,ee),ve;var Ne,Ee=-1,Be=ve-1,We=0,Re=1,Bt=1,ze=1<<W;for(Ae=0,te=1,oe=2;te<=W;++te,oe<<=1){if(Re+=Bt<<=1,0>(Bt-=me[te]))return 0;for(;0<me[te];--me[te])(ee=new U).g=te,ee.value=fe[Ae++],L(K,he+We,oe,ze,ee),We=O(We,te)}for(te=W+1,oe=2;15>=te;++te,oe<<=1){if(Re+=Bt<<=1,0>(Bt-=me[te]))return 0;for(;0<me[te];--me[te]){if(ee=new U,(We&Be)!=Ee){for(he+=ze,Ne=1<<(Ee=te)-W;15>Ee&&!(0>=(Ne-=me[Ee]));)++Ee,Ne<<=1;ve+=ze=1<<(Ne=Ee-W),K[$+(Ee=We&Be)].g=Ne+W,K[$+Ee].value=he-$-Ee}ee.g=te-W,ee.value=fe[Ae++],L(K,he+(We>>W),oe,ze,ee),We=O(We,te)}}return Re!=2*we[15]-1?0:ve}(f,y,C,Q,M,H)}function U(){this.value=this.g=0}function R(){this.value=this.g=0}function V(){this.G=l(5,U),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Ai,R)}function Z(f,y,C,Q){t(f!=null),t(y!=null),t(2147483648>Q),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=y,f.pa=C,f.Jd=y,f.Yc=C+Q,f.Zc=4<=Q?C+Q-4+1:C,ge(f)}function ae(f,y){for(var C=0;0<y--;)C|=ce(f,128)<<y;return C}function D(f,y){var C=ae(f,y);return le(f)?-C:C}function Y(f,y,C,Q){var M,H=0;for(t(f!=null),t(y!=null),t(4294967288>Q),f.Sb=Q,f.Ra=0,f.u=0,f.h=0,4<Q&&(Q=4),M=0;M<Q;++M)H+=y[C+M]<<8*M;f.Ra=H,f.bb=Q,f.oa=y,f.pa=C}function re(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Ul-8>>>0,++f.bb,f.u-=8;X(f)&&(f.h=1,f.u=0)}function q(f,y){if(t(0<=y),!f.h&&y<=tu){var C=G(f)&Il[y];return f.u+=y,re(f),C}return f.h=1,f.u=0}function _(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(f){return f.Ra>>>(f.u&Ul-1)>>>0}function X(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Ul}function J(f,y){f.u=y,f.h=X(f)}function de(f){f.u>=Gs&&(t(f.u>=Gs),re(f))}function ge(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function le(f){return ae(f,1)}function ce(f,y){var C=f.Ca;0>f.b&&ge(f);var Q=f.b,M=C*y>>>8,H=(f.I>>>Q>M)+0;for(H?(C-=M,f.I-=M+1<<Q>>>0):C=M+1,Q=C,M=0;256<=Q;)M+=8,Q>>=8;return Q=7^M+hp[Q],f.b-=Q,f.Ca=(C<<Q)-1,H}function ye(f,y,C){f[y+0]=C>>24&255,f[y+1]=C>>16&255,f[y+2]=C>>8&255,f[y+3]=255&C}function Se(f,y){return f[y+0]|f[y+1]<<8}function Le(f,y){return Se(f,y)|f[y+2]<<16}function be(f,y){return Se(f,y)|Se(f,y+2)<<16}function ne(f,y){var C=1<<y;return t(f!=null),t(0<y),f.X=i(C),f.X==null?0:(f.Mb=32-y,f.Xa=y,1)}function It(f,y){t(f!=null),t(y!=null),t(f.Xa==y.Xa),n(y.X,0,f.X,0,1<<y.Xa)}function bt(){this.X=[],this.Xa=this.Mb=0}function st(f,y,C,Q){t(C!=null),t(Q!=null);var M=C[0],H=Q[0];return M==0&&(M=(f*H+y/2)/y),H==0&&(H=(y*M+f/2)/f),0>=M||0>=H?0:(C[0]=M,Q[0]=H,1)}function Fe(f,y){return f+(1<<y)-1>>>y}function Je(f,y){return((4278255360&f)+(4278255360&y)>>>0&4278255360)+((16711935&f)+(16711935&y)>>>0&16711935)>>>0}function Qe(f,y){E[y]=function(C,Q,M,H,K,$,W){var ee;for(ee=0;ee<K;++ee){var oe=E[f]($[W+ee-1],M,H+ee);$[W+ee]=Je(C[Q+ee],oe)}}}function vt(){this.ud=this.hd=this.jd=0}function tt(f,y){return((4278124286&(f^y))>>>1)+(f&y)>>>0}function $t(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function ht(f,y){return $t(f+(f-y+.5>>1))}function mt(f,y,C){return Math.abs(y-C)-Math.abs(f-C)}function os(f,y,C,Q,M,H,K){for(Q=H[K-1],C=0;C<M;++C)H[K+C]=Q=Je(f[y+C],Q)}function wt(f,y,C,Q,M){var H;for(H=0;H<C;++H){var K=f[y+H],$=K>>8&255,W=16711935&(W=(W=16711935&K)+(($<<16)+$));Q[M+H]=(4278255360&K)+W>>>0}}function Ze(f,y){y.jd=255&f,y.hd=f>>8&255,y.ud=f>>16&255}function it(f,y,C,Q,M,H){var K;for(K=0;K<Q;++K){var $=y[C+K],W=$>>>8,ee=$,oe=255&(oe=(oe=$>>>16)+((f.jd<<24>>24)*(W<<24>>24)>>>5));ee=255&(ee=(ee+=(f.hd<<24>>24)*(W<<24>>24)>>>5)+((f.ud<<24>>24)*(oe<<24>>24)>>>5)),M[H+K]=(4278255360&$)+(oe<<16)+ee}}function et(f,y,C,Q,M){E[y]=function(H,K,$,W,ee,oe,fe,te,Ae){for(W=fe;W<te;++W)for(fe=0;fe<Ae;++fe)ee[oe++]=M($[Q(H[K++])])},E[f]=function(H,K,$,W,ee,oe,fe){var te=8>>H.b,Ae=H.Ea,he=H.K[0],ve=H.w;if(8>te)for(H=(1<<H.b)-1,ve=(1<<te)-1;K<$;++K){var me,we=0;for(me=0;me<Ae;++me)me&H||(we=Q(W[ee++])),oe[fe++]=M(he[we&ve]),we>>=te}else E["VP8LMapColor"+C](W,ee,he,ve,oe,fe,K,$,Ae)}}function gs(f,y,C,Q,M){for(C=y+C;y<C;){var H=f[y++];Q[M++]=H>>16&255,Q[M++]=H>>8&255,Q[M++]=255&H}}function Gt(f,y,C,Q,M){for(C=y+C;y<C;){var H=f[y++];Q[M++]=H>>16&255,Q[M++]=H>>8&255,Q[M++]=255&H,Q[M++]=H>>24&255}}function qe(f,y,C,Q,M){for(C=y+C;y<C;){var H=(K=f[y++])>>16&240|K>>12&15,K=240&K|K>>28&15;Q[M++]=H,Q[M++]=K}}function ft(f,y,C,Q,M){for(C=y+C;y<C;){var H=(K=f[y++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;Q[M++]=H,Q[M++]=K}}function us(f,y,C,Q,M){for(C=y+C;y<C;){var H=f[y++];Q[M++]=255&H,Q[M++]=H>>8&255,Q[M++]=H>>16&255}}function nt(f,y,C,Q,M,H){if(H==0)for(C=y+C;y<C;)ye(Q,((H=f[y++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),M+=32;else n(Q,M,f,y,C)}function Pt(f,y){E[y][0]=E[f+"0"],E[y][1]=E[f+"1"],E[y][2]=E[f+"2"],E[y][3]=E[f+"3"],E[y][4]=E[f+"4"],E[y][5]=E[f+"5"],E[y][6]=E[f+"6"],E[y][7]=E[f+"7"],E[y][8]=E[f+"8"],E[y][9]=E[f+"9"],E[y][10]=E[f+"10"],E[y][11]=E[f+"11"],E[y][12]=E[f+"12"],E[y][13]=E[f+"13"],E[y][14]=E[f+"0"],E[y][15]=E[f+"0"]}function xt(f){return f==xp||f==gp||f==Ym||f==pp}function Vs(){this.eb=[],this.size=this.A=this.fb=0}function gr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function hs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vs,this.f.kb=new gr,this.sd=null}function ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Do(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function qr(f,y){var C=f.T,Q=y.ba.f.RGBA,M=Q.eb,H=Q.fb+f.ka*Q.A,K=ha[y.ba.S],$=f.y,W=f.O,ee=f.f,oe=f.N,fe=f.ea,te=f.W,Ae=y.cc,he=y.dc,ve=y.Mc,me=y.Nc,we=f.ka,Ne=f.ka+f.T,Ee=f.U,Be=Ee+1>>1;for(we==0?K($,W,null,null,ee,oe,fe,te,ee,oe,fe,te,M,H,null,null,Ee):(K(y.ec,y.fc,$,W,Ae,he,ve,me,ee,oe,fe,te,M,H-Q.A,M,H,Ee),++C);we+2<Ne;we+=2)Ae=ee,he=oe,ve=fe,me=te,oe+=f.Rc,te+=f.Rc,H+=2*Q.A,K($,(W+=2*f.fa)-f.fa,$,W,Ae,he,ve,me,ee,oe,fe,te,M,H-Q.A,M,H,Ee);return W+=f.fa,f.j+Ne<f.o?(n(y.ec,y.fc,$,W,Ee),n(y.cc,y.dc,ee,oe,Be),n(y.Mc,y.Nc,fe,te,Be),C--):1&Ne||K($,W,null,null,ee,oe,fe,te,ee,oe,fe,te,M,H+Q.A,null,null,Ee),C}function Mi(f,y,C){var Q=f.F,M=[f.J];if(Q!=null){var H=f.U,K=y.ba.S,$=K==Wm||K==Ym;y=y.ba.f.RGBA;var W=[0],ee=f.ka;W[0]=f.T,f.Kb&&(ee==0?--W[0]:(--ee,M[0]-=f.width),f.j+f.ka+f.T==f.o&&(W[0]=f.o-f.j-ee));var oe=y.eb;ee=y.fb+ee*y.A,f=v2(Q,M[0],f.width,H,W,oe,ee+($?0:3),y.A),t(C==W),f&&xt(K)&&au(oe,ee,$,H,W,y.A)}return 0}function ai(f){var y=f.ma,C=y.ba.S,Q=11>C,M=C==Gm||C==qm||C==Wm||C==fp||C==12||xt(C);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!wn(y.Oa,f,M?11:12))return 0;if(M&&xt(C)&&Xd(),f.da)alert("todo:use_scaling");else{if(Q){if(y.Ib=Do,f.Kb){if(C=f.U+1>>1,y.memory=i(f.U+2*C),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+f.U,y.Mc=y.cc,y.Nc=y.dc+C,y.Ib=qr,Xd()}}else alert("todo:EmitYUV");M&&(y.Jb=Mi,Q&&Wo())}if(Q&&!M2){for(f=0;256>f;++f)s_[f]=89858*(f-128)+Jm>>Xm,a_[f]=-22014*(f-128)+Jm,n_[f]=-45773*(f-128),r_[f]=113618*(f-128)+Jm>>Xm;for(f=lu;f<vp;++f)y=76283*(f-16)+Jm>>Xm,i_[f-lu]=yr(y,255),l_[f-lu]=yr(y+8>>4,15);M2=1}return 1}function at(f){var y=f.ma,C=f.U,Q=f.T;return t(!(1&f.ka)),0>=C||0>=Q?0:(C=y.Ib(f,y),y.Jb!=null&&y.Jb(f,y,C),y.Dc+=C,1)}function Ti(f){f.ma.memory=null}function Ri(f,y,C,Q){return q(f,8)!=47?0:(y[0]=q(f,14)+1,C[0]=q(f,14)+1,Q[0]=q(f,1),q(f,3)!=0?0:!f.h)}function la(f,y){if(4>f)return f+1;var C=f-2>>1;return(2+(1&f)<<C)+q(y,C)+1}function oa(f,y){return 120<y?y-120:1<=(C=((C=Hk[y-1])>>4)*f+(8-(15&C)))?C:1;var C}function Ts(f,y,C){var Q=G(C),M=f[y+=255&Q].g-8;return 0<M&&(J(C,C.u+8),Q=G(C),y+=f[y].value,y+=Q&(1<<M)-1),J(C,C.u+f[y].g),f[y].value}function Fr(f,y,C){return C.g+=f.g,C.value+=f.value<<y>>>0,t(8>=C.g),f.g}function Dr(f,y,C){var Q=f.xc;return t((y=Q==0?0:f.vc[f.md*(C>>Q)+(y>>Q)])<f.Wb),f.Ya[y]}function Mo(f,y,C,Q){var M=f.ab,H=f.c*y,K=f.C;y=K+y;var $=C,W=Q;for(Q=f.Ta,C=f.Ua;0<M--;){var ee=f.gc[M],oe=K,fe=y,te=$,Ae=W,he=(W=Q,$=C,ee.Ea);switch(t(oe<fe),t(fe<=ee.nc),ee.hc){case 2:lA(te,Ae,(fe-oe)*he,W,$);break;case 0:var ve=oe,me=fe,we=W,Ne=$,Ee=(ze=ee).Ea;ve==0&&(di(te,Ae,null,null,1,we,Ne),os(te,Ae+1,0,0,Ee-1,we,Ne+1),Ae+=Ee,Ne+=Ee,++ve);for(var Be=1<<ze.b,We=Be-1,Re=Fe(Ee,ze.b),Bt=ze.K,ze=ze.w+(ve>>ze.b)*Re;ve<me;){var Dt=Bt,br=ze,Ct=1;for(ui(te,Ae,we,Ne-Ee,1,we,Ne);Ct<Ee;){var Ve=(Ct&~We)+Be;Ve>Ee&&(Ve=Ee),(0,Jo[Dt[br++]>>8&15])(te,Ae+ +Ct,we,Ne+Ct-Ee,Ve-Ct,we,Ne+Ct),Ct=Ve}Ae+=Ee,Ne+=Ee,++ve&We||(ze+=Re)}fe!=ee.nc&&n(W,$-he,W,$+(fe-oe-1)*he,he);break;case 1:for(he=te,me=Ae,Ee=(te=ee.Ea)-(Ne=te&~(we=(Ae=1<<ee.b)-1)),ve=Fe(te,ee.b),Be=ee.K,ee=ee.w+(oe>>ee.b)*ve;oe<fe;){for(We=Be,Re=ee,Bt=new vt,ze=me+Ne,Dt=me+te;me<ze;)Ze(We[Re++],Bt),Gi(Bt,he,me,Ae,W,$),me+=Ae,$+=Ae;me<Dt&&(Ze(We[Re++],Bt),Gi(Bt,he,me,Ee,W,$),me+=Ee,$+=Ee),++oe&we||(ee+=ve)}break;case 3:if(te==W&&Ae==$&&0<ee.b){for(me=W,te=he=$+(fe-oe)*he-(Ne=(fe-oe)*Fe(ee.Ea,ee.b)),Ae=W,we=$,ve=[],Ne=(Ee=Ne)-1;0<=Ne;--Ne)ve[Ne]=Ae[we+Ne];for(Ne=Ee-1;0<=Ne;--Ne)me[te+Ne]=ve[Ne];su(ee,oe,fe,W,he,W,$)}else su(ee,oe,fe,te,Ae,W,$)}$=Q,W=C}W!=C&&n(Q,C,$,W,H)}function Cl(f,y){var C=f.V,Q=f.Ba+f.c*f.C,M=y-f.C;if(t(y<=f.l.o),t(16>=M),0<M){var H=f.l,K=f.Ta,$=f.Ua,W=H.width;if(Mo(f,M,C,Q),M=$=[$],t((C=f.C)<(Q=y)),t(H.v<H.va),Q>H.o&&(Q=H.o),C<H.j){var ee=H.j-C;C=H.j,M[0]+=ee*W}if(C>=Q?C=0:(M[0]+=4*H.v,H.ka=C-H.j,H.U=H.va-H.v,H.T=Q-C,C=1),C){if($=$[0],11>(C=f.ca).S){var oe=C.f.RGBA,fe=(Q=C.S,M=H.U,H=H.T,ee=oe.eb,oe.A),te=H;for(oe=oe.fb+f.Ma*oe.A;0<te--;){var Ae=K,he=$,ve=M,me=ee,we=oe;switch(Q){case $m:ru(Ae,he,ve,me,we);break;case Gm:Tn(Ae,he,ve,me,we);break;case xp:Tn(Ae,he,ve,me,we),au(me,we,0,ve,1,0);break;case E2:ys(Ae,he,ve,me,we);break;case qm:nt(Ae,he,ve,me,we,1);break;case gp:nt(Ae,he,ve,me,we,1),au(me,we,0,ve,1,0);break;case Wm:nt(Ae,he,ve,me,we,0);break;case Ym:nt(Ae,he,ve,me,we,0),au(me,we,1,ve,1,0);break;case fp:hi(Ae,he,ve,me,we);break;case pp:hi(Ae,he,ve,me,we),b2(me,we,ve,1,0);break;case F2:ps(Ae,he,ve,me,we);break;default:t(0)}$+=W,oe+=fe}f.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=C.height)}}f.C=y,t(f.C<=f.i)}function Ia(f){var y;if(0<f.ua)return 0;for(y=0;y<f.Wb;++y){var C=f.Ya[y].G,Q=f.Ya[y].H;if(0<C[1][Q[1]+0].g||0<C[2][Q[2]+0].g||0<C[3][Q[3]+0].g)return 0}return 1}function ii(f,y,C,Q,M,H){if(f.Z!=0){var K=f.qd,$=f.rd;for(t(Ql[f.Z]!=null);y<C;++y)Ql[f.Z](K,$,Q,M,Q,M,H),K=Q,$=M,M+=H;f.qd=K,f.rd=$}}function Ua(f,y){var C=f.l.ma,Q=C.Z==0||C.Z==1?f.l.j:f.C;if(Q=f.C<Q?Q:f.C,t(y<=f.l.o),y>Q){var M=f.l.width,H=C.ca,K=C.tb+M*Q,$=f.V,W=f.Ba+f.c*Q,ee=f.gc;t(f.ab==1),t(ee[0].hc==3),cA(ee[0],Q,y,$,W,H,K),ii(C,Q,y,H,K,M)}f.C=f.Ma=y}function La(f,y,C,Q,M,H,K){var $=f.$/Q,W=f.$%Q,ee=f.m,oe=f.s,fe=C+f.$,te=fe;M=C+Q*M;var Ae=C+Q*H,he=280+oe.ua,ve=f.Pb?$:16777216,me=0<oe.ua?oe.Wa:null,we=oe.wc,Ne=fe<Ae?Dr(oe,W,$):null;t(f.C<H),t(Ae<=M);var Ee=!1;e:for(;;){for(;Ee||fe<Ae;){var Be=0;if($>=ve){var We=fe-C;t((ve=f).Pb),ve.wd=ve.m,ve.xd=We,0<ve.s.ua&&It(ve.s.Wa,ve.s.vb),ve=$+zk}if(W&we||(Ne=Dr(oe,W,$)),t(Ne!=null),Ne.Qb&&(y[fe]=Ne.qb,Ee=!0),!Ee)if(de(ee),Ne.jc){Be=ee,We=y;var Re=fe,Bt=Ne.pd[G(Be)&Ai-1];t(Ne.jc),256>Bt.g?(J(Be,Be.u+Bt.g),We[Re]=Bt.value,Be=0):(J(Be,Be.u+Bt.g-256),t(256<=Bt.value),Be=Bt.value),Be==0&&(Ee=!0)}else Be=Ts(Ne.G[0],Ne.H[0],ee);if(ee.h)break;if(Ee||256>Be){if(!Ee)if(Ne.nd)y[fe]=(Ne.qb|Be<<8)>>>0;else{if(de(ee),Ee=Ts(Ne.G[1],Ne.H[1],ee),de(ee),We=Ts(Ne.G[2],Ne.H[2],ee),Re=Ts(Ne.G[3],Ne.H[3],ee),ee.h)break;y[fe]=(Re<<24|Ee<<16|Be<<8|We)>>>0}if(Ee=!1,++fe,++W>=Q&&(W=0,++$,K!=null&&$<=H&&!($%16)&&K(f,$),me!=null))for(;te<fe;)Be=y[te++],me.X[(506832829*Be&4294967295)>>>me.Mb]=Be}else if(280>Be){if(Be=la(Be-256,ee),We=Ts(Ne.G[4],Ne.H[4],ee),de(ee),We=oa(Q,We=la(We,ee)),ee.h)break;if(fe-C<We||M-fe<Be)break e;for(Re=0;Re<Be;++Re)y[fe+Re]=y[fe+Re-We];for(fe+=Be,W+=Be;W>=Q;)W-=Q,++$,K!=null&&$<=H&&!($%16)&&K(f,$);if(t(fe<=M),W&we&&(Ne=Dr(oe,W,$)),me!=null)for(;te<fe;)Be=y[te++],me.X[(506832829*Be&4294967295)>>>me.Mb]=Be}else{if(!(Be<he))break e;for(Ee=Be-280,t(me!=null);te<fe;)Be=y[te++],me.X[(506832829*Be&4294967295)>>>me.Mb]=Be;Be=fe,t(!(Ee>>>(We=me).Xa)),y[Be]=We.X[Ee],Ee=!0}Ee||t(ee.h==X(ee))}if(f.Pb&&ee.h&&fe<M)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&It(f.s.vb,f.s.Wa);else{if(ee.h)break e;K!=null&&K(f,$>H?H:$),f.a=0,f.$=fe-C}return 1}return f.a=3,0}function ca(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var y=f.Wa;y!=null&&(y.X=null),f.vb=null,t(f!=null)}function To(){var f=new Qs;return f==null?null:(f.a=0,f.xb=I2,Pt("Predictor","VP8LPredictors"),Pt("Predictor","VP8LPredictors_C"),Pt("PredictorAdd","VP8LPredictorsAdd"),Pt("PredictorAdd","VP8LPredictorsAdd_C"),lA=wt,Gi=it,ru=gs,Tn=Gt,hi=qe,ps=ft,ys=us,E.VP8LMapColor32b=oA,E.VP8LMapColor8b=Xo,f)}function li(f,y,C,Q,M){var H=1,K=[f],$=[y],W=Q.m,ee=Q.s,oe=null,fe=0;e:for(;;){if(C)for(;H&&q(W,1);){var te=K,Ae=$,he=Q,ve=1,me=he.m,we=he.gc[he.ab],Ne=q(me,2);if(he.Oc&1<<Ne)H=0;else{switch(he.Oc|=1<<Ne,we.hc=Ne,we.Ea=te[0],we.nc=Ae[0],we.K=[null],++he.ab,t(4>=he.ab),Ne){case 0:case 1:we.b=q(me,3)+2,ve=li(Fe(we.Ea,we.b),Fe(we.nc,we.b),0,he,we.K),we.K=we.K[0];break;case 3:var Ee,Be=q(me,8)+1,We=16<Be?0:4<Be?1:2<Be?2:3;if(te[0]=Fe(we.Ea,We),we.b=We,Ee=ve=li(Be,1,0,he,we.K)){var Re,Bt=Be,ze=we,Dt=1<<(8>>ze.b),br=i(Dt);if(br==null)Ee=0;else{var Ct=ze.K[0],Ve=ze.w;for(br[0]=ze.K[0][0],Re=1;Re<1*Bt;++Re)br[Re]=Je(Ct[Ve+Re],br[Re-1]);for(;Re<4*Dt;++Re)br[Re]=0;ze.K[0]=null,ze.K[0]=br,Ee=1}}ve=Ee;break;case 2:break;default:t(0)}H=ve}}if(K=K[0],$=$[0],H&&q(W,1)&&!(H=1<=(fe=q(W,4))&&11>=fe)){Q.a=3;break e}var Ue;if(Ue=H)t:{var Ys,gt,Rt,js=Q,Tr=K,un=$,Rs=fe,Wr=C,hn=js.m,vr=js.s,Ot=[null],ss=1,Os=0,rs=Kk[Rs];s:for(;;){if(Wr&&q(hn,1)){var Rr=q(hn,3)+2,Ma=Fe(Tr,Rr),Xs=Fe(un,Rr),Nn=Ma*Xs;if(!li(Ma,Xs,0,js,Ot))break s;for(Ot=Ot[0],vr.xc=Rr,Ys=0;Ys<Nn;++Ys){var ms=Ot[Ys]>>8&65535;Ot[Ys]=ms,ms>=ss&&(ss=ms+1)}}if(hn.h)break s;for(gt=0;5>gt;++gt){var wr=k2[gt];!gt&&0<Rs&&(wr+=1<<Rs),Os<wr&&(Os=wr)}var On=l(ss*rs,U),mn=ss,Hn=l(mn,V);if(Hn==null)var Kn=null;else t(65536>=mn),Kn=Hn;var Bn=i(Os);if(Kn==null||Bn==null||On==null){js.a=1;break s}var zn=On;for(Ys=Rt=0;Ys<ss;++Ys){var bs=Kn[Ys],Vn=bs.G,Ta=bs.H,Zo=0,Yi=1,Or=0;for(gt=0;5>gt;++gt){wr=k2[gt],Vn[gt]=zn,Ta[gt]=Rt,!gt&&0<Rs&&(wr+=1<<Rs);n:{var ef,wp=wr,tf=js,ou=Bn,A_=zn,d_=Rt,jp=0,Pl=tf.m,u_=q(Pl,1);if(a(ou,0,0,wp),u_){var h_=q(Pl,1)+1,m_=q(Pl,1),O2=q(Pl,m_==0?1:8);ou[O2]=1,h_==2&&(ou[O2=q(Pl,8)]=1);var sf=1}else{var H2=i(19),K2=q(Pl,4)+4;if(19<K2){tf.a=3;var rf=0;break n}for(ef=0;ef<K2;++ef)H2[Ok[ef]]=q(Pl,3);var Np=void 0,cu=void 0,z2=tf,f_=H2,nf=wp,V2=ou,Bp=0,Dl=z2.m,$2=8,G2=l(128,U);r:for(;P(G2,0,7,f_,19);){if(q(Dl,1)){var x_=2+2*q(Dl,3);if((Np=2+q(Dl,x_))>nf)break r}else Np=nf;for(cu=0;cu<nf&&Np--;){de(Dl);var q2=G2[0+(127&G(Dl))];J(Dl,Dl.u+q2.g);var dA=q2.value;if(16>dA)V2[cu++]=dA,dA!=0&&($2=dA);else{var g_=dA==16,W2=dA-16,p_=Tk[W2],Y2=q(Dl,Mk[W2])+p_;if(cu+Y2>nf)break r;for(var y_=g_?$2:0;0<Y2--;)V2[cu++]=y_}}Bp=1;break r}Bp||(z2.a=3),sf=Bp}(sf=sf&&!Pl.h)&&(jp=P(A_,d_,8,ou,wp)),sf&&jp!=0?rf=jp:(tf.a=3,rf=0)}if(rf==0)break s;if(Yi&&Rk[gt]==1&&(Yi=zn[Rt].g==0),Zo+=zn[Rt].g,Rt+=rf,3>=gt){var Au,Cp=Bn[0];for(Au=1;Au<wr;++Au)Bn[Au]>Cp&&(Cp=Bn[Au]);Or+=Cp}}if(bs.nd=Yi,bs.Qb=0,Yi&&(bs.qb=(Vn[3][Ta[3]+0].value<<24|Vn[1][Ta[1]+0].value<<16|Vn[2][Ta[2]+0].value)>>>0,Zo==0&&256>Vn[0][Ta[0]+0].value&&(bs.Qb=1,bs.qb+=Vn[0][Ta[0]+0].value<<8)),bs.jc=!bs.Qb&&6>Or,bs.jc){var af,Xi=bs;for(af=0;af<Ai;++af){var Ml=af,Tl=Xi.pd[Ml],lf=Xi.G[0][Xi.H[0]+Ml];256<=lf.value?(Tl.g=lf.g+256,Tl.value=lf.value):(Tl.g=0,Tl.value=0,Ml>>=Fr(lf,8,Tl),Ml>>=Fr(Xi.G[1][Xi.H[1]+Ml],16,Tl),Ml>>=Fr(Xi.G[2][Xi.H[2]+Ml],0,Tl),Fr(Xi.G[3][Xi.H[3]+Ml],24,Tl))}}}vr.vc=Ot,vr.Wb=ss,vr.Ya=Kn,vr.yc=On,Ue=1;break t}Ue=0}if(!(H=Ue)){Q.a=3;break e}if(0<fe){if(ee.ua=1<<fe,!ne(ee.Wa,fe)){Q.a=1,H=0;break e}}else ee.ua=0;var Sp=Q,X2=K,b_=$,Ep=Sp.s,Fp=Ep.xc;if(Sp.c=X2,Sp.i=b_,Ep.md=Fe(X2,Fp),Ep.wc=Fp==0?-1:(1<<Fp)-1,C){Q.xb=Xk;break e}if((oe=i(K*$))==null){Q.a=1,H=0;break e}H=(H=La(Q,oe,0,K,$,$,null))&&!W.h;break e}return H?(M!=null?M[0]=oe:(t(oe==null),t(C)),Q.$=0,C||ca(ee)):ca(ee),H}function Ro(f,y){var C=f.c*f.i,Q=C+y+16*y;return t(f.c<=y),f.V=i(Q),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+C+y,1)}function Wc(f,y){var C=f.C,Q=y-C,M=f.V,H=f.Ba+f.c*C;for(t(y<=f.l.o);0<Q;){var K=16<Q?16:Q,$=f.l.ma,W=f.l.width,ee=W*K,oe=$.ca,fe=$.tb+W*C,te=f.Ta,Ae=f.Ua;Mo(f,K,M,H),w2(te,Ae,oe,fe,ee),ii($,C,C+K,oe,fe,W),Q-=K,M+=K*f.c,C+=K}t(C==y),f.C=f.Ma=y}function Yc(){this.ub=this.yd=this.td=this.Rb=0}function Xc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Yg(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Dd(){this.Yb=function(){var f=[];return function y(C,Q,M){for(var H=M[Q],K=0;K<H&&(C.push(M.length>Q+1?[]:0),!(M.length<Q+1));K++)y(C[K],Q+1,M)}(f,0,[3,11]),f}()}function Im(){this.jb=i(3),this.Wc=o([4,8],Dd),this.Xc=o([4,17],Dd)}function Um(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Aa(){this.ld=this.La=this.dd=this.tc=0}function Md(){this.Na=this.la=0}function Lm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Td(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Qm(){this.uc=this.M=this.Nb=0,this.wa=Array(new Aa),this.Y=0,this.ya=Array(new Td),this.aa=0,this.l=new Jc}function Pm(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Dm(){this.cb=this.a=0,this.sc="",this.m=new _,this.Od=new Yc,this.Kc=new Xc,this.ed=new Um,this.Qa=new Yg,this.Ic=this.$c=this.Aa=0,this.D=new Qm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,_),this.ia=0,this.pb=l(4,Lm),this.Pa=new Im,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Pm),this.Hd=0,this.rb=Array(new Md),this.sb=0,this.wa=Array(new Aa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Td),this.L=this.aa=0,this.gd=o([4,2],Aa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Jc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xg(){var f=new Dm;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,iu||(iu=Oi)),f}function or(f,y,C){return f.a==0&&(f.a=y,f.sc=C,f.cb=0),0}function Mm(f,y,C){return 3<=C&&f[y+0]==157&&f[y+1]==1&&f[y+2]==42}function Tm(f,y){if(f==null)return 0;if(f.a=0,f.sc="OK",y==null)return or(f,2,"null VP8Io passed to VP8GetHeaders()");var C=y.data,Q=y.w,M=y.ha;if(4>M)return or(f,7,"Truncated header.");var H=C[Q+0]|C[Q+1]<<8|C[Q+2]<<16,K=f.Od;if(K.Rb=!(1&H),K.td=H>>1&7,K.yd=H>>4&1,K.ub=H>>5,3<K.td)return or(f,3,"Incorrect keyframe parameters.");if(!K.yd)return or(f,4,"Frame not displayable.");Q+=3,M-=3;var $=f.Kc;if(K.Rb){if(7>M)return or(f,7,"cannot parse picture header");if(!Mm(C,Q,M))return or(f,3,"Bad code word");$.c=16383&(C[Q+4]<<8|C[Q+3]),$.Td=C[Q+4]>>6,$.i=16383&(C[Q+6]<<8|C[Q+5]),$.Ud=C[Q+6]>>6,Q+=7,M-=7,f.za=$.c+15>>4,f.Ub=$.i+15>>4,y.width=$.c,y.height=$.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,a((H=f.Pa).jb,0,255,H.jb.length),t((H=f.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,a(H.Zb,0,0,H.Zb.length),a(H.Lb,0,0,H.Lb)}if(K.ub>M)return or(f,7,"bad partition length");Z(H=f.m,C,Q,K.ub),Q+=K.ub,M-=K.ub,K.Rb&&($.Ld=le(H),$.Kd=le(H)),$=f.Qa;var W,ee=f.Pa;if(t(H!=null),t($!=null),$.Cb=le(H),$.Cb){if($.Bb=le(H),le(H)){for($.Fb=le(H),W=0;4>W;++W)$.Zb[W]=le(H)?D(H,7):0;for(W=0;4>W;++W)$.Lb[W]=le(H)?D(H,6):0}if($.Bb)for(W=0;3>W;++W)ee.jb[W]=le(H)?ae(H,8):255}else $.Bb=0;if(H.Ka)return or(f,3,"cannot parse segment header");if(($=f.ed).zd=le(H),$.Tb=ae(H,6),$.wb=ae(H,3),$.Pc=le(H),$.Pc&&le(H)){for(ee=0;4>ee;++ee)le(H)&&($.vd[ee]=D(H,6));for(ee=0;4>ee;++ee)le(H)&&($.od[ee]=D(H,6))}if(f.L=$.Tb==0?0:$.zd?1:2,H.Ka)return or(f,3,"cannot parse filter header");var oe=M;if(M=W=Q,Q=W+oe,$=oe,f.Xb=(1<<ae(f.m,2))-1,oe<3*(ee=f.Xb))C=7;else{for(W+=3*ee,$-=3*ee,oe=0;oe<ee;++oe){var fe=C[M+0]|C[M+1]<<8|C[M+2]<<16;fe>$&&(fe=$),Z(f.Jc[+oe],C,W,fe),W+=fe,$-=fe,M+=3}Z(f.Jc[+ee],C,W,$),C=W<Q?0:5}if(C!=0)return or(f,C,"cannot parse partitions");for(C=ae(W=f.m,7),M=le(W)?D(W,4):0,Q=le(W)?D(W,4):0,$=le(W)?D(W,4):0,ee=le(W)?D(W,4):0,W=le(W)?D(W,4):0,oe=f.Qa,fe=0;4>fe;++fe){if(oe.Cb){var te=oe.Zb[fe];oe.Fb||(te+=C)}else{if(0<fe){f.pb[fe]=f.pb[0];continue}te=C}var Ae=f.pb[fe];Ae.Sc[0]=yp[yr(te+M,127)],Ae.Sc[1]=bp[yr(te+0,127)],Ae.Eb[0]=2*yp[yr(te+Q,127)],Ae.Eb[1]=101581*bp[yr(te+$,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=yp[yr(te+ee,117)],Ae.Qc[1]=bp[yr(te+W,127)],Ae.lc=te+W}if(!K.Rb)return or(f,4,"Not a key frame.");for(le(H),K=f.Pa,C=0;4>C;++C){for(M=0;8>M;++M)for(Q=0;3>Q;++Q)for($=0;11>$;++$)ee=ce(H,Wk[C][M][Q][$])?ae(H,8):Gk[C][M][Q][$],K.Wc[C][M].Yb[Q][$]=ee;for(M=0;17>M;++M)K.Xc[C][M]=K.Wc[C][Yk[M]]}return f.kc=le(H),f.kc&&(f.Bd=ae(H,8)),f.cb=1}function Oi(f,y,C,Q,M,H,K){var $=y[M].Yb[C];for(C=0;16>M;++M){if(!ce(f,$[C+0]))return M;for(;!ce(f,$[C+1]);)if($=y[++M].Yb[0],C=0,M==16)return 16;var W=y[M+1].Yb;if(ce(f,$[C+2])){var ee=f,oe=0;if(ce(ee,(te=$)[(fe=C)+3]))if(ce(ee,te[fe+6])){for($=0,fe=2*(oe=ce(ee,te[fe+8]))+(te=ce(ee,te[fe+9+oe])),oe=0,te=Vk[fe];te[$];++$)oe+=oe+ce(ee,te[$]);oe+=3+(8<<fe)}else ce(ee,te[fe+7])?(oe=7+2*ce(ee,165),oe+=ce(ee,145)):oe=5+ce(ee,159);else oe=ce(ee,te[fe+4])?3+ce(ee,te[fe+5]):2;$=W[2]}else oe=1,$=W[1];W=K+$k[M],0>(ee=f).b&&ge(ee);var fe,te=ee.b,Ae=(fe=ee.Ca>>1)-(ee.I>>te)>>31;--ee.b,ee.Ca+=Ae,ee.Ca|=1,ee.I-=(fe+1&Ae)<<te,H[W]=((oe^Ae)-Ae)*Q[(0<M)+0]}return 16}function Oo(f){var y=f.rb[f.sb-1];y.la=0,y.Na=0,a(f.zc,0,0,f.zc.length),f.ja=0}function Qa(f,y,C,Q,M){M=f[y+C+32*Q]+(M>>3),f[y+C+32*Q]=-256&M?0>M?0:255:M}function Ho(f,y,C,Q,M,H){Qa(f,y,0,C,Q+M),Qa(f,y,1,C,Q+H),Qa(f,y,2,C,Q-H),Qa(f,y,3,C,Q-M)}function $s(f){return(20091*f>>16)+f}function Rd(f,y,C,Q){var M,H=0,K=i(16);for(M=0;4>M;++M){var $=f[y+0]+f[y+8],W=f[y+0]-f[y+8],ee=(35468*f[y+4]>>16)-$s(f[y+12]),oe=$s(f[y+4])+(35468*f[y+12]>>16);K[H+0]=$+oe,K[H+1]=W+ee,K[H+2]=W-ee,K[H+3]=$-oe,H+=4,y++}for(M=H=0;4>M;++M)$=(f=K[H+0]+4)+K[H+8],W=f-K[H+8],ee=(35468*K[H+4]>>16)-$s(K[H+12]),Qa(C,Q,0,0,$+(oe=$s(K[H+4])+(35468*K[H+12]>>16))),Qa(C,Q,1,0,W+ee),Qa(C,Q,2,0,W-ee),Qa(C,Q,3,0,$-oe),H++,Q+=32}function Jg(f,y,C,Q){var M=f[y+0]+4,H=35468*f[y+4]>>16,K=$s(f[y+4]),$=35468*f[y+1]>>16;Ho(C,Q,0,M+K,f=$s(f[y+1]),$),Ho(C,Q,1,M+H,f,$),Ho(C,Q,2,M-H,f,$),Ho(C,Q,3,M-K,f,$)}function Zg(f,y,C,Q,M){Rd(f,y,C,Q),M&&Rd(f,y+16,C,Q+4)}function ep(f,y,C,Q){Ws(f,y+0,C,Q,1),Ws(f,y+32,C,Q+128,1)}function oi(f,y,C,Q){var M;for(f=f[y+0]+4,M=0;4>M;++M)for(y=0;4>y;++y)Qa(C,Q,y,M,f)}function Rm(f,y,C,Q){f[y+0]&&mi(f,y+0,C,Q),f[y+16]&&mi(f,y+16,C,Q+4),f[y+32]&&mi(f,y+32,C,Q+128),f[y+48]&&mi(f,y+48,C,Q+128+4)}function Om(f,y,C,Q){var M,H=i(16);for(M=0;4>M;++M){var K=f[y+0+M]+f[y+12+M],$=f[y+4+M]+f[y+8+M],W=f[y+4+M]-f[y+8+M],ee=f[y+0+M]-f[y+12+M];H[0+M]=K+$,H[8+M]=K-$,H[4+M]=ee+W,H[12+M]=ee-W}for(M=0;4>M;++M)K=(f=H[0+4*M]+3)+H[3+4*M],$=H[1+4*M]+H[2+4*M],W=H[1+4*M]-H[2+4*M],ee=f-H[3+4*M],C[Q+0]=K+$>>3,C[Q+16]=ee+W>>3,C[Q+32]=K-$>>3,C[Q+48]=ee-W>>3,Q+=64}function Sl(f,y,C){var Q,M=y-32,H=Rn,K=255-f[M-1];for(Q=0;Q<C;++Q){var $,W=H,ee=K+f[y-1];for($=0;$<C;++$)f[y+$]=W[ee+f[M+$]];y+=32}}function Od(f,y){Sl(f,y,4)}function tp(f,y){Sl(f,y,8)}function sp(f,y){Sl(f,y,16)}function rp(f,y){var C;for(C=0;16>C;++C)n(f,y+32*C,f,y-32,16)}function Hd(f,y){var C;for(C=16;0<C;--C)a(f,y,f[y-1],16),y+=32}function Ko(f,y,C){var Q;for(Q=0;16>Q;++Q)a(y,C+32*Q,f,16)}function El(f,y){var C,Q=16;for(C=0;16>C;++C)Q+=f[y-1+32*C]+f[y+C-32];Ko(Q>>5,f,y)}function np(f,y){var C,Q=8;for(C=0;16>C;++C)Q+=f[y-1+32*C];Ko(Q>>4,f,y)}function zo(f,y){var C,Q=8;for(C=0;16>C;++C)Q+=f[y+C-32];Ko(Q>>4,f,y)}function Kd(f,y){Ko(128,f,y)}function At(f,y,C){return f+2*y+C+2>>2}function ap(f,y){var C,Q=y-32;for(Q=new Uint8Array([At(f[Q-1],f[Q+0],f[Q+1]),At(f[Q+0],f[Q+1],f[Q+2]),At(f[Q+1],f[Q+2],f[Q+3]),At(f[Q+2],f[Q+3],f[Q+4])]),C=0;4>C;++C)n(f,y+32*C,Q,0,Q.length)}function ip(f,y){var C=f[y-1],Q=f[y-1+32],M=f[y-1+64],H=f[y-1+96];ye(f,y+0,16843009*At(f[y-1-32],C,Q)),ye(f,y+32,16843009*At(C,Q,M)),ye(f,y+64,16843009*At(Q,M,H)),ye(f,y+96,16843009*At(M,H,H))}function lp(f,y){var C,Q=4;for(C=0;4>C;++C)Q+=f[y+C-32]+f[y-1+32*C];for(Q>>=3,C=0;4>C;++C)a(f,y+32*C,Q,4)}function op(f,y){var C=f[y-1+0],Q=f[y-1+32],M=f[y-1+64],H=f[y-1-32],K=f[y+0-32],$=f[y+1-32],W=f[y+2-32],ee=f[y+3-32];f[y+0+96]=At(Q,M,f[y-1+96]),f[y+1+96]=f[y+0+64]=At(C,Q,M),f[y+2+96]=f[y+1+64]=f[y+0+32]=At(H,C,Q),f[y+3+96]=f[y+2+64]=f[y+1+32]=f[y+0+0]=At(K,H,C),f[y+3+64]=f[y+2+32]=f[y+1+0]=At($,K,H),f[y+3+32]=f[y+2+0]=At(W,$,K),f[y+3+0]=At(ee,W,$)}function Hi(f,y){var C=f[y+1-32],Q=f[y+2-32],M=f[y+3-32],H=f[y+4-32],K=f[y+5-32],$=f[y+6-32],W=f[y+7-32];f[y+0+0]=At(f[y+0-32],C,Q),f[y+1+0]=f[y+0+32]=At(C,Q,M),f[y+2+0]=f[y+1+32]=f[y+0+64]=At(Q,M,H),f[y+3+0]=f[y+2+32]=f[y+1+64]=f[y+0+96]=At(M,H,K),f[y+3+32]=f[y+2+64]=f[y+1+96]=At(H,K,$),f[y+3+64]=f[y+2+96]=At(K,$,W),f[y+3+96]=At($,W,W)}function Ki(f,y){var C=f[y-1+0],Q=f[y-1+32],M=f[y-1+64],H=f[y-1-32],K=f[y+0-32],$=f[y+1-32],W=f[y+2-32],ee=f[y+3-32];f[y+0+0]=f[y+1+64]=H+K+1>>1,f[y+1+0]=f[y+2+64]=K+$+1>>1,f[y+2+0]=f[y+3+64]=$+W+1>>1,f[y+3+0]=W+ee+1>>1,f[y+0+96]=At(M,Q,C),f[y+0+64]=At(Q,C,H),f[y+0+32]=f[y+1+96]=At(C,H,K),f[y+1+32]=f[y+2+96]=At(H,K,$),f[y+2+32]=f[y+3+96]=At(K,$,W),f[y+3+32]=At($,W,ee)}function cp(f,y){var C=f[y+0-32],Q=f[y+1-32],M=f[y+2-32],H=f[y+3-32],K=f[y+4-32],$=f[y+5-32],W=f[y+6-32],ee=f[y+7-32];f[y+0+0]=C+Q+1>>1,f[y+1+0]=f[y+0+64]=Q+M+1>>1,f[y+2+0]=f[y+1+64]=M+H+1>>1,f[y+3+0]=f[y+2+64]=H+K+1>>1,f[y+0+32]=At(C,Q,M),f[y+1+32]=f[y+0+96]=At(Q,M,H),f[y+2+32]=f[y+1+96]=At(M,H,K),f[y+3+32]=f[y+2+96]=At(H,K,$),f[y+3+64]=At(K,$,W),f[y+3+96]=At($,W,ee)}function Ap(f,y){var C=f[y-1+0],Q=f[y-1+32],M=f[y-1+64],H=f[y-1+96];f[y+0+0]=C+Q+1>>1,f[y+2+0]=f[y+0+32]=Q+M+1>>1,f[y+2+32]=f[y+0+64]=M+H+1>>1,f[y+1+0]=At(C,Q,M),f[y+3+0]=f[y+1+32]=At(Q,M,H),f[y+3+32]=f[y+1+64]=At(M,H,H),f[y+3+64]=f[y+2+64]=f[y+0+96]=f[y+1+96]=f[y+2+96]=f[y+3+96]=H}function Zc(f,y){var C=f[y-1+0],Q=f[y-1+32],M=f[y-1+64],H=f[y-1+96],K=f[y-1-32],$=f[y+0-32],W=f[y+1-32],ee=f[y+2-32];f[y+0+0]=f[y+2+32]=C+K+1>>1,f[y+0+32]=f[y+2+64]=Q+C+1>>1,f[y+0+64]=f[y+2+96]=M+Q+1>>1,f[y+0+96]=H+M+1>>1,f[y+3+0]=At($,W,ee),f[y+2+0]=At(K,$,W),f[y+1+0]=f[y+3+32]=At(C,K,$),f[y+1+32]=f[y+3+64]=At(Q,C,K),f[y+1+64]=f[y+3+96]=At(M,Q,C),f[y+1+96]=At(H,M,Q)}function zd(f,y){var C;for(C=0;8>C;++C)n(f,y+32*C,f,y-32,8)}function Vo(f,y){var C;for(C=0;8>C;++C)a(f,y,f[y-1],8),y+=32}function eA(f,y,C){var Q;for(Q=0;8>Q;++Q)a(y,C+32*Q,f,8)}function tA(f,y){var C,Q=8;for(C=0;8>C;++C)Q+=f[y+C-32]+f[y-1+32*C];eA(Q>>4,f,y)}function dp(f,y){var C,Q=4;for(C=0;8>C;++C)Q+=f[y+C-32];eA(Q>>3,f,y)}function Vd(f,y){var C,Q=4;for(C=0;8>C;++C)Q+=f[y-1+32*C];eA(Q>>3,f,y)}function $d(f,y){eA(128,f,y)}function $o(f,y,C){var Q=f[y-C],M=f[y+0],H=3*(M-Q)+mp[1020+f[y-2*C]-f[y+C]],K=Vm[112+(H+4>>3)];f[y-C]=Rn[255+Q+Vm[112+(H+3>>3)]],f[y+0]=Rn[255+M-K]}function Go(f,y,C,Q){var M=f[y+0],H=f[y+C];return ua[255+f[y-2*C]-f[y-C]]>Q||ua[255+H-M]>Q}function Gd(f,y,C,Q){return 4*ua[255+f[y-C]-f[y+0]]+ua[255+f[y-2*C]-f[y+C]]<=Q}function sA(f,y,C,Q,M){var H=f[y-3*C],K=f[y-2*C],$=f[y-C],W=f[y+0],ee=f[y+C],oe=f[y+2*C],fe=f[y+3*C];return 4*ua[255+$-W]+ua[255+K-ee]>Q?0:ua[255+f[y-4*C]-H]<=M&&ua[255+H-K]<=M&&ua[255+K-$]<=M&&ua[255+fe-oe]<=M&&ua[255+oe-ee]<=M&&ua[255+ee-W]<=M}function qd(f,y,C,Q){var M=2*Q+1;for(Q=0;16>Q;++Q)Gd(f,y+Q,C,M)&&$o(f,y+Q,C)}function qo(f,y,C,Q){var M=2*Q+1;for(Q=0;16>Q;++Q)Gd(f,y+Q*C,1,M)&&$o(f,y+Q*C,1)}function Wd(f,y,C,Q){var M;for(M=3;0<M;--M)qd(f,y+=4*C,C,Q)}function Yd(f,y,C,Q){var M;for(M=3;0<M;--M)qo(f,y+=4,C,Q)}function Mn(f,y,C,Q,M,H,K,$){for(H=2*H+1;0<M--;){if(sA(f,y,C,H,K))if(Go(f,y,C,$))$o(f,y,C);else{var W=f,ee=y,oe=C,fe=W[ee-2*oe],te=W[ee-oe],Ae=W[ee+0],he=W[ee+oe],ve=W[ee+2*oe],me=27*(Ne=mp[1020+3*(Ae-te)+mp[1020+fe-he]])+63>>7,we=18*Ne+63>>7,Ne=9*Ne+63>>7;W[ee-3*oe]=Rn[255+W[ee-3*oe]+Ne],W[ee-2*oe]=Rn[255+fe+we],W[ee-oe]=Rn[255+te+me],W[ee+0]=Rn[255+Ae-me],W[ee+oe]=Rn[255+he-we],W[ee+2*oe]=Rn[255+ve-Ne]}y+=Q}}function ci(f,y,C,Q,M,H,K,$){for(H=2*H+1;0<M--;){if(sA(f,y,C,H,K))if(Go(f,y,C,$))$o(f,y,C);else{var W=f,ee=y,oe=C,fe=W[ee-oe],te=W[ee+0],Ae=W[ee+oe],he=Vm[112+(4+(ve=3*(te-fe))>>3)],ve=Vm[112+(ve+3>>3)],me=he+1>>1;W[ee-2*oe]=Rn[255+W[ee-2*oe]+me],W[ee-oe]=Rn[255+fe+ve],W[ee+0]=Rn[255+te-he],W[ee+oe]=Rn[255+Ae-me]}y+=Q}}function B(f,y,C,Q,M,H){Mn(f,y,C,1,16,Q,M,H)}function T(f,y,C,Q,M,H){Mn(f,y,1,C,16,Q,M,H)}function se(f,y,C,Q,M,H){var K;for(K=3;0<K;--K)ci(f,y+=4*C,C,1,16,Q,M,H)}function ie(f,y,C,Q,M,H){var K;for(K=3;0<K;--K)ci(f,y+=4,1,C,16,Q,M,H)}function ue(f,y,C,Q,M,H,K,$){Mn(f,y,M,1,8,H,K,$),Mn(C,Q,M,1,8,H,K,$)}function je(f,y,C,Q,M,H,K,$){Mn(f,y,1,M,8,H,K,$),Mn(C,Q,1,M,8,H,K,$)}function Ce(f,y,C,Q,M,H,K,$){ci(f,y+4*M,M,1,8,H,K,$),ci(C,Q+4*M,M,1,8,H,K,$)}function He(f,y,C,Q,M,H,K,$){ci(f,y+4,1,M,8,H,K,$),ci(C,Q+4,1,M,8,H,K,$)}function Ge(){this.ba=new hs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function jt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function qt(){this.ua=0,this.Wa=new bt,this.vb=new bt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new U}function Qs(){this.xb=this.a=0,this.l=new Jc,this.ca=new hs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new qt,this.ab=0,this.gc=l(4,jt),this.Oc=0}function cr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Jc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cs(f,y,C,Q,M,H,K){for(f=f==null?0:f[y+0],y=0;y<K;++y)M[H+y]=f+C[Q+y]&255,f=M[H+y]}function pr(f,y,C,Q,M,H,K){var $;if(f==null)cs(null,null,C,Q,M,H,K);else for($=0;$<K;++$)M[H+$]=f[y+$]+C[Q+$]&255}function Ar(f,y,C,Q,M,H,K){if(f==null)cs(null,null,C,Q,M,H,K);else{var $,W=f[y+0],ee=W,oe=W;for($=0;$<K;++$)ee=oe+(W=f[y+$])-ee,oe=C[Q+$]+(-256&ee?0>ee?0:255:ee)&255,ee=W,M[H+$]=oe}}function Mr(f,y,C,Q){var M=y.width,H=y.o;if(t(f!=null&&y!=null),0>C||0>=Q||C+Q>H)return null;if(!f.Cc){if(f.ga==null){var K;if(f.ga=new cr,(K=f.ga==null)||(K=y.width*y.o,t(f.Gb.length==0),f.Gb=i(K),f.Uc=0,f.Gb==null?K=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,K=1),K=!K),!K){K=f.ga;var $=f.Fa,W=f.P,ee=f.qc,oe=f.mb,fe=f.nb,te=W+1,Ae=ee-1,he=K.l;if(t($!=null&&oe!=null&&y!=null),Ql[0]=null,Ql[1]=cs,Ql[2]=pr,Ql[3]=Ar,K.ca=oe,K.tb=fe,K.c=y.width,K.i=y.height,t(0<K.c&&0<K.i),1>=ee)y=0;else if(K.$a=3&$[W+0],K.Z=$[W+0]>>2&3,K.Lc=$[W+0]>>4&3,W=$[W+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||W)y=0;else if(he.put=at,he.ac=ai,he.bc=Ti,he.ma=K,he.width=y.width,he.height=y.height,he.Da=y.Da,he.v=y.v,he.va=y.va,he.j=y.j,he.o=y.o,K.$a)e:{t(K.$a==1),y=To();t:for(;;){if(y==null){y=0;break e}if(t(K!=null),K.mc=y,y.c=K.c,y.i=K.i,y.l=K.l,y.l.ma=K,y.l.width=K.c,y.l.height=K.i,y.a=0,Y(y.m,$,te,Ae),!li(K.c,K.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Ia(y.s)?(K.ic=1,$=y.c*y.i,y.Ta=null,y.Ua=0,y.V=i($),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(K.ic=0,y=Ro(y,K.c)),!y))break t;y=1;break e}K.mc=null,y=0}else y=Ae>=K.c*K.i;K=!y}if(K)return null;f.ga.Lc!=1?f.Ga=0:Q=H-C}t(f.ga!=null),t(C+Q<=H);e:{if(y=($=f.ga).c,H=$.l.o,$.$a==0){if(te=f.rc,Ae=f.Vc,he=f.Fa,W=f.P+1+C*y,ee=f.mb,oe=f.nb+C*y,t(W<=f.P+f.qc),$.Z!=0)for(t(Ql[$.Z]!=null),K=0;K<Q;++K)Ql[$.Z](te,Ae,he,W,ee,oe,y),te=ee,Ae=oe,oe+=y,W+=y;else for(K=0;K<Q;++K)n(ee,oe,he,W,y),te=ee,Ae=oe,oe+=y,W+=y;f.rc=te,f.Vc=Ae}else{if(t($.mc!=null),y=C+Q,t((K=$.mc)!=null),t(y<=K.i),K.C>=y)y=1;else if($.ic||Wo(),$.ic){$=K.V,te=K.Ba,Ae=K.c;var ve=K.i,me=(he=1,W=K.$/Ae,ee=K.$%Ae,oe=K.m,fe=K.s,K.$),we=Ae*ve,Ne=Ae*y,Ee=fe.wc,Be=me<Ne?Dr(fe,ee,W):null;t(me<=we),t(y<=ve),t(Ia(fe));t:for(;;){for(;!oe.h&&me<Ne;){if(ee&Ee||(Be=Dr(fe,ee,W)),t(Be!=null),de(oe),256>(ve=Ts(Be.G[0],Be.H[0],oe)))$[te+me]=ve,++me,++ee>=Ae&&(ee=0,++W<=y&&!(W%16)&&Ua(K,W));else{if(!(280>ve)){he=0;break t}ve=la(ve-256,oe);var We,Re=Ts(Be.G[4],Be.H[4],oe);if(de(oe),!(me>=(Re=oa(Ae,Re=la(Re,oe)))&&we-me>=ve)){he=0;break t}for(We=0;We<ve;++We)$[te+me+We]=$[te+me+We-Re];for(me+=ve,ee+=ve;ee>=Ae;)ee-=Ae,++W<=y&&!(W%16)&&Ua(K,W);me<Ne&&ee&Ee&&(Be=Dr(fe,ee,W))}t(oe.h==X(oe))}Ua(K,W>y?y:W);break t}!he||oe.h&&me<we?(he=0,K.a=oe.h?5:3):K.$=me,y=he}else y=La(K,K.V,K.Ba,K.c,K.i,y,Wc);if(!y){Q=0;break e}}C+Q>=H&&(f.Cc=1),Q=1}if(!Q)return null;if(f.Cc&&((Q=f.ga)!=null&&(Q.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+C*M}function zi(f,y,C,Q,M,H){for(;0<M--;){var K,$=f,W=y+(C?1:0),ee=f,oe=y+(C?0:3);for(K=0;K<Q;++K){var fe=ee[oe+4*K];fe!=255&&(fe*=32897,$[W+4*K+0]=$[W+4*K+0]*fe>>23,$[W+4*K+1]=$[W+4*K+1]*fe>>23,$[W+4*K+2]=$[W+4*K+2]*fe>>23)}y+=H}}function Fl(f,y,C,Q,M){for(;0<Q--;){var H;for(H=0;H<C;++H){var K=f[y+2*H+0],$=15&(ee=f[y+2*H+1]),W=4369*$,ee=(240&ee|ee>>4)*W>>16;f[y+2*H+0]=(240&K|K>>4)*W>>16&240|(15&K|K<<4)*W>>16>>4&15,f[y+2*H+1]=240&ee|$}y+=M}}function up(f,y,C,Q,M,H,K,$){var W,ee,oe=255;for(ee=0;ee<M;++ee){for(W=0;W<Q;++W){var fe=f[y+W];H[K+4*W]=fe,oe&=fe}y+=C,K+=$}return oe!=255}function Hm(f,y,C,Q,M){var H;for(H=0;H<M;++H)C[Q+H]=f[y+H]>>8}function Wo(){au=zi,b2=Fl,v2=up,w2=Hm}function Pa(f,y,C){E[f]=function(Q,M,H,K,$,W,ee,oe,fe,te,Ae,he,ve,me,we,Ne,Ee){var Be,We=Ee-1>>1,Re=$[W+0]|ee[oe+0]<<16,Bt=fe[te+0]|Ae[he+0]<<16;t(Q!=null);var ze=3*Re+Bt+131074>>2;for(y(Q[M+0],255&ze,ze>>16,ve,me),H!=null&&(ze=3*Bt+Re+131074>>2,y(H[K+0],255&ze,ze>>16,we,Ne)),Be=1;Be<=We;++Be){var Dt=$[W+Be]|ee[oe+Be]<<16,br=fe[te+Be]|Ae[he+Be]<<16,Ct=Re+Dt+Bt+br+524296,Ve=Ct+2*(Dt+Bt)>>3;ze=Ve+Re>>1,Re=(Ct=Ct+2*(Re+br)>>3)+Dt>>1,y(Q[M+2*Be-1],255&ze,ze>>16,ve,me+(2*Be-1)*C),y(Q[M+2*Be-0],255&Re,Re>>16,ve,me+(2*Be-0)*C),H!=null&&(ze=Ct+Bt>>1,Re=Ve+br>>1,y(H[K+2*Be-1],255&ze,ze>>16,we,Ne+(2*Be-1)*C),y(H[K+2*Be+0],255&Re,Re>>16,we,Ne+(2*Be+0)*C)),Re=Dt,Bt=br}1&Ee||(ze=3*Re+Bt+131074>>2,y(Q[M+Ee-1],255&ze,ze>>16,ve,me+(Ee-1)*C),H!=null&&(ze=3*Bt+Re+131074>>2,y(H[K+Ee-1],255&ze,ze>>16,we,Ne+(Ee-1)*C)))}}function Xd(){ha[$m]=Jk,ha[Gm]=U2,ha[E2]=Zk,ha[qm]=L2,ha[Wm]=Q2,ha[fp]=P2,ha[F2]=e_,ha[xp]=U2,ha[gp]=L2,ha[Ym]=Q2,ha[pp]=P2}function rA(f){return f&~t_?0>f?0:255:f>>D2}function kl(f,y){return rA((19077*f>>8)+(26149*y>>8)-14234)}function kr(f,y,C){return rA((19077*f>>8)-(6419*y>>8)-(13320*C>>8)+8708)}function Vi(f,y){return rA((19077*f>>8)+(33050*y>>8)-17685)}function $i(f,y,C,Q,M){Q[M+0]=kl(f,C),Q[M+1]=kr(f,y,C),Q[M+2]=Vi(f,y)}function nA(f,y,C,Q,M){Q[M+0]=Vi(f,y),Q[M+1]=kr(f,y,C),Q[M+2]=kl(f,C)}function Jd(f,y,C,Q,M){var H=kr(f,y,C);y=H<<3&224|Vi(f,y)>>3,Q[M+0]=248&kl(f,C)|H>>5,Q[M+1]=y}function dn(f,y,C,Q,M){var H=240&Vi(f,y)|15;Q[M+0]=240&kl(f,C)|kr(f,y,C)>>4,Q[M+1]=H}function Km(f,y,C,Q,M){Q[M+0]=255,$i(f,y,C,Q,M+1)}function aA(f,y,C,Q,M){nA(f,y,C,Q,M),Q[M+3]=255}function zm(f,y,C,Q,M){$i(f,y,C,Q,M),Q[M+3]=255}function yr(f,y){return 0>f?0:f>y?y:f}function da(f,y,C){E[f]=function(Q,M,H,K,$,W,ee,oe,fe){for(var te=oe+(-2&fe)*C;oe!=te;)y(Q[M+0],H[K+0],$[W+0],ee,oe),y(Q[M+1],H[K+0],$[W+0],ee,oe+C),M+=2,++K,++W,oe+=2*C;1&fe&&y(Q[M+0],H[K+0],$[W+0],ee,oe)}}function Zd(f,y,C){return C==0?f==0?y==0?6:5:y==0?4:0:C}function eu(f,y,C,Q,M){switch(f>>>30){case 3:Ws(y,C,Q,M,0);break;case 2:qi(y,C,Q,M);break;case 1:mi(y,C,Q,M)}}function _l(f,y){var C,Q,M=y.M,H=y.Nb,K=f.oc,$=f.pc+40,W=f.oc,ee=f.pc+584,oe=f.oc,fe=f.pc+600;for(C=0;16>C;++C)K[$+32*C-1]=129;for(C=0;8>C;++C)W[ee+32*C-1]=129,oe[fe+32*C-1]=129;for(0<M?K[$-1-32]=W[ee-1-32]=oe[fe-1-32]=129:(a(K,$-32-1,127,21),a(W,ee-32-1,127,9),a(oe,fe-32-1,127,9)),Q=0;Q<f.za;++Q){var te=y.ya[y.aa+Q];if(0<Q){for(C=-1;16>C;++C)n(K,$+32*C-4,K,$+32*C+12,4);for(C=-1;8>C;++C)n(W,ee+32*C-4,W,ee+32*C+4,4),n(oe,fe+32*C-4,oe,fe+32*C+4,4)}var Ae=f.Gd,he=f.Hd+Q,ve=te.ad,me=te.Hc;if(0<M&&(n(K,$-32,Ae[he].y,0,16),n(W,ee-32,Ae[he].f,0,8),n(oe,fe-32,Ae[he].ea,0,8)),te.Za){var we=K,Ne=$-32+16;for(0<M&&(Q>=f.za-1?a(we,Ne,Ae[he].y[15],4):n(we,Ne,Ae[he+1].y,0,4)),C=0;4>C;C++)we[Ne+128+C]=we[Ne+256+C]=we[Ne+384+C]=we[Ne+0+C];for(C=0;16>C;++C,me<<=2)we=K,Ne=$+T2[C],Da[te.Ob[C]](we,Ne),eu(me,ve,16*+C,we,Ne)}else if(we=Zd(Q,M,te.Ob[0]),Ll[we](K,$),me!=0)for(C=0;16>C;++C,me<<=2)eu(me,ve,16*+C,K,$+T2[C]);for(C=te.Gc,we=Zd(Q,M,te.Dd),Wi[we](W,ee),Wi[we](oe,fe),me=ve,we=W,Ne=ee,255&(te=0|C)&&(170&te?AA(me,256,we,Ne):nu(me,256,we,Ne)),te=oe,me=fe,255&(C>>=8)&&(170&C?AA(ve,320,te,me):nu(ve,320,te,me)),M<f.Ub-1&&(n(Ae[he].y,0,K,$+480,16),n(Ae[he].f,0,W,ee+224,8),n(Ae[he].ea,0,oe,fe+224,8)),C=8*H*f.B,Ae=f.sa,he=f.ta+16*Q+16*H*f.R,ve=f.qa,te=f.ra+8*Q+C,me=f.Ha,we=f.Ia+8*Q+C,C=0;16>C;++C)n(Ae,he+C*f.R,K,$+32*C,16);for(C=0;8>C;++C)n(ve,te+C*f.B,W,ee+32*C,8),n(me,we+C*f.B,oe,fe+32*C,8)}}function iA(f,y,C,Q,M,H,K,$,W){var ee=[0],oe=[0],fe=0,te=W!=null?W.kd:0,Ae=W??new lt;if(f==null||12>C)return 7;Ae.data=f,Ae.w=y,Ae.ha=C,y=[y],C=[C],Ae.gb=[Ae.gb];e:{var he=y,ve=C,me=Ae.gb;if(t(f!=null),t(ve!=null),t(me!=null),me[0]=0,12<=ve[0]&&!r(f,he[0],"RIFF")){if(r(f,he[0]+8,"WEBP")){me=3;break e}var we=be(f,he[0]+4);if(12>we||4294967286<we){me=3;break e}if(te&&we>ve[0]-8){me=7;break e}me[0]=we,he[0]+=12,ve[0]-=12}me=0}if(me!=0)return me;for(we=0<Ae.gb[0],C=C[0];;){e:{var Ne=f;ve=y,me=C;var Ee=ee,Be=oe,We=he=[0];if((ze=fe=[fe])[0]=0,8>me[0])me=7;else{if(!r(Ne,ve[0],"VP8X")){if(be(Ne,ve[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var Re=be(Ne,ve[0]+8),Bt=1+Le(Ne,ve[0]+12);if(2147483648<=Bt*(Ne=1+Le(Ne,ve[0]+15))){me=3;break e}We!=null&&(We[0]=Re),Ee!=null&&(Ee[0]=Bt),Be!=null&&(Be[0]=Ne),ve[0]+=18,me[0]-=18,ze[0]=1}me=0}}if(fe=fe[0],he=he[0],me!=0)return me;if(ve=!!(2&he),!we&&fe)return 3;if(H!=null&&(H[0]=!!(16&he)),K!=null&&(K[0]=ve),$!=null&&($[0]=0),K=ee[0],he=oe[0],fe&&ve&&W==null){me=0;break}if(4>C){me=7;break}if(we&&fe||!we&&!fe&&!r(f,y[0],"ALPH")){C=[C],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{Re=f,me=y,we=C;var ze=Ae.gb;Ee=Ae.na,Be=Ae.P,We=Ae.Sa,Bt=22,t(Re!=null),t(we!=null),Ne=me[0];var Dt=we[0];for(t(Ee!=null),t(We!=null),Ee[0]=null,Be[0]=null,We[0]=0;;){if(me[0]=Ne,we[0]=Dt,8>Dt){me=7;break e}var br=be(Re,Ne+4);if(4294967286<br){me=3;break e}var Ct=8+br+1&-2;if(Bt+=Ct,0<ze&&Bt>ze){me=3;break e}if(!r(Re,Ne,"VP8 ")||!r(Re,Ne,"VP8L")){me=0;break e}if(Dt[0]<Ct){me=7;break e}r(Re,Ne,"ALPH")||(Ee[0]=Re,Be[0]=Ne+8,We[0]=br),Ne+=Ct,Dt-=Ct}}if(C=C[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],me!=0)break}C=[C],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(ze=f,me=y,we=C,Ee=Ae.gb[0],Be=Ae.Ja,We=Ae.xa,Re=me[0],Ne=!r(ze,Re,"VP8 "),Bt=!r(ze,Re,"VP8L"),t(ze!=null),t(we!=null),t(Be!=null),t(We!=null),8>we[0])me=7;else{if(Ne||Bt){if(ze=be(ze,Re+4),12<=Ee&&ze>Ee-12){me=3;break e}if(te&&ze>we[0]-8){me=7;break e}Be[0]=ze,me[0]+=8,we[0]-=8,We[0]=Bt}else We[0]=5<=we[0]&&ze[Re+0]==47&&!(ze[Re+4]>>5),Be[0]=we[0];me=0}if(C=C[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],y=y[0],me!=0)break;if(4294967286<Ae.Ja)return 3;if($==null||ve||($[0]=Ae.xa?2:1),K=[K],he=[he],Ae.xa){if(5>C){me=7;break}$=K,te=he,ve=H,f==null||5>C?f=0:5<=C&&f[y+0]==47&&!(f[y+4]>>5)?(we=[0],ze=[0],Ee=[0],Y(Be=new z,f,y,C),Ri(Be,we,ze,Ee)?($!=null&&($[0]=we[0]),te!=null&&(te[0]=ze[0]),ve!=null&&(ve[0]=Ee[0]),f=1):f=0):f=0}else{if(10>C){me=7;break}$=he,f==null||10>C||!Mm(f,y+3,C-3)?f=0:(te=f[y+0]|f[y+1]<<8|f[y+2]<<16,ve=16383&(f[y+7]<<8|f[y+6]),f=16383&(f[y+9]<<8|f[y+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=Ae.Ja||!ve||!f?f=0:(K&&(K[0]=ve),$&&($[0]=f),f=1))}if(!f||(K=K[0],he=he[0],fe&&(ee[0]!=K||oe[0]!=he)))return 3;W!=null&&(W[0]=Ae,W.offset=y-W.w,t(4294967286>y-W.w),t(W.offset==W.ha-C));break}return me==0||me==7&&fe&&W==null?(H!=null&&(H[0]|=Ae.na!=null&&0<Ae.na.length),Q!=null&&(Q[0]=K),M!=null&&(M[0]=he),0):me}function wn(f,y,C){var Q=y.width,M=y.height,H=0,K=0,$=Q,W=M;if(y.Da=f!=null&&0<f.Da,y.Da&&($=f.cd,W=f.bd,H=f.v,K=f.j,11>C||(H&=-2,K&=-2),0>H||0>K||0>=$||0>=W||H+$>Q||K+W>M))return 0;if(y.v=H,y.j=K,y.va=H+$,y.o=K+W,y.U=$,y.T=W,y.da=f!=null&&0<f.da,y.da){if(!st($,W,C=[f.ib],H=[f.hb]))return 0;y.ib=C[0],y.hb=H[0]}return y.ob=f!=null&&f.ob,y.Kb=f==null||!f.Sd,y.da&&(y.ob=y.ib<3*Q/4&&y.hb<3*M/4,y.Kb=0),1}function jn(f){if(f==null)return 2;if(11>f.S){var y=f.f.RGBA;y.fb+=(f.height-1)*y.A,y.A=-y.A}else y=f.f.kb,f=f.height,y.O+=(f-1)*y.fa,y.fa=-y.fa,y.N+=(f-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(f-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(f-1)*y.lb,y.lb=-y.lb);return 0}function Yo(f,y,C,Q){if(Q==null||0>=f||0>=y)return 2;if(C!=null){if(C.Da){var M=C.cd,H=C.bd,K=-2&C.v,$=-2&C.j;if(0>K||0>$||0>=M||0>=H||K+M>f||$+H>y)return 2;f=M,y=H}if(C.da){if(!st(f,y,M=[C.ib],H=[C.hb]))return 2;f=M[0],y=H[0]}}Q.width=f,Q.height=y;e:{var W=Q.width,ee=Q.height;if(f=Q.S,0>=W||0>=ee||!(f>=$m&&13>f))f=2;else{if(0>=Q.Rd&&Q.sd==null){K=H=M=y=0;var oe=($=W*R2[f])*ee;if(11>f||(H=(ee+1)/2*(y=(W+1)/2),f==12&&(K=(M=W)*ee)),(ee=i(oe+2*H+K))==null){f=1;break e}Q.sd=ee,11>f?((W=Q.f.RGBA).eb=ee,W.fb=0,W.A=$,W.size=oe):((W=Q.f.kb).y=ee,W.O=0,W.fa=$,W.Fd=oe,W.f=ee,W.N=0+oe,W.Ab=y,W.Cd=H,W.ea=ee,W.W=0+oe+H,W.Db=y,W.Ed=H,f==12&&(W.F=ee,W.J=0+oe+2*H),W.Tc=K,W.lb=M)}if(y=1,M=Q.S,H=Q.width,K=Q.height,M>=$m&&13>M)if(11>M)f=Q.f.RGBA,y&=($=Math.abs(f.A))*(K-1)+H<=f.size,y&=$>=H*R2[M],y&=f.eb!=null;else{f=Q.f.kb,$=(H+1)/2,oe=(K+1)/2,W=Math.abs(f.fa),ee=Math.abs(f.Ab);var fe=Math.abs(f.Db),te=Math.abs(f.lb),Ae=te*(K-1)+H;y&=W*(K-1)+H<=f.Fd,y&=ee*(oe-1)+$<=f.Cd,y=(y&=fe*(oe-1)+$<=f.Ed)&W>=H&ee>=$&fe>=$,y&=f.y!=null,y&=f.f!=null,y&=f.ea!=null,M==12&&(y&=te>=H,y&=Ae<=f.Tc,y&=f.F!=null)}else y=0;f=y?0:2}}return f!=0||C!=null&&C.fd&&(f=jn(Q)),f}var Ai=64,Il=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],tu=24,Ul=32,Gs=8,hp=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(f){return f},E.Predictor2=function(f,y,C){return y[C+0]},E.Predictor3=function(f,y,C){return y[C+1]},E.Predictor4=function(f,y,C){return y[C-1]},E.Predictor5=function(f,y,C){return tt(tt(f,y[C+1]),y[C+0])},E.Predictor6=function(f,y,C){return tt(f,y[C-1])},E.Predictor7=function(f,y,C){return tt(f,y[C+0])},E.Predictor8=function(f,y,C){return tt(y[C-1],y[C+0])},E.Predictor9=function(f,y,C){return tt(y[C+0],y[C+1])},E.Predictor10=function(f,y,C){return tt(tt(f,y[C-1]),tt(y[C+0],y[C+1]))},E.Predictor11=function(f,y,C){var Q=y[C+0];return 0>=mt(Q>>24&255,f>>24&255,(y=y[C-1])>>24&255)+mt(Q>>16&255,f>>16&255,y>>16&255)+mt(Q>>8&255,f>>8&255,y>>8&255)+mt(255&Q,255&f,255&y)?Q:f},E.Predictor12=function(f,y,C){var Q=y[C+0];return($t((f>>24&255)+(Q>>24&255)-((y=y[C-1])>>24&255))<<24|$t((f>>16&255)+(Q>>16&255)-(y>>16&255))<<16|$t((f>>8&255)+(Q>>8&255)-(y>>8&255))<<8|$t((255&f)+(255&Q)-(255&y)))>>>0},E.Predictor13=function(f,y,C){var Q=y[C-1];return(ht((f=tt(f,y[C+0]))>>24&255,Q>>24&255)<<24|ht(f>>16&255,Q>>16&255)<<16|ht(f>>8&255,Q>>8&255)<<8|ht(255&f,255&Q))>>>0};var di=E.PredictorAdd0;E.PredictorAdd1=os,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var ui=E.PredictorAdd2;et("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var lA,su=E.ColorIndexInverseTransform,oA=E.MapARGB,cA=E.VP8LColorIndexInverseTransformAlpha,Xo=E.MapAlpha,Jo=E.VP8LPredictorsAdd=[];Jo.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var Gi,ru,Tn,hi,ps,ys,qs,Ws,qi,AA,mi,nu,o2,c2,A2,d2,u2,h2,m2,f2,x2,g2,p2,y2,au,b2,v2,w2,j2=i(511),N2=i(2041),B2=i(225),C2=i(767),S2=0,mp=N2,Vm=B2,Rn=C2,ua=j2,$m=0,Gm=1,E2=2,qm=3,Wm=4,fp=5,F2=6,xp=7,gp=8,Ym=9,pp=10,Mk=[2,3,7],Tk=[3,3,11],k2=[280,256,256,256,40],Rk=[0,1,1,1,0],Ok=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Hk=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Kk=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zk=8,yp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],iu=null,Vk=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$k=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Gk=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qk=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wk=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Yk=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ll=[],Da=[],Wi=[],Xk=1,I2=2,Ql=[],ha=[];Pa("UpsampleRgbLinePair",$i,3),Pa("UpsampleBgrLinePair",nA,3),Pa("UpsampleRgbaLinePair",zm,4),Pa("UpsampleBgraLinePair",aA,4),Pa("UpsampleArgbLinePair",Km,4),Pa("UpsampleRgba4444LinePair",dn,2),Pa("UpsampleRgb565LinePair",Jd,2);var Jk=E.UpsampleRgbLinePair,Zk=E.UpsampleBgrLinePair,U2=E.UpsampleRgbaLinePair,L2=E.UpsampleBgraLinePair,Q2=E.UpsampleArgbLinePair,P2=E.UpsampleRgba4444LinePair,e_=E.UpsampleRgb565LinePair,Xm=16,Jm=1<<Xm-1,lu=-227,vp=482,D2=6,t_=(256<<D2)-1,M2=0,s_=i(256),r_=i(256),n_=i(256),a_=i(256),i_=i(vp-lu),l_=i(vp-lu);da("YuvToRgbRow",$i,3),da("YuvToBgrRow",nA,3),da("YuvToRgbaRow",zm,4),da("YuvToBgraRow",aA,4),da("YuvToArgbRow",Km,4),da("YuvToRgba4444Row",dn,2),da("YuvToRgb565Row",Jd,2);var T2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zm=[0,2,8],o_=[8,7,6,4,4,2,2,2,1,1,1,1],c_=1;this.WebPDecodeRGBA=function(f,y,C,Q,M){var H=Gm,K=new Ge,$=new hs;K.ba=$,$.S=H,$.width=[$.width],$.height=[$.height];var W=$.width,ee=$.height,oe=new ct;if(oe==null||f==null)var fe=2;else t(oe!=null),fe=iA(f,y,C,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(fe!=0?W=0:(W!=null&&(W[0]=oe.width[0]),ee!=null&&(ee[0]=oe.height[0]),W=1),W){$.width=$.width[0],$.height=$.height[0],Q!=null&&(Q[0]=$.width),M!=null&&(M[0]=$.height);e:{if(Q=new Jc,(M=new lt).data=f,M.w=y,M.ha=C,M.kd=1,y=[0],t(M!=null),((f=iA(M.data,M.w,M.ha,null,null,null,y,null,M))==0||f==7)&&y[0]&&(f=4),(y=f)==0){if(t(K!=null),Q.data=M.data,Q.w=M.w+M.offset,Q.ha=M.ha-M.offset,Q.put=at,Q.ac=ai,Q.bc=Ti,Q.ma=K,M.xa){if((f=To())==null){K=1;break e}if(function(te,Ae){var he=[0],ve=[0],me=[0];t:for(;;){if(te==null)return 0;if(Ae==null)return te.a=2,0;if(te.l=Ae,te.a=0,Y(te.m,Ae.data,Ae.w,Ae.ha),!Ri(te.m,he,ve,me)){te.a=3;break t}if(te.xb=I2,Ae.width=he[0],Ae.height=ve[0],!li(he[0],ve[0],1,te,null))break t;return 1}return t(te.a!=0),0}(f,Q)){if(Q=(y=Yo(Q.width,Q.height,K.Oa,K.ba))==0){t:{Q=f;s:for(;;){if(Q==null){Q=0;break t}if(t(Q.s.yc!=null),t(Q.s.Ya!=null),t(0<Q.s.Wb),t((C=Q.l)!=null),t((M=C.ma)!=null),Q.xb!=0){if(Q.ca=M.ba,Q.tb=M.tb,t(Q.ca!=null),!wn(M.Oa,C,qm)){Q.a=2;break s}if(!Ro(Q,C.width)||C.da)break s;if((C.da||xt(Q.ca.S))&&Wo(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&Wo()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!ne(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break s}Q.xb=0}if(!La(Q,Q.V,Q.Ba,Q.c,Q.i,C.o,Cl))break s;M.Dc=Q.Ma,Q=1;break t}t(Q.a!=0),Q=0}Q=!Q}Q&&(y=f.a)}else y=f.a}else{if((f=new Xg)==null){K=1;break e}if(f.Fa=M.na,f.P=M.P,f.qc=M.Sa,Tm(f,Q)){if((y=Yo(Q.width,Q.height,K.Oa,K.ba))==0){if(f.Aa=0,C=K.Oa,t((M=f)!=null),C!=null){if(0<(W=0>(W=C.Md)?0:100<W?255:255*W/100)){for(ee=oe=0;4>ee;++ee)12>(fe=M.pb[ee]).lc&&(fe.ia=W*o_[0>fe.lc?0:fe.lc]>>3),oe|=fe.ia;oe&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=C.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(te,Ae){if(te==null)return 0;if(Ae==null)return or(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!Tm(te,Ae))return 0;if(t(te.cb),Ae.ac==null||Ae.ac(Ae)){Ae.ob&&(te.L=0);var he=Zm[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=Ae.v-he>>4,te.zb=Ae.j-he>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=Ae.o+15+he>>4,te.Hb=Ae.va+15+he>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var ve=te.ed;for(he=0;4>he;++he){var me;if(te.Qa.Cb){var we=te.Qa.Lb[he];te.Qa.Fb||(we+=ve.Tb)}else we=ve.Tb;for(me=0;1>=me;++me){var Ne=te.gd[he][me],Ee=we;if(ve.Pc&&(Ee+=ve.vd[0],me&&(Ee+=ve.od[0])),0<(Ee=0>Ee?0:63<Ee?63:Ee)){var Be=Ee;0<ve.wb&&(Be=4<ve.wb?Be>>2:Be>>1)>9-ve.wb&&(Be=9-ve.wb),1>Be&&(Be=1),Ne.dd=Be,Ne.tc=2*Ee+Be,Ne.ld=40<=Ee?2:15<=Ee?1:0}else Ne.tc=0;Ne.La=me}}}he=0}else or(te,6,"Frame setup failed"),he=te.a;if(he=he==0){if(he){te.$c=0,0<te.Aa||(te.Ic=c_);t:{he=te.Ic,ve=4*(Be=te.za);var We=32*Be,Re=Be+1,Bt=0<te.L?Be*(0<te.Aa?2:1):0,ze=(te.Aa==2?2:1)*Be;if((Ne=ve+832+(me=3*(16*he+Zm[te.L])/2*We)+(we=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=Ne)he=0;else{if(Ne>te.Vb){if(te.Vb=0,te.Ec=i(Ne),te.Fc=0,te.Ec==null){he=or(te,1,"no memory during frame initialization.");break t}te.Vb=Ne}Ne=te.Ec,Ee=te.Fc,te.Ac=Ne,te.Bc=Ee,Ee+=ve,te.Gd=l(We,Pm),te.Hd=0,te.rb=l(Re+1,Md),te.sb=1,te.wa=Bt?l(Bt,Aa):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Be),t(!0),te.oc=Ne,te.pc=Ee,Ee+=832,te.ya=l(ze,Td),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Be),te.R=16*Be,te.B=8*Be,Be=(We=Zm[te.L])*te.R,We=We/2*te.B,te.sa=Ne,te.ta=Ee+Be,te.qa=te.sa,te.ra=te.ta+16*he*te.R+We,te.Ha=te.qa,te.Ia=te.ra+8*he*te.B+We,te.$c=0,Ee+=me,te.mb=we?Ne:null,te.nb=we?Ee:null,t(Ee+we<=te.Fc+te.Vb),Oo(te),a(te.Ac,te.Bc,0,ve),he=1}}if(he){if(Ae.ka=0,Ae.y=te.sa,Ae.O=te.ta,Ae.f=te.qa,Ae.N=te.ra,Ae.ea=te.Ha,Ae.Vd=te.Ia,Ae.fa=te.R,Ae.Rc=te.B,Ae.F=null,Ae.J=0,!S2){for(he=-255;255>=he;++he)j2[255+he]=0>he?-he:he;for(he=-1020;1020>=he;++he)N2[1020+he]=-128>he?-128:127<he?127:he;for(he=-112;112>=he;++he)B2[112+he]=-16>he?-16:15<he?15:he;for(he=-255;510>=he;++he)C2[255+he]=0>he?0:255<he?255:he;S2=1}qs=Om,Ws=Zg,AA=ep,mi=oi,nu=Rm,qi=Jg,o2=B,c2=T,A2=ue,d2=je,u2=se,h2=ie,m2=Ce,f2=He,x2=qd,g2=qo,p2=Wd,y2=Yd,Da[0]=lp,Da[1]=Od,Da[2]=ap,Da[3]=ip,Da[4]=op,Da[5]=Ki,Da[6]=Hi,Da[7]=cp,Da[8]=Zc,Da[9]=Ap,Ll[0]=El,Ll[1]=sp,Ll[2]=rp,Ll[3]=Hd,Ll[4]=np,Ll[5]=zo,Ll[6]=Kd,Wi[0]=tA,Wi[1]=tp,Wi[2]=zd,Wi[3]=Vo,Wi[4]=Vd,Wi[5]=dp,Wi[6]=$d,he=1}else he=0}he&&(he=function(Dt,br){for(Dt.M=0;Dt.M<Dt.Va;++Dt.M){var Ct,Ve=Dt.Jc[Dt.M&Dt.Xb],Ue=Dt.m,Ys=Dt;for(Ct=0;Ct<Ys.za;++Ct){var gt=Ue,Rt=Ys,js=Rt.Ac,Tr=Rt.Bc+4*Ct,un=Rt.zc,Rs=Rt.ya[Rt.aa+Ct];if(Rt.Qa.Bb?Rs.$b=ce(gt,Rt.Pa.jb[0])?2+ce(gt,Rt.Pa.jb[2]):ce(gt,Rt.Pa.jb[1]):Rs.$b=0,Rt.kc&&(Rs.Ad=ce(gt,Rt.Bd)),Rs.Za=!ce(gt,145)+0,Rs.Za){var Wr=Rs.Ob,hn=0;for(Rt=0;4>Rt;++Rt){var vr,Ot=un[0+Rt];for(vr=0;4>vr;++vr){Ot=qk[js[Tr+vr]][Ot];for(var ss=_2[ce(gt,Ot[0])];0<ss;)ss=_2[2*ss+ce(gt,Ot[ss])];Ot=-ss,js[Tr+vr]=Ot}n(Wr,hn,js,Tr,4),hn+=4,un[0+Rt]=Ot}}else Ot=ce(gt,156)?ce(gt,128)?1:3:ce(gt,163)?2:0,Rs.Ob[0]=Ot,a(js,Tr,Ot,4),a(un,0,Ot,4);Rs.Dd=ce(gt,142)?ce(gt,114)?ce(gt,183)?1:3:2:0}if(Ys.m.Ka)return or(Dt,7,"Premature end-of-partition0 encountered.");for(;Dt.ja<Dt.za;++Dt.ja){if(Ys=Ve,gt=(Ue=Dt).rb[Ue.sb-1],js=Ue.rb[Ue.sb+Ue.ja],Ct=Ue.ya[Ue.aa+Ue.ja],Tr=Ue.kc?Ct.Ad:0)gt.la=js.la=0,Ct.Za||(gt.Na=js.Na=0),Ct.Hc=0,Ct.Gc=0,Ct.ia=0;else{var Os,rs;if(gt=js,js=Ys,Tr=Ue.Pa.Xc,un=Ue.ya[Ue.aa+Ue.ja],Rs=Ue.pb[un.$b],Rt=un.ad,Wr=0,hn=Ue.rb[Ue.sb-1],Ot=vr=0,a(Rt,Wr,0,384),un.Za)var Rr=0,Ma=Tr[3];else{ss=i(16);var Xs=gt.Na+hn.Na;if(Xs=iu(js,Tr[1],Xs,Rs.Eb,0,ss,0),gt.Na=hn.Na=(0<Xs)+0,1<Xs)qs(ss,0,Rt,Wr);else{var Nn=ss[0]+3>>3;for(ss=0;256>ss;ss+=16)Rt[Wr+ss]=Nn}Rr=1,Ma=Tr[0]}var ms=15&gt.la,wr=15&hn.la;for(ss=0;4>ss;++ss){var On=1&wr;for(Nn=rs=0;4>Nn;++Nn)ms=ms>>1|(On=(Xs=iu(js,Ma,Xs=On+(1&ms),Rs.Sc,Rr,Rt,Wr))>Rr)<<7,rs=rs<<2|(3<Xs?3:1<Xs?2:Rt[Wr+0]!=0),Wr+=16;ms>>=4,wr=wr>>1|On<<7,vr=(vr<<8|rs)>>>0}for(Ma=ms,Rr=wr>>4,Os=0;4>Os;Os+=2){for(rs=0,ms=gt.la>>4+Os,wr=hn.la>>4+Os,ss=0;2>ss;++ss){for(On=1&wr,Nn=0;2>Nn;++Nn)Xs=On+(1&ms),ms=ms>>1|(On=0<(Xs=iu(js,Tr[2],Xs,Rs.Qc,0,Rt,Wr)))<<3,rs=rs<<2|(3<Xs?3:1<Xs?2:Rt[Wr+0]!=0),Wr+=16;ms>>=2,wr=wr>>1|On<<5}Ot|=rs<<4*Os,Ma|=ms<<4<<Os,Rr|=(240&wr)<<Os}gt.la=Ma,hn.la=Rr,un.Hc=vr,un.Gc=Ot,un.ia=43690&Ot?0:Rs.ia,Tr=!(vr|Ot)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[Ct.$b][Ct.Za],Ue.wa[Ue.Y+Ue.ja].La|=!Tr),Ys.Ka)return or(Dt,7,"Premature end-of-file encountered.")}if(Oo(Dt),Ue=br,Ys=1,Ct=(Ve=Dt).D,gt=0<Ve.L&&Ve.M>=Ve.zb&&Ve.M<=Ve.Va,Ve.Aa==0)t:{if(Ct.M=Ve.M,Ct.uc=gt,_l(Ve,Ct),Ys=1,Ct=(rs=Ve.D).Nb,gt=(Ot=Zm[Ve.L])*Ve.R,js=Ot/2*Ve.B,ss=16*Ct*Ve.R,Nn=8*Ct*Ve.B,Tr=Ve.sa,un=Ve.ta-gt+ss,Rs=Ve.qa,Rt=Ve.ra-js+Nn,Wr=Ve.Ha,hn=Ve.Ia-js+Nn,wr=(ms=rs.M)==0,vr=ms>=Ve.Va-1,Ve.Aa==2&&_l(Ve,rs),rs.uc)for(On=(Xs=Ve).D.M,t(Xs.D.uc),rs=Xs.yb;rs<Xs.Hb;++rs){Rr=rs,Ma=On;var mn=(Hn=(Or=Xs).D).Nb;Os=Or.R;var Hn=Hn.wa[Hn.Y+Rr],Kn=Or.sa,Bn=Or.ta+16*mn*Os+16*Rr,zn=Hn.dd,bs=Hn.tc;if(bs!=0)if(t(3<=bs),Or.L==1)0<Rr&&g2(Kn,Bn,Os,bs+4),Hn.La&&y2(Kn,Bn,Os,bs),0<Ma&&x2(Kn,Bn,Os,bs+4),Hn.La&&p2(Kn,Bn,Os,bs);else{var Vn=Or.B,Ta=Or.qa,Zo=Or.ra+8*mn*Vn+8*Rr,Yi=Or.Ha,Or=Or.Ia+8*mn*Vn+8*Rr;mn=Hn.ld,0<Rr&&(c2(Kn,Bn,Os,bs+4,zn,mn),d2(Ta,Zo,Yi,Or,Vn,bs+4,zn,mn)),Hn.La&&(h2(Kn,Bn,Os,bs,zn,mn),f2(Ta,Zo,Yi,Or,Vn,bs,zn,mn)),0<Ma&&(o2(Kn,Bn,Os,bs+4,zn,mn),A2(Ta,Zo,Yi,Or,Vn,bs+4,zn,mn)),Hn.La&&(u2(Kn,Bn,Os,bs,zn,mn),m2(Ta,Zo,Yi,Or,Vn,bs,zn,mn))}}if(Ve.ia&&alert("todo:DitherRow"),Ue.put!=null){if(rs=16*ms,ms=16*(ms+1),wr?(Ue.y=Ve.sa,Ue.O=Ve.ta+ss,Ue.f=Ve.qa,Ue.N=Ve.ra+Nn,Ue.ea=Ve.Ha,Ue.W=Ve.Ia+Nn):(rs-=Ot,Ue.y=Tr,Ue.O=un,Ue.f=Rs,Ue.N=Rt,Ue.ea=Wr,Ue.W=hn),vr||(ms-=Ot),ms>Ue.o&&(ms=Ue.o),Ue.F=null,Ue.J=null,Ve.Fa!=null&&0<Ve.Fa.length&&rs<ms&&(Ue.J=Mr(Ve,Ue,rs,ms-rs),Ue.F=Ve.mb,Ue.F==null&&Ue.F.length==0)){Ys=or(Ve,3,"Could not decode alpha data.");break t}rs<Ue.j&&(Ot=Ue.j-rs,rs=Ue.j,t(!(1&Ot)),Ue.O+=Ve.R*Ot,Ue.N+=Ve.B*(Ot>>1),Ue.W+=Ve.B*(Ot>>1),Ue.F!=null&&(Ue.J+=Ue.width*Ot)),rs<ms&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=rs-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=ms-rs,Ys=Ue.put(Ue))}Ct+1!=Ve.Ic||vr||(n(Ve.sa,Ve.ta-gt,Tr,un+16*Ve.R,gt),n(Ve.qa,Ve.ra-js,Rs,Rt+8*Ve.B,js),n(Ve.Ha,Ve.Ia-js,Wr,hn+8*Ve.B,js))}if(!Ys)return or(Dt,6,"Output aborted.")}return 1}(te,Ae)),Ae.bc!=null&&Ae.bc(Ae),he&=1}return he?(te.cb=0,he):0})(f,Q)||(y=f.a)}}else y=f.a}y==0&&K.Oa!=null&&K.Oa.fd&&(y=jn(K.ba))}K=y}H=K!=0?null:11>H?$.f.RGBA.eb:$.f.kb.y}else H=null;return H};var R2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(E,O){for(var L="",P=0;P<4;P++)L+=String.fromCharCode(E[O++]);return L}function d(E,O){return E[O+0]|E[O+1]<<8}function u(E,O){return(E[O+0]|E[O+1]<<8|E[O+2]<<16)>>>0}function m(E,O){return(E[O+0]|E[O+1]<<8|E[O+2]<<16|E[O+3]<<24)>>>0}new c;var h=[0],g=[0],p=[],v=new c,x=e,b=function(E,O){var L={},P=0,U=!1,R=0,V=0;if(L.frames=[],!function(_,z){for(var G=0;G<4;G++)if(_[z+G]!="RIFF".charCodeAt(G))return!0;return!1}(E,O)){for(m(E,O+=4),O+=8;O<E.length;){var Z=A(E,O),ae=m(E,O+=4);O+=4;var D=ae+(1&ae);switch(Z){case"VP8 ":case"VP8L":L.frames[P]===void 0&&(L.frames[P]={}),(q=L.frames[P]).src_off=U?V:O-8,q.src_size=R+ae+8,P++,U&&(U=!1,R=0,V=0);break;case"VP8X":(q=L.header={}).feature_flags=E[O];var Y=O+4;q.canvas_width=1+u(E,Y),Y+=3,q.canvas_height=1+u(E,Y),Y+=3;break;case"ALPH":U=!0,R=D+8,V=O-8;break;case"ANIM":(q=L.header).bgcolor=m(E,O),Y=O+4,q.loop_count=d(E,Y),Y+=2;break;case"ANMF":var re,q;(q=L.frames[P]={}).offset_x=2*u(E,O),O+=3,q.offset_y=2*u(E,O),O+=3,q.width=1+u(E,O),O+=3,q.height=1+u(E,O),O+=3,q.duration=u(E,O),O+=3,re=E[O++],q.dispose=1&re,q.blend=re>>1&1}Z!="ANMF"&&(O+=D)}return L}}(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var j=b.header?b.header:null,w=b.frames?b.frames:null;if(j){j.loop_counter=j.loop_count,h=[j.canvas_height],g=[j.canvas_width];for(var S=0;S<w.length&&w[S].blend!=0;S++);}var F=w[0],I=v.WebPDecodeRGBA(x,F.src_off,F.src_size,g,h);F.rgba=I,F.imgwidth=g[0],F.imgheight=h[0];for(var k=0;k<g[0]*h[0]*4;k++)p[k]=I[k];return this.width=g,this.height=h,this.data=p,this}(function(e){var t,r,n,a,i,l,o,c,A,d=function(_){return _=_||{},this.isStrokeTransparent=_.isStrokeTransparent||!1,this.strokeOpacity=_.strokeOpacity||1,this.strokeStyle=_.strokeStyle||"#000000",this.fillStyle=_.fillStyle||"#000000",this.isFillTransparent=_.isFillTransparent||!1,this.fillOpacity=_.fillOpacity||1,this.font=_.font||"10px sans-serif",this.textBaseline=_.textBaseline||"alphabetic",this.textAlign=_.textAlign||"left",this.lineWidth=_.lineWidth||1,this.lineJoin=_.lineJoin||"miter",this.lineCap=_.lineCap||"butt",this.path=_.path||[],this.transform=_.transform!==void 0?_.transform.clone():new c,this.globalCompositeOperation=_.globalCompositeOperation||"normal",this.globalAlpha=_.globalAlpha||1,this.clip_path=_.clip_path||[],this.currentPoint=_.currentPoint||new l,this.miterLimit=_.miterLimit||10,this.lastPoint=_.lastPoint||new l,this.lineDashOffset=_.lineDashOffset||0,this.lineDash=_.lineDash||[],this.margin=_.margin||[0,0,0,0],this.prevPageLastElemOffset=_.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _.ignoreClearRect!="boolean"||_.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,A=new d}]);var u=function(_){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=_;Object.defineProperty(this,"pdf",{get:function(){return z}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(be){G=!!be}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(be){X=!!be}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(be){isNaN(be)||(J=be)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(be){isNaN(be)||(de=be)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(be){var ne;typeof be=="number"?ne=[be,be,be,be]:((ne=new Array(4))[0]=be[0],ne[1]=be.length>=2?be[1]:ne[0],ne[2]=be.length>=3?be[2]:ne[0],ne[3]=be.length>=4?be[3]:ne[1]),A.margin=ne}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(be){ge=be}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(be){le=be}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(be){ce=be}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(be){be instanceof d&&(A=be)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(be){A.path=be}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(be){ye=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var ne;ne=m(be),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var ne=m(be);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var Se=null,Le=null;Object.defineProperty(this,"fontFaces",{get:function(){return Le},set:function(be){Se=null,Le=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var ne;if(this.ctx.font=be,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var It=ne[1];ne[2];var bt=ne[3],st=ne[4];ne[5];var Fe=ne[6],Je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(st)[2];st=Math.floor(Je==="px"?parseFloat(st)*this.pdf.internal.scaleFactor:Je==="em"?parseFloat(st)*this.pdf.getFontSize():parseFloat(st)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(st);var Qe=function(it){var et,gs,Gt=[],qe=it.trim();if(qe==="")return zy;if(qe in ZB)return[ZB[qe]];for(;qe!=="";){switch(gs=null,et=(qe=t4(qe)).charAt(0)){case'"':case"'":gs=LK(qe.substring(1),et);break;default:gs=QK(qe)}if(gs===null||(Gt.push(gs[0]),(qe=t4(gs[1]))!==""&&qe.charAt(0)!==","))return zy;qe=qe.replace(/^,/,"")}return Gt}(Fe);if(this.fontFaces){var vt=function(it,et){if(Se===null){var gs=function(Gt){var qe=[];return Object.keys(Gt).forEach(function(ft){Gt[ft].forEach(function(us){var nt=null;switch(us){case"bold":nt={family:ft,weight:"bold"};break;case"italic":nt={family:ft,style:"italic"};break;case"bolditalic":nt={family:ft,weight:"bold",style:"italic"};break;case"":case"normal":nt={family:ft}}nt!==null&&(nt.ref={name:ft,style:us},qe.push(nt))})}),qe}(it.getFontList());Se=function(Gt){for(var qe={},ft=0;ft<Gt.length;++ft){var us=Ky(Gt[ft]),nt=us.family,Pt=us.stretch,xt=us.style,Vs=us.weight;qe[nt]=qe[nt]||{},qe[nt][Pt]=qe[nt][Pt]||{},qe[nt][Pt][xt]=qe[nt][Pt][xt]||{},qe[nt][Pt][xt][Vs]=us}return qe}(gs.concat(et))}return Se}(this.pdf,this.fontFaces),tt=Qe.map(function(it){return{family:it,stretch:"normal",weight:bt,style:It}}),$t=function(it,et,gs){for(var Gt=(gs=gs||{}).defaultFontFamily||"times",qe=Object.assign({},UK,gs.genericFontFamilies||{}),ft=null,us=null,nt=0;nt<et.length;++nt)if(qe[(ft=Ky(et[nt])).family]&&(ft.family=qe[ft.family]),it.hasOwnProperty(ft.family)){us=it[ft.family];break}if(!(us=us||it[Gt]))throw new Error("Could not find a font-family for the rule '"+e4(ft)+"' and default family '"+Gt+"'.");if(us=function(Pt,xt){if(xt[Pt])return xt[Pt];var Vs=Hv[Pt],gr=Vs<=Hv.normal?-1:1,hs=JB(xt,vF,Vs,gr);if(!hs)throw new Error("Could not find a matching font-stretch value for "+Pt);return hs}(ft.stretch,us),us=function(Pt,xt){if(xt[Pt])return xt[Pt];for(var Vs=bF[Pt],gr=0;gr<Vs.length;++gr)if(xt[Vs[gr]])return xt[Vs[gr]];throw new Error("Could not find a matching font-style for "+Pt)}(ft.style,us),!(us=function(Pt,xt){if(xt[Pt])return xt[Pt];if(Pt===400&&xt[500])return xt[500];if(Pt===500&&xt[400])return xt[400];var Vs=IK[Pt],gr=JB(xt,wF,Vs,Pt<400?-1:1);if(!gr)throw new Error("Could not find a matching font-weight for value "+Pt);return gr}(ft.weight,us)))throw new Error("Failed to resolve a font for the rule '"+e4(ft)+"'.");return us}(vt,tt);this.pdf.setFont($t.ref.name,$t.ref.style)}else{var ht="";(bt==="bold"||parseInt(bt,10)>=700||It==="bold")&&(ht="bold"),It==="italic"&&(ht+="italic"),ht.length===0&&(ht="normal");for(var mt="",os={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},wt=0;wt<Qe.length;wt++){if(this.pdf.internal.getFont(Qe[wt],ht,{noFallback:!0,disableWarning:!0})!==void 0){mt=Qe[wt];break}if(ht==="bolditalic"&&this.pdf.internal.getFont(Qe[wt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)mt=Qe[wt],ht="bold";else if(this.pdf.internal.getFont(Qe[wt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){mt=Qe[wt],ht="normal";break}}if(mt===""){for(var Ze=0;Ze<Qe.length;Ze++)if(os[Qe[Ze]]){mt=os[Qe[Ze]];break}}mt=mt===""?"Times":mt,this.pdf.setFont(mt,ht)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};u.prototype.setLineDash=function(_){this.lineDash=_},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){w.call(this,"fill",!1)},u.prototype.stroke=function(){w.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(_,z){if(isNaN(_)||isNaN(z))throw fs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new l(_,z));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new l(_,z)},u.prototype.closePath=function(){var _=new l(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&as(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){_=new l(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(_.x,_.y)},u.prototype.lineTo=function(_,z){if(isNaN(_)||isNaN(z))throw fs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new l(_,z));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new l(G.x,G.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},u.prototype.quadraticCurveTo=function(_,z,G,X){if(isNaN(G)||isNaN(X)||isNaN(_)||isNaN(z))throw fs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new l(G,X)),de=this.ctx.transform.applyToPoint(new l(_,z));this.path.push({type:"qct",x1:de.x,y1:de.y,x:J.x,y:J.y}),this.ctx.lastPoint=new l(J.x,J.y)},u.prototype.bezierCurveTo=function(_,z,G,X,J,de){if(isNaN(J)||isNaN(de)||isNaN(_)||isNaN(z)||isNaN(G)||isNaN(X))throw fs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new l(J,de)),le=this.ctx.transform.applyToPoint(new l(_,z)),ce=this.ctx.transform.applyToPoint(new l(G,X));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:ce.x,y2:ce.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new l(ge.x,ge.y)},u.prototype.arc=function(_,z,G,X,J,de){if(isNaN(_)||isNaN(z)||isNaN(G)||isNaN(X)||isNaN(J))throw fs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new l(_,z));_=ge.x,z=ge.y;var le=this.ctx.transform.applyToPoint(new l(0,G)),ce=this.ctx.transform.applyToPoint(new l(0,0));G=Math.sqrt(Math.pow(le.x-ce.x,2)+Math.pow(le.y-ce.y,2))}Math.abs(J-X)>=2*Math.PI&&(X=0,J=2*Math.PI),this.path.push({type:"arc",x:_,y:z,radius:G,startAngle:X,endAngle:J,counterclockwise:de})},u.prototype.arcTo=function(_,z,G,X,J){throw new Error("arcTo not implemented.")},u.prototype.rect=function(_,z,G,X){if(isNaN(_)||isNaN(z)||isNaN(G)||isNaN(X))throw fs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_,z),this.lineTo(_+G,z),this.lineTo(_+G,z+X),this.lineTo(_,z+X),this.lineTo(_,z),this.lineTo(_+G,z),this.lineTo(_,z)},u.prototype.fillRect=function(_,z,G,X){if(isNaN(_)||isNaN(z)||isNaN(G)||isNaN(X))throw fs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_,z,G,X),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},u.prototype.strokeRect=function(_,z,G,X){if(isNaN(_)||isNaN(z)||isNaN(G)||isNaN(X))throw fs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(_,z,G,X),this.stroke())},u.prototype.clearRect=function(_,z,G,X){if(isNaN(_)||isNaN(z)||isNaN(G)||isNaN(X))throw fs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_,z,G,X))},u.prototype.save=function(_){_=typeof _!="boolean"||_;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),_){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},u.prototype.restore=function(_){_=typeof _!="boolean"||_;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(z),_&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(_){var z,G,X,J;if(_.isCanvasGradient===!0&&(_=_.getColor()),!_)return{r:0,g:0,b:0,a:0,style:_};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_))z=0,G=0,X=0,J=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_);if(de!==null)z=parseInt(de[1]),G=parseInt(de[2]),X=parseInt(de[3]),J=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_))!==null)z=parseInt(de[1]),G=parseInt(de[2]),X=parseInt(de[3]),J=parseFloat(de[4]);else{if(J=1,typeof _=="string"&&_.charAt(0)!=="#"){var ge=new hF(_);_=ge.ok?ge.toHex():"#000000"}_.length===4?(z=_.substring(1,2),z+=z,G=_.substring(2,3),G+=G,X=_.substring(3,4),X+=X):(z=_.substring(1,3),G=_.substring(3,5),X=_.substring(5,7)),z=parseInt(z,16),G=parseInt(G,16),X=parseInt(X,16)}}return{r:z,g:G,b:X,a:J,style:_}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(_,z,G,X){if(isNaN(z)||isNaN(G)||typeof _!="string")throw fs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!h.call(this)){var J=D(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;P.call(this,{text:_,x:z,y:G,scale:de,angle:J,align:this.textAlign,maxWidth:X})}},u.prototype.strokeText=function(_,z,G,X){if(isNaN(z)||isNaN(G)||typeof _!="string")throw fs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){X=isNaN(X)?void 0:X;var J=D(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;P.call(this,{text:_,x:z,y:G,scale:de,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:X})}},u.prototype.measureText=function(_){if(typeof _!="string")throw fs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,G=this.pdf.internal.scaleFactor,X=z.internal.getFontSize(),J=z.getStringUnitWidth(_)*X/z.internal.scaleFactor;return new function(de){var ge=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:J*=Math.round(96*G/72*1e4)/1e4})},u.prototype.scale=function(_,z){if(isNaN(_)||isNaN(z))throw fs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new c(_,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},u.prototype.rotate=function(_){if(isNaN(_))throw fs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new c(Math.cos(_),Math.sin(_),-Math.sin(_),Math.cos(_),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},u.prototype.translate=function(_,z){if(isNaN(_)||isNaN(z))throw fs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new c(1,0,0,1,_,z);this.ctx.transform=this.ctx.transform.multiply(G)},u.prototype.transform=function(_,z,G,X,J,de){if(isNaN(_)||isNaN(z)||isNaN(G)||isNaN(X)||isNaN(J)||isNaN(de))throw fs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new c(_,z,G,X,J,de);this.ctx.transform=this.ctx.transform.multiply(ge)},u.prototype.setTransform=function(_,z,G,X,J,de){_=isNaN(_)?1:_,z=isNaN(z)?0:z,G=isNaN(G)?0:G,X=isNaN(X)?1:X,J=isNaN(J)?0:J,de=isNaN(de)?0:de,this.ctx.transform=new c(_,z,G,X,J,de)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(_,z,G,X,J,de,ge,le,ce){var ye=this.pdf.getImageProperties(_),Se=1,Le=1,be=1,ne=1;X!==void 0&&le!==void 0&&(be=le/X,ne=ce/J,Se=ye.width/X*le/X,Le=ye.height/J*ce/J),de===void 0&&(de=z,ge=G,z=0,G=0),X!==void 0&&le===void 0&&(le=X,ce=J),X===void 0&&le===void 0&&(le=ye.width,ce=ye.height);for(var It,bt=this.ctx.transform.decompose(),st=D(bt.rotate.shx),Fe=new c,Je=(Fe=(Fe=(Fe=Fe.multiply(bt.translate)).multiply(bt.skew)).multiply(bt.scale)).applyToRectangle(new o(de-z*be,ge-G*ne,X*Se,J*Le)),Qe=v.call(this,Je),vt=[],tt=0;tt<Qe.length;tt+=1)vt.indexOf(Qe[tt])===-1&&vt.push(Qe[tt]);if(j(vt),this.autoPaging)for(var $t=vt[0],ht=vt[vt.length-1],mt=$t;mt<ht+1;mt++){this.pdf.setPage(mt);var os=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=mt===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=mt===1?0:Ze+(mt-2)*it;if(this.ctx.clip_path.length!==0){var gs=this.path;It=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(It,this.posX+this.margin[3],-et+wt+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=gs}var Gt=JSON.parse(JSON.stringify(Je));Gt=b([Gt],this.posX+this.margin[3],-et+wt+this.ctx.prevPageLastElemOffset)[0];var qe=(mt>$t||mt<ht)&&p.call(this);qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],os,it,null).clip().discardPath()),this.pdf.addImage(_,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,st),qe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(_,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,st)};var v=function(_,z,G){var X=[];z=z||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(_.type){default:case"mt":case"lt":X.push(Math.floor((_.y+J)/G)+1);break;case"arc":X.push(Math.floor((_.y+J-_.radius)/G)+1),X.push(Math.floor((_.y+J+_.radius)/G)+1);break;case"qct":var de=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x,_.y);X.push(Math.floor((de.y+J)/G)+1),X.push(Math.floor((de.y+de.h+J)/G)+1);break;case"bct":var ge=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x2,_.y2,_.x,_.y);X.push(Math.floor((ge.y+J)/G)+1),X.push(Math.floor((ge.y+ge.h+J)/G)+1);break;case"rect":X.push(Math.floor((_.y+J)/G)+1),X.push(Math.floor((_.y+_.h+J)/G)+1)}for(var le=0;le<X.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<X[le];)x.call(this);return X},x=function(){var _=this.fillStyle,z=this.strokeStyle,G=this.font,X=this.lineCap,J=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=_,this.strokeStyle=z,this.font=G,this.lineCap=X,this.lineWidth=J,this.lineJoin=de},b=function(_,z,G){for(var X=0;X<_.length;X++)switch(_[X].type){case"bct":_[X].x2+=z,_[X].y2+=G;case"qct":_[X].x1+=z,_[X].y1+=G;default:_[X].x+=z,_[X].y+=G}return _},j=function(_){return _.sort(function(z,G){return z-G})},w=function(_,z){for(var G,X,J=this.fillStyle,de=this.strokeStyle,ge=this.lineCap,le=this.lineWidth,ce=Math.abs(le*this.ctx.transform.scaleX),ye=this.lineJoin,Se=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),be=[],ne=0;ne<Le.length;ne++)if(Le[ne].x!==void 0)for(var It=v.call(this,Le[ne]),bt=0;bt<It.length;bt+=1)be.indexOf(It[bt])===-1&&be.push(It[bt]);for(var st=0;st<be.length;st++)for(;this.pdf.internal.getNumberOfPages()<be[st];)x.call(this);if(j(be),this.autoPaging)for(var Fe=be[0],Je=be[be.length-1],Qe=Fe;Qe<Je+1;Qe++){this.pdf.setPage(Qe),this.fillStyle=J,this.strokeStyle=de,this.lineCap=ge,this.lineWidth=ce,this.lineJoin=ye;var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=Qe===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=Qe===1?0:$t+(Qe-2)*ht;if(this.ctx.clip_path.length!==0){var os=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(G,this.posX+this.margin[3],-mt+tt+this.ctx.prevPageLastElemOffset),S.call(this,_,!0),this.path=os}if(X=JSON.parse(JSON.stringify(Se)),this.path=b(X,this.posX+this.margin[3],-mt+tt+this.ctx.prevPageLastElemOffset),z===!1||Qe===0){var wt=(Qe>Fe||Qe<Je)&&p.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,ht,null).clip().discardPath()),S.call(this,_,z),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=ce,S.call(this,_,z),this.lineWidth=le;this.path=Se},S=function(_,z){if((_!=="stroke"||z||!g.call(this))&&(_==="stroke"||z||!h.call(this))){for(var G,X,J=[],de=this.path,ge=0;ge<de.length;ge++){var le=de[ge];switch(le.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:le,deltas:[],abs:[]});break;case"lt":var ce=J.length;if(de[ge-1]&&!isNaN(de[ge-1].x)&&(G=[le.x-de[ge-1].x,le.y-de[ge-1].y],ce>0)){for(;ce>=0;ce--)if(J[ce-1].close!==!0&&J[ce-1].begin!==!0){J[ce-1].deltas.push(G),J[ce-1].abs.push(le);break}}break;case"bct":G=[le.x1-de[ge-1].x,le.y1-de[ge-1].y,le.x2-de[ge-1].x,le.y2-de[ge-1].y,le.x-de[ge-1].x,le.y-de[ge-1].y],J[J.length-1].deltas.push(G);break;case"qct":var ye=de[ge-1].x+2/3*(le.x1-de[ge-1].x),Se=de[ge-1].y+2/3*(le.y1-de[ge-1].y),Le=le.x+2/3*(le.x1-le.x),be=le.y+2/3*(le.y1-le.y),ne=le.x,It=le.y;G=[ye-de[ge-1].x,Se-de[ge-1].y,Le-de[ge-1].x,be-de[ge-1].y,ne-de[ge-1].x,It-de[ge-1].y],J[J.length-1].deltas.push(G);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(le)}}X=z?null:_==="stroke"?"stroke":"fill";for(var bt=!1,st=0;st<J.length;st++)if(J[st].arc)for(var Fe=J[st].abs,Je=0;Je<Fe.length;Je++){var Qe=Fe[Je];Qe.type==="arc"?k.call(this,Qe.x,Qe.y,Qe.radius,Qe.startAngle,Qe.endAngle,Qe.counterclockwise,void 0,z,!bt):U.call(this,Qe.x,Qe.y),bt=!0}else if(J[st].close===!0)this.pdf.internal.out("h"),bt=!1;else if(J[st].begin!==!0){var vt=J[st].start.x,tt=J[st].start.y;R.call(this,J[st].deltas,vt,tt),bt=!0}X&&E.call(this,X),z&&O.call(this)}},F=function(_){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _-G;case"top":return _+z-G;case"hanging":return _+z-2*G;case"middle":return _+z/2-G;default:return _}},I=function(_){return _+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var _=function(){};return _.colorStops=[],_.addColorStop=function(z,G){this.colorStops.push([z,G])},_.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_.isCanvasGradient=!0,_},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(_,z,G,X,J,de,ge,le,ce){for(var ye=Z.call(this,G,X,J,de),Se=0;Se<ye.length;Se++){var Le=ye[Se];Se===0&&(ce?L.call(this,Le.x1+_,Le.y1+z):U.call(this,Le.x1+_,Le.y1+z)),V.call(this,_,z,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}le?O.call(this):E.call(this,ge)},E=function(_){switch(_){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(_,z){this.pdf.internal.out(r(_)+" "+n(z)+" m")},P=function(_){var z;switch(_.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var G=this.pdf.getTextDimensions(_.text),X=F.call(this,_.y),J=I.call(this,X)-G.h,de=this.ctx.transform.applyToPoint(new l(_.x,X)),ge=this.ctx.transform.decompose(),le=new c;le=(le=(le=le.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var ce,ye,Se,Le=this.ctx.transform.applyToRectangle(new o(_.x,X,G.w,G.h)),be=le.applyToRectangle(new o(_.x,J,G.w,G.h)),ne=v.call(this,be),It=[],bt=0;bt<ne.length;bt+=1)It.indexOf(ne[bt])===-1&&It.push(ne[bt]);if(j(It),this.autoPaging)for(var st=It[0],Fe=It[It.length-1],Je=st;Je<Fe+1;Je++){this.pdf.setPage(Je);var Qe=Je===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],$t=tt-this.margin[0],ht=this.pdf.internal.pageSize.width-this.margin[1],mt=ht-this.margin[3],os=Je===1?0:vt+(Je-2)*$t;if(this.ctx.clip_path.length!==0){var wt=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ce,this.posX+this.margin[3],-1*os+Qe),S.call(this,"fill",!0),this.path=wt}var Ze=b([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-os+Qe+this.ctx.prevPageLastElemOffset)[0];_.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*_.scale),Se=this.lineWidth,this.lineWidth=Se*_.scale);var it=this.autoPaging!=="text";if(it||Ze.y+Ze.h<=tt){if(it||Ze.y>=Qe&&Ze.x<=ht){var et=it?_.text:this.pdf.splitTextToSize(_.text,_.maxWidth||ht-Ze.x)[0],gs=b([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-os+Qe+this.ctx.prevPageLastElemOffset)[0],Gt=it&&(Je>st||Je<Fe)&&p.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,$t,null).clip().discardPath()),this.pdf.text(et,gs.x,gs.y,{angle:_.angle,align:z,renderingMode:_.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else Ze.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-Ze.y);_.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Se)}else _.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*_.scale),Se=this.lineWidth,this.lineWidth=Se*_.scale),this.pdf.text(_.text,de.x+this.posX,de.y+this.posY,{angle:_.angle,align:z,renderingMode:_.renderingMode,maxWidth:_.maxWidth}),_.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=Se)},U=function(_,z,G,X){G=G||0,X=X||0,this.pdf.internal.out(r(_+G)+" "+n(z+X)+" l")},R=function(_,z,G){return this.pdf.lines(_,z,G,null,null)},V=function(_,z,G,X,J,de,ge,le){this.pdf.internal.out([t(a(G+_)),t(i(X+z)),t(a(J+_)),t(i(de+z)),t(a(ge+_)),t(i(le+z)),"c"].join(" "))},Z=function(_,z,G,X){for(var J=2*Math.PI,de=Math.PI/2;z>G;)z-=J;var ge=Math.abs(G-z);ge<J&&X&&(ge=J-ge);for(var le=[],ce=X?-1:1,ye=z;ge>1e-5;){var Se=ye+ce*Math.min(ge,de);le.push(ae.call(this,_,ye,Se)),ge-=Math.abs(Se-ye),ye=Se}return le},ae=function(_,z,G){var X=(G-z)/2,J=_*Math.cos(X),de=_*Math.sin(X),ge=J,le=-de,ce=ge*ge+le*le,ye=ce+ge*J+le*de,Se=4/3*(Math.sqrt(2*ce*ye)-ye)/(ge*de-le*J),Le=ge-Se*le,be=le+Se*ge,ne=Le,It=-be,bt=X+z,st=Math.cos(bt),Fe=Math.sin(bt);return{x1:_*Math.cos(z),y1:_*Math.sin(z),x2:Le*st-be*Fe,y2:Le*Fe+be*st,x3:ne*st-It*Fe,y3:ne*Fe+It*st,x4:_*Math.cos(G),y4:_*Math.sin(G)}},D=function(_){return 180*_/Math.PI},Y=function(_,z,G,X,J,de){var ge=_+.5*(G-_),le=z+.5*(X-z),ce=J+.5*(G-J),ye=de+.5*(X-de),Se=Math.min(_,J,ge,ce),Le=Math.max(_,J,ge,ce),be=Math.min(z,de,le,ye),ne=Math.max(z,de,le,ye);return new o(Se,be,Le-Se,ne-be)},re=function(_,z,G,X,J,de,ge,le){var ce,ye,Se,Le,be,ne,It,bt,st,Fe,Je,Qe,vt,tt,$t=G-_,ht=X-z,mt=J-G,os=de-X,wt=ge-J,Ze=le-de;for(ye=0;ye<41;ye++)st=(It=(Se=_+(ce=ye/40)*$t)+ce*((be=G+ce*mt)-Se))+ce*(be+ce*(J+ce*wt-be)-It),Fe=(bt=(Le=z+ce*ht)+ce*((ne=X+ce*os)-Le))+ce*(ne+ce*(de+ce*Ze-ne)-bt),ye==0?(Je=st,Qe=Fe,vt=st,tt=Fe):(Je=Math.min(Je,st),Qe=Math.min(Qe,Fe),vt=Math.max(vt,st),tt=Math.max(tt,Fe));return new o(Math.round(Je),Math.round(Qe),Math.round(vt-Je),Math.round(tt-Qe))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _,z,G=(_=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:_,lineDashOffset:z}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Ye.API),function(e){var t=function(l){var o,c,A,d,u,m,h,g,p,v;for(c=[],A=0,d=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;d>A;A+=4)(u=(l.charCodeAt(A)<<24)+(l.charCodeAt(A+1)<<16)+(l.charCodeAt(A+2)<<8)+l.charCodeAt(A+3))!==0?(m=(u=((u=((u=((u=(u-(v=u%85))/85)-(p=u%85))/85)-(g=u%85))/85)-(h=u%85))/85)%85,c.push(m+33,h+33,g+33,p+33,v+33)):c.push(122);return function(x,b){for(var j=b;j>0;j--)x.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},r=function(l){var o,c,A,d,u,m=String,h="length",g=255,p="charCodeAt",v="slice",x="replace";for(l[v](-2),l=l[v](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),A=[],d=0,u=(l+=o="uuuuu"[v](l[h]%5||5))[h];u>d;d+=5)c=52200625*(l[p](d)-33)+614125*(l[p](d+1)-33)+7225*(l[p](d+2)-33)+85*(l[p](d+3)-33)+(l[p](d+4)-33),A.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(b,j){for(var w=j;w>0;w--)b.pop()}(A,o[h]),m.fromCharCode.apply(m,A)},n=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var c="",A=0;A<l.length;A+=2)c+=String.fromCharCode("0x"+(l[A]+l[A+1]));return c},i=function(l){for(var o=new Uint8Array(l.length),c=l.length;c--;)o[c]=l.charCodeAt(c);return(o=Fv(o)).reduce(function(A,d){return A+String.fromCharCode(d)},"")};e.processDataByFilters=function(l,o){var c=0,A=l||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":A=r(A),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=t(A),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=a(A),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=n(A),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=i(A),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:A,reverseChain:d.reverse().join(" ")}}}(Ye.API),function(e){e.loadFile=function(t,r,n){return function(a,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=function(c,A,d){var u=new XMLHttpRequest,m=0,h=function(g){var p=g.length,v=[],x=String.fromCharCode;for(m=0;m<p;m+=1)v.push(x(255&g.charCodeAt(m)));return v.join("")};if(u.open("GET",c,!A),u.overrideMimeType("text/plain; charset=x-user-defined"),A===!1&&(u.onload=function(){u.status===200?d(h(this.responseText)):d(void 0)}),u.send(null),A&&u.status===200)return h(u.responseText)}(a,i,l)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Ye.API),function(e){function t(){return(ot.html2canvas?Promise.resolve(ot.html2canvas):fh(()=>Promise.resolve().then(()=>BW),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(ot.DOMPurify?Promise.resolve(ot.DOMPurify):fh(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=as(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(o,c){var A=document.createElement(o);for(var d in c.className&&(A.className=c.className),c.innerHTML&&c.dompurify&&(A.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)A.style[d]=c.style[d];return A},i=function o(c,A){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),u=c.firstChild;u;u=u.nextSibling)A!==!0&&u.nodeType===1&&u.nodeName==="SCRIPT"||d.appendChild(o(u,A));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},l=function o(c){var A=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),A);return(d=d.setProgress(1,o,1,[o])).set(c)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,c){return o.__proto__=c||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(A){switch(n(A)){case"string":return"string";case"element":return A.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),c){case"string":return this.then(r).then(function(A){return this.set({src:a("div",{innerHTML:o,dompurify:A})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var A=Object.assign({},this.opt.html2canvas);return delete A.onrendered,c(this.prop.container,A)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var A=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,A.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,A.context2d.posX=this.opt.x,A.context2d.posY=this.opt.y,A.context2d.margin=this.opt.margin,A.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var g=d[h],p=g.src.find(function(v){return v.format==="truetype"});p&&A.addFont(p.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,A.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,c,A){return(A=A||"pdf").toLowerCase()==="img"||A.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},l.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(A){if(A in l.template.prop)return function(){this.prop[A]=o[A]};switch(A){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[A]=o[A]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(o,c){return this.then(function(){var A=o in l.template.prop?this.prop[o]:this.opt[o];return c?c(A):A})},l.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function c(A,d){return Math.floor(A*d/72*96)}return this.then(function(){(o=o||Ye.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,c,A,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),A!=null&&(this.progress.n=A),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,c,A,d){return this.setProgress(o?this.progress.val+o:null,c||null,A?this.progress.n+A:null,d?this.progress.stack.concat(d):null)},l.prototype.then=function(o,c){var A=this;return this.thenCore(o,c,function(d,u){return A.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return A.updateProgress(null,d),m}).then(d,u).then(function(m){return A.updateProgress(1),m})})},l.prototype.thenCore=function(o,c,A){A=A||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),c&&(c=c.bind(d));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:l.convert(Object.assign({},d),Promise.prototype),m=A.call(u,o,c);return l.convert(m,d.__proto__)},l.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},l.prototype.thenList=function(o){var c=this;return o.forEach(function(A){c=c.thenCore(A)}),c},l.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return l.convert(c,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Ye.getPageSize=function(o,c,A){if(as(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,A=d.format||A}c=c||"mm",A=A||"a4",o=(""+(o||"P")).toLowerCase();var u,m=(""+A).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+c}var g,p=0,v=0;if(h.hasOwnProperty(m))p=h[m][1]/u,v=h[m][0]/u;else try{p=A[1],v=A[0]}catch{throw new Error("Invalid format: "+A)}if(o==="p"||o==="portrait")o="p",v>p&&(g=v,v=p,p=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",p>v&&(g=v,v=p,p=g)}return{width:v,height:p,unit:c,k:u,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Ky):null;var A=new l(c);return c.worker?A:A.from(o).doCallback()}}(Ye.API),Ye.API.addJS=function(e){return r4=e,this.internal.events.subscribe("postPutResources",function(){Jf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Jf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),s4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Jf!==void 0&&s4!==void 0&&this.internal.out("/Names <</JavaScript "+Jf+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var l=a[i],o=n.exec(l);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,d=[];for(i=0;i<A;i++){var u=r.internal.newObject();d.push(u);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var l={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var l=n.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var c=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var A=0;A<n.children.length;A++)this.renderItems(n.children[A])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Ye.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,l,o){var c,A=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(u){for(var m,h=256*u.charCodeAt(4)+u.charCodeAt(5),g=u.length,p={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=h,t.indexOf(u.charCodeAt(v+1))!==-1){m=256*u.charCodeAt(v+5)+u.charCodeAt(v+6),p={width:256*u.charCodeAt(v+7)+u.charCodeAt(v+8),height:m,numcomponents:u.charCodeAt(v+9)};break}h=256*u.charCodeAt(v+2)+u.charCodeAt(v+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:A,index:n,alias:a}}return d}}(Ye.API),Ye.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=pK(e,{checkCrc:!0}),l=i.width,o=i.height,c=i.channels,A=i.palette,d=i.depth;a=A&&c===1?function(I){for(var k=I.width,E=I.height,O=I.data,L=I.palette,P=I.depth,U=!1,R=[],V=[],Z=void 0,ae=!1,D=0,Y=0;Y<L.length;Y++){var re=X5(L[Y],4),q=re[0],_=re[1],z=re[2],G=re[3];R.push(q,_,z),G!=null&&(G===0?(D++,V.length<1&&V.push(Y)):G<255&&(ae=!0))}if(ae||D>1){U=!0,V=void 0;var X=k*E;Z=new Uint8Array(X);for(var J=new DataView(O.buffer),de=0;de<X;de++){var ge=Vy(J,de,P),le=X5(L[ge],4)[3];Z[de]=le}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:O,alphaBytes:Z,needSMask:U,palette:R,mask:V}}(i):c===2||c===4?function(I){for(var k=I.data,E=I.width,O=I.height,L=I.channels,P=I.depth,U=L===2?"DeviceGray":"DeviceRGB",R=L-1,V=E*O,Z=R,ae=V*Z,D=1*V,Y=Math.ceil(ae*P/8),re=Math.ceil(D*P/8),q=new Uint8Array(Y),_=new Uint8Array(re),z=new DataView(k.buffer),G=new DataView(q.buffer),X=new DataView(_.buffer),J=!1,de=0;de<V;de++){for(var ge=de*L,le=0;le<Z;le++)u4(G,Vy(z,ge+le,P),de*Z+le,P);var ce=Vy(z,ge+Z,P);ce<(1<<P)-1&&(J=!0),u4(X,ce,1*de,P)}return{colorSpace:U,colorsPerPixel:R,colorBytes:q,alphaBytes:_,needSMask:J}}(i):function(I){var k=I.data,E=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:E,colorsPerPixel:E==="DeviceGray"?1:3,colorBytes:k instanceof Uint8Array?k:new Uint8Array(k.buffer),needSMask:!1}}(i);var u,m,h,g=a,p=g.colorSpace,v=g.colorsPerPixel,x=g.colorBytes,b=g.alphaBytes,j=g.needSMask,w=g.palette,S=g.mask,F=null;return n!==Ye.API.image_compression.NONE&&typeof Fv=="function"?(F=function(I){var k;switch(I){case Ye.API.image_compression.FAST:k=11;break;case Ye.API.image_compression.MEDIUM:k=13;break;case Ye.API.image_compression.SLOW:k=14;break;default:k=12}return k}(n),u=this.decode.FLATE_DECODE,m="/Predictor ".concat(F," "),e=l4(x,l*v,v,n),j&&(h=l4(b,l,1,n))):(u=void 0,m="",e=x,j&&(h=b)),m+="/Colors ".concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(l),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:u,decodeParameters:m,transparency:S,palette:w,sMask:h,predictor:F,width:l,height:o,bitsPerComponent:d,colorSpace:p}}},function(e){e.processGIF89A=function(t,r,n,a){var i=new TK(t),l=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var A={data:c,width:l,height:o},d=new $y(100).encode(A,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Ye.API),Oa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Oa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){fs.log("bit decode error:"+r)}},Oa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[l+4*o]=c.blue,this.data[l+4*o+1]=c.green,this.data[l+4*o+2]=c.red,this.data[l+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Oa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*a*4,o=i>>4,c=15&i,A=this.palette[o];if(this.data[l]=A.blue,this.data[l+1]=A.green,this.data[l+2]=A.red,this.data[l+3]=255,2*a+1>=this.width)break;A=this.palette[c],this.data[l+4]=A.blue,this.data[l+4+1]=A.green,this.data[l+4+2]=A.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},Oa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var l=this.palette[a];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Oa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,A=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=l,this.data[d+3]=A}this.pos+=e}},Oa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,c=(l>>5&r)/r*255|0,A=(l>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=A,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Oa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},Oa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=l}},Oa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Oa(t,!1),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},A=new $y(100).encode(c,100);return e.processJPEG.call(this,A,r,n,a)}}(Ye.API),m4.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new m4(t),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},A=new $y(100).encode(c,100);return e.processJPEG.call(this,A,r,n,a)}}(Ye.API),Ye.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),l=new Uint8Array(a/4),o=0,c=0,A=0;A<a;A+=4){var d=n[A],u=n[A+1],m=n[A+2],h=n[A+3];i[o++]=d,i[o++]=u,i[o++]=m,l[c++]=h}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ye.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pA=Ye.API,Zf=pA.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,c=o.fof?o.fof:1,A=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=A.fof?A.fof:1,u=t.doKerning!==!1,m=0,h=e.length,g=0,p=o[0]||c,v=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+l*(1e3/i)||0)/1e3):(m=u&&as(A[n])==="object"&&!isNaN(parseInt(A[n][g],10))?A[n][g]/d:0,v.push((o[n]||p)/c+m)),g=n;return v},n4=pA.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return pA.processArabic&&(e=pA.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Zf.apply(this,arguments).reduce(function(i,l){return i+l},0)},a4=function(e,t,r,n){for(var a=[],i=0,l=e.length,o=0;i!==l&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var c=i;for(o=0;i!==l;)o+t[i]>n&&(a.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},i4=function(e,t,r){r||(r={});var n,a,i,l,o,c,A,d=[],u=[d],m=r.textIndent||0,h=0,g=0,p=e.split(" "),v=Zf.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),b=[];p.map(function(w){(w=w.split(/\s*\n/)).length>1?b=b.concat(w.map(function(S,F){return(F&&S.length?`
`:"")+S})):b.push(w[0])}),p=b,c=n4.apply(this,[x,r])}for(i=0,l=p.length;i<l;i++){var j=0;if(n=p[i],c&&n[0]==`
`&&(n=n.substr(1),j=1),m+h+(g=(a=Zf.apply(this,[n,r])).reduce(function(w,S){return w+S},0))>t||j){if(g>t){for(o=a4.apply(this,[n,a,t-(m+h),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);g=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(w,S){return w+S},0)}else d=[n];u.push(d),m=g+c,h=v}else d.push(n),m+=h+g,h=v}return A=c?function(w,S){return(S?x:"")+w.join(" ")}:function(w){return w.join(" ")},u.map(A)},pA.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var u=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return u.metadata[m]?{widths:u.metadata[m].widths||{0:1},kerning:u.metadata[m].kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,c,A=[];for(o=0,c=n.length;o<c;o++)A=A.concat(i4.apply(this,[n[o],l,i]));return A},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var l=function(m){return"0x"+parseInt(m,10).toString(16)},o=e.__fontmetrics__.compress=function(m){var h,g,p,v,x=["{"];for(var b in m){if(h=m[b],isNaN(parseInt(b,10))?g="'"+b+"'":(b=parseInt(b,10),g=(g=l(b).slice(2)).slice(0,-1)+a[g.slice(-1)]),typeof h=="number")h<0?(p=l(h).slice(3),v="-"):(p=l(h).slice(2),v=""),p=v+p.slice(0,-1)+a[p.slice(-1)];else{if(as(h)!=="object")throw new Error("Don't know what to do with value type "+as(h)+".");p=o(h)}x.push(g+p)}return x.push("}"),x.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,p,v,x={},b=1,j=x,w=[],S="",F="",I=m.length-1,k=1;k<I;k+=1)(v=m[k])=="'"?h?(p=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(w.push([j,p]),j={},p=void 0):v=="}"?((g=w.pop())[0][g[1]]=j,p=void 0,j=g[0]):v=="-"?b=-1:p===void 0?n.hasOwnProperty(v)?(S+=n[v],p=parseInt(S,16)*b,b=1,S=""):S+=v:n.hasOwnProperty(v)?(F+=n[v],j[p]=parseInt(F,16)*b,b=1,p=void 0,F=""):F+=v;return x},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},u={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var h=m.font,g=u.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode.encoding=p,h.encoding=p.codePages[0])}])}(Ye.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(X0(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,n)}}])}(Ye),Ye.API.addSvgAsImage=function(e,t,r,n,a,i,l,o){if(isNaN(t)||isNaN(r))throw fs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw fs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var A=c.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(ot.canvg?Promise.resolve(ot.canvg):fh(()=>import("./index.es-D24HcKqY.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(A,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){u.addImage(c.toDataURL("image/jpeg",1),t,r,n,a,l,o)})},Ye.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Ye.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),c=[],A=0,d=0,u=0;function m(g,p){var v,x=!1;for(v=0;v<g.length;v+=1)g[v]===p&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(u=0;u<h;u+=1)r[o[u]].value=r[o[u]].defaultValue,r[o[u]].explicitSet=!1}if(as(e)==="object"){for(a in e)if(i=e[a],m(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&m(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(A=0;A<i.length;A+=1)if(n=!0,i[A].length===1&&typeof i[A][0]=="number")c.push(String(i[A]-1));else if(i[A].length>1){for(d=0;d<i[A].length;d+=1)typeof i[A][d]!="number"&&(n=!1);n===!0&&c.push([i[A][0]-1,i[A][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,p=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?p.push("/"+g+" /"+r[g].value):p.push("/"+g+" "+r[g].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),A=i.length+l.length+o.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(a+i+l+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Ye.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,l){for(var o,c=l.metadata.Unicode.widths,A=["","0","00","000","0000"],d=[""],u=0,m=i.length;u<m;++u){if(o=l.metadata.characterToGlyph(i.charCodeAt(u)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=i.charCodeAt(u),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(A[4-o.length],o)}return d.join("")},n=function(i){var l,o,c,A,d,u,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],u=0,m=(o=Object.keys(i).sort(function(h,g){return h-g})).length;u<m;u++)l=o[u],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(A=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+A+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,A=l.newObject,d=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var u=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",g=0;g<m.length;g++)h+=String.fromCharCode(m[g]);var p=A();d({data:h,addLength1:!0,objectId:p}),c("endobj");var v=A();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=A();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+CA(o.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var b=A();c("<<"),c("/Type /Font"),c("/BaseFont /"+CA(o.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(u)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=A(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+CA(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,A=l.newObject,d=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var u=o.metadata.rawData,m="",h=0;h<u.length;h++)m+=String.fromCharCode(u[h]);var g=A();d({data:m,addLength1:!0,objectId:g}),c("endobj");var p=A();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var v=A();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+CA(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=A();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+CA(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var l,o=i.text||"",c=i.x,A=i.y,d=i.options||{},u=i.mutex||{},m=u.pdfEscape,h=u.activeFontKey,g=u.fonts,p=h,v="",x=0,b="",j=g[p].encoding;if(g[p].encoding!=="Identity-H")return{text:o,x:c,y:A,options:d,mutex:u};for(b=o,p=h,Array.isArray(o)&&(b=o[0]),x=0;x<b.length;x+=1)g[p].metadata.hasOwnProperty("cmap")&&(l=g[p].metadata.cmap.unicode.codeMap[b[x].charCodeAt(0)]),l||b[x].charCodeAt(0)<256&&g[p].metadata.hasOwnProperty("Unicode")?v+=b[x]:v+="";var w="";return parseInt(p.slice(1))<14||j==="WinAnsiEncoding"?w=m(v,p).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(w=r(v,g[p])),u.isHex=!0,{text:w,x:c,y:A,options:d,mutex:u}};t.events.push(["postProcessText",function(i){var l=i.text||"",o=[],c={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var A=0;for(A=0;A<l.length;A+=1)Array.isArray(l[A])&&l[A].length===3?o.push([a(Object.assign({},c,{text:l[A][0]})).text,l[A][1],l[A][2]]):o.push(a(Object.assign({},c,{text:l[A]})).text);i.text=o}else i.text=a(Object.assign({},c,{text:l})).text}])}(Ye),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ye.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,l,o,c,A,d,u=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,j=0;this.__bidiEngine__={};var w=function(L){var P=L.charCodeAt(),U=P>>8,R=p[U];return R!==void 0?u[256*R+(255&P)]:U===252||U===253?"AL":x.test(U)?"L":U===8?"R":"N"},S=function(L){for(var P,U=0;U<L.length;U++){if((P=w(L.charAt(U)))==="L")return!1;if(P==="R")return!0}return!1},F=function(L,P,U,R){var V,Z,ae,D,Y=P[R];switch(Y){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(Y="AN");break;case"AL":b=!0,Y="R";break;case"WS":case"BN":Y="N";break;case"CS":R<1||R+1>=P.length||(V=U[R-1])!=="EN"&&V!=="AN"||(Z=P[R+1])!=="EN"&&Z!=="AN"?Y="N":b&&(Z="AN"),Y=Z===V?Z:"N";break;case"ES":Y=(V=R>0?U[R-1]:"B")==="EN"&&R+1<P.length&&P[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&U[R-1]==="EN"){Y="EN";break}if(b){Y="N";break}for(ae=R+1,D=P.length;ae<D&&P[ae]==="ET";)ae++;Y=ae<D&&P[ae]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(D=P.length,ae=R+1;ae<D&&P[ae]==="NSM";)ae++;if(ae<D){var re=L[R],q=re>=1425&&re<=2303||re===64286;if(V=P[ae],q&&(V==="R"||V==="AL")){Y="R";break}}}Y=R<1||(V=P[R-1])==="B"?"N":U[R-1];break;case"B":b=!1,a=!0,Y=j;break;case"S":i=!0,Y="N"}return Y},I=function(L,P,U){var R=L.split("");return U&&k(R,U,{hiLevel:j}),R.reverse(),P&&P.reverse(),R.join("")},k=function(L,P,U){var R,V,Z,ae,D,Y=-1,re=L.length,q=0,_=[],z=j?h:m,G=[];for(b=!1,a=!1,i=!1,V=0;V<re;V++)G[V]=w(L[V]);for(Z=0;Z<re;Z++){if(D=q,_[Z]=F(L,G,_,Z),R=240&(q=z[D][g[_[Z]]]),q&=15,P[Z]=ae=z[q][5],R>0)if(R===16){for(V=Y;V<Z;V++)P[V]=1;Y=-1}else Y=-1;if(z[q][6])Y===-1&&(Y=Z);else if(Y>-1){for(V=Y;V<Z;V++)P[V]=ae;Y=-1}G[Z]==="B"&&(P[Z]=0),U.hiLevel|=ae}i&&function(X,J,de){for(var ge=0;ge<de;ge++)if(X[ge]==="S"){J[ge]=j;for(var le=ge-1;le>=0&&X[le]==="WS";le--)J[le]=j}}(G,P,re)},E=function(L,P,U,R,V){if(!(V.hiLevel<L)){if(L===1&&j===1&&!a)return P.reverse(),void(U&&U.reverse());for(var Z,ae,D,Y,re=P.length,q=0;q<re;){if(R[q]>=L){for(D=q+1;D<re&&R[D]>=L;)D++;for(Y=q,ae=D-1;Y<ae;Y++,ae--)Z=P[Y],P[Y]=P[ae],P[ae]=Z,U&&(Z=U[Y],U[Y]=U[ae],U[ae]=Z);q=D}q++}}},O=function(L,P,U){var R=L.split(""),V={hiLevel:j};return U||(U=[]),k(R,U,V),function(Z,ae,D){if(D.hiLevel!==0&&d)for(var Y,re=0;re<Z.length;re++)ae[re]===1&&(Y=v.indexOf(Z[re]))>=0&&(Z[re]=v[Y+1])}(R,U,V),E(2,R,P,U,V),E(1,R,P,U,V),R.join("")};return this.__bidiEngine__.doBidiReorder=function(L,P,U){if(function(V,Z){if(Z)for(var ae=0;ae<V.length;ae++)Z[ae]=ae;o===void 0&&(o=S(V)),A===void 0&&(A=S(V))}(L,P),l||!c||A)if(l&&c&&o^A)j=o?1:0,L=I(L,P,U);else if(!l&&c&&A)j=o?1:0,L=O(L,P,U),L=I(L,P);else if(!l||o||c||A){if(l&&!c&&o^A)L=I(L,P),o?(j=0,L=O(L,P,U)):(j=1,L=O(L,P,U),L=I(L,P));else if(l&&o&&!c&&A)j=1,L=O(L,P,U),L=I(L,P);else if(!l&&!c&&o^A){var R=d;o?(j=1,L=O(L,P,U),j=0,d=!1,L=O(L,P,U),d=R):(j=0,L=O(L,P,U),L=I(L,P),j=1,d=!1,L=O(L,P,U),d=R,L=I(L,P))}}else j=0,L=O(L,P,U);else j=o?1:0,L=O(L,P,U);return L},this.__bidiEngine__.setOptions=function(L){L&&(l=L.isInputVisual,c=L.isOutputVisual,o=L.isInputRtl,A=L.isOutputRtl,d=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(l=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?l.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):l.push([r.doBidiReorder(a[o])]);n.text=l}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Ye),Ye.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new _o(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new ez(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new RK(this.contents),this.head=new HK(this),this.name=new GK(this),this.cmap=new NF(this),this.toUnicode={},this.hhea=new KK(this),this.maxp=new qK(this),this.hmtx=new WK(this),this.post=new VK(this),this.os2=new zK(this),this.loca=new ZK(this),this.glyf=new YK(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,c,A;for(A=[],l=0,o=(c=this.bbox).length;l<o;l++)t=c[l],A.push(Math.round(t*this.scaleFactor));return A}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,l,o;for(l=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return l*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ri,_o=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,l,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^l)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*l+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),RK=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,l,o,c,A,d,u,m,h,g,p;for(p in h=Object.keys(r).length,c=Math.log(2),u=16*Math.floor(Math.log(h)/c),l=Math.floor(u/c),d=16*h-u,(a=new _o).writeInt(this.scalarType),a.writeShort(h),a.writeShort(u),a.writeShort(l),a.writeShort(d),i=16*h,A=a.pos+i,o=null,g=[],r)for(m=r[p],a.writeString(p),a.writeInt(e(m)),a.writeInt(A),a.writeInt(m.length),g=g.concat(m),p==="head"&&(o=A),A+=m.length;A%4;)g.push(0),A++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,l;for(r=BF.call(r);r.length%4;)r.push(0);for(i=new _o(r),a=0,n=0,l=r.length;n<l;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),OK={}.hasOwnProperty,Qi=function(e,t){for(var r in t)OK.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ri=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var HK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qi(e,ri),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new _o).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),f4=function(){function e(t,r){var n,a,i,l,o,c,A,d,u,m,h,g,p,v,x,b,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),m=h/2,t.pos+=6,i=function(){var w,S;for(S=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)S.push(t.readUInt16());return S}(),t.pos+=2,p=function(){var w,S;for(S=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)S.push(t.readUInt16());return S}(),A=function(){var w,S;for(S=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)S.push(t.readUInt16());return S}(),d=function(){var w,S;for(S=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)S.push(t.readUInt16());return S}(),a=(this.length-t.pos+this.offset)/2,o=function(){var w,S;for(S=[],c=w=0;0<=a?w<a:w>a;c=0<=a?++w:--w)S.push(t.readUInt16());return S}(),c=x=0,j=i.length;x<j;c=++x)for(v=i[c],n=b=g=p[c];g<=v?b<=v:b>=v;n=g<=v?++b:--b)d[c]===0?l=n+A[c]:(l=o[d[c]/2+(n-g)-(m-c)]||0)!==0&&(l+=A[c]),this.codeMap[n]=65535&l}t.pos=u}return e.encode=function(t,r){var n,a,i,l,o,c,A,d,u,m,h,g,p,v,x,b,j,w,S,F,I,k,E,O,L,P,U,R,V,Z,ae,D,Y,re,q,_,z,G,X,J,de,ge,le,ce,ye,Se;switch(R=new _o,l=Object.keys(t).sort(function(Le,be){return Le-be}),r){case"macroman":for(p=0,v=function(){var Le=[];for(g=0;g<256;++g)Le.push(0);return Le}(),b={0:0},i={},V=0,Y=l.length;V<Y;V++)b[le=t[a=l[V]]]==null&&(b[le]=++p),i[a]={old:t[a],new:b[t[a]]},v[a]=b[t[a]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(v),{charMap:i,subtable:R.data,maxGlyphID:p+1};case"unicode":for(P=[],u=[],j=0,b={},n={},x=A=null,Z=0,re=l.length;Z<re;Z++)b[S=t[a=l[Z]]]==null&&(b[S]=++j),n[a]={old:S,new:b[S]},o=b[S]-a,x!=null&&o===A||(x&&u.push(x),P.push(a),A=o),x=a;for(x&&u.push(x),u.push(65535),P.push(65535),O=2*(E=P.length),k=2*Math.pow(Math.log(E)/Math.LN2,2),m=Math.log(k/2)/Math.LN2,I=2*E-k,c=[],F=[],h=[],g=ae=0,q=P.length;ae<q;g=++ae){if(L=P[g],d=u[g],L===65535){c.push(0),F.push(0);break}if(L-(U=n[L].new)>=32768)for(c.push(0),F.push(2*(h.length+E-g)),a=D=L;L<=d?D<=d:D>=d;a=L<=d?++D:--D)h.push(n[a].new);else c.push(U-L),F.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*E+2*h.length),R.writeUInt16(0),R.writeUInt16(O),R.writeUInt16(k),R.writeUInt16(m),R.writeUInt16(I),de=0,_=u.length;de<_;de++)a=u[de],R.writeUInt16(a);for(R.writeUInt16(0),ge=0,z=P.length;ge<z;ge++)a=P[ge],R.writeUInt16(a);for(ce=0,G=c.length;ce<G;ce++)o=c[ce],R.writeUInt16(o);for(ye=0,X=F.length;ye<X;ye++)w=F[ye],R.writeUInt16(w);for(Se=0,J=h.length;Se<J;Se++)p=h[Se],R.writeUInt16(p);return{charMap:n,subtable:R.data,maxGlyphID:j+1}}},e}(),NF=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qi(e,ri),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new f4(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=f4.encode(t,r),(a=new _o).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),KK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qi(e,ri),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),zK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qi(e,ri),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),VK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qi(e,ri),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var l,o,c;for(c=[],i=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;i=0<=o?++l:--l)c.push(t.readUInt32());return c}).call(this)}},e}(),$K=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},GK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qi(e,ri),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,l,o,c,A,d,u,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},i=d=0,u=n.length;d<u;i=++d)a=n[i],t.pos=a.offset,A=t.readString(a.length),l=new $K(A,a),c[m=a.nameID]==null&&(c[m]=[]),c[a.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),qK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qi(e,ri),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),WK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qi(e,ri),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,l,o,c;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var A,d;for(d=[],r=A=0;0<=a?A<a:A>a;r=0<=a?++A:--A)d.push(t.readInt16());return d}(),this.widths=(function(){var A,d,u,m;for(m=[],A=0,d=(u=this.metrics).length;A<d;A++)i=u[A],m.push(i.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),BF=[].slice,YK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qi(e,ri),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,l,o,c,A,d,u;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,l=(o=new _o(r.read(a))).readShort(),A=o.readShort(),u=o.readShort(),c=o.readShort(),d=o.readShort(),this.cache[t]=l===-1?new JK(o,A,u,c,d):new XK(o,l,A,u,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,l,o,c;for(l=[],i=[],o=0,c=r.length;o<c;o++)a=t[r[o]],i.push(l.length),a&&(l=l.concat(a.encode(n)));return i.push(l.length),{table:l,offsets:i}},e}(),XK=function(){function e(t,r,n,a,i,l){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),JK=function(){function e(t,r,n,a,i){var l,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new _o(BF.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),ZK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qi(e,ri),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,l=0;l<n.length;++l)if(n[l]=a,i<r.length&&r[i]==l){++i,n[l]=a;var o=this.offsets[l],c=this.offsets[l+1]-o;c>0&&(a+=c)}for(var A=new Array(4*n.length),d=0;d<n.length;++d)A[4*d+3]=255&n[d],A[4*d+2]=(65280&n[d])>>8,A[4*d+1]=(16711680&n[d])>>16,A[4*d]=(4278190080&n[d])>>24;return A},e}(),ez=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,l,o,c;for(a={},l=0,o=t.length;l<o;l++)a[i=t[l]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,l,o,c,A,d,u,m,h,g,p,v,x;for(a in n=NF.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),h={0:0},x=n.charMap)h[(c=x[a]).old]=c.new;for(g in m=n.maxGlyphID,l)g in h||(h[g]=m++);return d=function(b){var j,w;for(j in w={},b)w[b[j]]=j;return w}(h),u=Object.keys(d).sort(function(b,j){return b-j}),p=function(){var b,j,w;for(w=[],b=0,j=u.length;b<j;b++)o=u[b],w.push(d[o]);return w}(),i=this.font.glyf.encode(l,p,h),A=this.font.loca.encode(i.offsets,p),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Ye.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,l;if(Array.isArray(r))return"["+function(){var o,c,A;for(A=[],o=0,c=r.length;o<c;o++)n=r[o],A.push(t.convert(n));return A}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)l=r[a],i.push("/"+a+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+r},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kv=function(e,t){return Kv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Kv(e,t)};function ni(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Kv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var zv=function(){return zv=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zv.apply(this,arguments)};function fn(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{A(n.next(d))}catch(u){l(u)}}function c(d){try{A(n.throw(d))}catch(u){l(u)}}function A(d){d.done?i(d.value):a(d.value).then(o,c)}A((n=n.apply(e,[])).next())})}function sn(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,l;return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(A){return function(d){return c([A,d])}}function c(A){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=A[0]&2?a.return:A[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,A[1])).done)return i;switch(a=0,i&&(A=[A[0]&2,i.value]),A[0]){case 0:case 1:i=A;break;case 4:return r.label++,{value:A[1],done:!1};case 5:r.label++,a=A[1],A=[0];continue;case 7:A=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(A[0]===6||A[0]===2)){r=0;continue}if(A[0]===3&&(!i||A[1]>i[0]&&A[1]<i[3])){r.label=A[1];break}if(A[0]===6&&r.label<i[1]){r.label=i[1],i=A;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(A);break}i[2]&&r.ops.pop(),r.trys.pop();continue}A=t.call(e,r)}catch(d){A=[6,d],a=0}finally{n=i=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function e0(e,t,r){if(arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||t)}var jl=function(){function e(t,r,n,a){this.left=t,this.top=r,this.width=n,this.height=a}return e.prototype.add=function(t,r,n,a){return new e(this.left+t,this.top+r,this.width+n,this.height+a)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Rg=function(e,t){return jl.fromClientRect(e,t.getBoundingClientRect())},tz=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new jl(0,0,n,a)},Og=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},Zs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var l=e[a];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},x4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var t0=0;t0<x4.length;t0++)sz[x4.charCodeAt(t0)]=t0;var g4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var s0=0;s0<g4.length;s0++)Gu[g4.charCodeAt(s0)]=s0;var rz=function(e){var t=e.length*.75,r=e.length,n,a=0,i,l,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<r;n+=4)i=Gu[e.charCodeAt(n)],l=Gu[e.charCodeAt(n+1)],o=Gu[e.charCodeAt(n+2)],c=Gu[e.charCodeAt(n+3)],d[a++]=i<<2|l>>4,d[a++]=(l&15)<<4|o>>2,d[a++]=(o&3)<<6|c&63;return A},nz=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},az=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},kc=5,Jw=11,Gy=2,iz=Jw-kc,CF=65536>>kc,lz=1<<kc,qy=lz-1,oz=1024>>kc,cz=CF+oz,Az=cz,dz=32,uz=Az+dz,hz=65536>>Jw,mz=1<<iz,fz=mz-1,p4=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},xz=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},gz=function(e,t){var r=rz(e),n=Array.isArray(r)?az(r):new Uint32Array(r),a=Array.isArray(r)?nz(r):new Uint16Array(r),i=24,l=p4(a,i/2,n[4]/2),o=n[5]===2?p4(a,(i+n[4])/2):xz(n,Math.ceil((i+n[4])/4));return new pz(n[0],n[1],n[2],n[3],l,o)},pz=function(){function e(t,r,n,a,i,l){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=l}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>kc],r=(r<<Gy)+(t&qy),this.data[r];if(t<=65535)return r=this.index[CF+(t-55296>>kc)],r=(r<<Gy)+(t&qy),this.data[r];if(t<this.highStart)return r=uz-hz+(t>>Jw),r=this.index[r],r+=t>>kc&fz,r=this.index[r],r=(r<<Gy)+(t&qy),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),y4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var r0=0;r0<y4.length;r0++)yz[y4.charCodeAt(r0)]=r0;var bz="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",b4=50,vz=1,SF=2,EF=3,wz=4,jz=5,v4=7,FF=8,w4=9,lo=10,Vv=11,j4=12,$v=13,Nz=14,qu=15,Gv=16,n0=17,_u=18,Bz=19,N4=20,qv=21,Iu=22,Wy=23,yA=24,Gn=25,Wu=26,Yu=27,bA=28,Cz=29,Ac=30,Sz=31,a0=32,i0=33,Wv=34,Yv=35,Xv=36,om=37,Jv=38,sx=39,rx=40,Yy=41,kF=42,Ez=43,Fz=[9001,65288],_F="!",Lt="",l0="",Zv=gz(bz),sl=[Ac,Xv],e1=[vz,SF,EF,jz],IF=[lo,FF],B4=[Yu,Wu],kz=e1.concat(IF),C4=[Jv,sx,rx,Wv,Yv],_z=[qu,$v],Iz=function(e,t){t===void 0&&(t="strict");var r=[],n=[],a=[];return e.forEach(function(i,l){var o=Zv.get(i);if(o>b4?(a.push(!0),o-=b4):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(l),r.push(Gv);if(o===wz||o===Vv){if(l===0)return n.push(l),r.push(Ac);var c=r[l-1];return kz.indexOf(c)===-1?(n.push(n[l-1]),r.push(c)):(n.push(l),r.push(Ac))}if(n.push(l),o===Sz)return r.push(t==="strict"?qv:om);if(o===kF||o===Cz)return r.push(Ac);if(o===Ez)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(om):r.push(Ac);r.push(o)}),[n,r,a]},Xy=function(e,t,r,n){var a=n[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var i=r;i<=n.length;){i++;var l=n[i];if(l===t)return!0;if(l!==lo)break}if(a===lo)for(var i=r;i>0;){i--;var o=n[i];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var c=r;c<=n.length;){c++;var l=n[c];if(l===t)return!0;if(l!==lo)break}if(o!==lo)break}return!1},S4=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===lo)r--;else return n}return 0},Uz=function(e,t,r,n,a){if(r[n]===0)return Lt;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return Lt;var l=i-1,o=i+1,c=t[i],A=l>=0?t[l]:0,d=t[o];if(c===SF&&d===EF)return Lt;if(e1.indexOf(c)!==-1)return _F;if(e1.indexOf(d)!==-1||IF.indexOf(d)!==-1)return Lt;if(S4(i,t)===FF)return l0;if(Zv.get(e[i])===Vv||(c===a0||c===i0)&&Zv.get(e[o])===Vv||c===v4||d===v4||c===w4||[lo,$v,qu].indexOf(c)===-1&&d===w4||[n0,_u,Bz,yA,bA].indexOf(d)!==-1||S4(i,t)===Iu||Xy(Wy,Iu,i,t)||Xy([n0,_u],qv,i,t)||Xy(j4,j4,i,t))return Lt;if(c===lo)return l0;if(c===Wy||d===Wy)return Lt;if(d===Gv||c===Gv)return l0;if([$v,qu,qv].indexOf(d)!==-1||c===Nz||A===Xv&&_z.indexOf(c)!==-1||c===bA&&d===Xv||d===N4||sl.indexOf(d)!==-1&&c===Gn||sl.indexOf(c)!==-1&&d===Gn||c===Yu&&[om,a0,i0].indexOf(d)!==-1||[om,a0,i0].indexOf(c)!==-1&&d===Wu||sl.indexOf(c)!==-1&&B4.indexOf(d)!==-1||B4.indexOf(c)!==-1&&sl.indexOf(d)!==-1||[Yu,Wu].indexOf(c)!==-1&&(d===Gn||[Iu,qu].indexOf(d)!==-1&&t[o+1]===Gn)||[Iu,qu].indexOf(c)!==-1&&d===Gn||c===Gn&&[Gn,bA,yA].indexOf(d)!==-1)return Lt;if([Gn,bA,yA,n0,_u].indexOf(d)!==-1)for(var u=i;u>=0;){var m=t[u];if(m===Gn)return Lt;if([bA,yA].indexOf(m)!==-1)u--;else break}if([Yu,Wu].indexOf(d)!==-1)for(var u=[n0,_u].indexOf(c)!==-1?l:i;u>=0;){var m=t[u];if(m===Gn)return Lt;if([bA,yA].indexOf(m)!==-1)u--;else break}if(Jv===c&&[Jv,sx,Wv,Yv].indexOf(d)!==-1||[sx,Wv].indexOf(c)!==-1&&[sx,rx].indexOf(d)!==-1||[rx,Yv].indexOf(c)!==-1&&d===rx||C4.indexOf(c)!==-1&&[N4,Wu].indexOf(d)!==-1||C4.indexOf(d)!==-1&&c===Yu||sl.indexOf(c)!==-1&&sl.indexOf(d)!==-1||c===yA&&sl.indexOf(d)!==-1||sl.concat(Gn).indexOf(c)!==-1&&d===Iu&&Fz.indexOf(e[o])===-1||sl.concat(Gn).indexOf(d)!==-1&&c===_u)return Lt;if(c===Yy&&d===Yy){for(var h=r[i],g=1;h>0&&(h--,t[h]===Yy);)g++;if(g%2!==0)return Lt}return c===a0&&d===i0?Lt:l0},Lz=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=Iz(e,t.lineBreak),n=r[0],a=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(o){return[Gn,Ac,kF].indexOf(o)!==-1?om:o}));var l=t.wordBreak==="keep-all"?i.map(function(o,c){return o&&e[c]>=19968&&e[c]<=40959}):void 0;return[n,a,l]},Qz=function(){function e(t,r,n,a){this.codePoints=t,this.required=r===_F,this.start=n,this.end=a}return e.prototype.slice=function(){return Zs.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Pz=function(e,t){var r=Og(e),n=Lz(r,t),a=n[0],i=n[1],l=n[2],o=r.length,c=0,A=0;return{next:function(){if(A>=o)return{done:!0,value:null};for(var d=Lt;A<o&&(d=Uz(r,i,a,++A,l))===Lt;);if(d!==Lt||A===o){var u=new Qz(r,d,c,A);return c=A,{value:u,done:!1}}return{done:!0,value:null}}}},Dz=1,Mz=2,km=4,E4=8,Gx=10,F4=47,bh=92,Tz=9,Rz=32,o0=34,Uu=61,Oz=35,Hz=36,Kz=37,c0=39,A0=40,Lu=41,zz=95,Sn=45,Vz=33,$z=60,Gz=62,qz=64,Wz=91,Yz=93,Xz=61,Jz=123,d0=63,Zz=125,k4=124,eV=126,tV=128,_4=65533,Jy=42,wc=43,sV=44,rV=58,nV=59,cm=46,aV=0,iV=8,lV=11,oV=14,cV=31,AV=127,yi=-1,UF=48,LF=97,QF=101,dV=102,uV=117,hV=122,PF=65,DF=69,MF=70,mV=85,fV=90,nn=function(e){return e>=UF&&e<=57},xV=function(e){return e>=55296&&e<=57343},vA=function(e){return nn(e)||e>=PF&&e<=MF||e>=LF&&e<=dV},gV=function(e){return e>=LF&&e<=hV},pV=function(e){return e>=PF&&e<=fV},yV=function(e){return gV(e)||pV(e)},bV=function(e){return e>=tV},u0=function(e){return e===Gx||e===Tz||e===Rz},qx=function(e){return yV(e)||bV(e)||e===zz},I4=function(e){return qx(e)||nn(e)||e===Sn},vV=function(e){return e>=aV&&e<=iV||e===lV||e>=oV&&e<=cV||e===AV},Wl=function(e,t){return e!==bh?!1:t!==Gx},h0=function(e,t,r){return e===Sn?qx(t)||Wl(t,r):qx(e)?!0:!!(e===bh&&Wl(e,t))},Zy=function(e,t,r){return e===wc||e===Sn?nn(t)?!0:t===cm&&nn(r):nn(e===cm?t:e)},wV=function(e){var t=0,r=1;(e[t]===wc||e[t]===Sn)&&(e[t]===Sn&&(r=-1),t++);for(var n=[];nn(e[t]);)n.push(e[t++]);var a=n.length?parseInt(Zs.apply(void 0,n),10):0;e[t]===cm&&t++;for(var i=[];nn(e[t]);)i.push(e[t++]);var l=i.length,o=l?parseInt(Zs.apply(void 0,i),10):0;(e[t]===DF||e[t]===QF)&&t++;var c=1;(e[t]===wc||e[t]===Sn)&&(e[t]===Sn&&(c=-1),t++);for(var A=[];nn(e[t]);)A.push(e[t++]);var d=A.length?parseInt(Zs.apply(void 0,A),10):0;return r*(a+o*Math.pow(10,-l))*Math.pow(10,c*d)},jV={type:2},NV={type:3},BV={type:4},CV={type:13},SV={type:8},EV={type:21},FV={type:9},kV={type:10},_V={type:11},IV={type:12},UV={type:14},m0={type:23},LV={type:1},QV={type:25},PV={type:24},DV={type:26},MV={type:27},TV={type:28},RV={type:29},OV={type:31},t1={type:32},TF=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Og(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==t1;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case o0:return this.consumeStringToken(o0);case Oz:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(I4(r)||Wl(n,a)){var i=h0(r,n,a)?Mz:Dz,l=this.consumeName();return{type:5,value:l,flags:i}}break;case Hz:if(this.peekCodePoint(0)===Uu)return this.consumeCodePoint(),CV;break;case c0:return this.consumeStringToken(c0);case A0:return jV;case Lu:return NV;case Jy:if(this.peekCodePoint(0)===Uu)return this.consumeCodePoint(),UV;break;case wc:if(Zy(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case sV:return BV;case Sn:var o=t,c=this.peekCodePoint(0),A=this.peekCodePoint(1);if(Zy(o,c,A))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(h0(o,c,A))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Sn&&A===Gz)return this.consumeCodePoint(),this.consumeCodePoint(),PV;break;case cm:if(Zy(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case F4:if(this.peekCodePoint(0)===Jy)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===Jy&&(d=this.consumeCodePoint(),d===F4))return this.consumeToken();if(d===yi)return this.consumeToken()}break;case rV:return DV;case nV:return MV;case $z:if(this.peekCodePoint(0)===Vz&&this.peekCodePoint(1)===Sn&&this.peekCodePoint(2)===Sn)return this.consumeCodePoint(),this.consumeCodePoint(),QV;break;case qz:var u=this.peekCodePoint(0),m=this.peekCodePoint(1),h=this.peekCodePoint(2);if(h0(u,m,h)){var l=this.consumeName();return{type:7,value:l}}break;case Wz:return TV;case bh:if(Wl(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case Yz:return RV;case Xz:if(this.peekCodePoint(0)===Uu)return this.consumeCodePoint(),SV;break;case Jz:return _V;case Zz:return IV;case uV:case mV:var g=this.peekCodePoint(0),p=this.peekCodePoint(1);return g===wc&&(vA(p)||p===d0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case k4:if(this.peekCodePoint(0)===Uu)return this.consumeCodePoint(),FV;if(this.peekCodePoint(0)===k4)return this.consumeCodePoint(),EV;break;case eV:if(this.peekCodePoint(0)===Uu)return this.consumeCodePoint(),kV;break;case yi:return t1}return u0(t)?(this.consumeWhiteSpace(),OV):nn(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):qx(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Zs(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();vA(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===d0&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(Zs.apply(void 0,t.map(function(c){return c===d0?UF:c})),16),i=parseInt(Zs.apply(void 0,t.map(function(c){return c===d0?MF:c})),16);return{type:30,start:a,end:i}}var l=parseInt(Zs.apply(void 0,t),16);if(this.peekCodePoint(0)===Sn&&vA(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];vA(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var i=parseInt(Zs.apply(void 0,o),16);return{type:30,start:l,end:i}}else return{type:30,start:l,end:l}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===A0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===A0?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===yi)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===c0||r===o0){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===yi||this.peekCodePoint(0)===Lu)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),m0)}for(;;){var a=this.consumeCodePoint();if(a===yi||a===Lu)return{type:22,value:Zs.apply(void 0,t)};if(u0(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===yi||this.peekCodePoint(0)===Lu?(this.consumeCodePoint(),{type:22,value:Zs.apply(void 0,t)}):(this.consumeBadUrlRemnants(),m0);if(a===o0||a===c0||a===A0||vV(a))return this.consumeBadUrlRemnants(),m0;if(a===bh)if(Wl(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),m0;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;u0(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Lu||t===yi)return;Wl(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var a=Math.min(r,t);n+=Zs.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var a=this._value[n];if(a===yi||a===void 0||a===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===Gx)return this._value.splice(0,n),LV;if(a===bh){var i=this._value[n+1];i!==yi&&i!==void 0&&(i===Gx?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Wl(a,i)&&(r+=this.consumeStringSlice(n),r+=Zs(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=km,n=this.peekCodePoint(0);for((n===wc||n===Sn)&&t.push(this.consumeCodePoint());nn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===cm&&nn(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=E4;nn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===DF||n===QF)&&((a===wc||a===Sn)&&nn(i)||nn(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=E4;nn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[wV(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),l=this.peekCodePoint(2);if(h0(a,i,l)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return a===Kz?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(vA(t)){for(var r=Zs(t);vA(this.peekCodePoint(0))&&r.length<6;)r+=Zs(this.consumeCodePoint());u0(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||xV(n)||n>1114111?_4:n}return t===yi?_4:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(I4(r))t+=Zs(r);else if(Wl(r,this.peekCodePoint(0)))t+=Zs(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),RF=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new TF;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||KV(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?t1:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),_m=function(e){return e.type===15},Pd=function(e){return e.type===17},As=function(e){return e.type===20},HV=function(e){return e.type===0},s1=function(e,t){return As(e)&&e.value===t},OF=function(e){return e.type!==31},bd=function(e){return e.type!==31&&e.type!==4},Pi=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},KV=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Io=function(e){return e.type===17||e.type===15},ur=function(e){return e.type===16||Io(e)},HF=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Vr={type:17,number:0,flags:km},Zw={type:16,number:50,flags:km},oo={type:16,number:100,flags:km},Xu=function(e,t,r){var n=e[0],a=e[1];return[vs(n,t),vs(typeof a<"u"?a:n,r)]},vs=function(e,t){if(e.type===16)return e.number/100*t;if(_m(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},KF="deg",zF="grad",VF="rad",$F="turn",Hg={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case KF:return Math.PI*t.number/180;case zF:return Math.PI/200*t.number;case VF:return t.number;case $F:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},GF=function(e){return e.type===15&&(e.unit===KF||e.unit===zF||e.unit===VF||e.unit===$F)},qF=function(e){var t=e.filter(As).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Vr,Vr];case"to top":case"bottom":return ja(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Vr,oo];case"to right":case"left":return ja(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[oo,oo];case"to bottom":case"top":return ja(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[oo,Vr];case"to left":case"right":return ja(270)}return 0},ja=function(e){return Math.PI*e/180},Bo={name:"color",parse:function(e,t){if(t.type===18){var r=zV[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3);return co(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3),l=t.value.substring(3,4);return co(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(l+l,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6);return co(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6),l=t.value.substring(6,8);return co(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(l,16)/255)}}if(t.type===20){var o=xl[t.value.toUpperCase()];if(typeof o<"u")return o}return xl.TRANSPARENT}},Co=function(e){return(255&e)===0},_r=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+n+","+r+","+t/255+")":"rgb("+a+","+n+","+r+")"},co=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},U4=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},L4=function(e,t){var r=t.filter(bd);if(r.length===3){var n=r.map(U4),a=n[0],i=n[1],l=n[2];return co(a,i,l,1)}if(r.length===4){var o=r.map(U4),a=o[0],i=o[1],l=o[2],c=o[3];return co(a,i,l,c)}return 0};function eb(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var Q4=function(e,t){var r=t.filter(bd),n=r[0],a=r[1],i=r[2],l=r[3],o=(n.type===17?ja(n.number):Hg.parse(e,n))/(Math.PI*2),c=ur(a)?a.number/100:0,A=ur(i)?i.number/100:0,d=typeof l<"u"&&ur(l)?vs(l,1):1;if(c===0)return co(A*255,A*255,A*255,1);var u=A<=.5?A*(c+1):A+c-A*c,m=A*2-u,h=eb(m,u,o+1/3),g=eb(m,u,o),p=eb(m,u,o-1/3);return co(h*255,g*255,p*255,d)},zV={hsl:Q4,hsla:Q4,rgb:L4,rgba:L4},vh=function(e,t){return Bo.parse(e,RF.create(t).parseComponentValue())},xl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},VV={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(As(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},$V={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Kg=function(e,t){var r=Bo.parse(e,t[0]),n=t[1];return n&&ur(n)?{color:r,stop:n}:{color:r,stop:null}},P4=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Vr),n.stop===null&&(n.stop=oo);for(var a=[],i=0,l=0;l<e.length;l++){var o=e[l].stop;if(o!==null){var c=vs(o,t);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var A=null,l=0;l<a.length;l++){var d=a[l];if(d===null)A===null&&(A=l);else if(A!==null){for(var u=l-A,m=a[A-1],h=(d-m)/(u+1),g=1;g<=u;g++)a[A+g-1]=h*g;A=null}}return e.map(function(p,v){var x=p.color;return{color:x,stop:Math.max(Math.min(1,a[v]/t),0)}})},GV=function(e,t,r){var n=t/2,a=r/2,i=vs(e[0],t)-n,l=a-vs(e[1],r);return(Math.atan2(l,i)+Math.PI*2)%(Math.PI*2)},qV=function(e,t,r){var n=typeof e=="number"?e:GV(e,t,r),a=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),i=t/2,l=r/2,o=a/2,c=Math.sin(n-Math.PI/2)*o,A=Math.cos(n-Math.PI/2)*o;return[a,i-A,i+A,l-c,l+c]},Ha=function(e,t){return Math.sqrt(e*e+t*t)},D4=function(e,t,r,n,a){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(l,o){var c=o[0],A=o[1],d=Ha(r-c,n-A);return(a?d<l.optimumDistance:d>l.optimumDistance)?{optimumCorner:o,optimumDistance:d}:l},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},WV=function(e,t,r,n,a){var i=0,l=0;switch(e.size){case 0:e.shape===0?i=l=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-n)),l=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(e.shape===0)i=l=Math.min(Ha(t,r),Ha(t,r-a),Ha(t-n,r),Ha(t-n,r-a));else if(e.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-n)),c=D4(n,a,t,r,!0),A=c[0],d=c[1];i=Ha(A-t,(d-r)/o),l=o*i}break;case 1:e.shape===0?i=l=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-n)),l=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(e.shape===0)i=l=Math.max(Ha(t,r),Ha(t,r-a),Ha(t-n,r),Ha(t-n,r-a));else if(e.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-n)),u=D4(n,a,t,r,!1),A=u[0],d=u[1];i=Ha(A-t,(d-r)/o),l=o*i}break}return Array.isArray(e.size)&&(i=vs(e.size[0],n),l=e.size.length===2?vs(e.size[1],a):i),[i,l]},YV=function(e,t){var r=ja(180),n=[];return Pi(t).forEach(function(a,i){if(i===0){var l=a[0];if(l.type===20&&l.value==="to"){r=qF(a);return}else if(GF(l)){r=Hg.parse(e,l);return}}var o=Kg(e,a);n.push(o)}),{angle:r,stops:n,type:1}},f0=function(e,t){var r=ja(180),n=[];return Pi(t).forEach(function(a,i){if(i===0){var l=a[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){r=qF(a);return}else if(GF(l)){r=(Hg.parse(e,l)+ja(270))%ja(360);return}}var o=Kg(e,a);n.push(o)}),{angle:r,stops:n,type:1}},XV=function(e,t){var r=ja(180),n=[],a=1,i=0,l=3,o=[];return Pi(t).forEach(function(c,A){var d=c[0];if(A===0){if(As(d)&&d.value==="linear"){a=1;return}else if(As(d)&&d.value==="radial"){a=2;return}}if(d.type===18){if(d.name==="from"){var u=Bo.parse(e,d.values[0]);n.push({stop:Vr,color:u})}else if(d.name==="to"){var u=Bo.parse(e,d.values[0]);n.push({stop:oo,color:u})}else if(d.name==="color-stop"){var m=d.values.filter(bd);if(m.length===2){var u=Bo.parse(e,m[1]),h=m[0];Pd(h)&&n.push({stop:{type:16,number:h.number*100,flags:h.flags},color:u})}}}}),a===1?{angle:(r+ja(180))%ja(360),stops:n,type:a}:{size:l,shape:i,stops:n,position:o,type:a}},WF="closest-side",YF="farthest-side",XF="closest-corner",JF="farthest-corner",ZF="circle",ek="ellipse",tk="cover",sk="contain",JV=function(e,t){var r=0,n=3,a=[],i=[];return Pi(t).forEach(function(l,o){var c=!0;if(o===0){var A=!1;c=l.reduce(function(u,m){if(A)if(As(m))switch(m.value){case"center":return i.push(Zw),u;case"top":case"left":return i.push(Vr),u;case"right":case"bottom":return i.push(oo),u}else(ur(m)||Io(m))&&i.push(m);else if(As(m))switch(m.value){case ZF:return r=0,!1;case ek:return r=1,!1;case"at":return A=!0,!1;case WF:return n=0,!1;case tk:case YF:return n=1,!1;case sk:case XF:return n=2,!1;case JF:return n=3,!1}else if(Io(m)||ur(m))return Array.isArray(n)||(n=[]),n.push(m),!1;return u},c)}if(c){var d=Kg(e,l);a.push(d)}}),{size:n,shape:r,stops:a,position:i,type:2}},x0=function(e,t){var r=0,n=3,a=[],i=[];return Pi(t).forEach(function(l,o){var c=!0;if(o===0?c=l.reduce(function(d,u){if(As(u))switch(u.value){case"center":return i.push(Zw),!1;case"top":case"left":return i.push(Vr),!1;case"right":case"bottom":return i.push(oo),!1}else if(ur(u)||Io(u))return i.push(u),!1;return d},c):o===1&&(c=l.reduce(function(d,u){if(As(u))switch(u.value){case ZF:return r=0,!1;case ek:return r=1,!1;case sk:case WF:return n=0,!1;case YF:return n=1,!1;case XF:return n=2,!1;case tk:case JF:return n=3,!1}else if(Io(u)||ur(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return d},c)),c){var A=Kg(e,l);a.push(A)}}),{size:n,shape:r,stops:a,position:i,type:2}},ZV=function(e){return e.type===1},e$=function(e){return e.type===2},e2={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=rk[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function t$(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!rk[e.name])}var rk={"linear-gradient":YV,"-moz-linear-gradient":f0,"-ms-linear-gradient":f0,"-o-linear-gradient":f0,"-webkit-linear-gradient":f0,"radial-gradient":JV,"-moz-radial-gradient":x0,"-ms-radial-gradient":x0,"-o-radial-gradient":x0,"-webkit-radial-gradient":x0,"-webkit-gradient":XV},s$={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return bd(n)&&t$(n)}).map(function(n){return e2.parse(e,n)})}},r$={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(As(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},n$={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Pi(t).map(function(r){return r.filter(ur)}).map(HF)}},a$={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Pi(t).map(function(r){return r.filter(As).map(function(n){return n.value}).join(" ")}).map(i$)}},i$=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},nd;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(nd||(nd={}));var l$={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Pi(t).map(function(r){return r.filter(o$)})}},o$=function(e){return As(e)||ur(e)},zg=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},c$=zg("top"),A$=zg("right"),d$=zg("bottom"),u$=zg("left"),Vg=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return HF(r.filter(ur))}}},h$=Vg("top-left"),m$=Vg("top-right"),f$=Vg("bottom-right"),x$=Vg("bottom-left"),$g=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},g$=$g("top"),p$=$g("right"),y$=$g("bottom"),b$=$g("left"),Gg=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return _m(r)?r.number:0}}},v$=Gg("top"),w$=Gg("right"),j$=Gg("bottom"),N$=Gg("left"),B$={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},C$={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},S$={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(As).reduce(function(r,n){return r|E$(n.value)},0)}},E$=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},F$={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},k$={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},Wx;(function(e){e.NORMAL="normal",e.STRICT="strict"})(Wx||(Wx={}));var _$={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return Wx.STRICT;case"normal":default:return Wx.NORMAL}}},I$={name:"line-height",initialValue:"normal",prefix:!1,type:4},M4=function(e,t){return As(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:ur(e)?vs(e,t):t},U$={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:e2.parse(e,t)}},L$={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},r1={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},qg=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Q$=qg("top"),P$=qg("right"),D$=qg("bottom"),M$=qg("left"),T$={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(As).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},R$={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Wg=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},O$=Wg("top"),H$=Wg("right"),K$=Wg("bottom"),z$=Wg("left"),V$={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},$$={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},G$={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&s1(t[0],"none")?[]:Pi(t).map(function(r){for(var n={color:xl.TRANSPARENT,offsetX:Vr,offsetY:Vr,blur:Vr},a=0,i=0;i<r.length;i++){var l=r[i];Io(l)?(a===0?n.offsetX=l:a===1?n.offsetY=l:n.blur=l,a++):n.color=Bo.parse(e,l)}return n})}},q$={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},W$={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=J$[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Y$=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},X$=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],n=t[1];t[2],t[3];var a=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var l=t[12],o=t[13];return t[14],t[15],t.length===16?[r,n,a,i,l,o]:null},J$={matrix:Y$,matrix3d:X$},T4={type:16,number:50,flags:km},Z$=[T4,T4],eG={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(ur);return r.length!==2?Z$:[r[0],r[1]]}},tG={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},wh;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(wh||(wh={}));var sG={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return wh.BREAK_ALL;case"keep-all":return wh.KEEP_ALL;case"normal":default:return wh.NORMAL}}},rG={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Pd(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},nk={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},nG={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Pd(t)?t.number:1}},aG={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},iG={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(As).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},lG={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},oG={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},cG={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Pd(t))return t.number;if(As(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},AG={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(As).map(function(r){return r.value})}},dG={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Nr=function(e,t){return(e&t)!==0},uG={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},hG={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=t.filter(OF),i=0;i<a.length;i++){var l=a[i],o=a[i+1];if(l.type===20){var c=o&&Pd(o)?o.number:1;n.push({counter:l.value,increment:c})}}return n}},mG={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(OF),a=0;a<n.length;a++){var i=n[a],l=n[a+1];if(As(i)&&i.value!=="none"){var o=l&&Pd(l)?l.number:0;r.push({counter:i.value,reset:o})}}return r}},fG={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(_m).map(function(r){return nk.parse(e,r)})}},xG={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],a=t.filter(HV);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var l=a[i].value,o=a[i+1].value;n.push({open:l,close:o})}return n}},R4=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},gG={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&s1(t[0],"none")?[]:Pi(t).map(function(r){for(var n={color:255,offsetX:Vr,offsetY:Vr,blur:Vr,spread:Vr,inset:!1},a=0,i=0;i<r.length;i++){var l=r[i];s1(l,"inset")?n.inset=!0:Io(l)?(a===0?n.offsetX=l:a===1?n.offsetY=l:a===2?n.blur=l:n.spread=l,a++):n.color=Bo.parse(e,l)}return n})}},pG={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(As).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},yG={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},bG={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return _m(t)?t.number:0}},vG=function(){function e(t,r){var n,a;this.animationDuration=De(t,fG,r.animationDuration),this.backgroundClip=De(t,VV,r.backgroundClip),this.backgroundColor=De(t,$V,r.backgroundColor),this.backgroundImage=De(t,s$,r.backgroundImage),this.backgroundOrigin=De(t,r$,r.backgroundOrigin),this.backgroundPosition=De(t,n$,r.backgroundPosition),this.backgroundRepeat=De(t,a$,r.backgroundRepeat),this.backgroundSize=De(t,l$,r.backgroundSize),this.borderTopColor=De(t,c$,r.borderTopColor),this.borderRightColor=De(t,A$,r.borderRightColor),this.borderBottomColor=De(t,d$,r.borderBottomColor),this.borderLeftColor=De(t,u$,r.borderLeftColor),this.borderTopLeftRadius=De(t,h$,r.borderTopLeftRadius),this.borderTopRightRadius=De(t,m$,r.borderTopRightRadius),this.borderBottomRightRadius=De(t,f$,r.borderBottomRightRadius),this.borderBottomLeftRadius=De(t,x$,r.borderBottomLeftRadius),this.borderTopStyle=De(t,g$,r.borderTopStyle),this.borderRightStyle=De(t,p$,r.borderRightStyle),this.borderBottomStyle=De(t,y$,r.borderBottomStyle),this.borderLeftStyle=De(t,b$,r.borderLeftStyle),this.borderTopWidth=De(t,v$,r.borderTopWidth),this.borderRightWidth=De(t,w$,r.borderRightWidth),this.borderBottomWidth=De(t,j$,r.borderBottomWidth),this.borderLeftWidth=De(t,N$,r.borderLeftWidth),this.boxShadow=De(t,gG,r.boxShadow),this.color=De(t,B$,r.color),this.direction=De(t,C$,r.direction),this.display=De(t,S$,r.display),this.float=De(t,F$,r.cssFloat),this.fontFamily=De(t,lG,r.fontFamily),this.fontSize=De(t,oG,r.fontSize),this.fontStyle=De(t,dG,r.fontStyle),this.fontVariant=De(t,AG,r.fontVariant),this.fontWeight=De(t,cG,r.fontWeight),this.letterSpacing=De(t,k$,r.letterSpacing),this.lineBreak=De(t,_$,r.lineBreak),this.lineHeight=De(t,I$,r.lineHeight),this.listStyleImage=De(t,U$,r.listStyleImage),this.listStylePosition=De(t,L$,r.listStylePosition),this.listStyleType=De(t,r1,r.listStyleType),this.marginTop=De(t,Q$,r.marginTop),this.marginRight=De(t,P$,r.marginRight),this.marginBottom=De(t,D$,r.marginBottom),this.marginLeft=De(t,M$,r.marginLeft),this.opacity=De(t,nG,r.opacity);var i=De(t,T$,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=De(t,R$,r.overflowWrap),this.paddingTop=De(t,O$,r.paddingTop),this.paddingRight=De(t,H$,r.paddingRight),this.paddingBottom=De(t,K$,r.paddingBottom),this.paddingLeft=De(t,z$,r.paddingLeft),this.paintOrder=De(t,pG,r.paintOrder),this.position=De(t,$$,r.position),this.textAlign=De(t,V$,r.textAlign),this.textDecorationColor=De(t,aG,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=De(t,iG,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=De(t,G$,r.textShadow),this.textTransform=De(t,q$,r.textTransform),this.transform=De(t,W$,r.transform),this.transformOrigin=De(t,eG,r.transformOrigin),this.visibility=De(t,tG,r.visibility),this.webkitTextStrokeColor=De(t,yG,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=De(t,bG,r.webkitTextStrokeWidth),this.wordBreak=De(t,sG,r.wordBreak),this.zIndex=De(t,rG,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Co(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Nr(this.display,4)||Nr(this.display,33554432)||Nr(this.display,268435456)||Nr(this.display,536870912)||Nr(this.display,67108864)||Nr(this.display,134217728)},e}(),wG=function(){function e(t,r){this.content=De(t,uG,r.content),this.quotes=De(t,xG,r.quotes)}return e}(),O4=function(){function e(t,r){this.counterIncrement=De(t,hG,r.counterIncrement),this.counterReset=De(t,mG,r.counterReset)}return e}(),De=function(e,t,r){var n=new TF,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(a);var i=new RF(n.read());switch(t.type){case 2:var l=i.parseComponentValue();return t.parse(e,As(l)?l.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Hg.parse(e,i.parseComponentValue());case"color":return Bo.parse(e,i.parseComponentValue());case"image":return e2.parse(e,i.parseComponentValue());case"length":var o=i.parseComponentValue();return Io(o)?o:Vr;case"length-percentage":var c=i.parseComponentValue();return ur(c)?c:Vr;case"time":return nk.parse(e,i.parseComponentValue())}break}},jG="data-html2canvas-debug",NG=function(e){var t=e.getAttribute(jG);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},n1=function(e,t){var r=NG(e);return r===1||t===r},Di=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,n1(r,3))debugger;this.styles=new vG(t,window.getComputedStyle(r,null)),l1(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Rg(this.context,r),n1(r,4)&&(this.flags|=16)}return e}(),BG="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",H4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ju=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var g0=0;g0<H4.length;g0++)Ju[H4.charCodeAt(g0)]=g0;var CG=function(e){var t=e.length*.75,r=e.length,n,a=0,i,l,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<r;n+=4)i=Ju[e.charCodeAt(n)],l=Ju[e.charCodeAt(n+1)],o=Ju[e.charCodeAt(n+2)],c=Ju[e.charCodeAt(n+3)],d[a++]=i<<2|l>>4,d[a++]=(l&15)<<4|o>>2,d[a++]=(o&3)<<6|c&63;return A},SG=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},EG=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},_c=5,t2=11,tb=2,FG=t2-_c,ak=65536>>_c,kG=1<<_c,sb=kG-1,_G=1024>>_c,IG=ak+_G,UG=IG,LG=32,QG=UG+LG,PG=65536>>t2,DG=1<<FG,MG=DG-1,K4=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},TG=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},RG=function(e,t){var r=CG(e),n=Array.isArray(r)?EG(r):new Uint32Array(r),a=Array.isArray(r)?SG(r):new Uint16Array(r),i=24,l=K4(a,i/2,n[4]/2),o=n[5]===2?K4(a,(i+n[4])/2):TG(n,Math.ceil((i+n[4])/4));return new OG(n[0],n[1],n[2],n[3],l,o)},OG=function(){function e(t,r,n,a,i,l){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=l}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>_c],r=(r<<tb)+(t&sb),this.data[r];if(t<=65535)return r=this.index[ak+(t-55296>>_c)],r=(r<<tb)+(t&sb),this.data[r];if(t<this.highStart)return r=QG-PG+(t>>t2),r=this.index[r],r+=t>>_c&MG,r=this.index[r],r=(r<<tb)+(t&sb),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),z4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",HG=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var p0=0;p0<z4.length;p0++)HG[z4.charCodeAt(p0)]=p0;var KG=1,rb=2,nb=3,V4=4,$4=5,zG=7,G4=8,ab=9,ib=10,q4=11,W4=12,Y4=13,X4=14,lb=15,VG=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},$G=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var l=e[a];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},GG=RG(BG),fa="",ob="",qG=function(e){return GG.get(e)},WG=function(e,t,r){var n=r-2,a=t[n],i=t[r-1],l=t[r];if(i===rb&&l===nb)return fa;if(i===rb||i===nb||i===V4||l===rb||l===nb||l===V4)return ob;if(i===G4&&[G4,ab,q4,W4].indexOf(l)!==-1||(i===q4||i===ab)&&(l===ab||l===ib)||(i===W4||i===ib)&&l===ib||l===Y4||l===$4||l===zG||i===KG)return fa;if(i===Y4&&l===X4){for(;a===$4;)a=t[--n];if(a===X4)return fa}if(i===lb&&l===lb){for(var o=0;a===lb;)o++,a=t[--n];if(o%2===0)return fa}return ob},YG=function(e){var t=VG(e),r=t.length,n=0,a=0,i=t.map(qG);return{next:function(){if(n>=r)return{done:!0,value:null};for(var l=fa;n<r&&(l=WG(t,i,++n))===fa;);if(l!==fa||n===r){var o=$G.apply(null,t.slice(a,n));return a=n,{value:o,done:!1}}return{done:!0,value:null}}}},XG=function(e){for(var t=YG(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},JG=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(e.body.removeChild(n),i===t)return!0}}return!1},ZG=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=Og(n.data).map(function(c){return Zs(c)}),i=0,l={},o=a.every(function(c,A){r.setStart(n,i),r.setEnd(n,i+c.length);var d=r.getBoundingClientRect();i+=c.length;var u=d.x>l.x||d.y>l.y;return l=d,A===0?!0:u});return e.body.removeChild(t),o},eq=function(){return typeof new Image().crossOrigin<"u"},tq=function(){return typeof new XMLHttpRequest().responseType=="string"},sq=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},J4=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},rq=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,i=t.toDataURL();a.src=i;var l=a1(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),Z4(l).then(function(o){n.drawImage(o,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var A=e.createElement("div");return A.style.backgroundImage="url("+i+")",A.style.height=r+"px",J4(c)?Z4(a1(r,r,0,0,A)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),J4(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},a1=function(e,t,r,n,a){var i="http://www.w3.org/2000/svg",l=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return l.setAttributeNS(null,"width",e.toString()),l.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(o),o.appendChild(a),l},Z4=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},zr={get SUPPORT_RANGE_BOUNDS(){var e=JG(document);return Object.defineProperty(zr,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=zr.SUPPORT_RANGE_BOUNDS&&ZG(document);return Object.defineProperty(zr,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=sq(document);return Object.defineProperty(zr,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?rq(document):Promise.resolve(!1);return Object.defineProperty(zr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=eq();return Object.defineProperty(zr,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=tq();return Object.defineProperty(zr,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(zr,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(zr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},jh=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),nq=function(e,t,r,n){var a=lq(t,r),i=[],l=0;return a.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(zr.SUPPORT_RANGE_BOUNDS){var c=eC(n,l,o.length).getClientRects();if(c.length>1){var A=s2(o),d=0;A.forEach(function(m){i.push(new jh(m,jl.fromDOMRectList(e,eC(n,d+l,m.length).getClientRects()))),d+=m.length})}else i.push(new jh(o,jl.fromDOMRectList(e,c)))}else{var u=n.splitText(o.length);i.push(new jh(o,aq(e,n))),n=u}else zr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));l+=o.length}),i},aq=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var i=Rg(e,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return jl.EMPTY},eC=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(e,t),a.setEnd(e,t+r),a},s2=function(e){if(zr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return XG(e)},iq=function(e,t){if(zr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return cq(e,t)},lq=function(e,t){return t.letterSpacing!==0?s2(e):iq(e,t)},oq=[32,160,4961,65792,65793,4153,4241],cq=function(e,t){for(var r=Pz(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,i=function(){if(a.value){var l=a.value.slice(),o=Og(l),c="";o.forEach(function(A){oq.indexOf(A)===-1?c+=Zs(A):(c.length&&n.push(c),n.push(Zs(A)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)i();return n},Aq=function(){function e(t,r,n){this.text=dq(r.data,n.textTransform),this.textBounds=nq(t,this.text,n,r)}return e}(),dq=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(uq,hq);case 2:return e.toUpperCase();default:return e}},uq=/(^|\s|:|-|\(|\))([a-z])/g,hq=function(e,t,r){return e.length>0?t+r.toUpperCase():e},ik=function(e){ni(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t}(Di),lk=function(e){ni(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t}(Di),ok=function(e){ni(t,e);function t(r,n){var a=e.call(this,r,n)||this,i=new XMLSerializer,l=Rg(r,n);return n.setAttribute("width",l.width+"px"),n.setAttribute("height",l.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t}(Di),ck=function(e){ni(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(Di),i1=function(e){ni(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t}(Di),mq=[{type:15,flags:0,unit:"px",number:3}],fq=[{type:16,flags:0,number:50}],xq=function(e){return e.width>e.height?new jl(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new jl(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},gq=function(e){var t=e.type===pq?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},Yx="checkbox",Xx="radio",pq="password",tC=707406591,r2=function(e){ni(t,e);function t(r,n){var a=e.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=gq(n),(a.type===Yx||a.type===Xx)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=xq(a.bounds)),a.type){case Yx:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=mq;break;case Xx:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=fq;break}return a}return t}(Di),Ak=function(e){ni(t,e);function t(r,n){var a=e.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return t}(Di),dk=function(e){ni(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(Di),uk=function(e){ni(t,e);function t(r,n){var a=e.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=mk(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?vh(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):xl.TRANSPARENT,l=n.contentWindow.document.body?vh(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):xl.TRANSPARENT;a.backgroundColor=Co(i)?Co(l)?a.styles.backgroundColor:l:i}}catch{}return a}return t}(Di),yq=["OL","UL","MENU"],nx=function(e,t,r,n){for(var a=t.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,fk(a)&&a.data.trim().length>0)r.textNodes.push(new Aq(e,a,r.styles));else if(KA(a))if(yk(a)&&a.assignedNodes)a.assignedNodes().forEach(function(o){return nx(e,o,r,n)});else{var l=hk(e,a);l.styles.isVisible()&&(bq(a,l,n)?l.flags|=4:vq(l.styles)&&(l.flags|=2),yq.indexOf(a.tagName)!==-1&&(l.flags|=8),r.elements.push(l),a.slot,a.shadowRoot?nx(e,a.shadowRoot,l,n):!Jx(a)&&!xk(a)&&!Zx(a)&&nx(e,a,l,n))}},hk=function(e,t){return o1(t)?new ik(e,t):gk(t)?new lk(e,t):xk(t)?new ok(e,t):wq(t)?new ck(e,t):jq(t)?new i1(e,t):Nq(t)?new r2(e,t):Zx(t)?new Ak(e,t):Jx(t)?new dk(e,t):pk(t)?new uk(e,t):new Di(e,t)},mk=function(e,t){var r=hk(e,t);return r.flags|=4,nx(e,t,r,r),r},bq=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||n2(e)&&r.styles.isTransparent()},vq=function(e){return e.isPositioned()||e.isFloating()},fk=function(e){return e.nodeType===Node.TEXT_NODE},KA=function(e){return e.nodeType===Node.ELEMENT_NODE},l1=function(e){return KA(e)&&typeof e.style<"u"&&!ax(e)},ax=function(e){return typeof e.className=="object"},wq=function(e){return e.tagName==="LI"},jq=function(e){return e.tagName==="OL"},Nq=function(e){return e.tagName==="INPUT"},Bq=function(e){return e.tagName==="HTML"},xk=function(e){return e.tagName==="svg"},n2=function(e){return e.tagName==="BODY"},gk=function(e){return e.tagName==="CANVAS"},sC=function(e){return e.tagName==="VIDEO"},o1=function(e){return e.tagName==="IMG"},pk=function(e){return e.tagName==="IFRAME"},rC=function(e){return e.tagName==="STYLE"},Cq=function(e){return e.tagName==="SCRIPT"},Jx=function(e){return e.tagName==="TEXTAREA"},Zx=function(e){return e.tagName==="SELECT"},yk=function(e){return e.tagName==="SLOT"},nC=function(e){return e.tagName.indexOf("-")>0},Sq=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,a=t.counterReset,i=!0;n!==null&&n.forEach(function(o){var c=r.counters[o.counter];c&&o.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=o.increment)});var l=[];return i&&a.forEach(function(o){var c=r.counters[o.counter];l.push(o.counter),c||(c=r.counters[o.counter]=[]),c.push(o.reset)}),l},e}(),aC={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},iC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Eq={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Fq={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},wA=function(e,t,r,n,a,i){return e<t||e>r?Am(e,a,i.length>0):n.integers.reduce(function(l,o,c){for(;e>=o;)e-=o,l+=n.values[c];return l},"")+i},bk=function(e,t,r,n){var a="";do r||e--,a=n(e)+a,e/=t;while(e*t>=t);return a},Js=function(e,t,r,n,a){var i=r-t+1;return(e<0?"-":"")+(bk(Math.abs(e),i,n,function(l){return Zs(Math.floor(l%i)+t)})+a)},rc=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return bk(Math.abs(e),n,!1,function(a){return t[Math.floor(a%n)]})+r},SA=1,Vl=2,$l=4,Zu=8,rl=function(e,t,r,n,a,i){if(e<-9999||e>9999)return Am(e,4,a.length>0);var l=Math.abs(e),o=a;if(l===0)return t[0]+o;for(var c=0;l>0&&c<=4;c++){var A=l%10;A===0&&Nr(i,SA)&&o!==""?o=t[A]+o:A>1||A===1&&c===0||A===1&&c===1&&Nr(i,Vl)||A===1&&c===1&&Nr(i,$l)&&e>100||A===1&&c>1&&Nr(i,Zu)?o=t[A]+(c>0?r[c-1]:"")+o:A===1&&c>0&&(o=r[c-1]+o),l=Math.floor(l/10)}return(e<0?n:"")+o},lC="",oC="",cC="",cb="",Am=function(e,t,r){var n=r?". ":"",a=r?"":"",i=r?", ":"",l=r?" ":"";switch(t){case 0:return""+l;case 1:return""+l;case 2:return""+l;case 5:var o=Js(e,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return rc(e,"",a);case 6:return wA(e,1,3999,aC,3,n).toLowerCase();case 7:return wA(e,1,3999,aC,3,n);case 8:return Js(e,945,969,!1,n);case 9:return Js(e,97,122,!1,n);case 10:return Js(e,65,90,!1,n);case 11:return Js(e,1632,1641,!0,n);case 12:case 49:return wA(e,1,9999,iC,3,n);case 35:return wA(e,1,9999,iC,3,n).toLowerCase();case 13:return Js(e,2534,2543,!0,n);case 14:case 30:return Js(e,6112,6121,!0,n);case 15:return rc(e,"",a);case 16:return rc(e,"",a);case 17:case 48:return rl(e,"",lC,"",a,Vl|$l|Zu);case 47:return rl(e,"",oC,"",a,SA|Vl|$l|Zu);case 42:return rl(e,"",lC,"",a,Vl|$l|Zu);case 41:return rl(e,"",oC,"",a,SA|Vl|$l|Zu);case 26:return rl(e,"","",cC,a,0);case 25:return rl(e,"","",cC,a,SA|Vl|$l);case 31:return rl(e,"","",cb,i,SA|Vl|$l);case 33:return rl(e,"","",cb,i,0);case 32:return rl(e,"","",cb,i,SA|Vl|$l);case 18:return Js(e,2406,2415,!0,n);case 20:return wA(e,1,19999,Fq,3,n);case 21:return Js(e,2790,2799,!0,n);case 22:return Js(e,2662,2671,!0,n);case 22:return wA(e,1,10999,Eq,3,n);case 23:return rc(e,"");case 24:return rc(e,"");case 27:return Js(e,3302,3311,!0,n);case 28:return rc(e,"",a);case 29:return rc(e,"",a);case 34:return Js(e,3792,3801,!0,n);case 37:return Js(e,6160,6169,!0,n);case 38:return Js(e,4160,4169,!0,n);case 39:return Js(e,2918,2927,!0,n);case 40:return Js(e,1776,1785,!0,n);case 43:return Js(e,3046,3055,!0,n);case 44:return Js(e,3174,3183,!0,n);case 45:return Js(e,3664,3673,!0,n);case 46:return Js(e,3872,3881,!0,n);case 3:default:return Js(e,48,57,!0,n)}},vk="data-html2canvas-ignore",AC=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Sq,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,a=kq(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,l=t.defaultView.pageYOffset,o=a.contentWindow,c=o.document,A=Uq(a).then(function(){return fn(n,void 0,void 0,function(){var d,u;return sn(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(Dq),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),d=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Iq(c)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(c,u)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(Qq(document.doctype)+"<html></html>"),Pq(this.referenceElement.ownerDocument,i,l),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),A},e.prototype.createElementClone=function(t){if(n1(t,2))debugger;if(gk(t))return this.createCanvasClone(t);if(sC(t))return this.createVideoClone(t);if(rC(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return o1(r)&&(o1(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),nC(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return Ab(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,l){return l&&typeof l.cssText=="string"?i+l.cssText:i},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var i=t.getContext("2d"),l=a.getContext("2d");if(l)if(!this.options.allowTaint&&i)l.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var o=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(o){var c=o.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}l.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,r,n){(!KA(r)||!Cq(r)&&!r.hasAttribute(vk)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!KA(r)||!rC(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var a=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(KA(i)&&yk(i)&&typeof i.assignedNodes=="function"){var l=i.assignedNodes();l.length&&l.forEach(function(o){return a.appendChildNode(r,o,n)})}else this.appendChildNode(r,i,n)},e.prototype.cloneNode=function(t,r){if(fk(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&KA(t)&&(l1(t)||ax(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var i=n.getComputedStyle(t),l=n.getComputedStyle(t,":before"),o=n.getComputedStyle(t,":after");this.referenceElement===t&&l1(a)&&(this.clonedReferenceElement=a),n2(a)&&Rq(a);var c=this.counters.parse(new O4(this.context,i)),A=this.resolvePseudoContent(t,a,l,Nh.BEFORE);nC(t)&&(r=!0),sC(t)||this.cloneChildNodes(t,a,r),A&&a.insertBefore(A,a.firstChild);var d=this.resolvePseudoContent(t,a,o,Nh.AFTER);return d&&a.appendChild(d),this.counters.pop(c),(i&&(this.options.copyStyles||ax(t))&&!pk(t)||r)&&Ab(i,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(Jx(t)||Zx(t))&&(Jx(a)||Zx(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,a){var i=this;if(n){var l=n.content,o=r.ownerDocument;if(!(!o||!l||l==="none"||l==="-moz-alt-content"||n.display==="none")){this.counters.parse(new O4(this.context,n));var c=new wG(this.context,n),A=o.createElement("html2canvaspseudoelement");Ab(n,A),c.content.forEach(function(u){if(u.type===0)A.appendChild(o.createTextNode(u.value));else if(u.type===22){var m=o.createElement("img");m.src=u.value,m.style.opacity="1",A.appendChild(m)}else if(u.type===18){if(u.name==="attr"){var h=u.values.filter(As);h.length&&A.appendChild(o.createTextNode(t.getAttribute(h[0].value)||""))}else if(u.name==="counter"){var g=u.values.filter(bd),p=g[0],v=g[1];if(p&&As(p)){var x=i.counters.getCounterValue(p.value),b=v&&As(v)?r1.parse(i.context,v.value):3;A.appendChild(o.createTextNode(Am(x,b,!1)))}}else if(u.name==="counters"){var j=u.values.filter(bd),p=j[0],w=j[1],v=j[2];if(p&&As(p)){var S=i.counters.getCounterValues(p.value),F=v&&As(v)?r1.parse(i.context,v.value):3,I=w&&w.type===0?w.value:"",k=S.map(function(L){return Am(L,F,!1)}).join(I);A.appendChild(o.createTextNode(k))}}}else if(u.type===20)switch(u.value){case"open-quote":A.appendChild(o.createTextNode(R4(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":A.appendChild(o.createTextNode(R4(c.quotes,--i.quoteDepth,!1)));break;default:A.appendChild(o.createTextNode(u.value))}}),A.className=c1+" "+A1;var d=a===Nh.BEFORE?" "+c1:" "+A1;return ax(r)?r.className.baseValue+=d:r.className+=d,A}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Nh;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Nh||(Nh={}));var kq=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(vk,"true"),e.body.appendChild(r),r},_q=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},Iq=function(e){return Promise.all([].slice.call(e.images,0).map(_q))},Uq=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},Lq=["all","d","content"],Ab=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);Lq.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},Qq=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Pq=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},Dq=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},Mq=":before",Tq=":after",c1="___html2canvas___pseudoelement_before",A1="___html2canvas___pseudoelement_after",dC=`{
    content: "" !important;
    display: none !important;
}`,Rq=function(e){Oq(e,"."+c1+Mq+dC+`
         .`+A1+Tq+dC)},Oq=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},wk=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),Hq=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(ub(t)||$q(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return fn(this,void 0,void 0,function(){var r,n,a,i,l=this;return sn(this,function(o){switch(o.label){case 0:return r=wk.isSameOrigin(t),n=!db(t)&&this._options.useCORS===!0&&zr.SUPPORT_CORS_IMAGES&&!r,a=!db(t)&&!r&&!ub(t)&&typeof this._options.proxy=="string"&&zr.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!db(t)&&!ub(t)&&!a&&!n?[2]:(i=t,a?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,A){var d=new Image;d.onload=function(){return c(d)},d.onerror=A,(Gq(i)||n)&&(d.crossOrigin="anonymous"),d.src=i,d.complete===!0&&setTimeout(function(){return c(d)},500),l._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(i,l){var o=zr.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(o==="text")i(c.response);else{var u=new FileReader;u.addEventListener("load",function(){return i(u.result)},!1),u.addEventListener("error",function(m){return l(m)},!1),u.readAsDataURL(c.response)}else l("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=l;var A=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+A+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=o),r._options.imageTimeout){var d=r._options.imageTimeout;c.timeout=d,c.ontimeout=function(){return l("Timed out ("+d+"ms) proxying "+a)}}c.send()})},e}(),Kq=/^data:image\/svg\+xml/i,zq=/^data:image\/.*;base64,/i,Vq=/^data:image\/.*/i,$q=function(e){return zr.SUPPORT_SVG_DRAWING||!qq(e)},db=function(e){return Vq.test(e)},Gq=function(e){return zq.test(e)},ub=function(e){return e.substr(0,4)==="blob"},qq=function(e){return e.substr(-3).toLowerCase()==="svg"||Kq.test(e)},Pe=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),jA=function(e,t,r){return new Pe(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},y0=function(){function e(t,r,n,a){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,r){var n=jA(this.start,this.startControl,t),a=jA(this.startControl,this.endControl,t),i=jA(this.endControl,this.end,t),l=jA(n,a,t),o=jA(a,i,t),c=jA(l,o,t);return r?new e(this.start,n,l,c):new e(c,o,i,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),pa=function(e){return e.type===1},Wq=function(){function e(t){var r=t.styles,n=t.bounds,a=Xu(r.borderTopLeftRadius,n.width,n.height),i=a[0],l=a[1],o=Xu(r.borderTopRightRadius,n.width,n.height),c=o[0],A=o[1],d=Xu(r.borderBottomRightRadius,n.width,n.height),u=d[0],m=d[1],h=Xu(r.borderBottomLeftRadius,n.width,n.height),g=h[0],p=h[1],v=[];v.push((i+c)/n.width),v.push((g+u)/n.width),v.push((l+p)/n.height),v.push((A+m)/n.height);var x=Math.max.apply(Math,v);x>1&&(i/=x,l/=x,c/=x,A/=x,u/=x,m/=x,g/=x,p/=x);var b=n.width-c,j=n.height-m,w=n.width-u,S=n.height-p,F=r.borderTopWidth,I=r.borderRightWidth,k=r.borderBottomWidth,E=r.borderLeftWidth,O=vs(r.paddingTop,t.bounds.width),L=vs(r.paddingRight,t.bounds.width),P=vs(r.paddingBottom,t.bounds.width),U=vs(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||l>0?Is(n.left+E/3,n.top+F/3,i-E/3,l-F/3,Zt.TOP_LEFT):new Pe(n.left+E/3,n.top+F/3),this.topRightBorderDoubleOuterBox=i>0||l>0?Is(n.left+b,n.top+F/3,c-I/3,A-F/3,Zt.TOP_RIGHT):new Pe(n.left+n.width-I/3,n.top+F/3),this.bottomRightBorderDoubleOuterBox=u>0||m>0?Is(n.left+w,n.top+j,u-I/3,m-k/3,Zt.BOTTOM_RIGHT):new Pe(n.left+n.width-I/3,n.top+n.height-k/3),this.bottomLeftBorderDoubleOuterBox=g>0||p>0?Is(n.left+E/3,n.top+S,g-E/3,p-k/3,Zt.BOTTOM_LEFT):new Pe(n.left+E/3,n.top+n.height-k/3),this.topLeftBorderDoubleInnerBox=i>0||l>0?Is(n.left+E*2/3,n.top+F*2/3,i-E*2/3,l-F*2/3,Zt.TOP_LEFT):new Pe(n.left+E*2/3,n.top+F*2/3),this.topRightBorderDoubleInnerBox=i>0||l>0?Is(n.left+b,n.top+F*2/3,c-I*2/3,A-F*2/3,Zt.TOP_RIGHT):new Pe(n.left+n.width-I*2/3,n.top+F*2/3),this.bottomRightBorderDoubleInnerBox=u>0||m>0?Is(n.left+w,n.top+j,u-I*2/3,m-k*2/3,Zt.BOTTOM_RIGHT):new Pe(n.left+n.width-I*2/3,n.top+n.height-k*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||p>0?Is(n.left+E*2/3,n.top+S,g-E*2/3,p-k*2/3,Zt.BOTTOM_LEFT):new Pe(n.left+E*2/3,n.top+n.height-k*2/3),this.topLeftBorderStroke=i>0||l>0?Is(n.left+E/2,n.top+F/2,i-E/2,l-F/2,Zt.TOP_LEFT):new Pe(n.left+E/2,n.top+F/2),this.topRightBorderStroke=i>0||l>0?Is(n.left+b,n.top+F/2,c-I/2,A-F/2,Zt.TOP_RIGHT):new Pe(n.left+n.width-I/2,n.top+F/2),this.bottomRightBorderStroke=u>0||m>0?Is(n.left+w,n.top+j,u-I/2,m-k/2,Zt.BOTTOM_RIGHT):new Pe(n.left+n.width-I/2,n.top+n.height-k/2),this.bottomLeftBorderStroke=g>0||p>0?Is(n.left+E/2,n.top+S,g-E/2,p-k/2,Zt.BOTTOM_LEFT):new Pe(n.left+E/2,n.top+n.height-k/2),this.topLeftBorderBox=i>0||l>0?Is(n.left,n.top,i,l,Zt.TOP_LEFT):new Pe(n.left,n.top),this.topRightBorderBox=c>0||A>0?Is(n.left+b,n.top,c,A,Zt.TOP_RIGHT):new Pe(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||m>0?Is(n.left+w,n.top+j,u,m,Zt.BOTTOM_RIGHT):new Pe(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||p>0?Is(n.left,n.top+S,g,p,Zt.BOTTOM_LEFT):new Pe(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||l>0?Is(n.left+E,n.top+F,Math.max(0,i-E),Math.max(0,l-F),Zt.TOP_LEFT):new Pe(n.left+E,n.top+F),this.topRightPaddingBox=c>0||A>0?Is(n.left+Math.min(b,n.width-I),n.top+F,b>n.width+I?0:Math.max(0,c-I),Math.max(0,A-F),Zt.TOP_RIGHT):new Pe(n.left+n.width-I,n.top+F),this.bottomRightPaddingBox=u>0||m>0?Is(n.left+Math.min(w,n.width-E),n.top+Math.min(j,n.height-k),Math.max(0,u-I),Math.max(0,m-k),Zt.BOTTOM_RIGHT):new Pe(n.left+n.width-I,n.top+n.height-k),this.bottomLeftPaddingBox=g>0||p>0?Is(n.left+E,n.top+Math.min(S,n.height-k),Math.max(0,g-E),Math.max(0,p-k),Zt.BOTTOM_LEFT):new Pe(n.left+E,n.top+n.height-k),this.topLeftContentBox=i>0||l>0?Is(n.left+E+U,n.top+F+O,Math.max(0,i-(E+U)),Math.max(0,l-(F+O)),Zt.TOP_LEFT):new Pe(n.left+E+U,n.top+F+O),this.topRightContentBox=c>0||A>0?Is(n.left+Math.min(b,n.width+E+U),n.top+F+O,b>n.width+E+U?0:c-E+U,A-(F+O),Zt.TOP_RIGHT):new Pe(n.left+n.width-(I+L),n.top+F+O),this.bottomRightContentBox=u>0||m>0?Is(n.left+Math.min(w,n.width-(E+U)),n.top+Math.min(j,n.height+F+O),Math.max(0,u-(I+L)),m-(k+P),Zt.BOTTOM_RIGHT):new Pe(n.left+n.width-(I+L),n.top+n.height-(k+P)),this.bottomLeftContentBox=g>0||p>0?Is(n.left+E+U,n.top+S,Math.max(0,g-(E+U)),p-(k+P),Zt.BOTTOM_LEFT):new Pe(n.left+E+U,n.top+n.height-(k+P))}return e}(),Zt;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Zt||(Zt={}));var Is=function(e,t,r,n,a){var i=4*((Math.sqrt(2)-1)/3),l=r*i,o=n*i,c=e+r,A=t+n;switch(a){case Zt.TOP_LEFT:return new y0(new Pe(e,A),new Pe(e,A-o),new Pe(c-l,t),new Pe(c,t));case Zt.TOP_RIGHT:return new y0(new Pe(e,t),new Pe(e+l,t),new Pe(c,A-o),new Pe(c,A));case Zt.BOTTOM_RIGHT:return new y0(new Pe(c,t),new Pe(c,t+o),new Pe(e+l,A),new Pe(e,A));case Zt.BOTTOM_LEFT:default:return new y0(new Pe(c,A),new Pe(c-l,A),new Pe(e,t+o),new Pe(e,t))}},eg=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Yq=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},tg=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Xq=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),b0=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),Jq=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),Zq=function(e){return e.type===0},jk=function(e){return e.type===1},eW=function(e){return e.type===2},uC=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},tW=function(e,t,r,n,a){return e.map(function(i,l){switch(l){case 0:return i.add(t,r);case 1:return i.add(t+n,r);case 2:return i.add(t+n,r+a);case 3:return i.add(t,r+a)}return i})},Nk=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Bk=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new Wq(this.container),this.container.styles.opacity<1&&this.effects.push(new Jq(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Xq(n,a,i))}if(this.container.styles.overflowX!==0){var l=eg(this.curves),o=tg(this.curves);uC(l,o)?this.effects.push(new b0(l,6)):(this.effects.push(new b0(l,2)),this.effects.push(new b0(o,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(c){return!jk(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var l=eg(n.curves),o=tg(n.curves);uC(l,o)||a.unshift(new b0(o,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(c){return Nr(c.target,t)})},e}(),d1=function(e,t,r,n){e.container.elements.forEach(function(a){var i=Nr(a.flags,4),l=Nr(a.flags,2),o=new Bk(a,e);Nr(a.styles.display,2048)&&n.push(o);var c=Nr(a.flags,8)?[]:n;if(i||l){var A=i||a.styles.isPositioned()?r:t,d=new Nk(o);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var u=a.styles.zIndex.order;if(u<0){var m=0;A.negativeZIndex.some(function(g,p){return u>g.element.container.styles.zIndex.order?(m=p,!1):m>0}),A.negativeZIndex.splice(m,0,d)}else if(u>0){var h=0;A.positiveZIndex.some(function(g,p){return u>=g.element.container.styles.zIndex.order?(h=p+1,!1):h>0}),A.positiveZIndex.splice(h,0,d)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else a.styles.isFloating()?A.nonPositionedFloats.push(d):A.nonPositionedInlineLevel.push(d);d1(o,d,i?d:r,c)}else a.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),d1(o,t,r,c);Nr(a.flags,8)&&Ck(a,c)})},Ck=function(e,t){for(var r=e instanceof i1?e.start:1,n=e instanceof i1?e.reversed:!1,a=0;a<t.length;a++){var i=t[a];i.container instanceof ck&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Am(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},sW=function(e){var t=new Bk(e,null),r=new Nk(t),n=[];return d1(t,r,r,n),Ck(t.container,n),r},hC=function(e,t){switch(t){case 0:return Na(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Na(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Na(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Na(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},rW=function(e,t){switch(t){case 0:return Na(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Na(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Na(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Na(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},nW=function(e,t){switch(t){case 0:return Na(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Na(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Na(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Na(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},aW=function(e,t){switch(t){case 0:return v0(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return v0(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return v0(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return v0(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},v0=function(e,t){var r=[];return pa(e)?r.push(e.subdivide(.5,!1)):r.push(e),pa(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},Na=function(e,t,r,n){var a=[];return pa(e)?a.push(e.subdivide(.5,!1)):a.push(e),pa(r)?a.push(r.subdivide(.5,!0)):a.push(r),pa(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),pa(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},Sk=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},sg=function(e){var t=e.styles,r=e.bounds,n=vs(t.paddingLeft,r.width),a=vs(t.paddingRight,r.width),i=vs(t.paddingTop,r.width),l=vs(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+i+l))},iW=function(e,t){return e===0?t.bounds:e===2?sg(t):Sk(t)},lW=function(e,t){return e===0?t.bounds:e===2?sg(t):Sk(t)},hb=function(e,t,r){var n=iW(EA(e.styles.backgroundOrigin,t),e),a=lW(EA(e.styles.backgroundClip,t),e),i=oW(EA(e.styles.backgroundSize,t),r,n),l=i[0],o=i[1],c=Xu(EA(e.styles.backgroundPosition,t),n.width-l,n.height-o),A=cW(EA(e.styles.backgroundRepeat,t),c,i,n,a),d=Math.round(n.left+c[0]),u=Math.round(n.top+c[1]);return[A,d,u,l,o]},NA=function(e){return As(e)&&e.value===nd.AUTO},w0=function(e){return typeof e=="number"},oW=function(e,t,r){var n=t[0],a=t[1],i=t[2],l=e[0],o=e[1];if(!l)return[0,0];if(ur(l)&&o&&ur(o))return[vs(l,r.width),vs(o,r.height)];var c=w0(i);if(As(l)&&(l.value===nd.CONTAIN||l.value===nd.COVER)){if(w0(i)){var A=r.width/r.height;return A<i!=(l.value===nd.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var d=w0(n),u=w0(a),m=d||u;if(NA(l)&&(!o||NA(o))){if(d&&u)return[n,a];if(!c&&!m)return[r.width,r.height];if(m&&c){var h=d?n:a*i,g=u?a:n/i;return[h,g]}var p=d?n:r.width,v=u?a:r.height;return[p,v]}if(c){var x=0,b=0;return ur(l)?x=vs(l,r.width):ur(o)&&(b=vs(o,r.height)),NA(l)?x=b*i:(!o||NA(o))&&(b=x/i),[x,b]}var j=null,w=null;if(ur(l)?j=vs(l,r.width):o&&ur(o)&&(w=vs(o,r.height)),j!==null&&(!o||NA(o))&&(w=d&&u?j/n*a:r.height),w!==null&&NA(l)&&(j=d&&u?w/a*n:r.width),j!==null&&w!==null)return[j,w];throw new Error("Unable to calculate background-size for element")},EA=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},cW=function(e,t,r,n,a){var i=t[0],l=t[1],o=r[0],c=r[1];switch(e){case 2:return[new Pe(Math.round(n.left),Math.round(n.top+l)),new Pe(Math.round(n.left+n.width),Math.round(n.top+l)),new Pe(Math.round(n.left+n.width),Math.round(c+n.top+l)),new Pe(Math.round(n.left),Math.round(c+n.top+l))];case 3:return[new Pe(Math.round(n.left+i),Math.round(n.top)),new Pe(Math.round(n.left+i+o),Math.round(n.top)),new Pe(Math.round(n.left+i+o),Math.round(n.height+n.top)),new Pe(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Pe(Math.round(n.left+i),Math.round(n.top+l)),new Pe(Math.round(n.left+i+o),Math.round(n.top+l)),new Pe(Math.round(n.left+i+o),Math.round(n.top+l+c)),new Pe(Math.round(n.left+i),Math.round(n.top+l+c))];default:return[new Pe(Math.round(a.left),Math.round(a.top)),new Pe(Math.round(a.left+a.width),Math.round(a.top)),new Pe(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Pe(Math.round(a.left),Math.round(a.height+a.top))]}},AW="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",mC="Hidden Text",dW=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),l=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",l.appendChild(n),a.src=AW,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(mC)),n.appendChild(i),n.appendChild(a);var o=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(mC)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return l.removeChild(n),{baseline:o,middle:c}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),Ek=function(){function e(t,r){this.context=t,this.options=r}return e}(),uW=1e4,hW=function(e){ni(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new dW(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),eW(r)&&(this.ctx.globalAlpha=r.opacity),Zq(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),jk(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return fn(this,void 0,void 0,function(){var n;return sn(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return fn(this,void 0,void 0,function(){return sn(this,function(n){switch(n.label){case 0:if(Nr(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,a){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var l=s2(r.text);l.reduce(function(o,c){return i.ctx.fillText(c,o,r.bounds.top+a),o+i.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),a=pW(r.fontFamily).join(", "),i=_m(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,a].join(" "),a,i]},t.prototype.renderTextNode=function(r,n){return fn(this,void 0,void 0,function(){var a,i,l,o,c,A,d,u,m=this;return sn(this,function(h){return a=this.createFontStyle(n),i=a[0],l=a[1],o=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(l,o),A=c.baseline,d=c.middle,u=n.paintOrder,r.textBounds.forEach(function(g){u.forEach(function(p){switch(p){case 0:m.ctx.fillStyle=_r(n.color),m.renderTextWithLetterSpacing(g,n.letterSpacing,A);var v=n.textShadow;v.length&&g.text.trim().length&&(v.slice(0).reverse().forEach(function(x){m.ctx.shadowColor=_r(x.color),m.ctx.shadowOffsetX=x.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=x.offsetY.number*m.options.scale,m.ctx.shadowBlur=x.blur.number,m.renderTextWithLetterSpacing(g,n.letterSpacing,A)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),n.textDecorationLine.length&&(m.ctx.fillStyle=_r(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(x){switch(x){case 1:m.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+A),g.bounds.width,1);break;case 2:m.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:m.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+d),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(m.ctx.strokeStyle=_r(n.webkitTextStrokeColor),m.ctx.lineWidth=n.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+A)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=sg(r),l=tg(n);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return fn(this,void 0,void 0,function(){var n,a,i,l,o,c,b,b,A,d,u,m,w,h,g,S,p,v,x,b,j,w,S;return sn(this,function(F){switch(F.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,i=n.styles,l=0,o=n.textNodes,F.label=1;case 1:return l<o.length?(c=o[l],[4,this.renderTextNode(c,i)]):[3,4];case 2:F.sent(),F.label=3;case 3:return l++,[3,1];case 4:if(!(n instanceof ik))return[3,8];F.label=5;case 5:return F.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return b=F.sent(),this.renderReplacedElement(n,a,b),[3,8];case 7:return F.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof lk&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof ok))return[3,12];F.label=9;case 9:return F.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return b=F.sent(),this.renderReplacedElement(n,a,b),[3,12];case 11:return F.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof uk&&n.tree?(A=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,A.render(n.tree)]):[3,14];case 13:d=F.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),F.label=14;case 14:if(n instanceof r2&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===Yx?n.checked&&(this.ctx.save(),this.path([new Pe(n.bounds.left+u*.39363,n.bounds.top+u*.79),new Pe(n.bounds.left+u*.16,n.bounds.top+u*.5549),new Pe(n.bounds.left+u*.27347,n.bounds.top+u*.44071),new Pe(n.bounds.left+u*.39694,n.bounds.top+u*.5649),new Pe(n.bounds.left+u*.72983,n.bounds.top+u*.23),new Pe(n.bounds.left+u*.84,n.bounds.top+u*.34085),new Pe(n.bounds.left+u*.39363,n.bounds.top+u*.79)]),this.ctx.fillStyle=_r(tC),this.ctx.fill(),this.ctx.restore()):n.type===Xx&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=_r(tC),this.ctx.fill(),this.ctx.restore())),mW(n)&&n.value.length){switch(m=this.createFontStyle(i),w=m[0],h=m[1],g=this.fontMetrics.getMetrics(w,h).baseline,this.ctx.font=w,this.ctx.fillStyle=_r(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=xW(n.styles.textAlign),S=sg(n),p=0,n.styles.textAlign){case 1:p+=S.width/2;break;case 2:p+=S.width;break}v=S.add(p,0,0,-S.height/2+1),this.ctx.save(),this.path([new Pe(S.left,S.top),new Pe(S.left+S.width,S.top),new Pe(S.left+S.width,S.top+S.height),new Pe(S.left,S.top+S.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new jh(n.value,v),i.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Nr(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(x=n.styles.listStyleImage,x.type!==0)return[3,18];b=void 0,j=x.url,F.label=15;case 15:return F.trys.push([15,17,,18]),[4,this.context.cache.match(j)];case 16:return b=F.sent(),this.ctx.drawImage(b,n.bounds.left-(b.width+10),n.bounds.top),[3,18];case 17:return F.sent(),this.context.logger.error("Error loading list-style-image "+j),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(w=this.createFontStyle(i)[0],this.ctx.font=w,this.ctx.fillStyle=_r(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",S=new jl(n.bounds.left,n.bounds.top+vs(n.styles.paddingTop,n.bounds.width),n.bounds.width,M4(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new jh(r.listValue,S),i.letterSpacing,M4(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),F.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return fn(this,void 0,void 0,function(){var n,a,x,i,l,x,o,c,x,A,d,x,u,m,x,h,g,x,p,v,x;return sn(this,function(b){switch(b.label){case 0:if(Nr(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:b.sent(),n=0,a=r.negativeZIndex,b.label=2;case 2:return n<a.length?(x=a[n],[4,this.renderStack(x)]):[3,5];case 3:b.sent(),b.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:b.sent(),i=0,l=r.nonInlineLevel,b.label=7;case 7:return i<l.length?(x=l[i],[4,this.renderNode(x)]):[3,10];case 8:b.sent(),b.label=9;case 9:return i++,[3,7];case 10:o=0,c=r.nonPositionedFloats,b.label=11;case 11:return o<c.length?(x=c[o],[4,this.renderStack(x)]):[3,14];case 12:b.sent(),b.label=13;case 13:return o++,[3,11];case 14:A=0,d=r.nonPositionedInlineLevel,b.label=15;case 15:return A<d.length?(x=d[A],[4,this.renderStack(x)]):[3,18];case 16:b.sent(),b.label=17;case 17:return A++,[3,15];case 18:u=0,m=r.inlineLevel,b.label=19;case 19:return u<m.length?(x=m[u],[4,this.renderNode(x)]):[3,22];case 20:b.sent(),b.label=21;case 21:return u++,[3,19];case 22:h=0,g=r.zeroOrAutoZIndexOrTransformedOrOpacity,b.label=23;case 23:return h<g.length?(x=g[h],[4,this.renderStack(x)]):[3,26];case 24:b.sent(),b.label=25;case 25:return h++,[3,23];case 26:p=0,v=r.positiveZIndex,b.label=27;case 27:return p<v.length?(x=v[p],[4,this.renderStack(x)]):[3,30];case 28:b.sent(),b.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(a,i){var l=pa(a)?a.start:a;i===0?n.ctx.moveTo(l.x,l.y):n.ctx.lineTo(l.x,l.y),pa(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,n,a,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},t.prototype.resizeImage=function(r,n,a){var i;if(r.width===n&&r.height===a)return r;var l=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=l.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,a);var c=o.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),o},t.prototype.renderBackgroundImage=function(r){return fn(this,void 0,void 0,function(){var n,a,i,l,o,c;return sn(this,function(A){switch(A.label){case 0:n=r.styles.backgroundImage.length-1,a=function(d){var u,m,h,O,Z,ae,U,R,k,g,O,Z,ae,U,R,p,v,x,b,j,w,S,F,I,k,E,O,L,P,U,R,V,Z,ae,D,Y,re,q,_,z,G,X;return sn(this,function(J){switch(J.label){case 0:if(d.type!==0)return[3,5];u=void 0,m=d.url,J.label=1;case 1:return J.trys.push([1,3,,4]),[4,i.context.cache.match(m)];case 2:return u=J.sent(),[3,4];case 3:return J.sent(),i.context.logger.error("Error loading background-image "+m),[3,4];case 4:return u&&(h=hb(r,n,[u.width,u.height,u.width/u.height]),O=h[0],Z=h[1],ae=h[2],U=h[3],R=h[4],k=i.ctx.createPattern(i.resizeImage(u,U,R),"repeat"),i.renderRepeat(O,k,Z,ae)),[3,6];case 5:ZV(d)?(g=hb(r,n,[null,null,null]),O=g[0],Z=g[1],ae=g[2],U=g[3],R=g[4],p=qV(d.angle,U,R),v=p[0],x=p[1],b=p[2],j=p[3],w=p[4],S=document.createElement("canvas"),S.width=U,S.height=R,F=S.getContext("2d"),I=F.createLinearGradient(x,j,b,w),P4(d.stops,v).forEach(function(de){return I.addColorStop(de.stop,_r(de.color))}),F.fillStyle=I,F.fillRect(0,0,U,R),U>0&&R>0&&(k=i.ctx.createPattern(S,"repeat"),i.renderRepeat(O,k,Z,ae))):e$(d)&&(E=hb(r,n,[null,null,null]),O=E[0],L=E[1],P=E[2],U=E[3],R=E[4],V=d.position.length===0?[Zw]:d.position,Z=vs(V[0],U),ae=vs(V[V.length-1],R),D=WV(d,Z,ae,U,R),Y=D[0],re=D[1],Y>0&&re>0&&(q=i.ctx.createRadialGradient(L+Z,P+ae,0,L+Z,P+ae,Y),P4(d.stops,Y*2).forEach(function(de){return q.addColorStop(de.stop,_r(de.color))}),i.path(O),i.ctx.fillStyle=q,Y!==re?(_=r.bounds.left+.5*r.bounds.width,z=r.bounds.top+.5*r.bounds.height,G=re/Y,X=1/G,i.ctx.save(),i.ctx.translate(_,z),i.ctx.transform(1,0,0,G,0,0),i.ctx.translate(-_,-z),i.ctx.fillRect(L,X*(P-z)+z,U,R*X),i.ctx.restore()):i.ctx.fill())),J.label=6;case 6:return n--,[2]}})},i=this,l=0,o=r.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return l<o.length?(c=o[l],[5,a(c)]):[3,4];case 2:A.sent(),A.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,a){return fn(this,void 0,void 0,function(){return sn(this,function(i){return this.path(hC(a,n)),this.ctx.fillStyle=_r(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,a,i){return fn(this,void 0,void 0,function(){var l,o;return sn(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return l=rW(i,a),this.path(l),this.ctx.fillStyle=_r(r),this.ctx.fill(),o=nW(i,a),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return fn(this,void 0,void 0,function(){var n,a,i,l,o,c,A,d,u=this;return sn(this,function(m){switch(m.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!Co(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],l=fW(EA(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),Co(n.backgroundColor)||(this.ctx.fillStyle=_r(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(h){u.ctx.save();var g=eg(r.curves),p=h.inset?0:uW,v=tW(g,-p+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(u.path(g),u.ctx.clip(),u.mask(v)):(u.mask(g),u.ctx.clip(),u.path(v)),u.ctx.shadowOffsetX=h.offsetX.number+p,u.ctx.shadowOffsetY=h.offsetY.number,u.ctx.shadowColor=_r(h.color),u.ctx.shadowBlur=h.blur.number,u.ctx.fillStyle=h.inset?_r(h.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),m.label=2;case 2:o=0,c=0,A=i,m.label=3;case 3:return c<A.length?(d=A[c],d.style!==0&&!Co(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,r.curves,3)];case 6:return m.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,r.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,r.curves)];case 10:m.sent(),m.label=11;case 11:o++,m.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,a,i,l){return fn(this,void 0,void 0,function(){var o,c,A,d,u,m,h,g,p,v,x,b,j,w,S,F,S,F;return sn(this,function(I){return this.ctx.save(),o=aW(i,a),c=hC(i,a),l===2&&(this.path(c),this.ctx.clip()),pa(c[0])?(A=c[0].start.x,d=c[0].start.y):(A=c[0].x,d=c[0].y),pa(c[1])?(u=c[1].end.x,m=c[1].end.y):(u=c[1].x,m=c[1].y),a===0||a===2?h=Math.abs(A-u):h=Math.abs(d-m),this.ctx.beginPath(),l===3?this.formatPath(o):this.formatPath(c.slice(0,2)),g=n<3?n*3:n*2,p=n<3?n*2:n,l===3&&(g=n,p=n),v=!0,h<=g*2?v=!1:h<=g*2+p?(x=h/(2*g+p),g*=x,p*=x):(b=Math.floor((h+p)/(g+p)),j=(h-b*g)/(b-1),w=(h-(b+1)*g)/b,p=w<=0||Math.abs(p-j)<Math.abs(p-w)?j:w),v&&(l===3?this.ctx.setLineDash([0,g+p]):this.ctx.setLineDash([g,p])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=_r(r),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(pa(c[0])&&(S=c[3],F=c[0],this.ctx.beginPath(),this.formatPath([new Pe(S.end.x,S.end.y),new Pe(F.start.x,F.start.y)]),this.ctx.stroke()),pa(c[1])&&(S=c[1],F=c[2],this.ctx.beginPath(),this.formatPath([new Pe(S.end.x,S.end.y),new Pe(F.start.x,F.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return fn(this,void 0,void 0,function(){var n;return sn(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=_r(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=sW(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(Ek),mW=function(e){return e instanceof dk||e instanceof Ak?!0:e instanceof r2&&e.type!==Xx&&e.type!==Yx},fW=function(e,t){switch(e){case 0:return eg(t);case 2:return Yq(t);case 1:default:return tg(t)}},xW=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},gW=["-apple-system","system-ui"],pW=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return gW.indexOf(t)===-1}):e},yW=function(e){ni(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(r){return fn(this,void 0,void 0,function(){var n,a;return sn(this,function(i){switch(i.label){case 0:return n=a1(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,bW(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=_r(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(Ek),bW=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},vW=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,e0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,e0([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,e0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,e0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),wW=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new vW({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new Hq(this,t)}return e.instanceCount=1,e}(),a2=function(e,t){return t===void 0&&(t={}),jW(e,t)};typeof window<"u"&&wk.setContext(window);var jW=function(e,t){return fn(void 0,void 0,void 0,function(){var r,n,a,i,l,o,c,A,d,u,m,h,g,p,v,x,b,j,w,S,I,F,I,k,E,O,L,P,U,R,V,Z,ae,D,Y,re,q,_,z,G;return sn(this,function(X){switch(X.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(k=t.allowTaint)!==null&&k!==void 0?k:!1,imageTimeout:(E=t.imageTimeout)!==null&&E!==void 0?E:15e3,proxy:t.proxy,useCORS:(O=t.useCORS)!==null&&O!==void 0?O:!1},i=zv({logging:(L=t.logging)!==null&&L!==void 0?L:!0,cache:t.cache},a),l={windowWidth:(P=t.windowWidth)!==null&&P!==void 0?P:n.innerWidth,windowHeight:(U=t.windowHeight)!==null&&U!==void 0?U:n.innerHeight,scrollX:(R=t.scrollX)!==null&&R!==void 0?R:n.pageXOffset,scrollY:(V=t.scrollY)!==null&&V!==void 0?V:n.pageYOffset},o=new jl(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),c=new wW(i,o),A=(Z=t.foreignObjectRendering)!==null&&Z!==void 0?Z:!1,d={allowTaint:(ae=t.allowTaint)!==null&&ae!==void 0?ae:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:A,copyStyles:A},c.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),u=new AC(c,e,d),m=u.clonedReferenceElement,m?[4,u.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=X.sent(),g=n2(m)||Bq(m)?tz(m.ownerDocument):Rg(c,m),p=g.width,v=g.height,x=g.left,b=g.top,j=NW(c,m,t.backgroundColor),w={canvas:t.canvas,backgroundColor:j,scale:(Y=(D=t.scale)!==null&&D!==void 0?D:n.devicePixelRatio)!==null&&Y!==void 0?Y:1,x:((re=t.x)!==null&&re!==void 0?re:0)+x,y:((q=t.y)!==null&&q!==void 0?q:0)+b,width:(_=t.width)!==null&&_!==void 0?_:Math.ceil(p),height:(z=t.height)!==null&&z!==void 0?z:Math.ceil(v)},A?(c.logger.debug("Document cloned, using foreign object rendering"),I=new yW(c,w),[4,I.render(m)]):[3,3];case 2:return S=X.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+x+","+b+" with size "+p+"x"+v+" using computed rendering"),c.logger.debug("Starting DOM parsing"),F=mk(c,m),j===F.styles.backgroundColor&&(F.styles.backgroundColor=xl.TRANSPARENT),c.logger.debug("Starting renderer for element at "+w.x+","+w.y+" with size "+w.width+"x"+w.height),I=new hW(c,w),[4,I.render(F)];case 4:S=X.sent(),X.label=5;case 5:return(!((G=t.removeContainer)!==null&&G!==void 0)||G)&&(AC.destroy(h)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,S]}})})},NW=function(e,t,r){var n=t.ownerDocument,a=n.documentElement?vh(e,getComputedStyle(n.documentElement).backgroundColor):xl.TRANSPARENT,i=n.body?vh(e,getComputedStyle(n.body).backgroundColor):xl.TRANSPARENT,l=typeof r=="string"?vh(e,r):r===null?xl.TRANSPARENT:4294967295;return t===n.documentElement?Co(a)?Co(i)?l:i:a:l};const BW=Object.freeze(Object.defineProperty({__proto__:null,default:a2},Symbol.toStringTag,{value:"Module"}));let u1=null;try{u1=require("qrcode")}catch{console.warn("QRCode package not available, using fallback")}const CW=({marksheetData:e})=>{const[t,r]=N.useState("");N.useEffect(()=>{(async()=>{try{if(!u1){console.warn("QRCode not available, using fallback"),r("");return}const l={studentId:e.student.studentId,marksheetNumber:e.marksheetNumber,studentName:`${e.student.firstName} ${e.student.lastName}`,course:e.course.title,percentage:e.percentage,grade:e.overallGrade,result:e.result,verificationCode:e.verificationCode,issueDate:e.resultDate},o=JSON.stringify(l),c=await u1.toDataURL(o,{width:80,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});r(c)}catch(l){console.error("Error generating QR code:",l),r("")}})()},[e]);const n=i=>new Date(i).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),a=i=>i>=90?"Outstanding":i>=80?"Excellent":i>=70?"Very Good":i>=60?"Good":i>=50?"Satisfactory":"Marginal";return s.jsxs("div",{className:"marksheet-template",children:[s.jsx("div",{className:"decorative-border"}),s.jsx("div",{className:"marksheet-watermark",children:s.jsx("img",{src:"/prdhanlogo.png",alt:"PETF Logo",onLoad:()=>console.log("PETF logo loaded successfully"),onError:i=>{var c;console.error("Failed to load PETF logo:",i);const l=i.target;l.style.display="none";const o=document.createElement("div");o.innerHTML="PETF",o.className="watermark-fallback",(c=l.parentNode)==null||c.appendChild(o)}})}),s.jsxs("div",{className:"marksheet-content",children:[s.jsxs("div",{className:"marksheet-header",children:[s.jsx("h1",{className:"marksheet-title",children:"Phoolmati Devi Educational & Training Foundation"}),s.jsxs("div",{className:"registration-details",children:[s.jsx("div",{children:"MINISTRY OF CORPORATE AFFAIRS (GOVT. OF INDIA) GOVT. REG.NO.: U85500DL2024NPL432240"}),s.jsx("div",{children:"REG. ADDRESS: G-36,A\\5,KH NO. 22/18 & 23 LAXMI PARK, NANGLOI NEW DELHI 110041"})]}),s.jsx("h2",{className:"marksheet-subtitle",children:"Marksheet"})]}),s.jsxs("div",{className:"top-section",children:[s.jsxs("div",{className:"qr-section",children:[s.jsx("div",{className:"qr-container",children:t?s.jsx("img",{src:t,alt:"QR Code",className:"qr-image"}):s.jsxs("div",{className:"qr-fallback",children:[s.jsx("div",{children:"QR CODE"}),s.jsx("div",{className:"qr-student-id",children:e.student.studentId})]})}),s.jsx("div",{className:"qr-label",children:"GOVT. OF INDIA"})]}),s.jsxs("div",{className:"center-section",children:[s.jsx("div",{className:"logo-container",children:s.jsx("img",{src:"/prdhanlogo.png",alt:"PETF Logo",className:"petf-logo",onLoad:()=>console.log("PETF logo loaded successfully in center"),onError:i=>{var c;console.error("Failed to load PETF logo in center:",i);const l=i.target;l.style.display="none";const o=document.createElement("span");o.textContent="PD",o.className="logo-text",(c=l.parentNode)==null||c.appendChild(o)}})}),s.jsx("div",{className:"petf-label",children:"PETF"}),s.jsxs("div",{className:"certificate-number",children:["CERTIFICATE NO.",e.marksheetNumber]})]}),s.jsxs("div",{className:"enrollment-section",children:[s.jsx("div",{className:"enrollment-container",children:s.jsx("span",{className:"enrollment-id",children:e.student.studentId})}),s.jsx("div",{className:"enrollment-label",children:"ENROLL.NO"})]})]}),s.jsxs("div",{className:"marksheet-student-info",children:[s.jsxs("div",{className:"student-info-row",children:[s.jsx("strong",{children:"THIS MARKSHEET IS AWARDED TO :"})," Mr. ",e.student.firstName," ",e.student.lastName]}),e.student.dateOfBirth&&e.student.dateOfBirth.trim()!==""&&s.jsxs("div",{className:"student-info-row",children:[s.jsx("strong",{children:"DATE OF BIRTH :"})," ",n(e.student.dateOfBirth)]}),s.jsxs("div",{className:"student-info-row",children:[s.jsx("strong",{children:"ON SUCCESSFULL COMPLETION OF COURSE :"})," ",e.course.title]}),s.jsxs("div",{className:"student-info-row",children:[s.jsx("strong",{children:"ON DURATION :"})," ",e.course.duration," ",e.course.duration.includes("YEAR")||e.course.duration.includes("MONTH")||e.course.duration.includes("DAY")?"":"DAYS"]})]}),s.jsx("div",{className:"table-section",children:s.jsxs("table",{className:"marksheet-table",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"table-header-main",children:[s.jsx("th",{className:"serial-header",children:"S.No."}),s.jsx("th",{className:"subject-header",children:"SUBJECT OFFERED"}),s.jsx("th",{className:"max-header",children:"MAX MARKS"}),s.jsx("th",{className:"obtained-header",children:"MARKS OBTAINED"}),s.jsx("th",{className:"grade-header",children:"GRADE"})]})}),s.jsxs("tbody",{children:[e.subjects.map((i,l)=>s.jsxs("tr",{className:"subject-row",children:[s.jsx("td",{className:"serial-cell",children:l+1}),s.jsx("td",{className:"subject-cell",children:i.subjectName}),s.jsx("td",{className:"marks-cell",children:i.maxMarks}),s.jsx("td",{className:"marks-cell",children:i.marksObtained}),s.jsx("td",{className:"grade-cell",children:i.grade})]},l)),s.jsxs("tr",{className:"total-row",children:[s.jsx("td",{className:"serial-cell total-label",children:"TOTAL"}),s.jsx("td",{className:"subject-cell"}),s.jsx("td",{className:"marks-cell total-marks",children:e.maxTotalMarks}),s.jsx("td",{className:"marks-cell grand-total",children:e.totalMarks}),s.jsx("td",{className:"grade-cell overall-grade",children:e.overallGrade})]})]})]})}),s.jsxs("div",{className:"marksheet-summary",children:[s.jsxs("div",{className:"summary-left",children:[s.jsxs("div",{className:"summary-item",children:[s.jsx("strong",{children:"Percentage :"})," ",e.percentage.toFixed(0)," %"]}),s.jsxs("div",{className:"summary-item",children:[s.jsx("strong",{children:"Performance indicator :"})," ",a(e.percentage)]}),s.jsxs("div",{className:"summary-item",children:[s.jsx("strong",{children:"Place Of Issue:"})," Delhi"]}),s.jsxs("div",{className:"summary-item",children:[s.jsx("strong",{children:"Date Of Issue:"})," ",n(e.resultDate)]})]}),s.jsxs("div",{className:"summary-right",children:[s.jsxs("div",{className:"grade-display",children:[s.jsx("strong",{children:"Grade :"})," ",e.overallGrade]}),s.jsxs("div",{className:"signatures",children:[s.jsxs("div",{className:"signature-item",children:[s.jsx("div",{className:"signature-line"}),s.jsx("div",{className:"signature-label",children:"Examination Controller"})]}),s.jsxs("div",{className:"signature-item",children:[s.jsx("div",{className:"signature-line"}),s.jsx("div",{className:"signature-label",children:"Signature"})]})]})]})]})]}),s.jsxs("div",{className:"marksheet-footer",children:[s.jsxs("div",{className:"marksheet-gov-logos",children:[s.jsxs("div",{className:"gov-logo-item",children:[s.jsx("div",{className:"gov-title",children:" "}),s.jsx("div",{className:"gov-subtitle",children:"MINISTRY OF CORPORATE AFFAIRS"}),s.jsx("div",{className:"gov-subtitle",children:"GOVERNMENT OF INDIA"})]}),s.jsxs("div",{className:"gov-logo-item",children:[s.jsx("div",{className:"gov-title",children:" "}),s.jsx("div",{className:"gov-subtitle",children:"NGO DARPAN"})]}),s.jsxs("div",{className:"gov-logo-item",children:[s.jsx("div",{className:"gov-title",children:"MSME"}),s.jsx("div",{className:"gov-subtitle",children:"MICRO, SMALL & MEDIUM ENTERPRISES"}),s.jsx("div",{className:"gov-subtitle",children:",    "}),s.jsx("div",{className:"gov-subtitle",children:"Ministry of MSME, Govt. of India"})]}),s.jsxs("div",{className:"gov-logo-item",children:[s.jsx("div",{className:"gov-title",children:"NATIONAL ACADEMIC DEPOSITORY"}),s.jsx("div",{className:"gov-subtitle",children:"Transparency & Transformation Through Digitization"})]})]}),s.jsxs("div",{className:"disclaimer",children:[s.jsx("div",{className:"disclaimer-item",children:" Result must be show on qr code"}),s.jsx("div",{className:"disclaimer-item",children:" To be our site link in address bar"}),s.jsx("div",{className:"disclaimer-item",children:" Note for any of enquiry /verification contact or write at its administrative office only"})]}),s.jsx("div",{className:"marksheet-grade-scale",children:s.jsxs("table",{className:"grade-scale-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Performance Indicator"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Outstanding"}),s.jsx("td",{children:"Outstanding"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Excellent"}),s.jsx("td",{children:"Excellent"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Very Good"}),s.jsx("td",{children:"Very Good"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Good"}),s.jsx("td",{children:"Good"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Satisfactory"}),s.jsx("td",{children:"Satisfactory"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Marginal"}),s.jsx("td",{children:"Marginal"})]})]})]})})]}),s.jsx("style",{children:`
        .marksheet-template {
          width: 210mm;
          min-height: 297mm;
          margin: 0 auto;
          background: linear-gradient(135deg, #ffffff 0%, #fafafa 100%);
          position: relative;
          font-family: 'Arial', sans-serif;
          font-size: 12px;
          line-height: 1.4;
          color: #333;
          padding: 15mm;
          box-sizing: border-box;
          box-shadow: 0 0 20px rgba(0,0,0,0.1);
          page-break-inside: avoid;
          overflow: visible;
        }

        .decorative-border {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          border: 8px solid;
          border-image: linear-gradient(45deg, #e91e63, #f8bbd9, #e91e63, #f8bbd9) 1;
          pointer-events: none;
          z-index: 0;
        }

        .decorative-border::after {
          content: '';
          position: absolute;
          top: 4px;
          left: 4px;
          right: 4px;
          bottom: 4px;
          border: 2px solid #e91e63;
          border-radius: 4px;
        }

        .marksheet-watermark {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          opacity: 0.05;
          z-index: 1;
          pointer-events: none;
        }

        .marksheet-watermark img {
          width: 350px;
          height: 350px;
          object-fit: contain;
        }

        .watermark-fallback {
          width: 350px;
          height: 350px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 120px;
          font-weight: bold;
          color: rgba(233, 30, 99, 0.1);
        }

        .marksheet-content {
          position: relative;
          z-index: 2;
        }

        .marksheet-header {
          text-align: center;
          margin-bottom: 25px;
          border-bottom: 3px double #e91e63;
          padding-bottom: 15px;
        }

        .marksheet-title {
          font-size: 26px;
          font-weight: bold;
          color: #6a1b9a;
          margin: 0 0 10px 0;
          text-transform: uppercase;
          letter-spacing: 1px;
          text-shadow: 2px 2px 4px rgba(106, 27, 154, 0.1);
        }

        .registration-details {
          font-size: 9px;
          color: #666;
          margin-bottom: 15px;
          line-height: 1.4;
          background: linear-gradient(90deg, #f5f5f5, #ffffff, #f5f5f5);
          padding: 8px;
          border-radius: 4px;
          border: 1px solid #e0e0e0;
        }

        .marksheet-subtitle {
          font-size: 22px;
          font-weight: bold;
          color: #6a1b9a;
          margin: 0;
          text-transform: uppercase;
          letter-spacing: 2px;
        }

        .top-section {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 25px;
          padding: 15px 20px;
          background: linear-gradient(90deg, #fef7ff, #ffffff, #fef7ff);
          border-radius: 8px;
          border: 1px solid #e1bee7;
        }

        .qr-section, .enrollment-section {
          text-align: center;
          flex: 0 0 110px;
        }

        .center-section {
          text-align: center;
          flex: 1;
        }

        .qr-container, .enrollment-container {
          width: 85px;
          height: 85px;
          border: 2px solid #e91e63;
          background: #ffffff;
          display: flex;
          align-items: center;
          justify-content: center;
          margin: 0 auto 8px;
          border-radius: 8px;
          box-shadow: 0 2px 8px rgba(233, 30, 99, 0.2);
        }

        .qr-image {
          width: 100%;
          height: 100%;
          object-fit: contain;
        }

        .qr-fallback {
          font-size: 8px;
          color: #666;
          text-align: center;
        }

        .qr-student-id {
          font-size: 6px;
          margin-top: 2px;
        }

        .enrollment-id {
          font-size: 10px;
          color: #333;
          font-weight: bold;
          word-break: break-all;
        }

         .logo-container {
           width: 85px;
           height: 85px;
           border: 2px solid #e91e63;
           border-radius: 50%;
           background: linear-gradient(135deg, #f8f8f8, #ffffff);
           display: flex;
           align-items: center;
           justify-content: center;
           margin: 0 auto 10px;
           box-shadow: 0 4px 12px rgba(233, 30, 99, 0.2);
           overflow: hidden;
         }

         .petf-logo {
           width: 100%;
           height: 100%;
           object-fit: contain;
           border-radius: 50%;
         }

         .logo-text {
           font-size: 24px;
           font-weight: bold;
           color: #6a1b9a;
           text-shadow: 1px 1px 2px rgba(106, 27, 154, 0.3);
         }

        .qr-label, .enrollment-label, .petf-label {
          font-size: 9px;
          color: #666;
          font-weight: 600;
        }

        .certificate-number {
          font-size: 9px;
          color: #666;
          margin-top: 5px;
        }

        .marksheet-student-info {
          margin-bottom: 20px;
          padding: 15px 20px;
          background: linear-gradient(90deg, #f3e5f5, #ffffff);
          border-left: 4px solid #e91e63;
          border-radius: 4px;
        }

        .student-info-row {
          margin-bottom: 10px;
          font-size: 11px;
        }

        .table-section {
          margin-bottom: 20px;
          overflow: hidden;
          border-radius: 8px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .marksheet-table {
          width: 100%;
          border-collapse: collapse;
          font-size: 10px;
          background: white;
        }

        .table-header-main th {
          background: linear-gradient(135deg, #6a1b9a, #8e24aa);
          color: white;
          font-weight: bold;
          padding: 8px 4px;
          text-align: center;
          border: 1px solid #4a148c;
        }

        .serial-header {
          width: 8%;
        }

        .subject-header {
          width: 45%;
        }

        .max-header, .obtained-header {
          width: 15%;
        }

        .grade-header {
          width: 17%;
        }

        .subject-row {
          transition: background-color 0.3s ease;
        }

        .subject-row:nth-child(even) {
          background: linear-gradient(90deg, #fafafa, #ffffff);
        }

        .subject-row:hover {
          background: linear-gradient(90deg, #f3e5f5, #fce4ec);
        }

        .serial-cell, .marks-cell, .grade-cell {
          text-align: center;
          padding: 6px 4px;
          border: 1px solid #ddd;
          font-size: 10px;
        }

        .subject-cell {
          text-align: left;
          padding: 6px 8px;
          border: 1px solid #ddd;
          font-size: 10px;
          word-wrap: break-word;
          max-width: 200px;
        }

        .total-row {
          background: linear-gradient(135deg, #f5f5f5, #e8e8e8);
          font-weight: bold;
        }

        .total-row .total-label {
          background: #6a1b9a;
          color: white;
        }

        .grand-total {
          background: #e91e63 !important;
          color: white !important;
          font-weight: bold;
        }

        .overall-grade {
          background: #4caf50 !important;
          color: white !important;
          font-weight: bold;
        }

        .marksheet-summary {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 25px;
          padding: 15px 20px;
          background: linear-gradient(135deg, #f8f8f8, #ffffff);
          border-radius: 8px;
          border: 1px solid #e0e0e0;
        }

        .summary-left {
          flex: 1;
          margin-right: 20px;
        }

        .summary-item {
          margin-bottom: 10px;
          font-size: 11px;
        }

        .summary-right {
          flex: 0 0 200px;
          text-align: right;
        }

        .grade-display {
          margin-bottom: 30px;
          font-size: 14px;
          padding: 10px;
          background: linear-gradient(135deg, #e91e63, #f06292);
          color: white;
          border-radius: 6px;
          text-align: center;
        }

        .signatures {
          display: flex;
          justify-content: space-between;
          margin-top: 40px;
        }

        .signature-item {
          text-align: center;
          flex: 1;
          margin: 0 10px;
        }

        .signature-line {
          border-bottom: 2px solid #333;
          width: 80px;
          margin: 0 auto 8px;
        }

        .signature-label {
          font-size: 9px;
          color: #666;
        }

        .marksheet-footer {
          position: relative;
          margin-top: 30px;
          padding-top: 20px;
          border-top: 2px solid #e91e63;
        }

        .marksheet-gov-logos {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 15px;
          padding: 15px 0;
          background: linear-gradient(90deg, #f3e5f5, #ffffff, #f3e5f5);
          border-radius: 6px;
          border: 1px solid #e1bee7;
        }

        .gov-logo-item {
          text-align: center;
          flex: 1;
          padding: 0 10px;
        }

        .gov-title {
          font-size: 10px;
          font-weight: bold;
          margin-bottom: 5px;
          color: #6a1b9a;
        }

        .gov-subtitle {
          font-size: 7px;
          color: #666;
          margin-bottom: 2px;
        }

        .disclaimer {
          margin-bottom: 15px;
          padding: 10px;
          background: #fff3e0;
          border-left: 4px solid #ff9800;
          border-radius: 4px;
        }

        .disclaimer-item {
          font-size: 7px;
          color: #666;
          margin-bottom: 3px;
        }

        .marksheet-grade-scale {
          margin-top: 10px;
        }

        .grade-scale-table {
          width: 100%;
          border-collapse: collapse;
          font-size: 7px;
          border: 2px solid #6a1b9a;
          border-radius: 4px;
          overflow: hidden;
        }

        .grade-scale-table th {
          background: linear-gradient(135deg, #6a1b9a, #8e24aa);
          color: white;
          padding: 5px;
          text-align: center;
          font-weight: bold;
          border: 1px solid #4a148c;
        }

        .grade-scale-table td {
          padding: 4px;
          text-align: center;
          border: 1px solid #ddd;
          background: white;
        }

        .grade-scale-table tbody tr:nth-child(even) td {
          background: #f9f9f9;
        }

        @media print {
          .marksheet-template {
            margin: 0 !important;
            padding: 10mm !important;
            box-shadow: none !important;
            background: white !important;
            page-break-inside: auto;
          }

          .marksheet-header {
            page-break-after: avoid;
          }

          .table-section {
            page-break-inside: avoid;
          }

          .marksheet-summary {
            page-break-before: avoid;
          }

          .marksheet-footer {
            page-break-before: avoid;
          }

          @page {
            size: A4;
            margin: 10mm;
          }
        }

        @media (max-width: 768px) {
          .marksheet-template {
            width: 100% !important;
            min-height: auto !important;
            padding: 15px !important;
          }

          .top-section {
            flex-direction: column;
            gap: 15px;
            align-items: center;
          }

          .marksheet-summary {
            flex-direction: column;
            gap: 20px;
          }

          .marksheet-gov-logos {
            flex-direction: column;
            gap: 15px;
          }

          .signatures {
            flex-direction: column;
            gap: 20px;
            align-items: center;
          }
        }
      `})]})},Fk=N.forwardRef(({marksheetData:e,onAfterPrint:t,onBeforePrint:r},n)=>{const a=N.useRef(null),i=async()=>{try{if(console.log("Starting PDF generation..."),r&&await r(),!a.current)throw new Error("Component ref not found");const l=a.current.querySelectorAll("img");await Promise.all(Array.from(l).map(j=>j.complete&&j.naturalWidth>0?Promise.resolve():new Promise(w=>{const S=setTimeout(()=>w(),3e3);j.onload=()=>{clearTimeout(S),w()},j.onerror=()=>{clearTimeout(S),w()}}))),await new Promise(j=>setTimeout(j,1500)),console.log("Component dimensions:",{width:a.current.scrollWidth,height:a.current.scrollHeight,offsetWidth:a.current.offsetWidth,offsetHeight:a.current.offsetHeight});const o=await a2(a.current,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:a.current.scrollWidth,height:a.current.scrollHeight,logging:!0});console.log("Canvas generated:",{width:o.width,height:o.height});const c=210,A=297,u=A-10*2,m=o.height*c/o.width;let h=m,g=1;const p=new Ye("p","mm","a4");let v=0;const x=o.toDataURL("image/png");for(p.addImage(x,"PNG",0,v,c,m),h-=u;h>0;)v=h-m,p.addPage(),g++,p.setFontSize(8),p.setTextColor(128,128,128),p.text(`Page ${g}`,c-20,A-5),p.addImage(x,"PNG",0,v,c,m),h-=u;p.setFontSize(8),p.setTextColor(128,128,128),p.text("Page 1",c-20,A-5);const b=`Marksheet_${e.marksheetNumber}_${e.student.studentId}.pdf`;p.save(b),console.log("PDF generated successfully:",b),t&&await t()}catch(l){throw console.error("Error generating PDF:",l),l}};return N.useImperativeHandle(n,()=>({printMarksheet:()=>{console.log("Print marksheet called"),i()},downloadPDF:()=>{console.log("Download PDF called"),console.log("Component ref:",a.current),console.log("Marksheet data:",e),i()}})),s.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",width:"210mm",minHeight:"297mm",backgroundColor:"white",zIndex:-1,overflow:"visible"},children:s.jsx("div",{ref:a,style:{width:"100%",minHeight:"100%",overflow:"visible"},children:s.jsx(CW,{marksheetData:e})})})});Fk.displayName="MarksheetPDFGenerator";const kk=({isOpen:e,onClose:t,student:r})=>{const[n,a]=N.useState(!1),[i,l]=N.useState(null),[o,c]=N.useState(1),[A,d]=N.useState({academicYear:"",semester:"",examinationType:"",result:"",status:""}),[u,m]=N.useState(null),[h,g]=N.useState(!1),p=N.useRef(null),v=N.useCallback(async()=>{if(r!=null&&r._id){a(!0);try{const E=await O0.getStudentMarksheets(r._id,o,10,A);E.success&&E.data?l(E.data):Ie.error("Failed to load marksheets")}catch(E){console.error("Error loading marksheets:",E),Ie.error("Error loading marksheets")}finally{a(!1)}}},[r==null?void 0:r._id,o,A]);N.useEffect(()=>{e&&(r!=null&&r._id)&&v()},[e,r==null?void 0:r._id,v]);const x=(E,O)=>{d(L=>({...L,[E]:O})),c(1)},b=E=>{m(E),g(!0)},j=()=>{m(null),g(!1)},w=E=>{try{console.log("Download PDF clicked for marksheet:",E.marksheetNumber),m(E),setTimeout(()=>{console.log("PDF generator ref:",p.current),p.current?(console.log("Triggering PDF download..."),p.current.downloadPDF(),Ie.success("PDF download started!")):(console.error("PDF generator ref is null"),Ie.error("PDF generator not ready. Please try again."))},500)}catch(O){console.error("Error downloading PDF:",O),Ie.error("Failed to download PDF")}},S=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),F=E=>{switch(E.toLowerCase()){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},I=E=>{switch(E.toLowerCase()){case"pass":return"bg-green-100 text-green-800";case"fail":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=E=>E.includes("A+")||E.includes("A")?"text-green-600 font-semibold":E.includes("B")?"text-blue-600 font-semibold":E.includes("C")?"text-yellow-600 font-semibold":"text-red-600 font-semibold";return e?s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-7xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-sky-100 rounded-lg",children:s.jsx(ds,{className:"w-6 h-6 text-sky-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"View Marksheets"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[r.firstName," ",r.lastName," (",r.studentId,")"]})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(rt,{className:"w-5 h-5 text-gray-500"})})]}),(i==null?void 0:i.statistics)&&s.jsx("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ds,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.statistics.totalMarksheets})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Me,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Verified"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.statistics.verifiedMarksheets})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dr,{className:"w-5 h-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Published"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.statistics.publishedMarksheets})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vt,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Passed"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.statistics.passCount})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{className:"w-5 h-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Failed"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.statistics.failCount})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dr,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Avg %"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[i.statistics.averagePercentage.toFixed(1),"%"]})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dr,{className:"w-5 h-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Avg CGPA"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.statistics.averageCGPA.toFixed(2)})]})]})})]})}),s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Academic Year"}),s.jsxs("select",{value:A.academicYear,onChange:E=>x("academicYear",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Years"}),s.jsx("option",{value:"2024-25",children:"2024-25"}),s.jsx("option",{value:"2023-24",children:"2023-24"}),s.jsx("option",{value:"2022-23",children:"2022-23"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),s.jsxs("select",{value:A.semester,onChange:E=>x("semester",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Semesters"}),s.jsx("option",{value:"1st",children:"1st Semester"}),s.jsx("option",{value:"2nd",children:"2nd Semester"}),s.jsx("option",{value:"3rd",children:"3rd Semester"}),s.jsx("option",{value:"4th",children:"4th Semester"}),s.jsx("option",{value:"5th",children:"5th Semester"}),s.jsx("option",{value:"6th",children:"6th Semester"}),s.jsx("option",{value:"7th",children:"7th Semester"}),s.jsx("option",{value:"8th",children:"8th Semester"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exam Type"}),s.jsxs("select",{value:A.examinationType,onChange:E=>x("examinationType",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"Regular",children:"Regular"}),s.jsx("option",{value:"Supplementary",children:"Supplementary"}),s.jsx("option",{value:"Backlog",children:"Backlog"}),s.jsx("option",{value:"Improvement",children:"Improvement"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Result"}),s.jsxs("select",{value:A.result,onChange:E=>x("result",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Results"}),s.jsx("option",{value:"PASS",children:"Pass"}),s.jsx("option",{value:"FAIL",children:"Fail"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:A.status,onChange:E=>x("status",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"pending",children:"Pending"})]})]})]})}),s.jsx("div",{className:"flex-1 overflow-auto",children:n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-6 h-6 border-2 border-sky-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-gray-600",children:"Loading marksheets..."})]})}):i!=null&&i.marksheets&&i.marksheets.length>0?s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"space-y-4",children:i.marksheets.map(E=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.marksheetNumber}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F(E.status)}`,children:E.status}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I(E.result)}`,children:E.result}),E.isVerified&&s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Verified"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Course"}),s.jsx("p",{className:"font-medium text-gray-900",children:E.course.title}),s.jsx("p",{className:"text-sm text-gray-500",children:E.course.category})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Batch"}),s.jsx("p",{className:"font-medium text-gray-900",children:E.batch.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[S(E.batch.startDate)," - ",S(E.batch.endDate)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Academic Year & Semester"}),s.jsxs("p",{className:"font-medium text-gray-900",children:[E.academicYear," - ",E.semester]}),s.jsx("p",{className:"text-sm text-gray-500",children:E.examinationType})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Marks"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:[E.totalMarks,"/",E.maxTotalMarks]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Percentage"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:[E.percentage.toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"CGPA"}),s.jsx("p",{className:"font-semibold text-gray-900",children:E.cgpa.toFixed(2)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Grade"}),s.jsx("p",{className:`font-semibold ${k(E.overallGrade)}`,children:E.overallGrade})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Et,{className:"w-4 h-4"}),s.jsxs("span",{children:["Exam: ",S(E.examinationDate)]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Et,{className:"w-4 h-4"}),s.jsxs("span",{children:["Result: ",S(E.resultDate)]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Vt,{className:"w-4 h-4"}),s.jsxs("span",{children:["Created by: ",E.createdBy.firstName," ",E.createdBy.lastName]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>b(E),className:"p-2 text-sky-600 hover:bg-sky-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(xs,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>w(E),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download PDF",children:s.jsx(lr,{className:"w-5 h-5"})})]})]})},E.marksheetNumber))}),i.pagination.totalPages>1&&s.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-gray-200",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(o-1)*10+1," to ",Math.min(o*10,i.pagination.totalMarksheets)," of ",i.pagination.totalMarksheets," marksheets"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>c(E=>Math.max(1,E-1)),disabled:!i.pagination.hasPrevPage,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsxs("span",{className:"px-3 py-2 text-sm text-gray-700",children:["Page ",o," of ",i.pagination.totalPages]}),s.jsx("button",{onClick:()=>c(E=>E+1),disabled:!i.pagination.hasNextPage,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(ds,{className:"w-16 h-16 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No marksheets found"}),s.jsxs("p",{className:"text-gray-500 text-center max-w-md",children:[r.firstName," ",r.lastName," doesn't have any marksheets yet."]})]})}),s.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-200 bg-gray-50",children:s.jsx("button",{onClick:t,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})})]}),h&&u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Marksheet Details - ",u.marksheetNumber]}),s.jsx("button",{onClick:j,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(rt,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{className:"p-6 overflow-auto max-h-[calc(90vh-120px)]",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Student Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),s.jsx("p",{className:"font-medium",children:i==null?void 0:i.student.fullName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Student ID"}),s.jsx("p",{className:"font-medium",children:i==null?void 0:i.student.studentId})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Department"}),s.jsx("p",{className:"font-medium",children:i==null?void 0:i.student.department})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Year"}),s.jsx("p",{className:"font-medium",children:i==null?void 0:i.student.year})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Course & Batch Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Course"}),s.jsx("p",{className:"font-medium",children:u.course.title}),s.jsx("p",{className:"text-sm text-gray-500",children:u.course.category})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Batch"}),s.jsx("p",{className:"font-medium",children:u.batch.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[S(u.batch.startDate)," - ",S(u.batch.endDate)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Instructor"}),s.jsx("p",{className:"font-medium",children:u.course.instructor})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Duration"}),s.jsx("p",{className:"font-medium",children:u.course.duration})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Academic Information"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Academic Year"}),s.jsx("p",{className:"font-medium",children:u.academicYear})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Semester"}),s.jsx("p",{className:"font-medium",children:u.semester})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Exam Type"}),s.jsx("p",{className:"font-medium",children:u.examinationType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Result"}),s.jsx("p",{className:`font-medium ${u.result==="PASS"?"text-green-600":"text-red-600"}`,children:u.result})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Marks"}),s.jsxs("p",{className:"font-semibold text-lg",children:[u.totalMarks,"/",u.maxTotalMarks]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Percentage"}),s.jsxs("p",{className:"font-semibold text-lg",children:[u.percentage.toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"CGPA"}),s.jsx("p",{className:"font-semibold text-lg",children:u.cgpa.toFixed(2)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Grade"}),s.jsx("p",{className:`font-semibold text-lg ${k(u.overallGrade)}`,children:u.overallGrade})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Subject-wise Performance"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Subject"}),s.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Code"}),s.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Credits"}),s.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Marks"}),s.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Grade"}),s.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Points"})]})}),s.jsx("tbody",{children:u.subjects.map((E,O)=>s.jsxs("tr",{className:"border-b border-gray-100",children:[s.jsx("td",{className:"py-2 text-sm font-medium",children:E.subjectName}),s.jsx("td",{className:"py-2 text-sm text-gray-600",children:E.subjectCode}),s.jsx("td",{className:"py-2 text-sm text-gray-600",children:E.credits}),s.jsxs("td",{className:"py-2 text-sm text-gray-600",children:[E.marksObtained,"/",E.maxMarks]}),s.jsx("td",{className:`py-2 text-sm font-medium ${k(E.grade)}`,children:E.grade}),s.jsx("td",{className:"py-2 text-sm text-gray-600",children:E.gradePoints})]},O))})]})})]}),u.remarks&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Remarks"}),s.jsx("p",{className:"text-gray-700",children:u.remarks})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Verification Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),s.jsx("p",{className:"font-medium",children:u.isVerified?"Verified":"Not Verified"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Verification Code"}),s.jsx("p",{className:"font-medium font-mono text-sm",children:u.verificationCode})]}),u.verifiedBy&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Verified By"}),s.jsxs("p",{className:"font-medium",children:[u.verifiedBy.firstName," ",u.verifiedBy.lastName]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Created"}),s.jsx("p",{className:"font-medium",children:S(u.createdAt)})]})]})]})]})}),s.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-200 bg-gray-50",children:s.jsx("button",{onClick:j,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})})]})}),u&&i&&s.jsx(Fk,{ref:p,marksheetData:{marksheetNumber:u.marksheetNumber,student:{firstName:i.student.firstName,lastName:i.student.lastName,studentId:i.student.studentId,dateOfBirth:"",email:i.student.email,department:i.student.department,year:i.student.year},course:{title:u.course.title,category:u.course.category,duration:u.course.duration},batch:{name:u.batch.name,startDate:u.batch.startDate,endDate:u.batch.endDate},academicYear:u.academicYear,semester:u.semester,examinationType:u.examinationType,subjects:u.subjects,totalMarks:u.totalMarks,maxTotalMarks:u.maxTotalMarks,percentage:u.percentage,cgpa:u.cgpa,overallGrade:u.overallGrade,result:u.result,examinationDate:u.examinationDate,resultDate:u.resultDate,remarks:u.remarks,verificationCode:u.verificationCode,isVerified:u.isVerified},onAfterPrint:async()=>{console.log("PDF download completed")},onBeforePrint:async()=>{console.log("PDF download starting"),console.log("Selected marksheet:",u),console.log("Student data:",i.student)}})]}):null},_k=({isOpen:e,onClose:t,student:r,onSuccess:n})=>{const[a,i]=N.useState(!1),[l,o]=N.useState({}),[c,A]=N.useState({studentId:"",courseId:"",batchId:"",academicYear:"",semester:"",examinationType:"Regular",subjects:[{subjectName:"",subjectCode:"",credits:0,marksObtained:0,maxMarks:100,grade:"",gradePoints:0}],examinationDate:"",resultDate:"",remarks:""}),d=()=>r!=null&&r.enrollments?r.enrollments.map(w=>({_id:w.course.id,title:w.course.title,category:w.course.category,type:w.course.type,instructor:{name:w.course.instructor.name,email:w.course.instructor.email,phone:w.course.instructor.phone,bio:w.course.instructor.bio},duration:w.course.duration,durationUnit:w.course.durationUnit,price:w.course.price,currency:w.course.currency})):[],u=w=>r!=null&&r.enrollments?r.enrollments.filter(S=>S.course.id===w).map(S=>({_id:S.batch.id,name:S.batch.name,startDate:S.batch.startDate,endDate:S.batch.endDate,maxStudents:S.batch.maxStudents,price:S.batch.price,currency:S.batch.currency,timeSlots:S.batch.timeSlots})):[];N.useEffect(()=>{if(r&&(A(w=>({...w,studentId:r._id})),r.enrollments&&r.enrollments.length===1)){const w=r.enrollments[0];A(S=>({...S,courseId:w.course.id,batchId:w.batch.id}))}},[r]),N.useEffect(()=>{if(c.courseId){const w=u(c.courseId);w.length===1?A(S=>({...S,batchId:w[0]._id})):A(S=>({...S,batchId:""}))}else A(w=>({...w,batchId:""}))},[c.courseId]);const m=(w,S)=>{A(F=>({...F,[w]:S})),l[w]&&o(F=>({...F,[w]:""}))},h=(w,S,F)=>{const I=[...c.subjects];if(I[w]={...I[w],[S]:F},S==="marksObtained"||S==="maxMarks"){const k=S==="marksObtained"?F:I[w].marksObtained,E=S==="maxMarks"?F:I[w].maxMarks;if(k&&E&&E>0){const O=k/E*100,{grade:L,gradePoints:P}=O0.calculateGrade(O);I[w].grade=L,I[w].gradePoints=P}}A(k=>({...k,subjects:I}))},g=()=>{A(w=>({...w,subjects:[...w.subjects,{subjectName:"",subjectCode:"",credits:0,marksObtained:0,maxMarks:100,grade:"",gradePoints:0}]}))},p=w=>{c.subjects.length>1&&A(S=>({...S,subjects:S.subjects.filter((F,I)=>I!==w)}))},v=()=>{const w={};return(!(r!=null&&r.enrollments)||r.enrollments.length===0)&&(w.enrollments="Student must have at least one enrollment to generate marksheet"),c.courseId||(w.courseId="Course is required"),c.batchId||(w.batchId="Batch is required"),c.academicYear||(w.academicYear="Academic year is required"),c.semester||(w.semester="Semester is required"),c.examinationDate||(w.examinationDate="Examination date is required"),c.resultDate||(w.resultDate="Result date is required"),c.subjects.forEach((S,F)=>{S.subjectName||(w[`subject_${F}_name`]="Subject name is required"),S.subjectCode||(w[`subject_${F}_code`]="Subject code is required"),S.credits<=0&&(w[`subject_${F}_credits`]="Credits must be greater than 0"),S.marksObtained<0&&(w[`subject_${F}_marks`]="Marks cannot be negative"),S.maxMarks<=0&&(w[`subject_${F}_maxMarks`]="Max marks must be greater than 0"),S.marksObtained>S.maxMarks&&(w[`subject_${F}_marks`]="Marks cannot exceed max marks")}),o(w),Object.keys(w).length===0},x=async w=>{if(w.preventDefault(),!v()){Ie.error("Please fix the errors in the form");return}i(!0);try{const S=await O0.createMarksheet(c);if(S.success)Ie.success(" Marksheet generated successfully!",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),n==null||n(),t();else throw new Error(S.message||"Failed to generate marksheet")}catch(S){console.error("Error generating marksheet:",S);const F=S instanceof Error?S.message:"An unknown error occurred";Ie.error(` Failed to generate marksheet: ${F}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{i(!1)}},b=async()=>{if(!c.studentId||!c.courseId||!c.batchId){Ie.error("Please fill in the basic information (Student, Course, Batch)");return}i(!0);try{const w={...c,status:"draft"},S=await O0.createMarksheet(w);if(S.success)Ie.success(" Marksheet saved as draft!",{duration:3e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}}),n==null||n(),t();else throw new Error(S.message||"Failed to save draft")}catch(w){console.error("Error saving draft:",w);const S=w instanceof Error?w.message:"An unknown error occurred";Ie.error(` Failed to save draft: ${S}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{i(!1)}},j=()=>{A({studentId:"",courseId:"",batchId:"",academicYear:"",semester:"",examinationType:"Regular",subjects:[{subjectName:"",subjectCode:"",credits:0,marksObtained:0,maxMarks:100,grade:"",gradePoints:0}],examinationDate:"",resultDate:"",remarks:""}),o({}),t()};return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-sky-100 rounded-lg flex items-center justify-center",children:s.jsx(ds,{className:"w-5 h-5 text-sky-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Generate Marksheet"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Create marksheet for ",r.firstName," ",r.lastName]})]})]}),s.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:x,className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(Vt,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Student Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student ID"}),s.jsx("p",{className:"text-sm text-gray-900 bg-white px-3 py-2 rounded border",children:r.studentId})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsxs("p",{className:"text-sm text-gray-900 bg-white px-3 py-2 rounded border",children:[r.firstName," ",r.lastName]})]})]}),r.enrollments&&r.enrollments.length>0?s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Enrollments for Marksheet Generation"}),s.jsx("div",{className:"space-y-2",children:r.enrollments.map((w,S)=>s.jsx("div",{className:"bg-white p-3 rounded border",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:w.course.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Batch: ",w.batch.name]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Status: ",s.jsx("span",{className:`px-2 py-1 rounded text-xs ${w.status==="enrolled"?"bg-green-100 text-green-800":w.status==="completed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:w.status})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Progress: ",w.progress.overallProgress,"%"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Payment: ",s.jsx("span",{className:`px-2 py-1 rounded text-xs ${w.paymentStatus==="paid"?"bg-green-100 text-green-800":w.paymentStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:w.paymentStatus})]})]})]})},S))})]}):s.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pt,{className:"w-5 h-5 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"No Enrollments Found"}),s.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"This student has no course enrollments. Please enroll the student in a course before generating a marksheet."})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Course ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:c.courseId,onChange:w=>m("courseId",w.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.courseId?"border-red-500":"border-gray-300"}`,disabled:!(r!=null&&r.enrollments)||r.enrollments.length===0,children:[s.jsx("option",{value:"",children:"Select Course"}),d().map(w=>s.jsxs("option",{value:w._id,children:[w.title," - ",w.category]},w._id))]}),l.courseId&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[s.jsx(pt,{className:"w-4 h-4 mr-1"}),l.courseId]}),(!(r!=null&&r.enrollments)||r.enrollments.length===0)&&s.jsxs("p",{className:"text-yellow-600 text-sm mt-1 flex items-center",children:[s.jsx(pt,{className:"w-4 h-4 mr-1"}),"No enrollments found for this student"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Batch ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:c.batchId,onChange:w=>m("batchId",w.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.batchId?"border-red-500":"border-gray-300"}`,disabled:!c.courseId,children:[s.jsx("option",{value:"",children:"Select Batch"}),u(c.courseId).map(w=>s.jsx("option",{value:w._id,children:w.name},w._id))]}),l.batchId&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[s.jsx(pt,{className:"w-4 h-4 mr-1"}),l.batchId]}),c.courseId&&u(c.courseId).length===0&&s.jsxs("p",{className:"text-yellow-600 text-sm mt-1 flex items-center",children:[s.jsx(pt,{className:"w-4 h-4 mr-1"}),"No batches found for the selected course"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Academic Year ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:c.academicYear,onChange:w=>m("academicYear",w.target.value),placeholder:"e.g., 2024-25",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.academicYear?"border-red-500":"border-gray-300"}`}),l.academicYear&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[s.jsx(pt,{className:"w-4 h-4 mr-1"}),l.academicYear]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Semester ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:c.semester,onChange:w=>m("semester",w.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.semester?"border-red-500":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select Semester"}),s.jsx("option",{value:"1st",children:"1st Semester"}),s.jsx("option",{value:"2nd",children:"2nd Semester"}),s.jsx("option",{value:"3rd",children:"3rd Semester"}),s.jsx("option",{value:"4th",children:"4th Semester"}),s.jsx("option",{value:"5th",children:"5th Semester"}),s.jsx("option",{value:"6th",children:"6th Semester"}),s.jsx("option",{value:"7th",children:"7th Semester"}),s.jsx("option",{value:"8th",children:"8th Semester"})]}),l.semester&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[s.jsx(pt,{className:"w-4 h-4 mr-1"}),l.semester]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Examination Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:c.examinationType,onChange:w=>m("examinationType",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"Regular",children:"Regular"}),s.jsx("option",{value:"Supplementary",children:"Supplementary"}),s.jsx("option",{value:"Improvement",children:"Improvement"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Examination Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:c.examinationDate,onChange:w=>m("examinationDate",w.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.examinationDate?"border-red-500":"border-gray-300"}`}),l.examinationDate&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[s.jsx(pt,{className:"w-4 h-4 mr-1"}),l.examinationDate]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Result Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:c.resultDate,onChange:w=>m("resultDate",w.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.resultDate?"border-red-500":"border-gray-300"}`}),l.resultDate&&s.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[s.jsx(pt,{className:"w-4 h-4 mr-1"}),l.resultDate]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nr,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Subjects"})]}),s.jsxs("button",{type:"button",onClick:g,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Er,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Subject"})]})]}),s.jsx("div",{className:"space-y-4",children:c.subjects.map((w,S)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-medium text-gray-800",children:["Subject ",S+1]}),c.subjects.length>1&&s.jsx("button",{type:"button",onClick:()=>p(S),className:"text-red-500 hover:text-red-700 transition-colors",children:s.jsx(yn,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Subject Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:w.subjectName,onChange:F=>h(S,"subjectName",F.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l[`subject_${S}_name`]?"border-red-500":"border-gray-300"}`}),l[`subject_${S}_name`]&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:l[`subject_${S}_name`]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Subject Code ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:w.subjectCode,onChange:F=>h(S,"subjectCode",F.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l[`subject_${S}_code`]?"border-red-500":"border-gray-300"}`}),l[`subject_${S}_code`]&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:l[`subject_${S}_code`]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Credits ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:"1",value:w.credits,onChange:F=>h(S,"credits",parseInt(F.target.value)||0),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l[`subject_${S}_credits`]?"border-red-500":"border-gray-300"}`}),l[`subject_${S}_credits`]&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:l[`subject_${S}_credits`]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Max Marks ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:"1",value:w.maxMarks,onChange:F=>h(S,"maxMarks",parseInt(F.target.value)||0),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l[`subject_${S}_maxMarks`]?"border-red-500":"border-gray-300"}`}),l[`subject_${S}_maxMarks`]&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:l[`subject_${S}_maxMarks`]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Marks Obtained ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:"0",max:w.maxMarks,value:w.marksObtained,onChange:F=>h(S,"marksObtained",parseInt(F.target.value)||0),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l[`subject_${S}_marks`]?"border-red-500":"border-gray-300"}`}),l[`subject_${S}_marks`]&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:l[`subject_${S}_marks`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grade"}),s.jsx("input",{type:"text",value:w.grade,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grade Points"}),s.jsx("input",{type:"number",value:w.gradePoints,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Percentage"}),s.jsx("input",{type:"number",value:w.maxMarks>0?(w.marksObtained/w.maxMarks*100).toFixed(2):0,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]})]})]},S))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),s.jsx("textarea",{value:c.remarks,onChange:w=>m("remarks",w.target.value),rows:3,placeholder:"Enter any remarks or comments...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Marksheet Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Subjects"}),s.jsx("p",{className:"text-lg font-semibold text-gray-800",children:c.subjects.length})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Marks"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[c.subjects.reduce((w,S)=>w+S.marksObtained,0)," / ",c.subjects.reduce((w,S)=>w+S.maxMarks,0)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Overall Percentage"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[c.subjects.reduce((w,S)=>w+S.maxMarks,0)>0?(c.subjects.reduce((w,S)=>w+S.marksObtained,0)/c.subjects.reduce((w,S)=>w+S.maxMarks,0)*100).toFixed(2):0,"%"]})]})]})]})]}),s.jsxs("div",{className:"fixed bottom-6 right-6 flex flex-col space-y-3 z-10",children:[s.jsxs("button",{type:"button",onClick:b,disabled:a||!(r!=null&&r.enrollments)||r.enrollments.length===0,className:"px-4 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-full shadow-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Save Draft",children:[s.jsx(gc,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Save Draft"})]}),s.jsxs("button",{type:"button",onClick:x,disabled:a||!(r!=null&&r.enrollments)||r.enrollments.length===0,className:"px-4 py-3 bg-sky-500 hover:bg-sky-600 text-white rounded-full shadow-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Generate Marksheet",children:[s.jsx(gc,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Generate"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[s.jsx("button",{type:"button",onClick:b,disabled:a||!(r!=null&&r.enrollments)||r.enrollments.length===0,className:"px-6 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(gc,{className:"w-4 h-4"}),s.jsx("span",{children:"Save Draft"})]})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",onClick:j,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",onClick:x,disabled:a||!(r!=null&&r.enrollments)||r.enrollments.length===0,className:"px-6 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Generating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(gc,{className:"w-4 h-4"}),s.jsx("span",{children:"Generate Marksheet"})]})})]})]})]})})},SW=({isOpen:e,onClose:t,student:r,marksheetNumber:n,onSuccess:a})=>{var p,v,x,b,j;const[i,l]=N.useState(!1),[o,c]=N.useState({certificateType:"Completion",certificateTitle:"",description:"",achievements:[],deliveryMethod:"Digital",deliveryAddress:{street:"",city:"",state:"",zipCode:"",country:"India"}}),[A,d]=N.useState({title:"",description:"",date:""}),u=w=>{const{name:S,value:F}=w.target;if(S.startsWith("deliveryAddress.")){const I=S.split(".")[1];c(k=>({...k,deliveryAddress:{...k.deliveryAddress,[I]:F}}))}else c(I=>({...I,[S]:F}))},m=()=>{A.title&&A.description&&A.date&&(c(w=>({...w,achievements:[...w.achievements||[],{...A}]})),d({title:"",description:"",date:""}))},h=w=>{c(S=>{var F;return{...S,achievements:((F=S.achievements)==null?void 0:F.filter((I,k)=>k!==w))||[]}})},g=async w=>{if(w.preventDefault(),!n){Es.error("Marksheet number is required");return}l(!0);try{const S=await Tw.generateCertificateFromMarksheet(n,o);S.success?(Es.success("Certificate generated successfully!"),a==null||a(),t()):Es.error(S.message||"Failed to generate certificate")}catch(S){console.error("Error generating certificate:",S),Es.error(S.message||"Failed to generate certificate")}finally{l(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(dr,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Generate Certificate"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Create a certificate from marksheet for ",r.firstName," ",r.lastName]})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(rt,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Vt,{className:"w-5 h-5"}),"Student Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Name"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[r.firstName," ",r.lastName]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student ID"}),s.jsx("p",{className:"text-sm text-gray-900",children:r.studentId})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-900",children:r.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),s.jsx("p",{className:"text-sm text-gray-900",children:r.department||"N/A"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(ds,{className:"w-5 h-5"}),"Marksheet Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marksheet Number"}),s.jsx("p",{className:"text-sm text-gray-900 font-mono",children:n})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Ready for Certificate Generation"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(ar,{className:"w-5 h-5"}),"Certificate Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"certificateType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate Type *"}),s.jsxs("select",{id:"certificateType",name:"certificateType",value:o.certificateType,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"Completion",children:"Completion Certificate"}),s.jsx("option",{value:"Achievement",children:"Achievement Certificate"}),s.jsx("option",{value:"Excellence",children:"Excellence Certificate"}),s.jsx("option",{value:"Participation",children:"Participation Certificate"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"deliveryMethod",className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Method *"}),s.jsxs("select",{id:"deliveryMethod",name:"deliveryMethod",value:o.deliveryMethod,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"Digital",children:"Digital"}),s.jsx("option",{value:"Physical",children:"Physical"}),s.jsx("option",{value:"Both",children:"Both"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"certificateTitle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate Title"}),s.jsx("input",{type:"text",id:"certificateTitle",name:"certificateTitle",value:o.certificateTitle,onChange:u,placeholder:"e.g., Completion Certificate - Web Development",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{id:"description",name:"description",value:o.description,onChange:u,rows:3,placeholder:"Additional description for the certificate...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(dr,{className:"w-5 h-5"}),"Achievements (Optional)"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"achievementTitle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Achievement Title"}),s.jsx("input",{type:"text",id:"achievementTitle",value:A.title,onChange:w=>d(S=>({...S,title:w.target.value})),placeholder:"e.g., Top Performer",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"achievementDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),s.jsx("input",{type:"date",id:"achievementDate",value:A.date,onChange:w=>d(S=>({...S,date:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"button",onClick:m,className:"w-full px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Add Achievement"})})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"achievementDescription",className:"block text-sm font-medium text-gray-700 mb-1",children:"Achievement Description"}),s.jsx("textarea",{id:"achievementDescription",value:A.description,onChange:w=>d(S=>({...S,description:w.target.value})),rows:2,placeholder:"Description of the achievement...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),o.achievements&&o.achievements.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Added Achievements:"}),o.achievements.map((w,S)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:w.title}),s.jsx("p",{className:"text-xs text-gray-500",children:w.description}),s.jsx("p",{className:"text-xs text-gray-400",children:new Date(w.date).toLocaleDateString()})]}),s.jsx("button",{type:"button",onClick:()=>h(S),className:"text-red-500 hover:text-red-700",children:s.jsx(rt,{className:"w-4 h-4"})})]},S))]})]}),o.deliveryMethod==="Physical"||o.deliveryMethod==="Both"?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(Fo,{className:"w-5 h-5"}),"Delivery Address"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),s.jsx("input",{type:"text",id:"street",name:"deliveryAddress.street",value:((p=o.deliveryAddress)==null?void 0:p.street)||"",onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),s.jsx("input",{type:"text",id:"city",name:"deliveryAddress.city",value:((v=o.deliveryAddress)==null?void 0:v.city)||"",onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),s.jsx("input",{type:"text",id:"state",name:"deliveryAddress.state",value:((x=o.deliveryAddress)==null?void 0:x.state)||"",onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code *"}),s.jsx("input",{type:"text",id:"zipCode",name:"deliveryAddress.zipCode",value:((b=o.deliveryAddress)==null?void 0:b.zipCode)||"",onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),s.jsx("input",{type:"text",id:"country",name:"deliveryAddress.country",value:((j=o.deliveryAddress)==null?void 0:j.country)||"",onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}):null,s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-4 h-4"}),"Generate Certificate"]})})]})]})]})}):null},EW=({isOpen:e,onClose:t,onConfirm:r,studentName:n})=>{const[a,i]=N.useState(""),[l,o]=N.useState(!1),c=async d=>{if(d.preventDefault(),!a.trim()){Es.error("Please enter a marksheet number");return}o(!0);try{await r(a.trim()),i(""),t()}catch(u){console.error("Error in marksheet number confirmation:",u)}finally{o(!1)}},A=()=>{i(""),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(ds,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Enter Marksheet Number"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Generate certificate for ",n]})]})]}),s.jsx("button",{onClick:A,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(rt,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("form",{onSubmit:c,className:"p-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"marksheetNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Marksheet Number *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(fr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"marksheetNumber",value:a,onChange:d=>i(d.target.value),placeholder:"e.g., MS2412001",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",autoFocus:!0,required:!0})]}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Enter the marksheet number to generate a certificate from"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Example Format:"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsx("p",{children:" MS2412001 (Marksheet + Year + Month + Number)"}),s.jsx("p",{children:" MS2024001 (Marksheet + Year + Sequential Number)"}),s.jsx("p",{children:" MS2412001 (Marksheet + Academic Year + Number)"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6",children:[s.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l||!a.trim(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ds,{className:"w-4 h-4"}),"Continue"]})})]})]})]})}):null},FW=({certificateData:e})=>{const[t,r]=N.useState("");N.useEffect(()=>{(async()=>{try{const l=await fh(()=>import("./browser-BXdiCFWD.js").then(A=>A.b),[]),o={certificateNumber:e.certificateNumber,studentId:e.student.studentId,studentName:e.student.fullName,course:e.course.title,grade:e.grade,issueDate:e.certificateIssueDate,verificationCode:`CERT${e.certificateNumber}`},c=await l.toDataURL(JSON.stringify(o),{width:100,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});r(c)}catch(l){console.error("Error generating QR code:",l)}})()},[e]);const n=i=>new Date(i).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}),a=i=>`${i} ${i===1?"Day":"Days"}`;return s.jsxs("div",{className:"certificate-template",children:[s.jsx("style",{children:`
        .certificate-template {
          width: 210mm;
          min-height: 297mm;
          background: white;
          position: relative;
          font-family: 'Times New Roman', serif;
          color: #000;
          border: 3px solid #1e40af;
          box-sizing: border-box;
          overflow: visible;
          margin: 0;
          padding: 0;
        }

        .certificate-watermark {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          opacity: 0.1;
          z-index: 1;
          pointer-events: none;
        }

        .watermark-logo {
          width: 200px;
          height: 200px;
          object-fit: contain;
        }

        .certificate-content {
          position: relative;
          z-index: 2;
          padding: 15mm;
          height: 100%;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
        }

        .certificate-header {
          text-align: center;
          margin-bottom: 15px;
          border-bottom: 2px solid #1e40af;
          padding-bottom: 10px;
        }

        .foundation-name {
          font-size: 24px;
          font-weight: bold;
          color: #1e40af;
          margin-bottom: 8px;
          text-transform: uppercase;
        }

        .registration-details {
          font-size: 10px;
          color: #374151;
          line-height: 1.3;
          margin-bottom: 5px;
        }

        .certificate-title {
          text-align: center;
          margin: 20px 0;
        }

        .main-title {
          font-size: 32px;
          font-weight: bold;
          color: #dc2626;
          text-transform: uppercase;
          margin-bottom: 10px;
          letter-spacing: 2px;
        }

        .subtitle {
          font-size: 18px;
          color: #374151;
          font-style: italic;
        }


        .certificate-body {
          flex: 1;
          text-align: center;
          line-height: 1.6;
          max-width: 500px;
          margin: 0 auto;
          display: flex;
          flex-direction: column;
          justify-content: center;
        }

        .certificate-text {
          font-size: 16px;
          margin: 15px 0;
          text-align: center;
        }

        .student-name {
          font-weight: bold;
          text-decoration: underline;
          color: #1e40af;
        }

        .course-details {
          margin: 15px 0;
          font-size: 16px;
        }

        .course-name {
          font-weight: bold;
          text-decoration: underline;
          color: #1e40af;
        }

        .course-info {
          margin: 15px 0;
          font-size: 14px;
        }

        .grade-info {
          font-weight: bold;
          color: #dc2626;
        }

        .motto {
          margin: 20px 0;
          font-size: 16px;
          font-style: italic;
          color: #1e40af;
          text-align: center;
        }

        .certificate-footer {
          display: flex;
          justify-content: space-between;
          align-items: flex-end;
          margin-top: auto;
          padding-top: 15px;
          border-top: 1px solid #d1d5db;
        }

        .logo-section {
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .logo-container {
          width: 80px;
          height: 80px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 10px;
        }

        .logo-image {
          width: 100%;
          height: 100%;
          object-fit: contain;
        }

        .logo-text {
          font-size: 12px;
          font-weight: bold;
          color: #1e40af;
        }

        .certificate-number {
          font-size: 10px;
          color: #6b7280;
          margin-top: 5px;
        }

        .qr-section {
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .qr-code {
          width: 80px;
          height: 80px;
          border: 1px solid #d1d5db;
          margin-bottom: 5px;
        }

        .qr-text {
          font-size: 8px;
          color: #6b7280;
          text-align: center;
        }

        .signature-section {
          text-align: center;
        }

        .signature-line {
          border-bottom: 1px solid #000;
          width: 150px;
          margin: 0 auto 5px;
        }

        .signature-text {
          font-size: 12px;
          color: #374151;
        }

        .government-logos {
          display: flex;
          justify-content: space-between;
          margin-top: 15px;
          padding-top: 10px;
          border-top: 1px solid #d1d5db;
        }

        .gov-logo {
          width: 60px;
          height: 60px;
          border: 1px solid #d1d5db;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 8px;
          color: #6b7280;
          text-align: center;
        }

        @media print {
          .certificate-template {
            margin: 0;
            border: none;
            box-shadow: none;
          }
          
          .certificate-content {
            padding: 15mm;
          }
        }
      `}),s.jsx("div",{className:"certificate-watermark",children:s.jsx("img",{src:"/prdhanlogo.png",alt:"PETF Logo",className:"watermark-logo",onLoad:()=>console.log("Watermark logo loaded"),onError:()=>console.log("Watermark logo failed to load")})}),s.jsxs("div",{className:"certificate-content",children:[s.jsxs("div",{className:"certificate-header",children:[s.jsx("div",{className:"foundation-name",children:"Phoolmati Devi Educational & Training Foundation"}),s.jsxs("div",{className:"registration-details",children:["MINISTRY OF CORPORATE AFFAIRS (GOVT. OF INDIA)",s.jsx("br",{}),"GOVT. REG.U85500DL2024NPL432240",s.jsx("br",{}),"REGD. ADDRESS: G-36,A\\5,KH NO. 22/18 & 23 LAXMI PARK, NANGLOI NEW DELHI 110041"]})]}),s.jsxs("div",{className:"certificate-title",children:[s.jsx("div",{className:"main-title",children:"Certificate of Course Completion"}),s.jsx("div",{className:"subtitle",children:"This is to certify that"})]}),s.jsxs("div",{className:"certificate-body",children:[s.jsxs("div",{className:"certificate-text",children:["This is certified that Mr/Mrs ",s.jsx("span",{className:"student-name",children:e.student.fullName}),s.jsx("br",{}),"Father name Mr. ",s.jsxs("span",{className:"student-name",children:[e.student.firstName," Singh"]}),s.jsx("br",{}),"Mother name Mrs ",s.jsxs("span",{className:"student-name",children:[e.student.lastName," Devi"]}),s.jsx("br",{}),"Has successfully completed the course"]}),s.jsxs("div",{className:"course-details",children:[s.jsx("span",{className:"course-name",children:e.course.title}),s.jsx("br",{}),"from Our foundation / institute."]}),s.jsxs("div",{className:"course-info",children:["Duration of course is ",s.jsx("span",{className:"grade-info",children:a(e.course.duration)}),".",s.jsx("br",{}),"Grade ",s.jsx("span",{className:"grade-info",children:e.grade}),".",s.jsx("br",{}),"Certificate issued year ",s.jsx("span",{className:"grade-info",children:n(e.certificateIssueDate)}),s.jsx("br",{}),"And Enroll No. ",s.jsx("span",{className:"grade-info",children:e.student.studentId})]}),s.jsx("div",{className:"motto",children:"I wish you all the success, happiness and Bright Future."})]}),s.jsxs("div",{className:"certificate-footer",children:[s.jsxs("div",{className:"logo-section",children:[s.jsx("div",{className:"logo-container",children:s.jsx("img",{src:"/prdhanlogo.png",alt:"PETF Logo",className:"logo-image",onLoad:()=>console.log("Logo loaded"),onError:()=>console.log("Logo failed to load")})}),s.jsx("div",{className:"logo-text",children:"PETF"}),s.jsxs("div",{className:"certificate-number",children:["Certificate No. ",e.certificateNumber]})]}),s.jsxs("div",{className:"qr-section",children:[t?s.jsx("img",{src:t,alt:"QR Code",className:"qr-code"}):s.jsx("div",{className:"qr-code",style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px"},children:"QR Code"}),s.jsx("div",{className:"qr-text",children:"Verification Code"})]}),s.jsxs("div",{className:"signature-section",children:[s.jsx("div",{className:"signature-line"}),s.jsx("div",{className:"signature-text",children:"SEAL & SIGN"})]})]}),s.jsxs("div",{className:"government-logos",children:[s.jsxs("div",{className:"gov-logo",children:["Ashoka Chakra",s.jsx("br",{})," ",s.jsx("br",{}),"NGO DARPAN"]}),s.jsxs("div",{className:"gov-logo",children:["M",s.jsx("br",{}),"MINISTRY OF",s.jsx("br",{}),"CORPORATE AFFAIRS",s.jsx("br",{}),"GOVERNMENT OF INDIA"]})]})]})]})},Ik=N.forwardRef(({certificateData:e,onBeforePrint:t,onAfterPrint:r},n)=>{const a=N.useRef(null),i=async()=>{if(!a.current||!e){console.error("Component ref or certificate data not available");return}try{t==null||t();const l=a.current.querySelectorAll("img"),o=Array.from(l).map(F=>new Promise(I=>{F.complete?I():(F.onload=()=>I(),F.onerror=()=>I(),setTimeout(()=>I(),3e3))}));await Promise.all(o),await new Promise(F=>setTimeout(F,1e3)),console.log("Component dimensions:",{width:a.current.offsetWidth,height:a.current.offsetHeight});const c=await a2(a.current,{scale:1.5,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!0,width:a.current.offsetWidth,height:a.current.offsetHeight,scrollX:0,scrollY:0});console.log("Canvas dimensions:",{width:c.width,height:c.height});const A=c.toDataURL("image/png"),d=new Ye({orientation:"portrait",unit:"mm",format:"a4"}),u=d.internal.pageSize.getWidth(),m=d.internal.pageSize.getHeight(),h=5,g=u-2*h,p=m-2*h,v=g,x=c.height*g/c.width;let b=x,j=h;d.addImage(A,"PNG",h,j,v,x),b-=p;let w=1;for(;b>=0;)j=b-x+h,d.addPage(),w++,d.addImage(A,"PNG",h,j,v,x),b-=p;for(let F=1;F<=w;F++)d.setPage(F),d.setFontSize(8),d.text(`Page ${F}`,u-20,m-10);const S=`Certificate_${e.certificateNumber}_${e.student.studentId}.pdf`;d.save(S),r==null||r(),console.log("PDF generated successfully:",S)}catch(l){console.error("Error generating PDF:",l),r==null||r()}};return N.useImperativeHandle(n,()=>({downloadPDF:i,printCertificate:i})),s.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",zIndex:-1},children:s.jsx("div",{ref:a,style:{width:"210mm",minHeight:"297mm",backgroundColor:"white",overflow:"visible"},children:s.jsx(FW,{certificateData:e})})})});Ik.displayName="CertificatePDFGenerator";const kW=({isOpen:e,onClose:t,student:r})=>{const[n,a]=N.useState(null),[i,l]=N.useState(!1),[o,c]=N.useState(null),[A,d]=N.useState(1),[u,m]=N.useState({certificateType:"",academicYear:"",status:""}),[h,g]=N.useState(null),p=N.useRef(null),v=N.useCallback(async(k=1)=>{l(!0),c(null);try{const E=await Tw.getStudentCertificateData(r._id,k,10,{certificateType:u.certificateType||void 0,academicYear:u.academicYear||void 0,status:u.status||void 0,includeDetails:!0});a(E),d(k)}catch(E){console.error("Error fetching certificates:",E),c(E.message||"Failed to fetch certificates"),Es.error(E.message||"Failed to fetch certificates")}finally{l(!1)}},[r._id,u.certificateType,u.academicYear,u.status]);N.useEffect(()=>{e&&r?v(1):e||(a(null),c(null),d(1))},[e,r,v]);const x=(k,E)=>{m(O=>({...O,[k]:E}))},b=()=>{v(1)},j=()=>{m({certificateType:"",academicYear:"",status:""}),v(1)},w=k=>{g(k),setTimeout(()=>{p.current&&p.current.downloadPDF()},500)},S=k=>{switch(k.toLowerCase()){case"issued":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";case"delivered":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},F=k=>{switch(k.toLowerCase()){case"issued":return s.jsx(Me,{className:"w-4 h-4"});case"draft":return s.jsx(Qt,{className:"w-4 h-4"});case"pending":return s.jsx(pt,{className:"w-4 h-4"});case"delivered":return s.jsx(dr,{className:"w-4 h-4"});default:return s.jsx(ds,{className:"w-4 h-4"})}},I=k=>new Date(k).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"});return e?s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(dr,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Student Certificates"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[r.firstName," ",r.lastName," - ",r.studentId]})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(rt,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{className:"p-6",children:i&&!n?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading certificates..."})]})}):o?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(pt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error"}),s.jsx("p",{className:"text-gray-600 mb-4",children:o}),s.jsx("button",{onClick:()=>v(A),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Retry"})]}):n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Vt,{className:"w-5 h-5"}),"Student Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),s.jsx("p",{className:"text-sm text-gray-900",children:n.student.fullName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student ID"}),s.jsx("p",{className:"text-sm text-gray-900",children:n.student.studentId})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),s.jsx("p",{className:"text-sm text-gray-900",children:n.student.department})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(dr,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Total Certificates"})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.statistics.totalCertificates})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Me,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Verified"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.statistics.verifiedCertificates})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ds,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Issued"})]}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:n.statistics.issuedCertificates})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ar,{className:"w-5 h-5 text-orange-600"}),s.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Avg Grade"})]}),s.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[n.statistics.averageGrade,"%"]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Filters"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate Type"}),s.jsxs("select",{value:u.certificateType,onChange:k=>x("certificateType",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"Completion",children:"Completion"}),s.jsx("option",{value:"Achievement",children:"Achievement"}),s.jsx("option",{value:"Excellence",children:"Excellence"}),s.jsx("option",{value:"Participation",children:"Participation"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Academic Year"}),s.jsx("input",{type:"text",value:u.academicYear,onChange:k=>x("academicYear",k.target.value),placeholder:"e.g., 2024-25",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:u.status,onChange:k=>x("status",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"issued",children:"Issued"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"pending",children:"Pending"})]})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx("button",{onClick:b,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Apply"}),s.jsx("button",{onClick:j,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Clear"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Certificates (",n.certificates.length,")"]}),n.certificates.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(dr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No Certificates Found"}),s.jsx("p",{className:"text-gray-600",children:"This student doesn't have any certificates matching your criteria."})]}):s.jsx("div",{className:"space-y-4",children:n.certificates.map(k=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(dr,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:k.certificateTitle}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Certificate #",k.certificateNumber]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${S(k.status)}`,children:[F(k.status),k.status]}),k.isVerified&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Me,{className:"w-3 h-3"}),"Verified"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[s.jsxs("div",{children:[s.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[s.jsx(nr,{className:"w-4 h-4"}),"Course Information"]}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Title:"})," ",k.course.title]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Category:"})," ",k.course.category]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Instructor:"})," ",k.course.instructor.name]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Duration:"})," ",k.course.duration," days"]})]})]}),s.jsxs("div",{children:[s.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4"}),"Batch Information"]}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Name:"})," ",k.batch.name]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Start Date:"})," ",I(k.batch.startDate)]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"End Date:"})," ",I(k.batch.endDate)]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Max Students:"})," ",k.batch.maxStudents]})]})]}),s.jsxs("div",{children:[s.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[s.jsx(ds,{className:"w-4 h-4"}),"Performance"]}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Grade:"})," ",k.grade]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Percentage:"})," ",k.percentage,"%"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"CGPA:"})," ",k.cgpa]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Academic Year:"})," ",k.academicYear]})]})]})]}),k.marksheet&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[s.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[s.jsx(ds,{className:"w-4 h-4"}),"Related Marksheet"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Marksheet #:"})," ",k.marksheet.marksheetNumber]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Semester:"})," ",k.marksheet.semester]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Exam Type:"})," ",k.marksheet.examinationType]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Result:"})," ",k.marksheet.result]})]})]}),(k.description||k.achievements||k.deliveryAddress)&&s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[s.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[s.jsx(dr,{className:"w-4 h-4"}),"Additional Information"]}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[k.description&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Description:"}),s.jsx("p",{className:"mt-1",children:k.description})]}),k.achievements&&k.achievements.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Achievements:"}),s.jsx("div",{className:"mt-1 space-y-1",children:k.achievements.map(E=>s.jsxs("div",{className:"bg-white p-2 rounded border",children:[s.jsx("p",{className:"font-medium",children:E.title}),s.jsx("p",{className:"text-xs text-gray-500",children:E.description}),s.jsx("p",{className:"text-xs text-gray-400",children:I(E.date)})]},E._id))})]}),k.deliveryAddress&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Delivery Address:"}),s.jsxs("p",{className:"mt-1",children:[k.deliveryAddress.street&&`${k.deliveryAddress.street}, `,k.deliveryAddress.city&&`${k.deliveryAddress.city}, `,k.deliveryAddress.state&&`${k.deliveryAddress.state}, `,k.deliveryAddress.zipCode&&`${k.deliveryAddress.zipCode}, `,k.deliveryAddress.country]})]}),k.deliveryMethod&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Delivery Method:"})," ",k.deliveryMethod]}),k.deliveryStatus&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Delivery Status:"})," ",k.deliveryStatus]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsxs("p",{children:["Created: ",I(k.createdAt)]}),s.jsxs("p",{children:["Created by: ",k.createdBy.firstName," ",k.createdBy.lastName]}),k.verifiedBy&&s.jsxs("p",{children:["Verified by: ",k.verifiedBy.firstName," ",k.verifiedBy.lastName]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"flex items-center gap-1 px-3 py-1.5 text-blue-600 hover:text-blue-900 text-sm",children:[s.jsx(xs,{className:"w-4 h-4"}),"View Details"]}),s.jsxs("button",{onClick:()=>w(k),className:"flex items-center gap-1 px-3 py-1.5 text-green-600 hover:text-green-900 text-sm",children:[s.jsx(lr,{className:"w-4 h-4"}),"Download"]})]})]})]},k.certificateNumber))})]}),n.pagination.totalPages>1&&s.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[s.jsx("button",{onClick:()=>v(A-1),disabled:!n.pagination.hasPrevPage,className:"p-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsxs("span",{className:"text-gray-700",children:["Page ",A," of ",n.pagination.totalPages]}),s.jsx("button",{onClick:()=>v(A+1),disabled:!n.pagination.hasNextPage,className:"p-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}):null})]}),h&&s.jsx(Ik,{ref:p,certificateData:h,onBeforePrint:()=>console.log("Starting certificate PDF generation..."),onAfterPrint:()=>{console.log("Certificate PDF generation completed"),g(null)}})]}):null},_W=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10,hasNextPage:!1,hasPrevPage:!1}),[c,A]=N.useState(""),[d,u]=N.useState(""),[m,h]=N.useState(""),[g,p]=N.useState(""),[v,x]=N.useState(""),[b,j]=N.useState(!1),[w,S]=N.useState(!1),[F,I]=N.useState(!1),[k,E]=N.useState(!1),[O,L]=N.useState(!1),[P,U]=N.useState(null),[R,V]=N.useState(""),Z=N.useCallback(async(X=1)=>{try{n(!0),i(null);const J=await Ui.getStudents({page:X,limit:10,sortBy:"firstName",sortOrder:"asc",search:c||void 0,department:d||void 0,year:m||void 0,status:g||void 0,kycStatus:v===""?void 0:v});if(J&&J.students)t(J.students),o(J.pagination);else throw new Error("Failed to fetch students")}catch(J){console.error("Error fetching students:",J),i(J instanceof Error?J.message:"Failed to fetch students"),Ie.error("Failed to fetch students")}finally{n(!1)}},[c,d,m,g,v]);N.useEffect(()=>{Z()},[Z]),N.useEffect(()=>{const X=setTimeout(()=>{Z(1)},500);return()=>clearTimeout(X)},[c,Z]);const ae=X=>{U(X),j(!0)},D=X=>{U(X),S(!0)},Y=X=>{U(X),L(!0)},re=X=>{U(X),E(!0)},q=async X=>{if(P)try{await Tw.generateCertificateFromMarksheet(X,{certificateType:"Completion",deliveryMethod:"Digital"})&&(Ie.success("Certificate generated successfully!"),Z(l.currentPage))}catch(J){console.error("Error generating certificate:",J),Ie.error(J.message||"Failed to generate certificate")}},_=()=>{j(!1),S(!1),I(!1),E(!1),L(!1),U(null),V("")},z=X=>{switch(X.toLowerCase()){case"active":case"enrolled":case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"inactive":case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},G=X=>{switch(X.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r&&e.length===0?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(dr,{className:"w-8 h-8 text-blue-600"}),"Certificate Management"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage student certificates and marksheets"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.totalItems}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Students"})]})})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search students...",value:c,onChange:X=>A(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:d,onChange:X=>u(X.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Departments"}),s.jsx("option",{value:"Computer Science",children:"Computer Science"}),s.jsx("option",{value:"Engineering",children:"Engineering"}),s.jsx("option",{value:"Medicine",children:"Medicine"}),s.jsx("option",{value:"Business",children:"Business"})]}),s.jsxs("select",{value:m,onChange:X=>h(X.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Years"}),s.jsx("option",{value:"1st",children:"1st Year"}),s.jsx("option",{value:"2nd",children:"2nd Year"}),s.jsx("option",{value:"3rd",children:"3rd Year"}),s.jsx("option",{value:"4th",children:"4th Year"})]}),s.jsxs("select",{value:g,onChange:X=>p(X.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]}),s.jsxs("select",{value:v,onChange:X=>x(X.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All KYC Status"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Academic Info"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollments"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(X=>{var J,de;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Vt,{className:"h-5 w-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[X.firstName," ",X.lastName]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",X.studentId]})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[s.jsx(kg,{className:"w-3 h-3"}),X.email]}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[s.jsx(jm,{className:"w-3 h-3"}),X.phoneNumber]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:X.department||"N/A"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[X.year||"N/A"," Year"]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nr,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:"text-sm text-gray-900",children:((J=X.enrollmentStats)==null?void 0:J.totalEnrollments)||0})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[((de=X.enrollmentStats)==null?void 0:de.activeEnrollments)||0," active"]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${z(X.isActive?"active":"inactive")}`,children:X.isActive?"Active":"Inactive"}),s.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G(X.kycStatus)}`,children:["KYC: ",X.kycStatus]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>ae(X),className:"text-blue-600 hover:text-blue-900 flex items-center gap-1",title:"Generate Marksheet",children:[s.jsx(ds,{className:"w-4 h-4"}),"Generate"]}),s.jsxs("button",{onClick:()=>D(X),className:"text-green-600 hover:text-green-900 flex items-center gap-1",title:"View Marksheets",children:[s.jsx(xs,{className:"w-4 h-4"}),"View"]}),s.jsxs("button",{onClick:()=>re(X),className:"text-purple-600 hover:text-purple-900 flex items-center gap-1",title:"Generate Certificate",children:[s.jsx(dr,{className:"w-4 h-4"}),"Certificate"]}),s.jsxs("button",{onClick:()=>Y(X),className:"text-orange-600 hover:text-orange-900 flex items-center gap-1",title:"View Certificates",children:[s.jsx(dr,{className:"w-4 h-4"}),"View Cert"]})]})})]},X._id)})})]})}),s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>Z(l.currentPage-1),disabled:!l.hasPrevPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>Z(l.currentPage+1),disabled:!l.hasNextPage,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",s.jsx("span",{className:"font-medium",children:(l.currentPage-1)*10+1})," ","to"," ",s.jsx("span",{className:"font-medium",children:Math.min(l.currentPage*10,l.totalItems)})," ","of"," ",s.jsx("span",{className:"font-medium",children:l.totalItems})," ","results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[s.jsx("button",{onClick:()=>Z(l.currentPage-1),disabled:!l.hasPrevPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>Z(l.currentPage+1),disabled:!l.hasNextPage,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),a&&s.jsx("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(pt,{className:"h-5 w-5 text-red-400"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:a})]})]})})]}),P&&s.jsxs(s.Fragment,{children:[s.jsx(_k,{isOpen:b,onClose:_,student:P}),s.jsx(kk,{isOpen:w,onClose:_,student:P}),s.jsx(SW,{isOpen:F,onClose:_,student:P,marksheetNumber:R,onSuccess:()=>{Ie.success("Certificate generated successfully!"),Z(l.currentPage)}}),s.jsx(EW,{isOpen:k,onClose:_,onConfirm:q,studentName:P?`${P.firstName} ${P.lastName}`:""}),s.jsx(kW,{isOpen:O,onClose:_,student:P})]})]})},IW=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState(""),[c,A]=N.useState(""),[d,u]=N.useState(""),[m,h]=N.useState({currentPage:1,totalPages:1,totalStudents:0,hasNextPage:!1,hasPrevPage:!1}),[g,p]=N.useState(!1),[v,x]=N.useState(null),[b,j]=N.useState(""),[w,S]=N.useState(!1),[F,I]=N.useState(null),k=async(q=1)=>{n(!0),i(null);try{const _=await Ui.getAllStudents(q,10,{search:l||void 0,department:c||void 0,year:d||void 0},"firstName","asc");t(_.students),h({currentPage:_.pagination.currentPage,totalPages:_.pagination.totalPages,totalStudents:_.pagination.totalItems,hasNextPage:_.pagination.hasNextPage,hasPrevPage:_.pagination.hasPrevPage}),Ie.success(" Students data loaded successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}})}catch(_){console.error("Error loading students:",_);const z=_ instanceof Error?_.message:"An unknown error occurred";i(z),Ie.error(` Failed to load students: ${z}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{n(!1)}};N.useEffect(()=>{k(1)},[c,d]),N.useEffect(()=>{const q=setTimeout(()=>{k(1)},500);return()=>clearTimeout(q)},[l]);const E=()=>{k(m.currentPage)},O=()=>{o(""),A(""),u("")},L=q=>{k(q)},P=q=>{x(q),p(!0)},U=()=>{if(!b){Ie(" Please select a student to generate marksheet",{duration:3e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}});return}const q=e.find(_=>_._id===b);q&&(x(q),p(!0))},R=()=>{p(!1),x(null),j("")},V=q=>{I(q),S(!0)},Z=()=>{S(!1),I(null)},ae=()=>{Ie.success(" Marksheet generated successfully!",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}})},D=e.filter(q=>q.isActive).length,Y=e.filter(q=>q.isVerified).length,re=e.filter(q=>q.kycStatus==="approved").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ds,{className:"w-8 h-8 text-sky-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Student Marksheets"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:E,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Tt,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh"})]}),s.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{children:"Export All"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{value:b,onChange:q=>j(q.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[200px]",children:[s.jsx("option",{value:"",children:"Select Student"}),e.map(q=>s.jsxs("option",{value:q._id,children:[q.firstName," ",q.lastName," (",q.studentId,")"]},q._id))]}),s.jsxs("button",{onClick:U,className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Er,{className:"w-5 h-5"}),s.jsx("span",{children:"Generate Marksheet"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(fr,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",value:l,onChange:q=>o(q.target.value),placeholder:"Search by name, email, or student ID...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),s.jsxs("select",{value:c,onChange:q=>A(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Departments"}),s.jsx("option",{value:"Engineering",children:"Engineering"}),s.jsx("option",{value:"Science",children:"Science"}),s.jsx("option",{value:"Arts",children:"Arts"}),s.jsx("option",{value:"Commerce",children:"Commerce"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),s.jsxs("select",{value:d,onChange:q=>u(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Years"}),s.jsx("option",{value:"1st",children:"1st Year"}),s.jsx("option",{value:"2nd",children:"2nd Year"}),s.jsx("option",{value:"3rd",children:"3rd Year"}),s.jsx("option",{value:"4th",children:"4th Year"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:O,className:"w-full px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Clear Filters"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:m.totalStudents})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Vt,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:D})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 font-bold text-lg",children:""})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Verified Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Y})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-purple-600 font-bold text-lg",children:""})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"KYC Approved"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:re})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-yellow-600 font-bold text-lg",children:""})})]})})]}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Tt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading students data..."})]})}):a?s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(ds,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Error Loading Students"}),s.jsx("p",{className:"text-red-600",children:a})]})]})}):e.length===0?s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-12 text-center",children:[s.jsx(ds,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Students Found"}),s.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters to see more students."})]}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Students List"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department & Year"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Info"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"KYC Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(q=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:q.studentId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-sky-500 rounded-full flex items-center justify-center mr-3",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[q.firstName.charAt(0),q.lastName.charAt(0)]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[q.firstName," ",q.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:q.email})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:q.department}),s.jsxs("div",{className:"text-sm text-gray-500",children:[q.year," Year"]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-900 mb-1",children:[s.jsx(jm,{className:"w-4 h-4 mr-2 text-gray-400"}),q.phoneNumber]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Et,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(q.dateOfBirth).toLocaleDateString()]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${q.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:q.isActive?"Active":"Inactive"}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${q.isVerified?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:q.isVerified?"Verified":"Unverified"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${q.kycStatus==="approved"?"bg-green-100 text-green-800":q.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":q.kycStatus==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:q.kycStatus})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[s.jsx("button",{className:"text-sky-600 hover:text-sky-900",title:"View Details",children:s.jsx(xs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>V(q),className:"text-blue-600 hover:text-blue-900",title:"View Marksheets",children:s.jsx(eD,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>P(q),className:"text-green-600 hover:text-green-900",title:"Generate Marksheet",children:s.jsx(ds,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-purple-600 hover:text-purple-900",title:"Download",children:s.jsx(lr,{className:"w-4 h-4"})})]})]},q._id))})]})}),m.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>L(m.currentPage-1),disabled:!m.hasPrevPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>L(m.currentPage+1),disabled:!m.hasNextPage,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",s.jsx("span",{className:"font-medium",children:(m.currentPage-1)*10+1})," ","to"," ",s.jsx("span",{className:"font-medium",children:Math.min(m.currentPage*10,m.totalStudents)})," ","of"," ",s.jsx("span",{className:"font-medium",children:m.totalStudents})," ","results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>L(m.currentPage-1),disabled:!m.hasPrevPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:m.totalPages},(q,_)=>_+1).map(q=>s.jsx("button",{onClick:()=>L(q),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${q===m.currentPage?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:q},q)),s.jsx("button",{onClick:()=>L(m.currentPage+1),disabled:!m.hasNextPage,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),s.jsx(_k,{isOpen:g,onClose:R,student:v,onSuccess:ae}),F&&s.jsx(kk,{isOpen:w,onClose:Z,student:F})]})},UW=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(!0),[a,i]=N.useState(null);N.useEffect(()=>{l()},[]);const l=async()=>{n(!0),i(null);try{const A=await ya.getPendingKYC();t(A)}catch(A){console.error("Error loading pending KYC:",A),i("Failed to load pending KYC requests. Please try again.")}finally{n(!1)}},o=A=>{switch(A){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},c=A=>{switch(A){case"approved":return s.jsx(Me,{className:"w-4 h-4 text-green-600"});case"rejected":return s.jsx(Ft,{className:"w-4 h-4 text-red-600"});case"pending":return s.jsx(Qt,{className:"w-4 h-4 text-yellow-600"});default:return s.jsx(ts,{className:"w-4 h-4 text-gray-600"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ga,{className:"w-8 h-8 text-blue-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"KYC Management"})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),a&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[s.jsx(ts,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-red-700",children:a}),s.jsx("button",{onClick:()=>i(null),className:"ml-auto text-red-500 hover:text-red-700",children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r?"...":(e==null?void 0:e.totalPending)||0})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(Qt,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Student KYC"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r?"...":(e==null?void 0:e.studentKyc.length)||0})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(ar,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Society Member KYC"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r?"...":(e==null?void 0:e.societyMemberKyc.length)||0})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(dt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Action Required"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r?"...":(e==null?void 0:e.totalPending)||0})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(ts,{className:"w-6 h-6 text-red-600"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ar,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Student KYC"})]}),s.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-semibold rounded-full",children:[(e==null?void 0:e.studentKyc.length)||0," Pending"]})]})}),s.jsx("div",{className:"p-6",children:r?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"ml-3 text-gray-500",children:"Loading..."})]}):(e==null?void 0:e.studentKyc.length)===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Me,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"No pending student KYC requests"})]}):s.jsxs("div",{className:"space-y-4",children:[e==null?void 0:e.studentKyc.slice(0,5).map(A=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[A.studentId.firstName.charAt(0),A.studentId.lastName.charAt(0)]})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-gray-800",children:[A.studentId.firstName," ",A.studentId.lastName]}),s.jsx("p",{className:"text-sm text-gray-500",children:A.studentId.studentId})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[c(A.status),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${o(A.status)}`,children:A.status})]})]},A._id)),e&&e.studentKyc.length>5&&s.jsx("div",{className:"text-center pt-4",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["And ",e.studentKyc.length-5," more pending requests"]})})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(dt,{className:"w-6 h-6 text-green-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Society Member KYC"})]}),s.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm font-semibold rounded-full",children:[(e==null?void 0:e.societyMemberKyc.length)||0," Pending"]})]})}),s.jsx("div",{className:"p-6",children:r?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-green-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"ml-3 text-gray-500",children:"Loading..."})]}):(e==null?void 0:e.societyMemberKyc.length)===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Me,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"No pending society member KYC requests"})]}):s.jsxs("div",{className:"space-y-4",children:[e==null?void 0:e.societyMemberKyc.slice(0,5).map(A=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[A.memberId.firstName.charAt(0),A.memberId.lastName.charAt(0)]})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-gray-800",children:[A.memberId.firstName," ",A.memberId.lastName]}),s.jsx("p",{className:"text-sm text-gray-500",children:A.memberId.memberId})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[c(A.status),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${o(A.status)}`,children:A.status})]})]},A._id)),e&&e.societyMemberKyc.length>5&&s.jsx("div",{className:"text-center pt-4",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["And ",e.societyMemberKyc.length-5," more pending requests"]})})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:[s.jsx(Qt,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-blue-800 font-medium",children:"Review Pending"})]}),s.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:[s.jsx(Me,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-green-800 font-medium",children:"View Approved"})]}),s.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-red-50 hover:bg-red-100 rounded-lg transition-colors",children:[s.jsx(Ft,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"text-red-800 font-medium",children:"View Rejected"})]}),s.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx(kt,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-gray-800 font-medium",children:"KYC Reports"})]})]})]})]})},LW=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState(null),[c,A]=N.useState(!1),[d,u]=N.useState(null),[m,h]=N.useState(""),[g,p]=N.useState(""),[v,x]=N.useState(null),[b,j]=N.useState(null),[w,S]=N.useState(null);N.useEffect(()=>{F()},[]);const F=async()=>{n(!0),i(null);try{const U=await ya.getPendingKYC();t(U)}catch(U){console.error("Error loading pending KYC:",U),i("Failed to load pending KYC requests. Please try again.")}finally{n(!1)}},I=async(U,R)=>{x(U),j(R),S("approve"),h("")},k=async(U,R)=>{x(U),j(R),S("reject"),p(""),h("")},E=async()=>{if(!(!v||!b)){u(v._id);try{b==="student"?await ya.approveStudentKYC({kycId:v._id,remarks:m||"Documents verified successfully"}):await ya.approveSocietyMemberKYC({kycId:v._id,remarks:m||"All documents verified successfully"}),S(null),x(null),j(null),h(""),await F()}catch(U){console.error("Error approving KYC:",U),i("Failed to approve KYC. Please try again.")}finally{u(null)}}},O=async()=>{if(!(!v||!b||!g)){u(v._id);try{b==="student"?await ya.rejectStudentKYC({kycId:v._id,rejectionReason:g,remarks:m||"Please resubmit with correct documents"}):await ya.rejectSocietyMemberKYC({kycId:v._id,rejectionReason:g,remarks:m||"Please resubmit with correct documents"}),S(null),x(null),j(null),p(""),h(""),await F()}catch(U){console.error("Error rejecting KYC:",U),i("Failed to reject KYC. Please try again.")}finally{u(null)}}},L=(U,R,V)=>{o({url:U,type:R,name:V}),A(!0)},P=()=>{A(!1),o(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ts,{className:"w-8 h-8 text-yellow-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Pending KYC Requests"})]}),s.jsxs("button",{onClick:F,disabled:r,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Tt,{className:`w-4 h-4 ${r?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]})]}),a&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[s.jsx(ts,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-red-700",children:a}),s.jsx("button",{onClick:()=>i(null),className:"ml-auto text-red-500 hover:text-red-700",children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r?"...":(e==null?void 0:e.totalPending)||0})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(Qt,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Student KYC"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r?"...":(e==null?void 0:e.studentKyc.length)||0})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(ar,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Society Member KYC"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r?"...":(e==null?void 0:e.societyMemberKyc.length)||0})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(dt,{className:"w-6 h-6 text-green-600"})})]})})]}),s.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.studentKyc)&&e.studentKyc.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ar,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Student KYC Requests"})]}),s.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-semibold rounded-full",children:[e.studentKyc.length," Pending"]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aadhar Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.studentKyc.map(U=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[U.studentId.firstName.charAt(0),U.studentId.lastName.charAt(0)]})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[U.studentId.firstName," ",U.studentId.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:U.studentId.studentId}),s.jsx("div",{className:"text-sm text-gray-500",children:U.studentId.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900 font-mono",children:U.aadharNumber})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(U.submittedAt).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("button",{onClick:()=>L(U.aadharCardImage,"Aadhar Card",`${U.studentId.firstName}_${U.studentId.lastName}_Aadhar.jpg`),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800",children:[s.jsx(sa,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"View Aadhar"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>I(U,"student"),disabled:d===U._id,className:"text-green-600 hover:text-green-800 disabled:opacity-50 flex items-center space-x-1",children:[s.jsx(Me,{className:"w-4 h-4"}),s.jsx("span",{children:"Approve"})]}),s.jsxs("button",{onClick:()=>k(U,"student"),disabled:d===U._id,className:"text-red-600 hover:text-red-800 disabled:opacity-50 flex items-center space-x-1",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:"Reject"})]})]})})]},U._id))})]})})]}),(e==null?void 0:e.societyMemberKyc)&&e.societyMemberKyc.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(dt,{className:"w-6 h-6 text-green-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Society Member KYC Requests"})]}),s.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm font-semibold rounded-full",children:[e.societyMemberKyc.length," Pending"]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"View Documents"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.societyMemberKyc.map(U=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[U.memberId.firstName.charAt(0),U.memberId.lastName.charAt(0)]})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[U.memberId.firstName," ",U.memberId.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:U.memberId.memberId}),s.jsx("div",{className:"text-sm text-gray-500",children:U.memberId.email}),s.jsx("div",{className:"text-sm text-gray-500",children:U.memberId.societyName})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm text-gray-900 font-mono",children:U.aadharNumber}),U.panNumber&&s.jsx("div",{className:"text-sm text-gray-900 font-mono",children:U.panNumber})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(U.submittedAt).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>L(U.aadharCardImage,"Aadhar Card",`${U.memberId.firstName}_${U.memberId.lastName}_Aadhar.jpg`),className:"flex items-center space-x-1 text-green-600 hover:text-green-800",children:[s.jsx(sa,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Aadhar"})]}),U.panCardImage&&s.jsxs("button",{onClick:()=>L(U.panCardImage,"PAN Card",`${U.memberId.firstName}_${U.memberId.lastName}_PAN.jpg`),className:"flex items-center space-x-1 text-green-600 hover:text-green-800",children:[s.jsx(sa,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"PAN"})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>I(U,"society-member"),disabled:d===U._id,className:"text-green-600 hover:text-green-800 disabled:opacity-50 flex items-center space-x-1",children:[s.jsx(Me,{className:"w-4 h-4"}),s.jsx("span",{children:"Approve"})]}),s.jsxs("button",{onClick:()=>k(U,"society-member"),disabled:d===U._id,className:"text-red-600 hover:text-red-800 disabled:opacity-50 flex items-center space-x-1",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:"Reject"})]})]})})]},U._id))})]})})]}),e&&e.totalPending===0&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Me,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"All Caught Up!"}),s.jsx("p",{className:"text-gray-500",children:"No pending KYC requests at the moment."})]})})]}),w&&v&&b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:w==="approve"?"Approve KYC":"Reject KYC"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[b==="student"?"Student":"Member",":"]}),s.jsx("p",{className:"font-medium text-gray-800",children:"studentId"in v?`${v.studentId.firstName} ${v.studentId.lastName}`:`${v.memberId.firstName} ${v.memberId.lastName}`}),s.jsx("p",{className:"text-sm text-gray-500",children:"studentId"in v?v.studentId.studentId:v.memberId.memberId})]}),w==="reject"&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason *"}),s.jsx("textarea",{value:g,onChange:U=>p(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Enter reason for rejection...",required:!0})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),s.jsx("textarea",{value:m,onChange:U=>h(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:w==="approve"?"Optional remarks...":"Additional comments..."})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{S(null),x(null),j(null),h(""),p("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:w==="approve"?E:O,disabled:d===v._id||w==="reject"&&!g,className:`px-6 py-2 text-white rounded-lg transition-colors disabled:opacity-50 ${w==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:d===v._id?"Processing...":w==="approve"?"Approve":"Reject"})]})]})})}),l&&s.jsx(Id,{isOpen:c,onClose:P,documentUrl:l.url,documentType:l.type,documentName:l.name})]})},QW=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState("pending"),[c,A]=N.useState(""),[d,u]=N.useState(null),[m,h]=N.useState(!1),[g,p]=N.useState(null),[v,x]=N.useState(""),[b,j]=N.useState(""),[w,S]=N.useState(null),[F,I]=N.useState(null);N.useEffect(()=>{k()},[l]);const k=async()=>{n(!0),i(null);try{const D=await ya.getStudentKYCByStatus(l);t(D)}catch(D){console.error("Error loading student KYC:",D),i("Failed to load student KYC requests. Please try again.")}finally{n(!1)}},E=async D=>{S(D),I("approve"),x("")},O=async D=>{S(D),I("reject"),j(""),x("")},L=async()=>{if(w){p(w._id);try{await ya.approveStudentKYC({kycId:w._id,remarks:v||"Documents verified successfully"}),I(null),S(null),x(""),await k()}catch(D){console.error("Error approving KYC:",D),i("Failed to approve KYC. Please try again.")}finally{p(null)}}},P=async()=>{if(!(!w||!b)){p(w._id);try{await ya.rejectStudentKYC({kycId:w._id,rejectionReason:b,remarks:v||"Please resubmit with correct documents"}),I(null),S(null),j(""),x(""),await k()}catch(D){console.error("Error rejecting KYC:",D),i("Failed to reject KYC. Please try again.")}finally{p(null)}}},U=(D,Y,re)=>{u({url:D,type:Y,name:re}),h(!0)},R=()=>{h(!1),u(null)},V=D=>{switch(D){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Z=D=>{switch(D){case"approved":return s.jsx(Me,{className:"w-4 h-4 text-green-600"});case"rejected":return s.jsx(Ft,{className:"w-4 h-4 text-red-600"});case"pending":return s.jsx(Qt,{className:"w-4 h-4 text-yellow-600"});default:return s.jsx(AlertTriangle,{className:"w-4 h-4 text-gray-600"})}},ae=e.filter(D=>D.studentId.firstName.toLowerCase().includes(c.toLowerCase())||D.studentId.lastName.toLowerCase().includes(c.toLowerCase())||D.studentId.studentId.toLowerCase().includes(c.toLowerCase())||D.studentId.email.toLowerCase().includes(c.toLowerCase()));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ar,{className:"w-8 h-8 text-blue-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Student KYC Management"})]}),s.jsxs("button",{onClick:k,disabled:r,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Tt,{className:`w-4 h-4 ${r?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]})]}),a&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[s.jsx(AlertTriangle,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-red-700",children:a}),s.jsx("button",{onClick:()=>i(null),className:"ml-auto text-red-500 hover:text-red-700",children:""})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by name, student ID, or email...",value:c,onChange:D=>A(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("select",{value:l,onChange:D=>o(D.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Student KYC Requests (",ae.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Loading KYC requests..."})]})}):ae.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(ar,{className:"w-12 h-12 text-gray-300 mb-3"}),s.jsxs("p",{className:"text-gray-500",children:["No ",l," KYC requests found"]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Try adjusting your search or filters"})]})}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aadhar Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ae.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[D.studentId.firstName.charAt(0),D.studentId.lastName.charAt(0)]})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[D.studentId.firstName," ",D.studentId.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:D.studentId.studentId}),s.jsx("div",{className:"text-sm text-gray-500",children:D.studentId.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900 font-mono",children:D.aadharNumber})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(D.submittedAt).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[Z(D.status),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${V(D.status)}`,children:D.status})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("button",{onClick:()=>U(D.aadharCardImage,"Aadhar Card",`${D.studentId.firstName}_${D.studentId.lastName}_Aadhar.jpg`),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800",children:[s.jsx(sa,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"View"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[D.status==="pending"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>E(D),disabled:g===D._id,className:"text-green-600 hover:text-green-800 disabled:opacity-50 flex items-center space-x-1",children:[s.jsx(Me,{className:"w-4 h-4"}),s.jsx("span",{children:"Approve"})]}),s.jsxs("button",{onClick:()=>O(D),disabled:g===D._id,className:"text-red-600 hover:text-red-800 disabled:opacity-50 flex items-center space-x-1",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:"Reject"})]})]}),D.status!=="pending"&&s.jsx("div",{className:"text-sm text-gray-500",children:D.reviewedAt&&`Reviewed: ${new Date(D.reviewedAt).toLocaleDateString()}`})]})]},D._id))})]})})]}),F&&w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:F==="approve"?"Approve KYC":"Reject KYC"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Student:"}),s.jsxs("p",{className:"font-medium text-gray-800",children:[w.studentId.firstName," ",w.studentId.lastName]}),s.jsx("p",{className:"text-sm text-gray-500",children:w.studentId.studentId})]}),F==="reject"&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason *"}),s.jsx("textarea",{value:b,onChange:D=>j(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Enter reason for rejection...",required:!0})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),s.jsx("textarea",{value:v,onChange:D=>x(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:F==="approve"?"Optional remarks...":"Additional comments..."})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{I(null),S(null),x(""),j("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:F==="approve"?L:P,disabled:g===w._id||F==="reject"&&!b,className:`px-6 py-2 text-white rounded-lg transition-colors disabled:opacity-50 ${F==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:g===w._id?"Processing...":F==="approve"?"Approve":"Reject"})]})]})})}),d&&s.jsx(Id,{isOpen:m,onClose:R,documentUrl:d.url,documentType:d.type,documentName:d.name})]})},PW=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState("pending"),[c,A]=N.useState(""),[d,u]=N.useState(null),[m,h]=N.useState(!1),[g,p]=N.useState(null),[v,x]=N.useState(""),[b,j]=N.useState(""),[w,S]=N.useState(null),[F,I]=N.useState(null);N.useEffect(()=>{k()},[l]);const k=async()=>{n(!0),i(null);try{const D=await ya.getSocietyMemberKYCByStatus(l);t(D)}catch(D){console.error("Error loading society member KYC:",D),i("Failed to load society member KYC requests. Please try again.")}finally{n(!1)}},E=async D=>{S(D),I("approve"),x("")},O=async D=>{S(D),I("reject"),j(""),x("")},L=async()=>{if(w){p(w._id);try{await ya.approveSocietyMemberKYC({kycId:w._id,remarks:v||"All documents verified successfully"}),I(null),S(null),x(""),await k()}catch(D){console.error("Error approving KYC:",D),i("Failed to approve KYC. Please try again.")}finally{p(null)}}},P=async()=>{if(!(!w||!b)){p(w._id);try{await ya.rejectSocietyMemberKYC({kycId:w._id,rejectionReason:b,remarks:v||"Please resubmit with correct documents"}),I(null),S(null),j(""),x(""),await k()}catch(D){console.error("Error rejecting KYC:",D),i("Failed to reject KYC. Please try again.")}finally{p(null)}}},U=(D,Y,re)=>{u({url:D,type:Y,name:re}),h(!0)},R=()=>{h(!1),u(null)},V=D=>{switch(D){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Z=D=>{switch(D){case"approved":return s.jsx(Me,{className:"w-4 h-4 text-green-600"});case"rejected":return s.jsx(Ft,{className:"w-4 h-4 text-red-600"});case"pending":return s.jsx(Qt,{className:"w-4 h-4 text-yellow-600"});default:return s.jsx(ts,{className:"w-4 h-4 text-gray-600"})}},ae=e.filter(D=>D.memberId.firstName.toLowerCase().includes(c.toLowerCase())||D.memberId.lastName.toLowerCase().includes(c.toLowerCase())||D.memberId.memberId.toLowerCase().includes(c.toLowerCase())||D.memberId.email.toLowerCase().includes(c.toLowerCase()));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(dt,{className:"w-8 h-8 text-green-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Society Member KYC Management"})]}),s.jsxs("button",{onClick:k,disabled:r,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Tt,{className:`w-4 h-4 ${r?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]})]}),a&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[s.jsx(ts,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-red-700",children:a}),s.jsx("button",{onClick:()=>i(null),className:"ml-auto text-red-500 hover:text-red-700",children:""})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by name, member ID, or email...",value:c,onChange:D=>A(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("select",{value:l,onChange:D=>o(D.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Society Member KYC Requests (",ae.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Loading KYC requests..."})]})}):ae.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(dt,{className:"w-12 h-12 text-gray-300 mb-3"}),s.jsxs("p",{className:"text-gray-500",children:["No ",l," KYC requests found"]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Try adjusting your search or filters"})]})}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"View Documents"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ae.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[D.memberId.firstName.charAt(0),D.memberId.lastName.charAt(0)]})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[D.memberId.firstName," ",D.memberId.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:D.memberId.memberId}),s.jsx("div",{className:"text-sm text-gray-500",children:D.memberId.email}),s.jsx("div",{className:"text-sm text-gray-500",children:D.memberId.societyName})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm text-gray-900 font-mono",children:D.aadharNumber}),D.panNumber&&s.jsx("div",{className:"text-sm text-gray-900 font-mono",children:D.panNumber})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(D.submittedAt).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[Z(D.status),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${V(D.status)}`,children:D.status})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>U(D.aadharCardImage,"Aadhar Card",`${D.memberId.firstName}_${D.memberId.lastName}_Aadhar.jpg`),className:"flex items-center space-x-1 text-green-600 hover:text-green-800",children:[s.jsx(sa,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Aadhar"})]}),D.panCardImage&&s.jsxs("button",{onClick:()=>U(D.panCardImage,"PAN Card",`${D.memberId.firstName}_${D.memberId.lastName}_PAN.jpg`),className:"flex items-center space-x-1 text-green-600 hover:text-green-800",children:[s.jsx(sa,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"PAN"})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[D.status==="pending"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>E(D),disabled:g===D._id,className:"text-green-600 hover:text-green-800 disabled:opacity-50 flex items-center space-x-1",children:[s.jsx(Me,{className:"w-4 h-4"}),s.jsx("span",{children:"Approve"})]}),s.jsxs("button",{onClick:()=>O(D),disabled:g===D._id,className:"text-red-600 hover:text-red-800 disabled:opacity-50 flex items-center space-x-1",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:"Reject"})]})]}),D.status!=="pending"&&s.jsx("div",{className:"text-sm text-gray-500",children:D.reviewedAt&&`Reviewed: ${new Date(D.reviewedAt).toLocaleDateString()}`})]})]},D._id))})]})})]}),F&&w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:F==="approve"?"Approve KYC":"Reject KYC"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Member:"}),s.jsxs("p",{className:"font-medium text-gray-800",children:[w.memberId.firstName," ",w.memberId.lastName]}),s.jsx("p",{className:"text-sm text-gray-500",children:w.memberId.memberId}),s.jsx("p",{className:"text-sm text-gray-500",children:w.memberId.societyName})]}),F==="reject"&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason *"}),s.jsx("textarea",{value:b,onChange:D=>j(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Enter reason for rejection...",required:!0})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),s.jsx("textarea",{value:v,onChange:D=>x(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:3,placeholder:F==="approve"?"Optional remarks...":"Additional comments..."})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{I(null),S(null),x(""),j("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:F==="approve"?L:P,disabled:g===w._id||F==="reject"&&!b,className:`px-6 py-2 text-white rounded-lg transition-colors disabled:opacity-50 ${F==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:g===w._id?"Processing...":F==="approve"?"Approve":"Reject"})]})]})})}),d&&s.jsx(Id,{isOpen:m,onClose:R,documentUrl:d.url,documentType:d.type,documentName:d.name})]})},DW=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(!0),[l,o]=N.useState(null),[c,A]=N.useState(""),[d,u]=N.useState("all"),[m,h]=N.useState(null),[g,p]=N.useState(!1);N.useEffect(()=>{v()},[]);const v=async()=>{i(!0),o(null);try{const[F,I]=await Promise.all([Ui.getApprovedKYCStudents({page:1,limit:100,search:c}),Ui.getApprovedKYCSocietyMembers({page:1,limit:100,search:c})]);t(F.students),n(I.societyMembers)}catch(F){console.error("Error loading approved KYC:",F),o("Failed to load approved KYC requests. Please try again.")}finally{i(!1)}},x=(F,I,k)=>{h({url:F,type:I,name:k}),p(!0)},b=()=>{p(!1),h(null)},j=e.filter(F=>F.firstName.toLowerCase().includes(c.toLowerCase())||F.lastName.toLowerCase().includes(c.toLowerCase())||F.studentId.toLowerCase().includes(c.toLowerCase())||F.email.toLowerCase().includes(c.toLowerCase())),w=r.filter(F=>F.firstName.toLowerCase().includes(c.toLowerCase())||F.lastName.toLowerCase().includes(c.toLowerCase())||F.memberId.toLowerCase().includes(c.toLowerCase())||F.email.toLowerCase().includes(c.toLowerCase())),S=j.length+w.length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ga,{className:"w-8 h-8 text-green-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Approved KYC Documents"})]}),s.jsxs("button",{onClick:v,disabled:a,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Tt,{className:`w-4 h-4 ${a?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]})]}),l&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[s.jsx(Me,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-red-700",children:l}),s.jsx("button",{onClick:()=>o(null),className:"ml-auto text-red-500 hover:text-red-700",children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Approved"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:a?"...":S})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Me,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Student KYC"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:a?"...":j.length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(ar,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Society Member KYC"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:a?"...":w.length})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(dt,{className:"w-6 h-6 text-green-600"})})]})})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by name, ID, or email...",value:c,onChange:F=>A(F.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("select",{value:d,onChange:F=>u(F.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"student",children:"Student KYC"}),s.jsx("option",{value:"society-member",children:"Society Member KYC"})]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[(d==="all"||d==="student")&&j.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ar,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Approved Student KYC"})]}),s.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm font-semibold rounded-full",children:[j.length," Approved"]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aadhar Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reviewed By"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(F=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[F.firstName.charAt(0),F.lastName.charAt(0)]})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[F.firstName," ",F.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:F.studentId}),s.jsx("div",{className:"text-sm text-gray-500",children:F.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900 font-mono",children:F.kyc.aadharNumber})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.kyc.reviewedAt?new Date(F.kyc.reviewedAt).toLocaleDateString():"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.kyc.reviewedBy?`${F.kyc.reviewedBy.firstName} ${F.kyc.reviewedBy.lastName}`:"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("button",{onClick:()=>x(F.kyc.aadharCardImage,"Aadhar Card",`${F.firstName}_${F.lastName}_Aadhar.jpg`),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800",children:[s.jsx(sa,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"View Aadhar"})]})})]},F._id))})]})})]}),(d==="all"||d==="society-member")&&w.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(dt,{className:"w-6 h-6 text-green-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Approved Society Member KYC"})]}),s.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm font-semibold rounded-full",children:[w.length," Approved"]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reviewed By"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"View Documents"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(F=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[F.firstName.charAt(0),F.lastName.charAt(0)]})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[F.firstName," ",F.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:F.memberId}),s.jsx("div",{className:"text-sm text-gray-500",children:F.email}),s.jsx("div",{className:"text-sm text-gray-500",children:F.societyName})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm text-gray-900 font-mono",children:F.kyc.aadharNumber}),F.kyc.panNumber&&s.jsx("div",{className:"text-sm text-gray-900 font-mono",children:F.kyc.panNumber})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.kyc.reviewedAt?new Date(F.kyc.reviewedAt).toLocaleDateString():"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.kyc.reviewedBy?`${F.kyc.reviewedBy.firstName} ${F.kyc.reviewedBy.lastName}`:"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>x(F.kyc.aadharCardImage,"Aadhar Card",`${F.firstName}_${F.lastName}_Aadhar.jpg`),className:"flex items-center space-x-1 text-green-600 hover:text-green-800",children:[s.jsx(sa,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Aadhar"})]}),F.kyc.panCardImage&&s.jsxs("button",{onClick:()=>x(F.kyc.panCardImage,"PAN Card",`${F.firstName}_${F.lastName}_PAN.jpg`),className:"flex items-center space-x-1 text-green-600 hover:text-green-800",children:[s.jsx(sa,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"PAN"})]})]})})]},F._id))})]})})]}),S===0&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ga,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Approved KYC Found"}),s.jsx("p",{className:"text-gray-500",children:"No approved KYC documents match your search criteria."})]})})]}),m&&s.jsx(Id,{isOpen:g,onClose:b,documentUrl:m.url,documentType:m.type,documentName:m.name})]})},MW=({isOpen:e,onClose:t,onSubmit:r,loading:n=!1})=>{var j,w,S,F;const[a,i]=N.useState({title:"",description:"",category:"",type:"online",status:"draft",price:0,duration:0,maxStudents:0,prerequisites:"",learningObjectives:"",courseContent:"",instructor:{name:"",email:"",bio:"",qualifications:""},address:{street:"",city:"",state:"",zipCode:"",country:""},thumbnail:null,syllabus:null}),[l,o]=N.useState({}),[c,A]=N.useState(null),[d,u]=N.useState(null),[m,h]=N.useState(null),g=I=>{const{name:k,value:E}=I.target;if(k.startsWith("instructor.")){const O=k.split(".")[1];i(L=>({...L,instructor:{...L.instructor,[O]:E}}))}else if(k.startsWith("address.")){const O=k.split(".")[1];i(L=>({...L,address:{...L.address,[O]:E}}))}else i(O=>({...O,[k]:k==="price"||k==="maxStudents"||k==="duration"?Number(E):E}));l[k]&&o(O=>({...O,[k]:""}))},p=(I,k)=>{var O;const E=(O=I.target.files)==null?void 0:O[0];if(E){if(i(L=>({...L,[k]:E})),l[k]&&o(L=>({...L,[k]:""})),k==="thumbnail"&&E.type.startsWith("image/")){const L=new FileReader;L.onload=P=>{var U;A((U=P.target)==null?void 0:U.result)},L.readAsDataURL(E)}k==="syllabus"&&u(E.name)}},v=()=>{var k;const I={};return a.title.trim()||(I.title="Title is required"),a.description.trim()||(I.description="Description is required"),a.category.trim()||(I.category="Category is required"),a.duration<=0&&(I.duration="Duration must be greater than 0"),a.price<=0&&(I.price="Price must be greater than 0"),a.maxStudents<=0&&(I.maxStudents="Max students must be greater than 0"),a.instructor.name.trim()||(I["instructor.name"]="Instructor name is required"),a.instructor.email.trim()||(I["instructor.email"]="Instructor email is required"),a.type==="offline"&&(!a.address||!((k=a.address.street)!=null&&k.trim()))&&(I["address.street"]="Address is required for offline courses"),a.thumbnail||(I.thumbnail="Course thumbnail is required"),o(I),Object.keys(I).length===0},x=async I=>{if(I.preventDefault(),!!v())try{h(null),console.log("Submitting course data:",a),await r(a),b()}catch(k){console.error("Error creating course:",k),h(k.message||"Failed to create course. Please try again.")}},b=()=>{i({title:"",description:"",category:"",type:"online",status:"draft",price:0,duration:0,maxStudents:0,prerequisites:"",learningObjectives:"",courseContent:"",instructor:{name:"",email:"",bio:"",qualifications:""},address:{street:"",city:"",state:"",zipCode:"",country:""},thumbnail:null,syllabus:null}),o({}),A(null),u(null),h(null),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Course"}),s.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600",disabled:n,children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[m&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("p",{children:m})})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(nr,{className:"w-5 h-5 mr-2"}),"Basic Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Title *"}),s.jsx("input",{type:"text",name:"title",value:a.title,onChange:g,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter course title"}),l.title&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),s.jsxs("select",{name:"category",value:a.category,onChange:g,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l.category?"border-red-500":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select category"}),s.jsx("option",{value:"Technology",children:"Technology"}),s.jsx("option",{value:"Business",children:"Business"}),s.jsx("option",{value:"Design",children:"Design"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Language",children:"Language"}),s.jsx("option",{value:"Science",children:"Science"}),s.jsx("option",{value:"Arts",children:"Arts"}),s.jsx("option",{value:"Other",children:"Other"})]}),l.category&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.category})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),s.jsx("textarea",{name:"description",value:a.description,onChange:g,rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter course description"}),l.description&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Type"}),s.jsxs("select",{name:"type",value:a.type,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"online",children:"Online"}),s.jsx("option",{value:"offline",children:"Offline"}),s.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{name:"status",value:a.status,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"archived",children:"Archived"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration *"}),s.jsx("input",{type:"number",name:"duration",value:a.duration,onChange:g,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l.duration?"border-red-500":"border-gray-300"}`,placeholder:"e.g., 4 weeks, 30 hours"}),l.duration&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.duration})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(yt,{className:"w-5 h-5 mr-2"}),"Pricing & Capacity"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ()"}),s.jsx("input",{type:"number",name:"price",value:a.price,onChange:g,min:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l.price?"border-red-500":"border-gray-300"}`,placeholder:"0"}),l.price&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.price})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Students *"}),s.jsx("input",{type:"number",name:"maxStudents",value:a.maxStudents,onChange:g,min:"1",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l.maxStudents?"border-red-500":"border-gray-300"}`,placeholder:"50"}),l.maxStudents&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.maxStudents})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(dt,{className:"w-5 h-5 mr-2"}),"Instructor Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructor Name *"}),s.jsx("input",{type:"text",name:"instructor.name",value:a.instructor.name,onChange:g,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l["instructor.name"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter instructor name"}),l["instructor.name"]&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l["instructor.name"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructor Email *"}),s.jsx("input",{type:"email",name:"instructor.email",value:a.instructor.email,onChange:g,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l["instructor.email"]?"border-red-500":"border-gray-300"}`,placeholder:"instructor@example.com"}),l["instructor.email"]&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l["instructor.email"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructor Bio"}),s.jsx("textarea",{name:"instructor.bio",value:a.instructor.bio,onChange:g,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Brief bio about the instructor"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Qualifications"}),s.jsx("textarea",{name:"instructor.qualifications",value:a.instructor.qualifications,onChange:g,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Educational background, certifications, experience"})]})]}),a.type==="offline"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Course Location"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),s.jsx("input",{type:"text",name:"address.street",value:((j=a.address)==null?void 0:j.street)||"",onChange:g,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l["address.street"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter street address"}),l["address.street"]&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l["address.street"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),s.jsx("input",{type:"text",name:"address.city",value:((w=a.address)==null?void 0:w.city)||"",onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"City"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),s.jsx("input",{type:"text",name:"address.state",value:((S=a.address)==null?void 0:S.state)||"",onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"State"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),s.jsx("input",{type:"text",name:"address.zipCode",value:((F=a.address)==null?void 0:F.zipCode)||"",onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"ZIP Code"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(ds,{className:"w-5 h-5 mr-2"}),"Course Content"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prerequisites"}),s.jsx("textarea",{name:"prerequisites",value:a.prerequisites,onChange:g,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"What students should know before taking this course"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Learning Objectives"}),s.jsx("textarea",{name:"learningObjectives",value:a.learningObjectives,onChange:g,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"What students will learn from this course"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Content"}),s.jsx("textarea",{name:"courseContent",value:a.courseContent,onChange:g,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Detailed course content and curriculum"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(K0,{className:"w-5 h-5 mr-2"}),"Course Materials"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Thumbnail *"}),s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${l.thumbnail?"border-red-300 bg-red-50":"border-gray-300"}`,children:[s.jsx("input",{type:"file",accept:"image/*",onChange:I=>p(I,"thumbnail"),className:"hidden",id:"thumbnail-upload"}),s.jsxs("label",{htmlFor:"thumbnail-upload",className:"cursor-pointer flex flex-col items-center",children:[s.jsx(xc,{className:"w-8 h-8 text-gray-400 mb-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:c?"Change thumbnail":"Upload thumbnail"})]}),c&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:c,alt:"Thumbnail preview",className:"w-20 h-20 object-cover rounded mx-auto"})})]}),l.thumbnail&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.thumbnail})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Syllabus (PDF)"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[s.jsx("input",{type:"file",accept:".pdf",onChange:I=>p(I,"syllabus"),className:"hidden",id:"syllabus-upload"}),s.jsxs("label",{htmlFor:"syllabus-upload",className:"cursor-pointer flex flex-col items-center",children:[s.jsx(ds,{className:"w-8 h-8 text-gray-400 mb-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:d?"Change syllabus":"Upload syllabus"})]}),d&&s.jsx("div",{className:"mt-2",children:s.jsx("p",{className:"text-sm text-gray-600",children:d})})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[s.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",disabled:n,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:n,children:n?"Creating...":"Create Course"})]})]})]})}):null},TW=({isOpen:e,onClose:t,course:r,onCourseUpdated:n,onCourseDeleted:a})=>{var L,P,U,R,V;const[i,l]=N.useState(!1),[o,c]=N.useState(!1),[A,d]=N.useState(!1),[u,m]=N.useState(!1),[h,g]=N.useState(null),[p,v]=N.useState({});if(!e||!r)return null;const x=(Z,ae="INR")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:ae}).format(Z),b=Z=>new Date(Z).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=Z=>{switch(Z){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},w=Z=>Z==="online"?s.jsx(hd,{className:"w-5 h-5"}):s.jsx(Fo,{className:"w-5 h-5"}),S=()=>{var Z,ae,D;l(!0),v({title:r.title,description:r.description,type:r.type,category:r.category,price:r.price,duration:r.duration,status:r.status,isActive:r.isActive,instructor:{name:r.instructor.name,email:r.instructor.email,phone:r.instructor.phone,bio:r.instructor.bio,qualifications:r.instructor.qualifications},address:r.address,tags:(Z=r.tags)==null?void 0:Z.join(", "),prerequisites:(ae=r.prerequisites)==null?void 0:ae.join(", "),learningObjectives:(D=r.learningObjectives)==null?void 0:D.join(", "),courseContent:r.courseContent}),g(null)},F=()=>{l(!1),v({}),g(null)},I=Z=>{const{name:ae,value:D}=Z.target;if(ae.startsWith("instructor.")){const Y=ae.split(".")[1];v(re=>({...re,instructor:{...re.instructor,[Y]:D}}))}else if(ae.startsWith("address.")){const Y=ae.split(".")[1];v(re=>({...re,address:{...re.address,[Y]:D}}))}else v(Y=>({...Y,[ae]:ae==="price"||ae==="duration"?Number(D):D}))},k=async()=>{try{c(!0),g(null);const Z=await YA.updateCourse(r._id,p);if(console.log("Update response:",Z),Z.success&&Z.data){const ae=Z.data.course||Z.data;n==null||n(ae),l(!1),v({})}else throw new Error(Z.message||"Failed to update course")}catch(Z){console.error("Update course error:",Z),g(Z instanceof Error?Z.message:"Failed to update course")}finally{c(!1)}},E=async()=>{try{d(!0),g(null);const Z=await YA.deleteCourse(r._id);if(Z.success)a==null||a(r._id),t();else throw new Error(Z.message||"Failed to delete course")}catch(Z){console.error("Delete course error:",Z),g(Z instanceof Error?Z.message:"Failed to delete course")}finally{d(!1),m(!1)}},O=()=>{l(!1),v({}),g(null),m(!1),t()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(nr,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i?"Edit Course":"Course Details"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!i&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:S,className:"flex items-center px-3 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",children:[s.jsx(Ea,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs("button",{onClick:()=>m(!0),className:"flex items-center px-3 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors",children:[s.jsx(yn,{className:"w-4 h-4 mr-1"}),"Delete"]})]}),s.jsx("button",{onClick:O,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(rt,{className:"w-6 h-6"})})]})]}),h&&s.jsx("div",{className:"mx-6 mt-4 bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(ts,{className:"h-5 w-5 text-red-400"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("p",{children:h})})]})]})}),s.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{className:"w-20 h-20 rounded-lg object-cover",src:r.thumbnail||"/placeholder-course.png",alt:r.title,onError:Z=>{Z.currentTarget.src="/placeholder-course.png"}})}),s.jsx("div",{className:"flex-1",children:i?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),s.jsx("input",{type:"text",name:"title",value:p.title||"",onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{name:"description",value:p.description||"",onChange:I,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsxs("select",{name:"type",value:p.type||"",onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"online",children:"Online"}),s.jsx("option",{value:"offline",children:"Offline"}),s.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{name:"status",value:p.status||"",onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"archived",children:"Archived"})]})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.title}),s.jsx("p",{className:"text-gray-600 mb-3",children:r.description}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${j(r.status)}`,children:r.status}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[w(r.type),s.jsx("span",{className:"ml-1 capitalize",children:r.type})]})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ()"}),s.jsx("input",{type:"number",name:"price",value:p.price||"",onChange:I,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (hours)"}),s.jsx("input",{type:"number",name:"duration",value:p.duration||"",onChange:I,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600 mr-2"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Price"})]}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:x(r.price,r.currency)})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Qt,{className:"w-5 h-5 text-blue-600 mr-2"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Duration"})]}),s.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:[r.duration," ",r.durationUnit||"hours"]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(dt,{className:"w-5 h-5 text-purple-600 mr-2"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Enrollments"})]}),s.jsx("p",{className:"text-lg font-semibold text-purple-600",children:r.enrollmentCount})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(md,{className:"w-5 h-5 text-yellow-600 mr-2"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Rating"})]}),s.jsxs("p",{className:"text-lg font-semibold text-yellow-600",children:[r.rating.average.toFixed(1)," (",r.rating.count," reviews)"]})]})]})}),r.prerequisites&&r.prerequisites.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Prerequisites"}),s.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.prerequisites.map((Z,ae)=>s.jsx("li",{className:"text-gray-600",children:Z},ae))})]}),r.learningObjectives&&r.learningObjectives.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Learning Objectives"}),s.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.learningObjectives.map((Z,ae)=>s.jsx("li",{className:"text-gray-600",children:Z},ae))})]}),r.courseContent&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Course Content"}),s.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:r.courseContent})]}),r.type==="offline"&&r.address&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Location"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Fo,{className:"w-5 h-5 text-red-600 mr-2 mt-0.5"}),s.jsxs("div",{children:[r.address.street&&s.jsx("p",{className:"text-gray-900",children:r.address.street}),r.address.city&&s.jsx("p",{className:"text-gray-600",children:r.address.city}),r.address.state&&s.jsx("p",{className:"text-gray-600",children:r.address.state}),r.address.zipCode&&s.jsx("p",{className:"text-gray-600",children:r.address.zipCode}),r.address.country&&s.jsx("p",{className:"text-gray-600",children:r.address.country})]})]})})]}),r.coursePdf&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Course Materials"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ds,{className:"w-5 h-5 text-blue-600"}),s.jsx("a",{href:r.coursePdf,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Download Course PDF"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Vt,{className:"w-5 h-5 mr-2"}),"Instructor"]}),i?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",name:"instructor.name",value:((L=p.instructor)==null?void 0:L.name)||"",onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",name:"instructor.email",value:((P=p.instructor)==null?void 0:P.email)||"",onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"text",name:"instructor.phone",value:((U=p.instructor)==null?void 0:U.phone)||"",onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),s.jsx("textarea",{name:"instructor.bio",value:((R=p.instructor)==null?void 0:R.bio)||"",onChange:I,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Qualifications"}),s.jsx("textarea",{name:"instructor.qualifications",value:((V=p.instructor)==null?void 0:V.qualifications)||"",onChange:I,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium text-gray-900",children:r.instructor.name}),s.jsx("p",{className:"text-sm text-gray-600",children:r.instructor.email}),r.instructor.phone&&s.jsx("p",{className:"text-sm text-gray-600",children:r.instructor.phone}),r.instructor.bio&&s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r.instructor.bio}),r.instructor.qualifications&&s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[s.jsx("span",{className:"font-medium",children:"Qualifications:"})," ",r.instructor.qualifications]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Et,{className:"w-5 h-5 mr-2"}),"Course Information"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Category:"}),s.jsx("span",{className:"font-medium",children:r.category})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Max Students:"}),s.jsx("span",{className:"font-medium",children:r.maxStudents||"Unlimited"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Created:"}),s.jsx("span",{className:"font-medium",children:b(r.createdAt)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Updated:"}),s.jsx("span",{className:"font-medium",children:b(r.updatedAt)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Created By:"}),s.jsxs("span",{className:"font-medium",children:[r.createdBy.firstName," ",r.createdBy.lastName]})]})]})]}),r.tags&&r.tags.length>0&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map((Z,ae)=>s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:Z},ae))})]})]})]})}),s.jsx("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-white flex-shrink-0",children:i?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:F,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",disabled:o,children:"Cancel"}),s.jsx("button",{onClick:k,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(gc,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]}):s.jsx("button",{onClick:O,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(ts,{className:"h-6 w-6 text-red-600"})}),s.jsx("div",{className:"ml-3",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Course"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:['Are you sure you want to delete "',r.title,'"? This action cannot be undone.']}),s.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Note: This will only work if no active batches exist for this course."})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",disabled:A,children:"Cancel"}),s.jsx("button",{onClick:E,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:A,children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(yn,{className:"w-4 h-4 mr-2"}),"Delete Course"]})})]})]})})})]})})},RW=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState(""),[c,A]=N.useState("all"),[d,u]=N.useState("all"),[m,h]=N.useState("all"),[g,p]=N.useState(1),[v,x]=N.useState(1),[b,j]=N.useState(0),[w,S]=N.useState({totalCourses:0,onlineCourses:0,offlineCourses:0,publishedCourses:0,draftCourses:0,totalEnrollments:0,averageRating:0}),[F,I]=N.useState(!1),[k,E]=N.useState(!1),[O,L]=N.useState(!1),[P,U]=N.useState(null),R=["Programming","Design","Business","Marketing","Data Science","Other"];N.useEffect(()=>{V(),Z()},[g,l,c,d,m]);const V=async()=>{var le,ce;try{n(!0),i(null);const ye={};l&&(ye.search=l),c!=="all"&&(ye.type=c),d!=="all"&&(ye.status=d),m!=="all"&&(ye.category=m);const Se=await YA.getCoursesWithFilters(g,10,ye);console.log("Courses page - Response from getCoursesWithFilters:",Se),console.log("Courses page - response.courses:",Se==null?void 0:Se.courses),console.log("Courses page - response.pagination:",Se==null?void 0:Se.pagination),Se&&Se.courses?(console.log("Courses page - Setting courses:",Se.courses),t(Se.courses),x(((le=Se.pagination)==null?void 0:le.totalPages)||1),j(((ce=Se.pagination)==null?void 0:ce.totalCourses)||0)):(console.log("Courses page - No courses found in response, setting empty array"),console.log("Courses page - response type:",typeof Se),console.log("Courses page - response keys:",Se?Object.keys(Se):"response is null/undefined"),t([]),x(1),j(0))}catch(ye){console.error("Load courses error:",ye),i(ye instanceof Error?ye.message:"Failed to load courses"),t([]),x(1),j(0)}finally{n(!1)}},Z=async()=>{try{const le=await YA.getCourseStatistics();le.data&&S(le.data)}catch(le){console.error("Failed to load statistics:",le),S({totalCourses:0,onlineCourses:0,offlineCourses:0,publishedCourses:0,draftCourses:0,totalEnrollments:0,averageRating:0})}},ae=le=>{p(le)},D=le=>{le.preventDefault(),p(1),V()},Y=()=>{V(),Z()},re=async le=>{try{E(!0),await YA.createCourse(le),await V(),await Z(),I(!1)}catch(ce){throw console.error("Error creating course:",ce),ce}finally{E(!1)}},q=()=>{console.log("Export courses")},_=le=>{U(le),L(!0)},z=le=>{t(ce=>ce.map(ye=>ye._id===le._id?le:ye)),Z()},G=le=>{t(ce=>ce.filter(ye=>ye._id!==le)),j(ce=>ce-1),Z()},X=le=>{switch(le){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},J=le=>le==="online"?s.jsx(hd,{className:"w-4 h-4"}):s.jsx(Fo,{className:"w-4 h-4"}),de=(le,ce="INR")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:ce}).format(le),ge=le=>new Date(le).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"});return r&&e.length===0?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Loading courses..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Course Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage and organize educational courses"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:q,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[s.jsx(lr,{className:"w-4 h-4 mr-2"}),"Export"]}),s.jsxs("button",{onClick:Y,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Refresh"]}),s.jsxs("button",{onClick:()=>I(!0),className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:[s.jsx(Er,{className:"w-4 h-4 mr-2"}),"Create Course"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(nr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Courses"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.totalCourses})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(hd,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Online Courses"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.onlineCourses})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(Fo,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Offline Courses"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.offlineCourses})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:s.jsx(dt,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enrollments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.totalEnrollments})]})]})})]}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:s.jsx("form",{onSubmit:D,className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",value:l,onChange:le=>o(le.target.value),placeholder:"Search courses...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsxs("select",{value:c,onChange:le=>A(le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"online",children:"Online"}),s.jsx("option",{value:"offline",children:"Offline"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:d,onChange:le=>u(le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"archived",children:"Archived"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsxs("select",{value:m,onChange:le=>h(le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Categories"}),R.map(le=>s.jsx("option",{value:le,children:le},le))]})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:[s.jsx(xr,{className:"w-4 h-4 mr-2"}),"Apply Filters"]})})]})})}),a&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-5 h-5 text-red-400",children:""})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:a})]})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Courses (",b,")"]})}),r?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Loading..."})]})}):e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(nr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No courses found"}),s.jsx("p",{className:"text-gray-600",children:"Get started by creating your first course."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Debug: courses.length = ",e.length]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollments"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(le=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:s.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:le.thumbnail||"/placeholder-course.png",alt:le.title,onError:ce=>{ce.currentTarget.src="/placeholder-course.png"}})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:le.title}),s.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:le.description})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[J(le.type),s.jsx("span",{className:"ml-2 capitalize",children:le.type})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:le.category}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:de(le.price,le.currency)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:le.enrollmentCount}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(md,{className:"w-4 h-4 text-yellow-400 mr-1"}),s.jsxs("span",{className:"text-sm text-gray-900",children:[le.rating.average.toFixed(1)," (",le.rating.count,")"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${X(le.status)}`,children:le.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ge(le.createdAt)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>_(le),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"View course details",children:s.jsx(xs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>_(le),className:"text-indigo-600 hover:text-indigo-900 transition-colors",title:"Edit course",children:s.jsx(Ea,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>_(le),className:"text-red-600 hover:text-red-900 transition-colors",title:"Delete course",children:s.jsx(yn,{className:"w-4 h-4"})})]})})]},le._id))})]})}),v>1&&s.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",g," of ",v]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>ae(g-1),disabled:g===1,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>ae(g+1),disabled:g===v,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]}),s.jsx(MW,{isOpen:F,onClose:()=>I(!1),onSubmit:re,loading:k}),s.jsx(TW,{isOpen:O,onClose:()=>{L(!1),U(null)},course:P,onCourseUpdated:z,onCourseDeleted:G})]})},fC=({isOpen:e,onClose:t,onSubmit:r,courses:n,loading:a=!1})=>{const[i,l]=N.useState({name:"",description:"",courseId:"",timeSlots:[{date:"",startTime:"",endTime:""}],maxStudents:30,price:0,currency:"INR",startDate:"",endDate:"",registrationStartDate:"",registrationEndDate:"",allowLateRegistration:!1}),[o,c]=N.useState({}),[A,d]=N.useState(null);N.useEffect(()=>{n.length>0&&l(b=>({...b,courseId:n[0]._id}))},[n]);const u=b=>{const{name:j,value:w,type:S}=b.target;let F=w;S==="checkbox"?F=b.target.checked:S==="number"&&(F=Number(w)),l(I=>({...I,[j]:F})),o[j]&&c(I=>({...I,[j]:null}))},m=(b,j)=>{var I,k;const{name:w,value:S}=j.target,F=[...i.timeSlots];if(F[b]={...F[b],[w]:S},l(E=>({...E,timeSlots:F})),(k=(I=o.timeSlots)==null?void 0:I[b])!=null&&k[w]){const E=[...o.timeSlots||[]];E[b]&&(delete E[b][w],Object.keys(E[b]).length===0&&E.splice(b,1)),c(O=>({...O,timeSlots:E.length>0?E:null}))}},h=()=>{l(b=>({...b,timeSlots:[...b.timeSlots,{date:"",startTime:"",endTime:""}]}))},g=b=>{if(i.timeSlots.length>1){const j=i.timeSlots.filter((w,S)=>S!==b);l(w=>({...w,timeSlots:j}))}},p=()=>{const b={};i.name.trim()||(b.name="Batch name is required"),i.courseId||(b.courseId="Course selection is required"),i.maxStudents<=0&&(b.maxStudents="Max students must be positive"),i.price<0&&(b.price="Price cannot be negative"),i.startDate||(b.startDate="Start date is required"),i.endDate||(b.endDate="End date is required"),i.endDate<i.startDate&&(b.endDate="End date cannot be before start date");const j=[];return i.timeSlots.forEach((w,S)=>{const F={};w.date||(F.date="Date is required"),w.startTime||(F.startTime="Start time is required"),w.endTime||(F.endTime="End time is required"),w.endTime<=w.startTime&&(F.endTime="End time must be after start time"),Object.keys(F).length>0&&(j[S]=F)}),j.length>0&&(b.timeSlots=j),c(b),Object.keys(b).length===0},v=async b=>{if(b.preventDefault(),!!p())try{d(null),await r(i),x()}catch(j){console.error("Error creating batch:",j),d(j.message||"Failed to create batch. Please try again.")}},x=()=>{l({name:"",description:"",courseId:n.length>0?n[0]._id:"",timeSlots:[{date:"",startTime:"",endTime:""}],maxStudents:30,price:0,currency:"INR",startDate:"",endDate:"",registrationStartDate:"",registrationEndDate:"",allowLateRegistration:!1}),c({}),d(null),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Batch"}),s.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600",disabled:a,children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:v,className:"p-6 overflow-y-auto flex-1",children:[A&&s.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-4 flex",children:[s.jsx(ts,{className:"h-5 w-5 text-red-400 mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("p",{className:"mt-1 text-sm text-red-700",children:A})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[s.jsx(Kh,{className:"w-5 h-5 mr-2"})," Basic Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch Name *"}),s.jsx("input",{type:"text",name:"name",value:i.name,onChange:u,className:`w-full input ${o.name?"input-error":""}`}),o.name&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course *"}),s.jsx("select",{name:"courseId",value:i.courseId,onChange:u,className:`w-full input ${o.courseId?"input-error":""}`,children:n.map(b=>s.jsx("option",{value:b._id,children:b.title},b._id))}),o.courseId&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.courseId})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{name:"description",value:i.description,onChange:u,rows:2,className:"w-full input"})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[s.jsx(Et,{className:"w-5 h-5 mr-2"})," Dates & Registration"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),s.jsx("input",{type:"date",name:"startDate",value:i.startDate,onChange:u,className:`w-full input ${o.startDate?"input-error":""}`}),o.startDate&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.startDate})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date *"}),s.jsx("input",{type:"date",name:"endDate",value:i.endDate,onChange:u,className:`w-full input ${o.endDate?"input-error":""}`}),o.endDate&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.endDate})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Start"}),s.jsx("input",{type:"date",name:"registrationStartDate",value:i.registrationStartDate,onChange:u,className:"w-full input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration End"}),s.jsx("input",{type:"date",name:"registrationEndDate",value:i.registrationEndDate,onChange:u,className:"w-full input"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"allowLateRegistration",checked:i.allowLateRegistration,onChange:u,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Allow Late Registration"})]})})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[s.jsx(Qt,{className:"w-5 h-5 mr-2"})," Time Slots"]}),s.jsx("div",{className:"space-y-3",children:i.timeSlots.map((b,j)=>{var w,S,F,I,k,E;return s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-lg",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2 flex-1",children:[s.jsx("div",{children:s.jsx("input",{type:"date",name:"date",value:b.date,onChange:O=>m(j,O),className:`w-full input text-sm ${(S=(w=o.timeSlots)==null?void 0:w[j])!=null&&S.date?"input-error":""}`})}),s.jsx("div",{children:s.jsx("input",{type:"time",name:"startTime",value:b.startTime,onChange:O=>m(j,O),className:`w-full input text-sm ${(I=(F=o.timeSlots)==null?void 0:F[j])!=null&&I.startTime?"input-error":""}`})}),s.jsx("div",{children:s.jsx("input",{type:"time",name:"endTime",value:b.endTime,onChange:O=>m(j,O),className:`w-full input text-sm ${(E=(k=o.timeSlots)==null?void 0:k[j])!=null&&E.endTime?"input-error":""}`})})]}),s.jsx("button",{type:"button",onClick:()=>g(j),disabled:i.timeSlots.length<=1,className:"p-2 text-red-500 hover:text-red-700 disabled:opacity-50",children:s.jsx(yn,{className:"w-4 h-4"})})]},j)})}),s.jsxs("button",{type:"button",onClick:h,className:"mt-2 flex items-center text-sm text-blue-600 hover:text-blue-800",children:[s.jsx(Er,{className:"w-4 h-4 mr-1"})," Add Time Slot"]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[s.jsx(yt,{className:"w-5 h-5 mr-2"})," Pricing & Capacity"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price () *"}),s.jsx("input",{type:"number",name:"price",value:i.price,onChange:u,min:"0",className:`w-full input ${o.price?"input-error":""}`}),o.price&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.price})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Students *"}),s.jsx("input",{type:"number",name:"maxStudents",value:i.maxStudents,onChange:u,min:"1",className:`w-full input ${o.maxStudents?"input-error":""}`}),o.maxStudents&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.maxStudents})]})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-white flex-shrink-0",children:[s.jsx("button",{type:"button",onClick:x,className:"btn-secondary",disabled:a,children:"Cancel"}),s.jsx("button",{type:"submit",onClick:v,className:"btn-primary",disabled:a,children:a?"Creating...":"Create Batch"})]})]})}):null},xC=({isOpen:e,onClose:t,batch:r,onBatchUpdated:n,onBatchDeleted:a})=>{var k,E,O;const[i,l]=N.useState(!1),[o,c]=N.useState(!1),[A,d]=N.useState(!1),[u,m]=N.useState(!1),[h,g]=N.useState(null),[p,v]=N.useState({}),x=()=>{r&&(l(!0),v({name:r.name,description:r.description,maxStudents:r.maxStudents,price:r.price,startDate:r.startDate.split("T")[0],endDate:r.endDate.split("T")[0],registrationStartDate:r.registrationStartDate.split("T")[0],registrationEndDate:r.registrationEndDate.split("T")[0],allowLateRegistration:r.allowLateRegistration,timeSlots:r.timeSlots.map(L=>({...L,date:L.date.split("T")[0]}))}))},b=()=>{l(!1),g(null)},j=L=>{const{name:P,value:U,type:R}=L.target,V=L.target.checked;v(Z=>({...Z,[P]:R==="checkbox"?V:U}))},w=async()=>{if(r){c(!0),g(null);try{const L=await fc.updateBatch(r._id,p);if(L.success&&L.data)n==null||n(L.data.batch),l(!1);else throw new Error(L.message||"Failed to update batch")}catch(L){g(L instanceof Error?L.message:"An unknown error occurred")}finally{c(!1)}}},S=async()=>{if(r){d(!0),g(null);try{await fc.deleteBatch(r._id),a==null||a(r._id),t()}catch(L){g(L instanceof Error?L.message:"An unknown error occurred")}finally{d(!1)}}},F=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),I=L=>{const[P,U]=L.split(":").map(Number),R=P>=12?"PM":"AM";return`${P%12||12}:${U.toString().padStart(2,"0")} ${R}`};return!e||!r?null:s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold",children:i?"Edit Batch":"Batch Details"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!i&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:x,className:"p-2 text-gray-600 hover:text-blue-600",title:"Edit batch",children:s.jsx(Ea,{size:18})}),s.jsx("button",{onClick:()=>m(!0),className:"p-2 text-gray-600 hover:text-red-600",title:"Delete batch",children:s.jsx(yn,{size:18})})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-600 hover:text-black",title:"Close",children:s.jsx(rt,{size:18})})]})]}),s.jsxs("div",{className:"p-4 overflow-y-auto flex-1",children:[h&&s.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3 flex",children:[s.jsx(ts,{className:"h-5 w-5 text-red-400 mr-2"}),s.jsx("p",{className:"text-red-700 text-sm",children:h})]}),i?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch Name"}),s.jsx("input",{name:"name",value:p.name||"",onChange:j,className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{name:"description",value:p.description||"",onChange:j,rows:3,className:"input w-full"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Students"}),s.jsx("input",{type:"number",name:"maxStudents",value:p.maxStudents||0,onChange:j,className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),s.jsx("input",{type:"number",name:"price",value:p.price||0,onChange:j,className:"input w-full"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),s.jsx("input",{type:"date",name:"startDate",value:p.startDate||"",onChange:j,className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),s.jsx("input",{type:"date",name:"endDate",value:p.endDate||"",onChange:j,className:"input w-full"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Start"}),s.jsx("input",{type:"date",name:"registrationStartDate",value:p.registrationStartDate||"",onChange:j,className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration End"}),s.jsx("input",{type:"date",name:"registrationEndDate",value:p.registrationEndDate||"",onChange:j,className:"input w-full"})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"allowLateRegistration",checked:p.allowLateRegistration||!1,onChange:j,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Allow Late Registration"})]})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.name}),s.jsx("p",{className:"text-gray-600 mt-2",children:r.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(Kh,{className:"w-5 h-5 text-blue-600 mr-2 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Course"}),s.jsx("p",{className:"text-gray-700",children:((k=r.courseId)==null?void 0:k.title)||"N/A"}),s.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:["Type: ",((E=r.courseId)==null?void 0:E.type)||"N/A"]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Category: ",((O=r.courseId)==null?void 0:O.category)||"N/A"]})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Et,{className:"w-5 h-5 text-green-600 mr-2 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Batch Period"}),s.jsxs("p",{className:"text-gray-700",children:[F(r.startDate)," - ",F(r.endDate)]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Duration: ",r.durationInDays," days"]})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Et,{className:"w-5 h-5 text-purple-600 mr-2 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Registration Period"}),s.jsxs("p",{className:"text-gray-700",children:[F(r.registrationStartDate)," - ",F(r.registrationEndDate)]}),s.jsx("p",{className:"text-sm text-gray-500",children:r.allowLateRegistration?"Late registration allowed":"Late registration not allowed"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(dt,{className:"w-5 h-5 text-indigo-600 mr-2 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Enrollment"}),s.jsxs("p",{className:"text-gray-700",children:[r.enrollmentCount," / ",r.maxStudents]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[r.availableSpots," spots available"]})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(yt,{className:"w-5 h-5 text-yellow-600 mr-2 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Price"}),s.jsxs("p",{className:"text-gray-700",children:[r.price," ",r.currency]})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Kh,{className:"w-5 h-5 text-gray-600 mr-2 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Status"}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${fc.getBatchStatusColor(r.status)}`,children:r.status})]})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h4",{className:"font-medium text-gray-900 flex items-center mb-3",children:[s.jsx(Qt,{className:"w-5 h-5 text-blue-600 mr-2"}),"Time Slots"]}),r.timeSlots&&r.timeSlots.length>0?s.jsx("div",{className:"space-y-2",children:r.timeSlots.map((L,P)=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900 font-medium",children:F(L.date)}),s.jsxs("p",{className:"text-gray-600 text-sm",children:[I(L.startTime)," - ",I(L.endTime)]})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[L.duration," minutes"]})]},P))}):s.jsx("p",{className:"text-gray-500 italic",children:"No time slots defined"})]}),s.jsxs("div",{className:"border-t pt-4 text-sm text-gray-500",children:[s.jsxs("p",{children:["Created by: ",typeof r.createdBy=="object"?`${r.createdBy.firstName} ${r.createdBy.lastName}`:"Unknown"]}),s.jsxs("p",{children:["Created on: ",new Date(r.createdAt).toLocaleString()]}),s.jsxs("p",{children:["Last updated: ",new Date(r.updatedAt).toLocaleString()]})]})]})]}),s.jsx("div",{className:"flex justify-end p-4 border-t bg-gray-50",children:i?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:b,className:"btn-secondary mr-2",children:"Cancel"}),s.jsx("button",{onClick:w,className:"btn-primary",disabled:o,children:o?"Saving...":"Save Changes"})]}):s.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"})})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[60]",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Confirm Deletion"}),s.jsx("p",{className:"py-4",children:"Are you sure you want to delete this batch? This cannot be undone."}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>m(!1),className:"btn-secondary",disabled:A,children:"Cancel"}),s.jsx("button",{onClick:S,className:"btn-danger",disabled:A,children:A?"Deleting...":"Delete"})]})]})})]})},Uk=({enrollment:e,onClose:t,onSuccess:r})=>{const[n,a]=N.useState(""),[i,l]=N.useState(!1),[o,c]=N.useState(null),A=async u=>{u.preventDefault(),l(!0),c(null);try{console.log("Submitting approval for enrollment:",e._id),console.log("Admin notes:",n);const m=await Xt.approveEnrollment(e._id,n.trim()||void 0);console.log("Approval response:",m),m.success?(console.log("Approval successful, calling onSuccess"),r(),t()):(console.error("Approval failed:",m.message),c(m.message||"Failed to approve enrollment"))}catch(m){console.error("Error approving enrollment:",m),c(m instanceof Error?m.message:"An unknown error occurred")}finally{l(!1)}},d=()=>{a(""),c(null),t()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Me,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Approve Enrollment"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Confirm enrollment approval for student"})]})]}),s.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx(Vt,{className:"w-5 h-5 mr-2"}),"Student Information"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),s.jsxs("p",{className:"font-medium text-gray-800",children:[e.studentId.firstName," ",e.studentId.lastName]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Student ID"}),s.jsx("p",{className:"font-medium text-gray-800",children:e.studentId.studentId})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-800",children:e.studentId.email})]}),e.studentId.phoneNumber&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),s.jsx("p",{className:"font-medium text-gray-800",children:e.studentId.phoneNumber})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx(nr,{className:"w-5 h-5 mr-2"}),"Course & Batch Details"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Course"}),s.jsx("p",{className:"font-medium text-gray-800",children:e.courseId.title}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.courseId.category,"  ",e.courseId.type]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Batch"}),s.jsx("p",{className:"font-medium text-gray-800",children:e.batchId.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),s.jsxs("p",{className:"font-medium text-gray-800",children:[Xt.formatDate(e.batchId.startDate)," - ",Xt.formatDate(e.batchId.endDate)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),s.jsx("p",{className:"font-medium text-gray-800",children:Xt.formatCurrency(e.paymentAmount,e.currency)})]})]})]})]})}),s.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[o&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(pt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-red-700 text-sm",children:o})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Notes (Optional)"}),s.jsx("textarea",{value:n,onChange:u=>a(u.target.value),placeholder:"Add any notes or comments about this approval...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be visible to the student and other administrators."})]}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Me,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Approval Confirmation"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"By approving this enrollment, the student will be:"}),s.jsxs("ul",{className:"text-sm text-green-700 mt-2 space-y-1",children:[s.jsx("li",{children:" Added to the course batch"}),s.jsx("li",{children:" Granted access to course materials"}),s.jsx("li",{children:" Notified of the approval via email"}),s.jsx("li",{children:" Able to start attending classes"})]})]})]})}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Approving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Me,{className:"w-4 h-4"}),s.jsx("span",{children:"Approve Enrollment"})]})})]})]})]})})},Lk=({enrollment:e,onClose:t,onSuccess:r})=>{const[n,a]=N.useState(""),[i,l]=N.useState(""),[o,c]=N.useState(!1),[A,d]=N.useState(null),u=["Insufficient prerequisites","Course capacity full","Payment issues","Documentation incomplete","Academic requirements not met","Duplicate enrollment","Other"],m=async g=>{if(g.preventDefault(),!n.trim()){d("Please select a rejection reason");return}c(!0),d(null);try{const p=await Xt.rejectEnrollment(e._id,n.trim(),i.trim()||void 0);p.success?(r(),t()):d(p.message||"Failed to reject enrollment")}catch(p){console.error("Error rejecting enrollment:",p),d(p instanceof Error?p.message:"An unknown error occurred")}finally{c(!1)}},h=()=>{a(""),l(""),d(null),t()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(Ft,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Reject Enrollment"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Provide reason for enrollment rejection"})]})]}),s.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx(Vt,{className:"w-5 h-5 mr-2"}),"Student Information"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),s.jsxs("p",{className:"font-medium text-gray-800",children:[e.studentId.firstName," ",e.studentId.lastName]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Student ID"}),s.jsx("p",{className:"font-medium text-gray-800",children:e.studentId.studentId})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-800",children:e.studentId.email})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx(nr,{className:"w-5 h-5 mr-2"}),"Course & Batch Details"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Course"}),s.jsx("p",{className:"font-medium text-gray-800",children:e.courseId.title}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.courseId.category,"  ",e.courseId.type]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Batch"}),s.jsx("p",{className:"font-medium text-gray-800",children:e.batchId.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),s.jsx("p",{className:"font-medium text-gray-800",children:Xt.formatCurrency(e.paymentAmount,e.currency)})]})]})]})]})}),s.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[A&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(ts,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-red-700 text-sm",children:A})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason *"}),s.jsxs("select",{value:n,onChange:g=>a(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select a reason"}),u.map(g=>s.jsx("option",{value:g,children:g},g))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),s.jsx("textarea",{value:i,onChange:g=>l(g.target.value),placeholder:"Provide additional details about the rejection...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be visible to the student and other administrators."})]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ts,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Rejection Warning"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:"By rejecting this enrollment, the student will be:"}),s.jsxs("ul",{className:"text-sm text-red-700 mt-2 space-y-1",children:[s.jsx("li",{children:" Removed from the pending enrollments"}),s.jsx("li",{children:" Notified of the rejection via email"}),s.jsx("li",{children:" Required to reapply if they wish to enroll again"}),s.jsx("li",{children:" Refunded any payments made (if applicable)"})]})]})]})}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Rejecting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:"Reject Enrollment"})]})})]})]})]})})},OW=({enrollment:e,onClose:t,onSuccess:r})=>{const[n,a]=N.useState(!1),[i,l]=N.useState(null),o=async()=>{a(!0),l(null);try{console.log("Syncing enrollment:",e._id);const A=await fh(()=>Promise.resolve().then(()=>HP),void 0).then(d=>d.enrollmentService.syncEnrollmentWithBatch(e._id));if(console.log("Sync response:",A),A.success&&A.data){const d=A.data.enrollment;console.log("Sync completed:",d),r(d),t()}else console.error("Sync failed:",A.message),l(A.message||"Failed to sync enrollment")}catch(A){console.error("Error syncing enrollment:",A),l(A instanceof Error?A.message:"An unknown error occurred")}finally{a(!1)}},c=()=>{l(null),t()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(H0,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Sync Enrollment with Batch"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Synchronize enrollment status with batch enrollment list"})]})]}),s.jsx("button",{onClick:c,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx(Vt,{className:"w-5 h-5 mr-2"}),"Student Information"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),s.jsxs("p",{className:"font-medium text-gray-800",children:[e.studentId.firstName," ",e.studentId.lastName]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Student ID"}),s.jsx("p",{className:"font-medium text-gray-800",children:e.studentId.studentId})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-800",children:e.studentId.email})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx(nr,{className:"w-5 h-5 mr-2"}),"Course & Batch Details"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Course"}),s.jsx("p",{className:"font-medium text-gray-800",children:e.courseId.title}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.courseId.category,"  ",e.courseId.type]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Batch"}),s.jsx("p",{className:"font-medium text-gray-800",children:e.batchId.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Current Status"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${e.status==="pending"?"bg-yellow-100 text-yellow-800":e.status==="enrolled"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.status}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${e.approvalStatus==="pending"?"bg-yellow-100 text-yellow-800":e.approvalStatus==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.approvalStatus})]})]})]})]})]})}),s.jsxs("div",{className:"p-6",children:[i&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3 mb-6",children:[s.jsx(pt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-red-700 text-sm",children:i})]}),s.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(H0,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-purple-800",children:"What does sync do?"}),s.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"This operation synchronizes the enrollment status with the batch's enrolled students list:"}),s.jsxs("ul",{className:"text-sm text-purple-700 mt-2 space-y-1",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Approved enrollment not in batch:"})," Adds student to batch's enrolledStudents array"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Rejected enrollment still in batch:"})," Removes student from batch's enrolledStudents array"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Pending enrollment:"})," No action needed"]})]})]})]})}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:o,disabled:n,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Syncing..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(H0,{className:"w-4 h-4"}),s.jsx("span",{children:"Sync with Batch"})]})})]})]})]})})},HW=({filters:e,onFiltersChange:t,onReset:r,courses:n=[],batches:a=[]})=>{var c,A;const i=(d,u)=>{t({...e,[d]:u||void 0})},l=(d,u)=>{t({...e,[d]:u||void 0})},o=Object.values(e).some(d=>d!==void 0&&d!==""&&d!==1&&d!==10);return s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(xr,{className:"w-5 h-5 mr-2"}),"Advanced Filters"]}),o&&s.jsxs("button",{onClick:r,className:"text-sm text-red-600 hover:text-red-800 flex items-center",children:[s.jsx(rt,{className:"w-4 h-4 mr-1"}),"Clear All Filters"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[s.jsx(Vt,{className:"w-4 h-4 inline mr-1"}),"Student ID"]}),s.jsx("input",{type:"text",placeholder:"Search by student ID...",value:e.studentId||"",onChange:d=>i("studentId",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[s.jsx(nr,{className:"w-4 h-4 inline mr-1"}),"Course"]}),s.jsxs("select",{value:e.courseId||"",onChange:d=>i("courseId",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Courses"}),n.map(d=>s.jsx("option",{value:d._id,children:d.title},d._id))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[s.jsx(dt,{className:"w-4 h-4 inline mr-1"}),"Batch"]}),s.jsxs("select",{value:e.batchId||"",onChange:d=>i("batchId",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Batches"}),a.filter(d=>!e.courseId||d.courseId===e.courseId).map(d=>s.jsx("option",{value:d._id,children:d.name},d._id))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[s.jsx(dt,{className:"w-4 h-4 inline mr-1"}),"Enrollment Status"]}),s.jsxs("select",{value:e.status||"",onChange:d=>i("status",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"enrolled",children:"Enrolled"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"dropped",children:"Dropped"}),s.jsx("option",{value:"suspended",children:"Suspended"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[s.jsx(dt,{className:"w-4 h-4 inline mr-1"}),"Approval Status"]}),s.jsxs("select",{value:e.approvalStatus||"",onChange:d=>i("approvalStatus",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Approval Statuses"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[s.jsx(Qr,{className:"w-4 h-4 inline mr-1"}),"Payment Status"]}),s.jsxs("select",{value:e.paymentStatus||"",onChange:d=>i("paymentStatus",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Payment Statuses"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"partial",children:"Partial"}),s.jsx("option",{value:"refunded",children:"Refunded"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[s.jsx(Et,{className:"w-4 h-4 inline mr-1"}),"From Date"]}),s.jsx("input",{type:"date",value:e.startDate||"",onChange:d=>l("startDate",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[s.jsx(Et,{className:"w-4 h-4 inline mr-1"}),"To Date"]}),s.jsx("input",{type:"date",value:e.endDate||"",onChange:d=>l("endDate",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sort by:"}),s.jsxs("select",{value:e.sortBy||"enrollmentDate",onChange:d=>i("sortBy",d.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"enrollmentDate",children:"Enrollment Date"}),s.jsx("option",{value:"studentId",children:"Student ID"}),s.jsx("option",{value:"courseId",children:"Course"}),s.jsx("option",{value:"batchId",children:"Batch"}),s.jsx("option",{value:"status",children:"Status"}),s.jsx("option",{value:"paymentAmount",children:"Payment Amount"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Order:"}),s.jsxs("select",{value:e.sortOrder||"desc",onChange:d=>i("sortOrder",d.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"desc",children:"Descending"}),s.jsx("option",{value:"asc",children:"Ascending"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Per page:"}),s.jsxs("select",{value:e.limit||10,onChange:d=>i("limit",d.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]})]})]}),o&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Filters:"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.studentId&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Student: ",e.studentId,s.jsx("button",{onClick:()=>i("studentId",""),className:"ml-1 text-blue-600 hover:text-blue-800",children:s.jsx(rt,{className:"w-3 h-3"})})]}),e.courseId&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Course: ",((c=n.find(d=>d._id===e.courseId))==null?void 0:c.title)||e.courseId,s.jsx("button",{onClick:()=>i("courseId",""),className:"ml-1 text-green-600 hover:text-green-800",children:s.jsx(rt,{className:"w-3 h-3"})})]}),e.batchId&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Batch: ",((A=a.find(d=>d._id===e.batchId))==null?void 0:A.name)||e.batchId,s.jsx("button",{onClick:()=>i("batchId",""),className:"ml-1 text-purple-600 hover:text-purple-800",children:s.jsx(rt,{className:"w-3 h-3"})})]}),e.status&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["Status: ",e.status,s.jsx("button",{onClick:()=>i("status",""),className:"ml-1 text-yellow-600 hover:text-yellow-800",children:s.jsx(rt,{className:"w-3 h-3"})})]}),e.approvalStatus&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:["Approval: ",e.approvalStatus,s.jsx("button",{onClick:()=>i("approvalStatus",""),className:"ml-1 text-indigo-600 hover:text-indigo-800",children:s.jsx(rt,{className:"w-3 h-3"})})]}),e.paymentStatus&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-pink-100 text-pink-800",children:["Payment: ",e.paymentStatus,s.jsx("button",{onClick:()=>i("paymentStatus",""),className:"ml-1 text-pink-600 hover:text-pink-800",children:s.jsx(rt,{className:"w-3 h-3"})})]}),e.startDate&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["From: ",new Date(e.startDate).toLocaleDateString(),s.jsx("button",{onClick:()=>l("startDate",""),className:"ml-1 text-gray-600 hover:text-gray-800",children:s.jsx(rt,{className:"w-3 h-3"})})]}),e.endDate&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["To: ",new Date(e.endDate).toLocaleDateString(),s.jsx("button",{onClick:()=>l("endDate",""),className:"ml-1 text-gray-600 hover:text-gray-800",children:s.jsx(rt,{className:"w-3 h-3"})})]})]})]})]})},KW=({batchId:e,batchName:t,courseName:r,onBackToSelection:n})=>{const[a,i]=N.useState([]),[l,o]=N.useState(!0),[c,A]=N.useState(null),[d,u]=N.useState(!1),[m,h]=N.useState(!1),[g,p]=N.useState(!1),[v,x]=N.useState(null),[b,j]=N.useState(null),[w,S]=N.useState({batchId:e,page:1,limit:100,sortBy:"enrollmentDate",sortOrder:"desc"}),[F,I]=N.useState({totalEnrollments:0,pendingEnrollments:0,approvedEnrollments:0,rejectedEnrollments:0,totalRevenue:0}),[k,E]=N.useState({total:0,pending:0,approved:0,rejected:0,enrolled:0}),O=async()=>{o(!0),A(null);try{console.log("Loading enrollments with filters:",w);const re=await Xt.getAllEnrollments(w);if(console.log("Enrollments response:",re),re.success&&re.data){const{enrollments:q,statistics:_}=re.data;console.log("Found enrollments:",q.length,q),console.log("API statistics:",_),i(q),I(_);const z={total:q.length,pending:q.filter(G=>G.status==="pending"||G.approvalStatus==="pending").length,approved:q.filter(G=>G.approvalStatus==="approved").length,rejected:q.filter(G=>G.approvalStatus==="rejected").length,enrolled:q.filter(G=>G.status==="enrolled").length};console.log("Calculated statistics:",z),E(z)}else{console.error("Failed to load enrollments:",re);const q=[{_id:"mock1",studentId:{_id:"student1",firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com",phoneNumber:"+1234567890"},courseId:{_id:"course1",title:r,category:"Programming",type:"online",price:5e3,currency:"INR"},batchId:{_id:e,name:t,startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30},status:"pending",approvalStatus:"pending",enrollmentDate:"2024-01-15T10:00:00.000Z",paymentAmount:5e3,currency:"INR",paymentStatus:"pending",createdAt:"2024-01-15T10:00:00.000Z",updatedAt:"2024-01-15T10:00:00.000Z"},{_id:"mock2",studentId:{_id:"student2",firstName:"Jane",lastName:"Smith",studentId:"STU002",email:"jane.smith@example.com",phoneNumber:"+1234567891"},courseId:{_id:"course1",title:r,category:"Programming",type:"online",price:5e3,currency:"INR"},batchId:{_id:e,name:t,startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30},status:"enrolled",approvalStatus:"approved",enrollmentDate:"2024-01-10T10:00:00.000Z",paymentAmount:5e3,currency:"INR",paymentStatus:"paid",createdAt:"2024-01-10T10:00:00.000Z",updatedAt:"2024-01-10T10:00:00.000Z"},{_id:"mock3",studentId:{_id:"student3",firstName:"Alice",lastName:"Johnson",studentId:"STU003",email:"alice.johnson@example.com",phoneNumber:"+1234567892"},courseId:{_id:"course1",title:r,category:"Programming",type:"online",price:5e3,currency:"INR"},batchId:{_id:e,name:t,startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30},status:"pending",approvalStatus:"pending",enrollmentDate:"2024-01-20T10:00:00.000Z",paymentAmount:5e3,currency:"INR",paymentStatus:"pending",createdAt:"2024-01-20T10:00:00.000Z",updatedAt:"2024-01-20T10:00:00.000Z"}];i(q);const _={total:q.length,pending:q.filter(z=>z.status==="pending"||z.approvalStatus==="pending").length,approved:q.filter(z=>z.approvalStatus==="approved").length,rejected:q.filter(z=>z.approvalStatus==="rejected").length,enrolled:q.filter(z=>z.status==="enrolled").length};E(_),A("Using mock data - API not available")}}catch(re){console.error("Error loading batch enrollments:",re),A(re instanceof Error?re.message:"An unknown error occurred")}finally{o(!1)}};N.useEffect(()=>{e&&O()},[e,w]);const L=re=>{console.log("Approving enrollment:",re),console.log("Enrollment ID:",re._id),console.log("Enrollment status:",re.status),console.log("Enrollment approval status:",re.approvalStatus),x(re),u(!0)},P=re=>{x(re),h(!0)},U=()=>{u(!1),x(null),j("Enrollment approved successfully!"),setTimeout(()=>j(null),5e3),O()},R=()=>{h(!1),x(null),O()},V=re=>{console.log("Opening sync modal for enrollment:",re._id),x(re),p(!0)},Z=re=>{p(!1),x(null),re.updated?j(`Sync completed: ${re.action}`):j(`Sync completed: ${re.action}`),setTimeout(()=>j(null),5e3),O()},ae=re=>{S(re)},D=()=>{S({batchId:e,page:1,limit:100,sortBy:"enrollmentDate",sortOrder:"desc"})},Y=re=>{switch(re.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"enrolled":case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";case"dropped":case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[n&&s.jsxs("button",{onClick:n,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",title:"Back to batch selection",children:[s.jsx(qP,{className:"w-4 h-4"}),s.jsx("span",{children:"Back"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Batch Enrollment Management"}),s.jsxs("p",{className:"text-gray-600",children:[r," - ",t]})]})]}),s.jsxs("button",{onClick:O,disabled:l,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Tt,{className:`w-4 h-4 ${l?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]})]})}),b&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(Me,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsx("p",{className:"text-green-700 text-sm",children:b}),s.jsx("button",{onClick:()=>j(null),className:"text-green-500 hover:text-green-700 ml-auto",children:s.jsx(rt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:k.total})]}),s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(dt,{className:"w-5 h-5 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:k.pending})]}),s.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(Qt,{className:"w-5 h-5 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:k.approved})]}),s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Me,{className:"w-5 h-5 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:k.rejected})]}),s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(Ft,{className:"w-5 h-5 text-red-600"})})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Enrolled"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:k.enrolled})]}),s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(dt,{className:"w-5 h-5 text-blue-600"})})]})})]}),s.jsx(HW,{filters:w,onFiltersChange:ae,onReset:D,courses:[{_id:"course1",title:r}],batches:[{_id:e,name:t,courseId:"course1"}]}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollment Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"ml-3 text-gray-500",children:"Loading enrollments..."})]})})}):c?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(pt,{className:"w-12 h-12 text-red-300 mb-2"}),s.jsx("p",{className:"text-red-600 font-medium",children:"Error loading enrollments"}),s.jsx("p",{className:"text-gray-500 text-sm",children:c})]})})}):a.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(dt,{className:"w-12 h-12 text-gray-300 mb-2"}),s.jsx("p",{children:"No enrollments found for this batch"}),s.jsx("p",{className:"text-sm",children:"Students can enroll through the course page"})]})})}):a.map(re=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[re.studentId.firstName.charAt(0),re.studentId.lastName.charAt(0)]})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[re.studentId.firstName," ",re.studentId.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:re.studentId.studentId}),s.jsx("div",{className:"text-sm text-gray-500",children:re.studentId.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y(re.status)}`,children:re.status}),s.jsx("div",{className:"text-xs text-gray-500",children:re.approvalStatus})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:Xt.formatCurrency(re.paymentAmount,re.currency)}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Status: ",s.jsx("span",{className:"capitalize",children:re.paymentStatus})]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Xt.formatDate(re.enrollmentDate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[(re.status==="pending"||re.approvalStatus==="pending")&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>L(re),className:"text-green-600 hover:text-green-900",title:"Approve",children:s.jsx(Me,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>P(re),className:"text-red-600 hover:text-red-900",title:"Reject",children:s.jsx(Ft,{className:"w-4 h-4"})})]}),s.jsx("button",{onClick:()=>V(re),className:"text-purple-600 hover:text-purple-900",title:"Sync with Batch",children:s.jsx(H0,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>console.log("View details:",re._id),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:s.jsx(xs,{className:"w-4 h-4"})})]})})]},re._id))})]})})}),d&&v&&s.jsx(Uk,{enrollment:v,onClose:()=>u(!1),onSuccess:U}),m&&v&&s.jsx(Lk,{enrollment:v,onClose:()=>h(!1),onSuccess:R}),g&&v&&s.jsx(OW,{enrollment:v,onClose:()=>p(!1),onSuccess:Z})]})},zW=()=>{var q;const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(!0),[l,o]=N.useState(null),[c,A]=N.useState({}),[d,u]=N.useState(1),[m,h]=N.useState(1),[g,p]=N.useState(0),[v,x]=N.useState(!1),[b,j]=N.useState(!1),[w,S]=N.useState(!1),[F,I]=N.useState(null),[k,E]=N.useState("batches"),[O,L]=N.useState(null);N.useEffect(()=>{U(),P()},[d,c]);const P=async()=>{try{const _=await YA.getAllCourses(1,100);_.success&&_.data?n(_.data.courses):console.error("Failed to load courses for dropdown")}catch(_){console.error("Error fetching courses:",_)}},U=async()=>{var _,z;try{i(!0),o(null);const G=await fc.getAllBatches(d,10,c);if(G.success&&G.data){const X=G.data;t(X.batches),h(((_=X.pagination)==null?void 0:_.totalPages)||1),p(((z=X.pagination)==null?void 0:z.totalBatches)||0)}else{const X=[{_id:"mock-batch-1",name:"Python Morning Batch",courseId:{_id:"mock-course-1",title:"Introduction to Python",category:"Programming",type:"online",price:5e3,currency:"INR"},startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30,enrollmentCount:15,status:"ongoing",timeSlots:[],venue:"Online",instructor:"Dr. Smith",description:"Learn Python programming from basics to advanced concepts",createdAt:"2024-01-01T00:00:00.000Z",updatedAt:"2024-01-01T00:00:00.000Z"},{_id:"mock-batch-2",name:"JavaScript Evening Batch",courseId:{_id:"mock-course-2",title:"Advanced JavaScript",category:"Programming",type:"online",price:8e3,currency:"INR"},startDate:"2024-02-01T00:00:00.000Z",endDate:"2024-04-01T00:00:00.000Z",maxStudents:25,enrollmentCount:8,status:"scheduled",timeSlots:[],venue:"Online",instructor:"Dr. Johnson",description:"Master advanced JavaScript concepts and frameworks",createdAt:"2024-02-01T00:00:00.000Z",updatedAt:"2024-02-01T00:00:00.000Z"}];t(X),h(1),p(X.length),o("Using mock data - API not available")}}catch(G){console.error("Error loading batches:",G);const X=[{_id:"mock-batch-1",name:"Python Morning Batch",courseId:{_id:"mock-course-1",title:"Introduction to Python",category:"Programming",type:"online",price:5e3,currency:"INR"},startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30,enrollmentCount:15,status:"ongoing",timeSlots:[],venue:"Online",instructor:"Dr. Smith",description:"Learn Python programming from basics to advanced concepts",createdAt:"2024-01-01T00:00:00.000Z",updatedAt:"2024-01-01T00:00:00.000Z"},{_id:"mock-batch-2",name:"JavaScript Evening Batch",courseId:{_id:"mock-course-2",title:"Advanced JavaScript",category:"Programming",type:"online",price:8e3,currency:"INR"},startDate:"2024-02-01T00:00:00.000Z",endDate:"2024-04-01T00:00:00.000Z",maxStudents:25,enrollmentCount:8,status:"scheduled",timeSlots:[],venue:"Online",instructor:"Dr. Johnson",description:"Master advanced JavaScript concepts and frameworks",createdAt:"2024-02-01T00:00:00.000Z",updatedAt:"2024-02-01T00:00:00.000Z"}];t(X),h(1),p(X.length),o(G instanceof Error?G.message:"An unknown error occurred")}finally{i(!1)}},R=async _=>{try{j(!0);const z=await fc.createBatch(_);if(z.success)x(!1),U();else throw new Error(z.message||"Failed to create batch")}catch(z){throw console.error("Failed to create batch from page:",z),z}finally{j(!1)}},V=_=>{I(_),S(!0)},Z=_=>{L(_),E("enrollments")},ae=_=>{t(z=>z.map(G=>G._id===_._id?_:G)),U()},D=_=>{t(z=>z.filter(G=>G._id!==_)),U()},Y=_=>{A(z=>({...z,[_.target.name]:_.target.value}))},re=()=>{u(1),U()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Course Batches"}),s.jsx("p",{className:"text-gray-600",children:"Manage all course batches and enrollments"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:()=>x(!0),className:"btn-primary flex items-center",children:[s.jsx(Er,{className:"w-4 h-4 mr-2"}),"Create Batch"]})})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[s.jsx("button",{onClick:()=>E("batches"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${k==="batches"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(bo,{className:"w-5 h-5"}),s.jsx("span",{children:"Batch Management"})]})}),s.jsx("button",{onClick:()=>E("enrollments"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${k==="enrollments"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dt,{className:"w-5 h-5"}),s.jsx("span",{children:"Enrollment Management"})]})})]})}),s.jsx("div",{className:"p-6",children:k==="batches"?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("input",{type:"text",name:"search",placeholder:"Search by name...",onChange:Y,className:"input"}),s.jsxs("select",{name:"status",onChange:Y,className:"input",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"scheduled",children:"Scheduled"}),s.jsx("option",{value:"ongoing",children:"Ongoing"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}),s.jsxs("button",{onClick:re,className:"btn-primary flex items-center justify-center",children:[s.jsx(xr,{className:"w-4 h-4 mr-2"}),"Apply"]})]})}),a?s.jsxs("div",{className:"text-center py-10",children:[s.jsx(Tt,{className:"w-6 h-6 animate-spin mx-auto text-gray-500"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading batches..."})]}):l?s.jsx("div",{className:"text-center py-10 bg-red-50 text-red-700 rounded-lg",children:s.jsx("p",{children:l})}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Batch Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Course"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Dates"}),s.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:["Enrollment (",g,")"]}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(_=>{var z;return s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:((z=_.courseId)==null?void 0:z.title)||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${fc.getBatchStatusColor(_.status)}`,children:_.status})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(_.startDate).toLocaleDateString()," - ",new Date(_.endDate).toLocaleDateString()]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[_.enrollmentCount," / ",_.maxStudents]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>V(_),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:s.jsx(xs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Z(_),className:"text-green-600 hover:text-green-900",title:"Manage Enrollments",children:s.jsx(dt,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>V(_),className:"text-indigo-600 hover:text-indigo-900",title:"Edit",children:s.jsx(Ea,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>V(_),className:"text-red-600 hover:text-red-900",title:"Delete",children:s.jsx(yn,{className:"w-4 h-4"})})]})})]},_._id)})})]})}),s.jsx(fC,{isOpen:v,onClose:()=>x(!1),onSubmit:R,courses:r,loading:b}),s.jsx(xC,{isOpen:w,onClose:()=>S(!1),batch:F,onBatchUpdated:ae,onBatchDeleted:D}),m>1&&s.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Page ",d," of ",m]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>u(_=>Math.max(_-1,1)),disabled:d===1,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),s.jsx("button",{onClick:()=>u(_=>Math.min(_+1,m)),disabled:d===m,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})})]}):s.jsx("div",{className:"space-y-6",children:O?s.jsx(KW,{batchId:O._id,batchName:O.name,courseName:((q=O.courseId)==null?void 0:q.title)||"Unknown Course",onBackToSelection:()=>L(null)}):s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Select a Batch to Manage Enrollments"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(_=>{var z;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>L(_),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:_.name}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${fc.getBatchStatusColor(_.status)}`,children:_.status})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:((z=_.courseId)==null?void 0:z.title)||"Unknown Course"}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsxs("span",{children:["Enrollment: ",_.enrollmentCount,"/",_.maxStudents]}),s.jsx("span",{children:new Date(_.startDate).toLocaleDateString()})]}),s.jsx("button",{onClick:G=>{G.stopPropagation(),L(_)},className:"w-full mt-3 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm transition-colors",children:"Manage Enrollments"})]},_._id)})}),e.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(dt,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"No batches available"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Create a batch first to manage enrollments"})]})]})})})})]}),s.jsx(fC,{isOpen:v,onClose:()=>x(!1),onSubmit:R,courses:r,loading:b}),s.jsx(xC,{isOpen:w,onClose:()=>S(!1),batch:F,onBatchUpdated:ae,onBatchDeleted:D})]})},VW=({isOpen:e,onClose:t,onSubmit:r,studentsWithEnrollments:n,loading:a=!1})=>{const[i,l]=N.useState({studentId:"",courseId:"",batchId:"",totalAmount:"",currency:"INR",paymentMethod:"online",dueDate:"",notes:""}),[o,c]=N.useState({}),[A,d]=N.useState(null),[u,m]=N.useState([]);N.useEffect(()=>{if(i.studentId){const x=n.find(b=>b.studentId===i.studentId);m(x?x.enrollments:[]),l(b=>({...b,courseId:"",batchId:""}))}else m([]),l(x=>({...x,courseId:"",batchId:""}))},[i.studentId,n]),N.useEffect(()=>{if(i.courseId&&i.studentId){const x=n.find(b=>b.studentId===i.studentId);if(x){const b=x.enrollments.filter(j=>j.course.id===i.courseId);m(b),i.batchId&&!b.some(j=>j.batch.id===i.batchId)&&l(j=>({...j,batchId:""}))}}},[i.courseId,i.studentId,n]),N.useEffect(()=>{if(e&&!i.dueDate){const x=new Date;x.setDate(x.getDate()+30),l(b=>({...b,dueDate:x.toISOString().split("T")[0]}))}},[e,i.dueDate]);const h=x=>{const{name:b,value:j}=x.target;l(w=>({...w,[b]:j})),o[b]&&c(w=>({...w,[b]:void 0}))},g=()=>{const x={};return i.studentId||(x.studentId="Please select a student"),i.courseId||(x.courseId="Please select a course"),i.batchId||(x.batchId="Please select a batch"),(!i.totalAmount||parseFloat(i.totalAmount)<=0)&&(x.totalAmount="Please enter a valid amount greater than 0"),i.paymentMethod||(x.paymentMethod="Please select a payment method"),i.dueDate?new Date(i.dueDate)<new Date&&(x.dueDate="Due date cannot be in the past"):x.dueDate="Please select a due date",i.notes&&i.notes.length>500&&(x.notes="Notes cannot exceed 500 characters"),c(x),Object.keys(x).length===0},p=async x=>{if(x.preventDefault(),!!g()){d(null);try{const b={studentId:i.studentId,courseId:i.courseId,batchId:i.batchId,totalAmount:parseFloat(i.totalAmount),currency:i.currency,paymentMethod:i.paymentMethod,dueDate:new Date(i.dueDate).toISOString(),notes:i.notes||void 0};await r(b)}catch(b){d(b instanceof Error?b.message:"An unknown error occurred")}}},v=()=>{l({studentId:"",courseId:"",batchId:"",totalAmount:"",currency:"INR",paymentMethod:"online",dueDate:"",notes:""}),c({}),d(null),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(yt,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Fee Request"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Generate a new fee request for a student"})]})]}),s.jsx("button",{onClick:v,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Close",children:s.jsx(rt,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[A&&s.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3 flex",children:[s.jsx(pt,{className:"h-5 w-5 text-red-400 mr-2"}),s.jsx("p",{className:"text-red-700 text-sm",children:A})]}),s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Vt,{className:"w-4 h-4 inline mr-2"}),"Student *"]}),s.jsxs("select",{name:"studentId",value:i.studentId,onChange:h,className:`input w-full ${o.studentId?"input-error":""}`,disabled:a,children:[s.jsx("option",{value:"",children:"Select a student"}),n.map(x=>s.jsxs("option",{value:x.studentId,children:[x.studentDetails.fullName," (",x.studentDetails.studentId,") - ",x.enrollmentStats.totalEnrollments," enrollments"]},x.studentId))]}),o.studentId&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.studentId})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(nr,{className:"w-4 h-4 inline mr-2"}),"Course *"]}),s.jsxs("select",{name:"courseId",value:i.courseId,onChange:h,className:`input w-full ${o.courseId?"input-error":""}`,disabled:a||!i.studentId,children:[s.jsx("option",{value:"",children:i.studentId?"Select a course":"Select a student first"}),u.map(x=>s.jsxs("option",{value:x.course.id,children:[x.course.title," (",x.course.category,") - ",x.course.type]},x.course.id))]}),o.courseId&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.courseId})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Qt,{className:"w-4 h-4 inline mr-2"}),"Batch *"]}),s.jsxs("select",{name:"batchId",value:i.batchId,onChange:h,className:`input w-full ${o.batchId?"input-error":""}`,disabled:a||!i.courseId,children:[s.jsx("option",{value:"",children:i.courseId?"Select a batch":"Select a course first"}),u.filter(x=>x.course.id===i.courseId).map(x=>s.jsxs("option",{value:x.batch.id,children:[x.batch.name," (",new Date(x.batch.startDate).toLocaleDateString(),")"]},x.batch.id))]}),o.batchId&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.batchId})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(yt,{className:"w-4 h-4 inline mr-2"}),"Total Amount *"]}),s.jsx("input",{type:"number",name:"totalAmount",value:i.totalAmount,onChange:h,placeholder:"Enter amount",min:"0",step:"0.01",className:`input w-full ${o.totalAmount?"input-error":""}`,disabled:a}),o.totalAmount&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.totalAmount})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),s.jsxs("select",{name:"currency",value:i.currency,onChange:h,className:"input w-full",disabled:a,children:[s.jsx("option",{value:"INR",children:"INR ()"}),s.jsx("option",{value:"USD",children:"USD ($)"}),s.jsx("option",{value:"EUR",children:"EUR ()"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:i.paymentMethod==="online",onChange:h,className:"h-4 w-4 text-blue-600 focus:ring-blue-500",disabled:a}),s.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Online"})]}),s.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:i.paymentMethod==="cash",onChange:h,className:"h-4 w-4 text-blue-600 focus:ring-blue-500",disabled:a}),s.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Cash"})]})]}),o.paymentMethod&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.paymentMethod})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Et,{className:"w-4 h-4 inline mr-2"}),"Due Date *"]}),s.jsx("input",{type:"date",name:"dueDate",value:i.dueDate,onChange:h,min:new Date().toISOString().split("T")[0],className:`input w-full ${o.dueDate?"input-error":""}`,disabled:a}),o.dueDate&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.dueDate})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),s.jsx("textarea",{name:"notes",value:i.notes,onChange:h,placeholder:"Additional notes (optional)",rows:3,maxLength:500,className:`input w-full ${o.notes?"input-error":""}`,disabled:a}),s.jsxs("div",{className:"flex justify-between items-center mt-1",children:[o.notes&&s.jsx("p",{className:"text-red-500 text-sm",children:o.notes}),s.jsxs("p",{className:"text-gray-500 text-sm ml-auto",children:[i.notes.length,"/500"]})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t bg-gray-50",children:[s.jsx("button",{type:"button",onClick:v,className:"btn-secondary",disabled:a,children:"Cancel"}),s.jsx("button",{type:"submit",onClick:p,className:"btn-primary",disabled:a,children:a?"Creating...":"Create Fee Request"})]})]})}):null},$W=({isOpen:e,onClose:t,onSubmit:r,feeRequest:n,loading:a=!1})=>{const[i,l]=N.useState({amount:"",paymentMethod:"cash",transactionId:"",paymentReference:"",notes:""}),[o,c]=N.useState({}),[A,d]=N.useState(null);N.useEffect(()=>{e&&n&&(l({amount:n.remainingAmount.toString(),paymentMethod:"cash",transactionId:"",paymentReference:"",notes:""}),c({}),d(null))},[e,n]);const u=p=>{const{name:v,value:x}=p.target;l(b=>({...b,[v]:x})),o[v]&&c(b=>({...b,[v]:void 0}))},m=()=>{if(!n)return!1;const p={},v=parseFloat(i.amount);return!i.amount||v<=0?p.amount="Please enter a valid amount greater than 0":v>n.remainingAmount&&(p.amount=`Amount cannot exceed remaining amount (${n.remainingAmount})`),i.paymentMethod||(p.paymentMethod="Please select a payment method"),i.paymentMethod==="online"&&!i.transactionId&&(p.transactionId="Transaction ID is required for online payments"),i.paymentMethod==="bank_transfer"&&!i.paymentReference&&(p.paymentReference="Payment reference is required for bank transfers"),i.notes&&i.notes.length>500&&(p.notes="Notes cannot exceed 500 characters"),c(p),Object.keys(p).length===0},h=async p=>{if(p.preventDefault(),!(!n||!m())){d(null);try{const v={feeRequestId:n._id,amount:parseFloat(i.amount),paymentMethod:i.paymentMethod,transactionId:i.transactionId||void 0,paymentReference:i.paymentReference||void 0,notes:i.notes||void 0};await r(v)}catch(v){d(v instanceof Error?v.message:"An unknown error occurred")}}},g=()=>{l({amount:"",paymentMethod:"cash",transactionId:"",paymentReference:"",notes:""}),c({}),d(null),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Qr,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Record Payment"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[typeof n.studentId=="object"?`${n.studentId.firstName} ${n.studentId.lastName}`:"Student"," - ",typeof n.courseId=="object"?n.courseId.title:"Course"]})]})]}),s.jsx("button",{onClick:g,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Close",children:s.jsx(rt,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[A&&s.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3 flex",children:[s.jsx(pt,{className:"h-5 w-5 text-red-400 mr-2"}),s.jsx("p",{className:"text-red-700 text-sm",children:A})]}),s.jsxs("div",{className:"mb-6 bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Fee Request Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Total Amount:"}),s.jsxs("p",{className:"text-gray-900",children:["",n.totalAmount]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Paid Amount:"}),s.jsxs("p",{className:"text-gray-900",children:["",n.paidAmount]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Remaining Amount:"}),s.jsxs("p",{className:"text-gray-900 font-semibold",children:["",n.remainingAmount]})]})]})]}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(yt,{className:"w-4 h-4 inline mr-2"}),"Payment Amount *"]}),s.jsx("input",{type:"number",name:"amount",value:i.amount,onChange:u,placeholder:"Enter payment amount",min:"0",max:n.remainingAmount,step:"0.01",className:`input w-full ${o.amount?"input-error":""}`,disabled:a}),o.amount&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.amount}),s.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Maximum: ",n.remainingAmount]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:i.paymentMethod==="cash",onChange:u,className:"h-4 w-4 text-green-600 focus:ring-green-500",disabled:a}),s.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Cash"})]}),s.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:i.paymentMethod==="online",onChange:u,className:"h-4 w-4 text-green-600 focus:ring-green-500",disabled:a}),s.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Online"})]}),s.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"bank_transfer",checked:i.paymentMethod==="bank_transfer",onChange:u,className:"h-4 w-4 text-green-600 focus:ring-green-500",disabled:a}),s.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Bank Transfer"})]}),s.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"cheque",checked:i.paymentMethod==="cheque",onChange:u,className:"h-4 w-4 text-green-600 focus:ring-green-500",disabled:a}),s.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Cheque"})]})]}),o.paymentMethod&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.paymentMethod})]}),i.paymentMethod==="online"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction ID *"}),s.jsx("input",{type:"text",name:"transactionId",value:i.transactionId,onChange:u,placeholder:"Enter transaction ID",className:`input w-full ${o.transactionId?"input-error":""}`,disabled:a}),o.transactionId&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.transactionId})]}),i.paymentMethod==="bank_transfer"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Reference *"}),s.jsx("input",{type:"text",name:"paymentReference",value:i.paymentReference,onChange:u,placeholder:"Enter payment reference",className:`input w-full ${o.paymentReference?"input-error":""}`,disabled:a}),o.paymentReference&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.paymentReference})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),s.jsx("textarea",{name:"notes",value:i.notes,onChange:u,placeholder:"Additional notes (optional)",rows:3,maxLength:500,className:`input w-full ${o.notes?"input-error":""}`,disabled:a}),s.jsxs("div",{className:"flex justify-between items-center mt-1",children:[o.notes&&s.jsx("p",{className:"text-red-500 text-sm",children:o.notes}),s.jsxs("p",{className:"text-gray-500 text-sm ml-auto",children:[i.notes.length,"/500"]})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t bg-gray-50",children:[s.jsx("button",{type:"button",onClick:g,className:"btn-secondary",disabled:a,children:"Cancel"}),s.jsx("button",{type:"submit",onClick:h,className:"btn-primary",disabled:a,children:a?"Recording...":"Record Payment"})]})]})})},GW=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l]=N.useState({}),[o,c]=N.useState(""),[A,d]=N.useState("all"),[u,m]=N.useState("all"),[h,g]=N.useState(1),[p,v]=N.useState(1),[x,b]=N.useState(0),[j,w]=N.useState(!1),[S,F]=N.useState(!1),[I,k]=N.useState(!1),[E,O]=N.useState(!1),[L,P]=N.useState(!1),[U,R]=N.useState(!1),[V,Z]=N.useState(null),[ae,D]=N.useState([]),Y=async(ce=1)=>{n(!0),i(null);try{const ye={...l,search:o||void 0,status:A==="all"?void 0:A,paymentMethod:u==="all"?void 0:u};Object.keys(ye).forEach(Le=>{ye[Le]===void 0&&delete ye[Le]});const Se=await Yn.getAllFeeRequests(ce,10,ye);if(Se.success&&Se.data)t(Se.data.feeRequests),v(Se.data.pagination.totalPages),b(Se.data.pagination.totalItems),w(Se.data.pagination.hasNextPage),F(Se.data.pagination.hasPrevPage);else throw new Error(Se.message||"Failed to load fee requests")}catch(ye){console.error("Error loading fee requests:",ye),i(ye instanceof Error?ye.message:"An unknown error occurred")}finally{n(!1)}},re=async()=>{try{const ce=await Yn.getStudentsWithEnrollments();ce.success&&ce.data&&D(ce.data.students)}catch(ce){console.error("Error loading students with enrollments:",ce)}};N.useEffect(()=>{Y(h)},[h,o,A,u]),N.useEffect(()=>{re()},[]);const q=ce=>{g(ce)},_=ce=>{ce.preventDefault(),g(1),Y(1)},z=async()=>{try{await Yn.getAllFeeRequests(1,1e3,l)}catch(ce){console.error("Error exporting fee requests:",ce),i("Failed to export fee requests. Please try again.")}},G=()=>{Y(h)},X=async ce=>{try{O(!0);const ye=await Yn.createFeeRequest(ce);if(ye.success)k(!1),Y(h);else throw new Error(ye.message||"Failed to create fee request")}catch(ye){throw console.error("Failed to create fee request from page:",ye),ye}finally{O(!1)}},J=async ce=>{try{R(!0);const ye=await Yn.recordPayment(ce);if(ye.success)P(!1),Z(null),Y(h);else throw new Error(ye.message||"Failed to record payment")}catch(ye){throw console.error("Failed to record payment from page:",ye),ye}finally{R(!1)}},de=ce=>{Z(ce),P(!0)},ge=ce=>new Date(ce).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),le=(ce,ye)=>Yn.formatCurrency(ce,ye);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(yt,{className:"w-8 h-8 text-green-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Fee Management"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:G,disabled:r,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Tt,{className:`w-4 h-4 ${r?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]}),s.jsxs("button",{onClick:z,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]}),s.jsxs("button",{onClick:()=>k(!0),className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Er,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Fee Request"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:x})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(yt,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(ce=>ce.status==="pending").length})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-yellow-600 font-bold text-lg",children:""})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(ce=>ce.status==="paid").length})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 font-bold text-lg",children:""})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(ce=>ce.status==="overdue").length})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(pt,{className:"w-6 h-6 text-red-600"})})]})})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("form",{onSubmit:_,className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by student name, course, or amount...",value:o,onChange:ce=>c(ce.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("select",{value:A,onChange:ce=>d(ce.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"partial",children:"Partial"}),s.jsx("option",{value:"overdue",children:"Overdue"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}),s.jsxs("select",{value:u,onChange:ce=>m(ce.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Payment Methods"}),s.jsx("option",{value:"online",children:"Online"}),s.jsx("option",{value:"cash",children:"Cash"})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Fee Requests (",e.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course & Batch"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-green-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"ml-3 text-gray-500",children:"Loading fee requests..."})]})})}):a?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(pt,{className:"w-12 h-12 text-red-300 mb-2"}),s.jsx("p",{className:"text-red-600 font-medium",children:"Error loading fee requests"}),s.jsx("p",{className:"text-gray-500 text-sm",children:a})]})})}):e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(yt,{className:"w-12 h-12 text-gray-300 mb-2"}),s.jsx("p",{children:"No fee requests found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})}):e.map(ce=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-semibold",children:typeof ce.studentId=="object"?`${ce.studentId.firstName.charAt(0)}${ce.studentId.lastName.charAt(0)}`:"??"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:typeof ce.studentId=="object"?`${ce.studentId.firstName} ${ce.studentId.lastName}`:"Unknown Student"}),s.jsx("div",{className:"text-sm text-gray-500",children:typeof ce.studentId=="object"?ce.studentId.studentId:"N/A"})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:typeof ce.courseId=="object"?ce.courseId.title:"Unknown Course"}),s.jsx("div",{className:"text-sm text-gray-500",children:typeof ce.batchId=="object"?ce.batchId.name:"Unknown Batch"})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:le(ce.totalAmount,ce.currency)}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Paid: ",le(ce.paidAmount,ce.currency)]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Yn.getPaymentMethodColor(ce.paymentMethod)}`,children:ce.paymentMethod})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Yn.getFeeStatusColor(ce.status)}`,children:ce.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ge(ce.dueDate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"text-green-600 hover:text-green-900",title:"View Details",children:s.jsx(xs,{className:"w-4 h-4"})}),ce.remainingAmount>0&&s.jsx("button",{onClick:()=>de(ce),className:"text-blue-600 hover:text-blue-900",title:"Record Payment",children:s.jsx(Qr,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Edit",children:s.jsx(Ea,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete",children:s.jsx(yn,{className:"w-4 h-4"})})]})})]},ce._id))})]})}),e.length>0&&s.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",x," fee requests"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>q(h-1),disabled:!S,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",h," of ",p]}),s.jsx("button",{onClick:()=>q(h+1),disabled:!j,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),s.jsx(VW,{isOpen:I,onClose:()=>k(!1),onSubmit:X,studentsWithEnrollments:ae,loading:E}),s.jsx($W,{isOpen:L,onClose:()=>{P(!1),Z(null)},onSubmit:J,feeRequest:V,loading:U})]})},qW=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState(""),[c,A]=N.useState("all"),[d,u]=N.useState("all"),[m,h]=N.useState(1),[g,p]=N.useState(1),[v,x]=N.useState(0),[b,j]=N.useState(!1),[w,S]=N.useState(!1),F=async(U=1)=>{n(!0),i(null);try{const R={paymentMethod:c==="all"?void 0:c,paymentStatus:d==="all"?void 0:d},V=await Yn.getPaymentHistory(U,10,R);if(V.success&&V.data)t(V.data.payments),p(V.data.pagination.totalPages),x(V.data.pagination.totalItems),j(V.data.pagination.hasNextPage),S(V.data.pagination.hasPrevPage);else throw new Error(V.message||"Failed to load payment history")}catch(R){console.error("Error loading payment history:",R),i(R instanceof Error?R.message:"An unknown error occurred")}finally{n(!1)}};N.useEffect(()=>{F(m)},[m,l,c,d]);const I=U=>{h(U)},k=U=>{U.preventDefault(),h(1),F(1)},E=async()=>{try{await Yn.getPaymentHistory(1,1e3)}catch(U){console.error("Error exporting payment history:",U),i("Failed to export payment history. Please try again.")}},O=()=>{F(m)},L=U=>new Date(U).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),P=(U,R)=>Yn.formatCurrency(U,R);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Qr,{className:"w-8 h-8 text-blue-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Payment History"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:O,disabled:r,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Tt,{className:`w-4 h-4 ${r?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]}),s.jsxs("button",{onClick:E,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Payments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:v})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Qr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(U=>U.paymentStatus==="completed").length})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 font-bold text-lg",children:""})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(U=>U.paymentStatus==="pending").length})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-yellow-600 font-bold text-lg",children:""})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(U=>U.paymentStatus==="failed").length})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(pt,{className:"w-6 h-6 text-red-600"})})]})})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("form",{onSubmit:k,className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by student name, course, or amount...",value:l,onChange:U=>o(U.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("select",{value:c,onChange:U=>A(U.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Payment Methods"}),s.jsx("option",{value:"online",children:"Online"}),s.jsx("option",{value:"cash",children:"Cash"}),s.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),s.jsx("option",{value:"cheque",children:"Cheque"})]}),s.jsxs("select",{value:d,onChange:U=>u(U.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"failed",children:"Failed"}),s.jsx("option",{value:"refunded",children:"Refunded"})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Payment History (",e.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course & Batch"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"ml-3 text-gray-500",children:"Loading payment history..."})]})})}):a?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(pt,{className:"w-12 h-12 text-red-300 mb-2"}),s.jsx("p",{className:"text-red-600 font-medium",children:"Error loading payment history"}),s.jsx("p",{className:"text-gray-500 text-sm",children:a})]})})}):e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Qr,{className:"w-12 h-12 text-gray-300 mb-2"}),s.jsx("p",{children:"No payment history found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})}):e.map(U=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-semibold",children:typeof U.studentId=="object"?`${U.studentId.firstName.charAt(0)}${U.studentId.lastName.charAt(0)}`:"??"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:typeof U.studentId=="object"?`${U.studentId.firstName} ${U.studentId.lastName}`:"Unknown Student"}),s.jsx("div",{className:"text-sm text-gray-500",children:typeof U.studentId=="object"?U.studentId.studentId:"N/A"})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:typeof U.courseId=="object"?U.courseId.title:"Unknown Course"}),s.jsx("div",{className:"text-sm text-gray-500",children:typeof U.batchId=="object"?U.batchId.name:"Unknown Batch"})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P(U.amount,U.currency)}),U.receiptNumber&&s.jsxs("div",{className:"text-sm text-gray-500",children:["Receipt: ",U.receiptNumber]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Yn.getPaymentMethodColor(U.paymentMethod)}`,children:U.paymentMethod.replace("_"," ")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Yn.getPaymentStatusColor(U.paymentStatus)}`,children:U.paymentStatus})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L(U.paymentDate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"View Details",children:s.jsx(xs,{className:"w-4 h-4"})})})})]},U._id))})]})}),e.length>0&&s.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",v," payments"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>I(m-1),disabled:!w,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",m," of ",g]}),s.jsx("button",{onClick:()=>I(m+1),disabled:!b,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})},WW=({isOpen:e,onClose:t,student:r,onSuccess:n})=>{const[a,i]=N.useState({studentId:"",attendanceDate:new Date().toISOString().split("T")[0],status:"present",timeSlot:{startTime:"09:00",endTime:"11:00"},remarks:""}),[l,o]=N.useState(!1),[c,A]=N.useState(null);N.useEffect(()=>{if(r&&e){const p={studentId:r.studentId,attendanceDate:new Date().toISOString().split("T")[0],status:"present",timeSlot:{startTime:"09:00",endTime:"11:00"},remarks:""};i(p),A(null)}},[r,e]);const d=(p,v)=>{i(x=>({...x,[p]:v}))},u=(p,v)=>{i(x=>({...x,timeSlot:{...x.timeSlot,[p]:v}}))},m=()=>{if(!a.attendanceDate)return"Please select an attendance date";if(!a.timeSlot.startTime||!a.timeSlot.endTime)return"Please provide both start and end times";const p=new Date(`2000-01-01T${a.timeSlot.startTime}`),v=new Date(`2000-01-01T${a.timeSlot.endTime}`);if(p>=v)return"End time must be after start time";const x=new Date(a.attendanceDate),b=new Date;return b.setHours(23,59,59,999),x>b?"Attendance date cannot be in the future":null},h=async p=>{p.preventDefault();const v=m();if(v){Ie.error(v),A(v);return}o(!0),A(null);try{const x=await yw.markSimpleAttendance(a);if(x.success){const b=(r==null?void 0:r.studentDetails.fullName)||"Student",j=a.status.charAt(0).toUpperCase()+a.status.slice(1),w=new Date(a.attendanceDate).toLocaleDateString();Ie.success(` Attendance marked successfully!
${b} - ${j} on ${w}`,{duration:4e3,style:{background:"#10B981",color:"#fff",fontSize:"14px",lineHeight:"1.4"}}),n(),t()}else{const b=x.message||"Failed to mark attendance";Ie.error(` ${b}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),A(b)}}catch(x){console.error("Error marking attendance:",x);const b=x instanceof Error?x.message:"An unknown error occurred";Ie.error(` ${b}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),A(b)}finally{o(!1)}},g=()=>{i({studentId:"",attendanceDate:new Date().toISOString().split("T")[0],status:"present",timeSlot:{startTime:"09:00",endTime:"11:00"},remarks:""}),A(null),t()};return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Et,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Mark Attendance"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Record attendance for student"})]})]}),s.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-lg font-semibold",children:[r.studentDetails.firstName.charAt(0),r.studentDetails.lastName.charAt(0)]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:r.studentDetails.fullName}),s.jsx("p",{className:"text-sm text-gray-500",children:r.studentDetails.studentId}),s.jsx("p",{className:"text-sm text-gray-500",children:r.studentDetails.email})]})]})}),s.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[c&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(pt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-red-700 text-sm",children:c})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Et,{className:"w-4 h-4 inline mr-2"}),"Attendance Date"]}),s.jsx("input",{type:"date",value:a.attendanceDate,onChange:p=>d("attendanceDate",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Me,{className:"w-4 h-4 inline mr-2"}),"Status"]}),s.jsxs("select",{value:a.status,onChange:p=>d("status",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"present",children:"Present"}),s.jsx("option",{value:"absent",children:"Absent"}),s.jsx("option",{value:"late",children:"Late"}),s.jsx("option",{value:"excused",children:"Excused"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Qt,{className:"w-4 h-4 inline mr-2"}),"Time Slot"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Start Time"}),s.jsx("input",{type:"time",value:a.timeSlot.startTime,onChange:p=>u("startTime",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"End Time"}),s.jsx("input",{type:"time",value:a.timeSlot.endTime,onChange:p=>u("endTime",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks (Optional)"}),s.jsx("textarea",{value:a.remarks,onChange:p=>d("remarks",p.target.value),placeholder:"Add any additional notes or remarks...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Marking..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Me,{className:"w-4 h-4"}),s.jsx("span",{children:"Mark Attendance"})]})})]})]})]})})},YW=({isOpen:e,onClose:t,student:r})=>{const[n,a]=N.useState(null),[i,l]=N.useState(!1),[o,c]=N.useState(null),[A,d]=N.useState({studentId:"",year:new Date().getFullYear().toString(),month:"",startDate:"",endDate:""});N.useEffect(()=>{r&&e&&(d(x=>({...x,studentId:r.studentId})),c(null))},[r,e]),N.useEffect(()=>{A.studentId&&e&&u()},[A,e]);const u=async()=>{if(A.studentId){l(!0),c(null);try{const x=await yw.getStudentAttendanceReport(A);if(x.success&&x.data)a(x.data),Ie.success(" Attendance report loaded successfully!",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}});else throw new Error(x.message||"Failed to load attendance report")}catch(x){console.error("Error loading attendance report:",x);const b=x instanceof Error?x.message:"An unknown error occurred";c(b),Ie.error(` ${b}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{l(!1)}}},m=(x,b)=>{d(j=>({...j,[x]:b}))},h=()=>{d({studentId:(r==null?void 0:r.studentId)||"",year:new Date().getFullYear().toString(),month:"",startDate:"",endDate:""})},g=()=>{a(null),c(null),t()},p=x=>{switch(x.toLowerCase()){case"present":return"bg-green-100 text-green-800";case"absent":return"bg-red-100 text-red-800";case"late":return"bg-yellow-100 text-yellow-800";case"excused":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},v=x=>x>=90?"text-green-600":x>=80?"text-yellow-600":x>=70?"text-orange-600":"text-red-600";return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(kt,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Attendance Report"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Detailed attendance analysis for student"})]})]}),s.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-lg font-semibold",children:[r.studentDetails.firstName.charAt(0),r.studentDetails.lastName.charAt(0)]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:r.studentDetails.fullName}),s.jsx("p",{className:"text-sm text-gray-500",children:r.studentDetails.studentId}),s.jsx("p",{className:"text-sm text-gray-500",children:r.studentDetails.email})]})]})}),s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Report Filters"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),s.jsxs("select",{value:A.year,onChange:x=>m("year",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Years"}),Array.from({length:5},(x,b)=>{const j=new Date().getFullYear()-b;return s.jsx("option",{value:j.toString(),children:j},j)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),s.jsxs("select",{value:A.month,onChange:x=>m("month",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!A.year,children:[s.jsx("option",{value:"",children:"All Months"}),A.year&&Array.from({length:12},(x,b)=>{const j=b+1,w=new Date(parseInt(A.year),b).toLocaleString("default",{month:"long"});return s.jsx("option",{value:j.toString(),children:w},j)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),s.jsx("input",{type:"date",value:A.startDate,onChange:x=>m("startDate",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),s.jsx("input",{type:"date",value:A.endDate,onChange:x=>m("endDate",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 mt-4",children:[s.jsx("button",{onClick:u,disabled:i,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Tt,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Loading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Tt,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh Report"})]})}),s.jsx("button",{onClick:h,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Reset Filters"})]})]}),s.jsxs("div",{className:"p-6",children:[i&&s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Tt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading attendance report..."})]})}),o&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(rt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-red-700 text-sm",children:o})]})}),n&&!i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Et,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Days"}),s.jsx("p",{className:"text-2xl font-bold text-blue-800",children:n.summary.totalDays})]})]})}),s.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Vt,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Present"}),s.jsx("p",{className:"text-2xl font-bold text-green-800",children:n.summary.present})]})]})}),s.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(rt,{className:"w-8 h-8 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Absent"}),s.jsx("p",{className:"text-2xl font-bold text-red-800",children:n.summary.absent})]})]})}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(kt,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Attendance Rate"}),s.jsxs("p",{className:`text-2xl font-bold ${v(n.summary.overallAttendanceRate)}`,children:[n.summary.overallAttendanceRate,"%"]})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Current Enrollments"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.enrollments.map(x=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(nr,{className:"w-5 h-5 text-blue-600 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:x.course.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:[x.course.category,"  ",x.course.type]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s.jsx(dt,{className:"w-4 h-4 inline mr-1"}),x.batch.name]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.status==="enrolled"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.status}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.approvalStatus==="approved"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:x.approvalStatus})]})]})]})},x.id))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monthly Breakdown"}),s.jsx("div",{className:"space-y-4",children:n.monthlyReport.map(x=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:x.month}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:[x.present,"/",x.totalDays," days"]}),s.jsxs("span",{className:`font-semibold ${v(x.attendanceRate)}`,children:[x.attendanceRate,"%"]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:x.present}),s.jsx("p",{className:"text-sm text-gray-600",children:"Present"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:x.absent}),s.jsx("p",{className:"text-sm text-gray-600",children:"Absent"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:x.late}),s.jsx("p",{className:"text-sm text-gray-600",children:"Late"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x.excused}),s.jsx("p",{className:"text-sm text-gray-600",children:"Excused"})]})]}),x.records.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Attendance Records"}),s.jsx("div",{className:"space-y-2",children:x.records.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Et,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:new Date(b.date).toLocaleDateString()}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(b.status)}`,children:b.status})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("span",{children:[s.jsx(Qt,{className:"w-4 h-4 inline mr-1"}),b.timeSlot.startTime," - ",b.timeSlot.endTime]}),s.jsx("span",{children:b.course.title})]})]},b.id))})]})]},x.monthKey))})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[s.jsx("button",{onClick:g,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Close"}),n&&s.jsxs("button",{onClick:()=>{Ie.success(" Report export feature coming soon!",{duration:3e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{children:"Export Report"})]})]})]})})},XW=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l]=N.useState(1),[o,c]=N.useState(0),[A,d]=N.useState({}),[u,m]=N.useState(!1),[h,g]=N.useState(null),[p,v]=N.useState(!1),[x,b]=N.useState(null),j=async()=>{n(!0),i(null);try{const U=await yw.getStudentsWithEnrollments();if(U.success&&U.data)t(U.data.students),c(U.data.overallStats.totalStudents);else throw new Error(U.message||"Failed to load students with enrollments")}catch(U){console.error("Error loading students with enrollments:",U);const R=U instanceof Error?U.message:"An unknown error occurred";i(R),Ie.error(` Failed to load students: ${R}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{n(!1)}};N.useEffect(()=>{j()},[l]);const w=async()=>{try{console.log("Exporting attendance data...")}catch(U){console.error("Error exporting attendance data:",U),i("Failed to export attendance data. Please try again.")}},S=()=>{j()},F=U=>{console.log("Viewing attendance report for:",U)},I=(U,R)=>{d(V=>({...V,[U]:R}))},k=U=>{g(U),m(!0),Ie.success(` Opening attendance form for ${U.studentDetails.fullName}`,{duration:2e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},E=()=>{Ie.success(" Attendance data refreshed successfully!",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),j()},O=()=>{m(!1),g(null),Ie.success(" Attendance form closed",{duration:1500,style:{background:"#6B7280",color:"#fff",fontSize:"14px"}})},L=U=>{b(U),v(!0),Ie.success(` Opening attendance report for ${U.studentDetails.fullName}`,{duration:2e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},P=()=>{v(!1),b(null),Ie.success(" Attendance report closed",{duration:1500,style:{background:"#6B7280",color:"#fff",fontSize:"14px"}})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Et,{className:"w-8 h-8 text-blue-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Attendance Management"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>console.log("Create session clicked"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Er,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Session"})]}),s.jsxs("button",{onClick:S,disabled:r,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Tt,{className:`w-4 h-4 ${r?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]}),s.jsxs("button",{onClick:w,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:o})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(dt,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Enrollments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.reduce((U,R)=>U+R.enrollmentStats.activeEnrollments,0)})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Me,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Courses"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length>0?e[0].enrollmentStats.totalCourses:0})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(ds,{className:"w-6 h-6 text-purple-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Batches"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length>0?e[0].enrollmentStats.totalBatches:0})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(Qt,{className:"w-6 h-6 text-orange-600"})})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Students with Enrollments (",e.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollments"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Courses & Batches"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attendance"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"ml-3 text-gray-500",children:"Loading students..."})]})})}):a?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(pt,{className:"w-12 h-12 text-red-300 mb-2"}),s.jsx("p",{className:"text-red-600 font-medium",children:"Error loading students"}),s.jsx("p",{className:"text-gray-500 text-sm",children:a})]})})}):e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(dt,{className:"w-12 h-12 text-gray-300 mb-2"}),s.jsx("p",{children:"No students found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})}):e.map(U=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[U.studentDetails.firstName.charAt(0),U.studentDetails.lastName.charAt(0)]})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.studentDetails.fullName}),s.jsx("div",{className:"text-sm text-gray-500",children:U.studentDetails.studentId}),s.jsx("div",{className:"text-sm text-gray-500",children:U.studentDetails.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Me,{className:"w-4 h-4 text-green-500 mr-1"}),U.enrollmentStats.activeEnrollments," Active"]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(Ft,{className:"w-4 h-4 text-gray-400 mr-1"}),U.enrollmentStats.completedEnrollments," Completed"]})]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Total: ",U.enrollmentStats.totalEnrollments]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"space-y-1",children:[U.enrollments.slice(0,2).map((R,V)=>s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:R.course.title}),s.jsx("div",{className:"text-gray-500",children:R.batch.name})]},V)),U.enrollments.length>2&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",U.enrollments.length-2," more"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`attendance-${U.studentId}`,value:"present",checked:A[U.studentId]==="present",onChange:()=>I(U.studentId,"present"),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300"}),s.jsx("span",{className:"ml-2 text-sm text-green-600 font-medium",children:"Present"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`attendance-${U.studentId}`,value:"absent",checked:A[U.studentId]==="absent",onChange:()=>I(U.studentId,"absent"),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"}),s.jsx("span",{className:"ml-2 text-sm text-red-600 font-medium",children:"Absent"})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${U.studentDetails.kycStatus==="approved"?"bg-green-100 text-green-800":U.studentDetails.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:U.studentDetails.kycStatus})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>F(U),className:"text-blue-600 hover:text-blue-900",title:"View Attendance Report",children:s.jsx(xs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>k(U),className:"text-blue-600 hover:text-blue-900",title:"Mark Attendance",children:s.jsx(Et,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>L(U),className:"text-green-600 hover:text-green-900",title:"View Attendance Report",children:s.jsx(kt,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Edit",children:s.jsx(Ea,{className:"w-4 h-4"})})]})})]},U.studentId))})]})}),e.length>0&&s.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",o," students"]})})]}),s.jsx(WW,{isOpen:u,onClose:O,student:h,onSuccess:E}),s.jsx(YW,{isOpen:p,onClose:P,student:x})]})},gC=()=>{const[e,t]=N.useState(""),[r,n]=N.useState(""),[a,i]=N.useState(""),[l,o]=N.useState(!1),[c,A]=N.useState(null),[d,u]=N.useState(null),m=async p=>{if(p.preventDefault(),!e.trim()){A("Please enter a student ID");return}o(!0),A(null),u(null);try{const v=await Xt.getStudentEnrollmentStatus(e.trim(),r.trim()||void 0,a.trim()||void 0);if(v.success&&v.data)u(v.data);else{console.error("Failed to fetch enrollment status:",v);const x={student:{id:e.trim(),name:"John Doe",studentId:"STU001",email:"john.doe@example.com"},statistics:{total:3,pending:1,approved:1,rejected:0,enrolled:1,active:1,completed:0,dropped:0,suspended:0},enrollments:{pending:[{_id:"enrollment1",studentId:{_id:e.trim(),firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com"},courseId:{_id:"course1",title:"Advanced Python",category:"Programming",type:"online",price:8e3,currency:"INR"},batchId:{_id:"batch1",name:"Python Advanced Batch",startDate:"2024-02-01T00:00:00.000Z",endDate:"2024-04-01T00:00:00.000Z",maxStudents:25},status:"pending",approvalStatus:"pending",enrollmentDate:"2024-01-15T10:00:00.000Z",paymentAmount:8e3,currency:"INR"}],approved:[],rejected:[],enrolled:[{_id:"enrollment2",studentId:{_id:e.trim(),firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com"},courseId:{_id:"course2",title:"Introduction to Python",category:"Programming",type:"online",price:5e3,currency:"INR"},batchId:{_id:"batch2",name:"Python Morning Batch",startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30},status:"enrolled",approvalStatus:"approved",enrollmentDate:"2024-01-10T10:00:00.000Z",paymentAmount:5e3,currency:"INR"}],active:[],completed:[],dropped:[],suspended:[]},allEnrollments:[]};u(x),A("Using mock data - API not available")}}catch(v){console.error("Error fetching enrollment status:",v),A(v instanceof Error?v.message:"An unknown error occurred")}finally{o(!1)}},h=p=>{switch(p.toLowerCase()){case"pending":return"text-yellow-600 bg-yellow-100";case"enrolled":case"approved":return"text-green-600 bg-green-100";case"rejected":return"text-red-600 bg-red-100";case"completed":return"text-blue-600 bg-blue-100";case"dropped":case"cancelled":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},g=p=>{switch(p.toLowerCase()){case"pending":return s.jsx(Qt,{className:"w-4 h-4"});case"enrolled":case"approved":return s.jsx(Me,{className:"w-4 h-4"});case"rejected":return s.jsx(Ft,{className:"w-4 h-4"});case"completed":return s.jsx(Me,{className:"w-4 h-4"});case"dropped":case"cancelled":return s.jsx(Ft,{className:"w-4 h-4"});default:return s.jsx(pt,{className:"w-4 h-4"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(fr,{className:"w-5 h-5 mr-2"}),"Check Student Enrollment Status"]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student ID *"}),s.jsx("input",{type:"text",value:e,onChange:p=>t(p.target.value),placeholder:"Enter student ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course ID (Optional)"}),s.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),placeholder:"Enter course ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch ID (Optional)"}),s.jsx("input",{type:"text",value:a,onChange:p=>i(p.target.value),placeholder:"Enter batch ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsx("button",{type:"submit",disabled:l,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-2 rounded-lg transition-colors flex items-center space-x-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Searching..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(fr,{className:"w-4 h-4"}),s.jsx("span",{children:"Search"})]})})]}),c&&s.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(pt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-red-700 text-sm",children:c})]})]}),d&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Vt,{className:"w-5 h-5 mr-2"}),"Student Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),s.jsx("p",{className:"font-medium text-gray-800",children:d.student.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Student ID"}),s.jsx("p",{className:"font-medium text-gray-800",children:d.student.studentId})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-800",children:d.student.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Enrollments"}),s.jsx("p",{className:"font-medium text-gray-800",children:d.statistics.total})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(BarChart3,{className:"w-5 h-5 mr-2"}),"Enrollment Statistics"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:d.statistics.pending}),s.jsx("div",{className:"text-sm text-yellow-700",children:"Pending"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.statistics.approved}),s.jsx("div",{className:"text-sm text-green-700",children:"Approved"})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.statistics.active}),s.jsx("div",{className:"text-sm text-blue-700",children:"Active"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:d.statistics.completed}),s.jsx("div",{className:"text-sm text-gray-700",children:"Completed"})]})]})]}),Object.entries(d.enrollments).map(([p,v])=>v.length===0?null:s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[g(p),s.jsxs("span",{className:"ml-2 capitalize",children:[p," Enrollments (",v.length,")"]})]}),s.jsx("div",{className:"space-y-4",children:v.map(x=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-800",children:x.courseId.title}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${h(x.status)}`,children:x.status})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Batch"}),s.jsx("p",{children:x.batchId.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Enrollment Date"}),s.jsx("p",{children:Xt.formatDate(x.enrollmentDate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Amount"}),s.jsx("p",{children:Xt.formatCurrency(x.paymentAmount,x.currency)})]})]}),x.adminNotes&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Admin Notes"}),s.jsx("p",{className:"text-sm text-gray-600",children:x.adminNotes})]}),x.rejectionReason&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Rejection Reason"}),s.jsx("p",{className:"text-sm text-red-600",children:x.rejectionReason})]})]})})},x._id))})]},p))]})]})},JW=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState([]),[c,A]=N.useState(!1),[d,u]=N.useState(!1),[m,h]=N.useState(null),[g,p]=N.useState({page:1,limit:10,courseId:"",batchId:"",sortBy:"enrollmentDate",sortOrder:"desc"}),[v,x]=N.useState({currentPage:1,totalPages:1,totalEnrollments:0,hasNextPage:!1,hasPrevPage:!1}),[b,j]=N.useState({totalPending:0,totalAmount:0}),w=async()=>{n(!0),i(null);try{console.log("Loading pending enrollments with filters:",g);const U=await Xt.getPendingEnrollments(g);if(console.log("Pending enrollments response:",U),U.success&&U.data)console.log("Found pending enrollments:",U.data.enrollments.length,U.data.enrollments),t(U.data.enrollments),x(U.data.pagination),j(U.data.statistics);else{console.error("Failed to load pending enrollments:",U);const R=[{_id:"mock1",studentId:{_id:"student1",firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com",phoneNumber:"+1234567890"},courseId:{_id:"course1",title:"Introduction to Python",category:"Programming",type:"online",price:5e3,currency:"INR"},batchId:{_id:"batch1",name:"Python Morning Batch",startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30},status:"pending",approvalStatus:"pending",enrollmentDate:"2024-01-15T10:00:00.000Z",paymentAmount:5e3,currency:"INR",paymentStatus:"pending",createdAt:"2024-01-15T10:00:00.000Z",updatedAt:"2024-01-15T10:00:00.000Z"},{_id:"mock2",studentId:{_id:"student2",firstName:"Jane",lastName:"Smith",studentId:"STU002",email:"jane.smith@example.com",phoneNumber:"+1234567891"},courseId:{_id:"course2",title:"Advanced JavaScript",category:"Programming",type:"online",price:8e3,currency:"INR"},batchId:{_id:"batch2",name:"JS Evening Batch",startDate:"2024-02-01T00:00:00.000Z",endDate:"2024-04-01T00:00:00.000Z",maxStudents:25},status:"pending",approvalStatus:"pending",enrollmentDate:"2024-01-20T10:00:00.000Z",paymentAmount:8e3,currency:"INR",paymentStatus:"pending",createdAt:"2024-01-20T10:00:00.000Z",updatedAt:"2024-01-20T10:00:00.000Z"}];t(R),x({currentPage:1,totalPages:1,totalEnrollments:R.length,hasNextPage:!1,hasPrevPage:!1}),j({totalPending:R.length,totalAmount:R.reduce((V,Z)=>V+Z.paymentAmount,0)}),i("Using mock data - API not available")}}catch(U){console.error("Error loading pending enrollments:",U),i(U instanceof Error?U.message:"An unknown error occurred")}finally{n(!1)}};N.useEffect(()=>{w()},[g]);const S=U=>{o(R=>R.includes(U)?R.filter(V=>V!==U):[...R,U])},F=()=>{l.length===e.length?o([]):o(e.map(U=>U._id))},I=U=>{h(U),A(!0)},k=U=>{h(U),u(!0)},E=()=>{l.length!==0&&console.log("Bulk approve:",l)},O=()=>{l.length!==0&&console.log("Bulk reject:",l)},L=()=>{A(!1),h(null),w()},P=()=>{u(!1),h(null),w()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:b.totalPending})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(Qt,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Xt.formatCurrency(b.totalAmount)})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Me,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Selected"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:l.length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(xr,{className:"w-6 h-6 text-blue-600"})})]})})]}),s.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:l.length===e.length&&e.length>0,onChange:F,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Select All"})]}),l.length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:E,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors",children:"Approve Selected"}),s.jsx("button",{onClick:O,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm transition-colors",children:"Reject Selected"})]})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:w,disabled:r,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Tt,{className:`w-4 h-4 ${r?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]})})]})}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.jsx("input",{type:"checkbox",checked:l.length===e.length&&e.length>0,onChange:F,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course & Batch"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollment Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"ml-3 text-gray-500",children:"Loading enrollments..."})]})})}):a?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(pt,{className:"w-12 h-12 text-red-300 mb-2"}),s.jsx("p",{className:"text-red-600 font-medium",children:"Error loading enrollments"}),s.jsx("p",{className:"text-gray-500 text-sm",children:a})]})})}):e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Qt,{className:"w-12 h-12 text-gray-300 mb-2"}),s.jsx("p",{children:"No pending enrollments found"}),s.jsx("p",{className:"text-sm",children:"All enrollments have been processed"})]})})}):e.map(U=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",checked:l.includes(U._id),onChange:()=>S(U._id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[U.studentId.firstName.charAt(0),U.studentId.lastName.charAt(0)]})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[U.studentId.firstName," ",U.studentId.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:U.studentId.studentId}),s.jsx("div",{className:"text-sm text-gray-500",children:U.studentId.email})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:U.courseId.title}),s.jsx("div",{className:"text-gray-500",children:U.batchId.name}),s.jsxs("div",{className:"text-xs text-gray-400",children:[U.courseId.category,"  ",U.courseId.type]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:Xt.formatCurrency(U.paymentAmount,U.currency)}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Status: ",s.jsx("span",{className:"capitalize",children:U.paymentStatus})]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Xt.formatDate(U.enrollmentDate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>I(U),className:"text-green-600 hover:text-green-900",title:"Approve",children:s.jsx(Me,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>k(U),className:"text-red-600 hover:text-red-900",title:"Reject",children:s.jsx(Ft,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>console.log("View details:",U._id),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:s.jsx(xs,{className:"w-4 h-4"})})]})})]},U._id))})]})}),e.length>0&&s.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",v.totalEnrollments," enrollments"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>p(U=>({...U,page:U.page-1})),disabled:!v.hasPrevPage,className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-sm text-gray-700",children:["Page ",v.currentPage," of ",v.totalPages]}),s.jsx("button",{onClick:()=>p(U=>({...U,page:U.page+1})),disabled:!v.hasNextPage,className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),c&&m&&s.jsx(Uk,{enrollment:m,onClose:()=>A(!1),onSuccess:L}),d&&m&&s.jsx(Lk,{enrollment:m,onClose:()=>u(!1),onSuccess:P})]})},ZW=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState({startDate:"",endDate:"",courseId:"",batchId:""}),c=async()=>{n(!0),i(null);try{console.log("Loading enrollment statistics with filters:",l);const u=await Xt.getEnrollmentStatistics(l);console.log("Statistics response:",u),u.success&&u.data?t(u.data):(console.error("Failed to load statistics:",u),t({overall:{totalEnrollments:150,pendingEnrollments:25,approvedEnrollments:100,rejectedEnrollments:10,activeEnrollments:80,completedEnrollments:20,totalRevenue:75e4,averageRating:4.2},byCourse:[{_id:"course1",courseName:"Introduction to Python",courseType:"online",totalEnrollments:50,pendingEnrollments:8,approvedEnrollments:35,rejectedEnrollments:3,totalRevenue:175e3},{_id:"course2",courseName:"Advanced JavaScript",courseType:"online",totalEnrollments:40,pendingEnrollments:5,approvedEnrollments:30,rejectedEnrollments:2,totalRevenue:2e5}],byBatch:[{_id:"batch1",batchName:"Python Morning Batch",courseName:"Introduction to Python",totalEnrollments:25,pendingEnrollments:3,approvedEnrollments:20,rejectedEnrollments:1,totalRevenue:1e5},{_id:"batch2",batchName:"JS Evening Batch",courseName:"Advanced JavaScript",totalEnrollments:20,pendingEnrollments:2,approvedEnrollments:15,rejectedEnrollments:1,totalRevenue:12e4}],recentEnrollments:[{_id:"enrollment1",studentId:{_id:"student1",firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com"},courseId:{_id:"course1",title:"Introduction to Python",category:"Programming",type:"online",price:5e3,currency:"INR"},batchId:{_id:"batch1",name:"Python Morning Batch",startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30},status:"enrolled",approvalStatus:"approved",enrollmentDate:"2024-01-15T10:00:00.000Z",paymentAmount:5e3,currency:"INR",paymentStatus:"paid",createdAt:"2024-01-15T10:00:00.000Z",updatedAt:"2024-01-15T10:00:00.000Z"}]}),i("Using mock data - API not available"))}catch(u){console.error("Error loading statistics:",u),i(u instanceof Error?u.message:"An unknown error occurred")}finally{n(!1)}};N.useEffect(()=>{c()},[l]);const A=(u,m)=>{o(h=>({...h,[u]:m}))},d=()=>{o({startDate:"",endDate:"",courseId:"",batchId:""})};return r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-gray-500",children:"Loading statistics..."})]})}):a?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(pt,{className:"w-12 h-12 text-red-300 mb-4"}),s.jsx("p",{className:"text-red-600 font-medium",children:"Error loading statistics"}),s.jsx("p",{className:"text-gray-500 text-sm",children:a}),s.jsx("button",{onClick:c,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Try Again"})]}):e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(xr,{className:"w-5 h-5 mr-2"}),"Filters"]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:d,className:"text-sm text-gray-600 hover:text-gray-800",children:"Reset"}),s.jsxs("button",{onClick:c,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Tt,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),s.jsx("input",{type:"date",value:l.startDate,onChange:u=>A("startDate",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),s.jsx("input",{type:"date",value:l.endDate,onChange:u=>A("endDate",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course ID"}),s.jsx("input",{type:"text",value:l.courseId,onChange:u=>A("courseId",u.target.value),placeholder:"Enter course ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch ID"}),s.jsx("input",{type:"text",value:l.batchId,onChange:u=>A("batchId",u.target.value),placeholder:"Enter batch ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enrollments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.overall.totalEnrollments})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(dt,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.overall.pendingEnrollments})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(Et,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.overall.activeEnrollments})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(kt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Xt.formatCurrency(e.overall.totalRevenue)})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(yt,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Statistics by Course"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.byCourse.map(u=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:u.courseName})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:u.courseType})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.totalEnrollments}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.pendingEnrollments}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.approvedEnrollments}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Xt.formatCurrency(u.totalRevenue)})]},u._id))})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Statistics by Batch"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.byBatch.map(u=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:u.batchName})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:u.courseName})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.totalEnrollments}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.pendingEnrollments}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.approvedEnrollments}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Xt.formatCurrency(u.totalRevenue)})]},u._id))})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Enrollments"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.recentEnrollments.map(u=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[u.studentId.firstName," ",u.studentId.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:u.studentId.studentId})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:u.courseId.title}),s.jsx("div",{className:"text-sm text-gray-500",children:u.courseId.category})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.batchId.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Xt.getEnrollmentStatusColor(u.status)}`,children:u.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Xt.formatDate(u.enrollmentDate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Xt.formatCurrency(u.paymentAmount,u.currency)})]},u._id))})]})})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(bo,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No statistics available"})]})},eY=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState({page:1,limit:10,courseId:"",batchId:"",sortBy:"enrollmentDate",sortOrder:"desc",startDate:"",endDate:""}),[c,A]=N.useState({currentPage:1,totalPages:1,totalEnrollments:0,hasNextPage:!1,hasPrevPage:!1}),d=async()=>{n(!0),i(null);try{const h=await Xt.getAllEnrollments(l);h.success&&h.data?(t(h.data.enrollments),A(h.data.pagination)):i(h.message||"Failed to load enrollments")}catch(h){console.error("Error loading enrollments:",h),i(h instanceof Error?h.message:"An unknown error occurred")}finally{n(!1)}};N.useEffect(()=>{d()},[l]);const u=(h,g)=>{o(p=>({...p,[h]:g,page:1}))},m=()=>{o({page:1,limit:10,courseId:"",batchId:"",sortBy:"enrollmentDate",sortOrder:"desc",startDate:"",endDate:""})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(xr,{className:"w-5 h-5 mr-2"}),"Filters & Search"]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:m,className:"text-sm text-gray-600 hover:text-gray-800",children:"Reset"}),s.jsxs("button",{onClick:d,disabled:r,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Tt,{className:`w-4 h-4 ${r?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course ID"}),s.jsx("input",{type:"text",value:l.courseId,onChange:h=>u("courseId",h.target.value),placeholder:"Enter course ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch ID"}),s.jsx("input",{type:"text",value:l.batchId,onChange:h=>u("batchId",h.target.value),placeholder:"Enter batch ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),s.jsx("input",{type:"date",value:l.startDate,onChange:h=>u("startDate",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),s.jsx("input",{type:"date",value:l.endDate,onChange:h=>u("endDate",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),s.jsxs("select",{value:l.sortBy,onChange:h=>u("sortBy",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"enrollmentDate",children:"Enrollment Date"}),s.jsx("option",{value:"studentId",children:"Student Name"}),s.jsx("option",{value:"courseId",children:"Course"}),s.jsx("option",{value:"batchId",children:"Batch"}),s.jsx("option",{value:"status",children:"Status"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order"}),s.jsxs("select",{value:l.sortOrder,onChange:h=>u("sortOrder",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"desc",children:"Descending"}),s.jsx("option",{value:"asc",children:"Ascending"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"All Enrollments"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course & Batch"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollment Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"ml-3 text-gray-500",children:"Loading enrollments..."})]})})}):a?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(pt,{className:"w-12 h-12 text-red-300 mb-2"}),s.jsx("p",{className:"text-red-600 font-medium",children:"Error loading enrollments"}),s.jsx("p",{className:"text-gray-500 text-sm",children:a})]})})}):e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(dt,{className:"w-12 h-12 text-gray-300 mb-2"}),s.jsx("p",{children:"No enrollments found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your filters"})]})})}):e.map(h=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-sm font-semibold",children:[h.studentId.firstName.charAt(0),h.studentId.lastName.charAt(0)]})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[h.studentId.firstName," ",h.studentId.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:h.studentId.studentId}),s.jsx("div",{className:"text-sm text-gray-500",children:h.studentId.email})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:h.courseId.title}),s.jsx("div",{className:"text-gray-500",children:h.batchId.name}),s.jsxs("div",{className:"text-xs text-gray-400",children:[h.courseId.category,"  ",h.courseId.type]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Xt.getEnrollmentStatusColor(h.status)}`,children:h.status}),s.jsx("div",{className:"text-xs text-gray-500",children:h.approvalStatus})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:Xt.formatCurrency(h.paymentAmount,h.currency)}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Status: ",s.jsx("span",{className:"capitalize",children:h.paymentStatus})]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Xt.formatDate(h.enrollmentDate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>console.log("View details:",h._id),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:s.jsx(xs,{className:"w-4 h-4"})})})})]},h._id))})]})}),e.length>0&&s.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",c.totalEnrollments," enrollments"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>o(h=>({...h,page:h.page-1})),disabled:!c.hasPrevPage,className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-sm text-gray-700",children:["Page ",c.currentPage," of ",c.totalPages]}),s.jsx("button",{onClick:()=>o(h=>({...h,page:h.page+1})),disabled:!c.hasNextPage,className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})},tY=()=>{const[e,t]=N.useState("status"),r=[{id:"status",label:"Student Status",icon:fr,description:"Check individual student enrollment status"},{id:"pending",label:"Pending Requests",icon:Qt,description:"Review and approve pending enrollments"},{id:"all",label:"All Enrollments",icon:dt,description:"View and manage all enrollments"},{id:"statistics",label:"Statistics",icon:bo,description:"View enrollment analytics and reports"}],n=()=>{switch(e){case"status":return s.jsx(gC,{});case"pending":return s.jsx(JW,{});case"all":return s.jsx(eY,{});case"statistics":return s.jsx(ZW,{});default:return s.jsx(gC,{})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(dt,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Enrollment Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage student enrollments, approvals, and analytics"})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Tt,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh"})]}),s.jsxs("button",{onClick:()=>console.log("Export data"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:r.map(a=>{const i=a.icon,l=e===a.id;return s.jsx("button",{onClick:()=>t(a.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(i,{className:"w-5 h-5"}),s.jsx("span",{children:a.label})]})},a.id)})})}),s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:s.jsx("div",{className:"flex items-center space-x-2",children:(()=>{const a=r.find(l=>l.id===e),i=a==null?void 0:a.icon;return s.jsxs(s.Fragment,{children:[i&&s.jsx(i,{className:"w-4 h-4 text-gray-500"}),s.jsx("p",{className:"text-sm text-gray-600",children:a==null?void 0:a.description})]})})()})}),s.jsx("div",{className:"p-6",children:n()})]})]})},sY=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=N.useState(!1),[i,l]=N.useState(null),[o,c]=N.useState({planName:"",planType:"FD",description:"",minimumAmount:0,maximumAmount:0,interestRate:0,tenureMonths:12,compoundingFrequency:"quarterly",penaltyConfig:{latePaymentPenalty:0,penaltyPercentage:0,gracePeriodDays:0},emiCostStructure:{fd:{minimumInvestment:0,maximumInvestment:0,investmentIncrements:0}},features:[],termsAndConditions:[]}),[A,d]=N.useState([]),[u,m]=N.useState([]),[h,g]=N.useState({feature:"",description:""}),[p,v]=N.useState("");N.useEffect(()=>{e&&x()},[e]);const x=()=>{c({planName:"",planType:"FD",description:"",minimumAmount:0,maximumAmount:0,interestRate:0,tenureMonths:12,compoundingFrequency:"quarterly",penaltyConfig:{latePaymentPenalty:0,penaltyPercentage:0,gracePeriodDays:0},emiCostStructure:{fd:{minimumInvestment:0,maximumInvestment:0,investmentIncrements:0}},features:[],termsAndConditions:[]}),d([]),m([]),g({feature:"",description:""}),v(""),l(null)},b=(P,U)=>{c(R=>({...R,[P]:U}))},j=(P,U,R)=>{c(V=>({...V,[P]:{...V[P],[U]:R}}))},w=(P,U,R)=>{c(V=>({...V,emiCostStructure:{...V.emiCostStructure,[P]:{...V.emiCostStructure[P],[U]:R}}}))},S=()=>{if(h.feature.trim()&&h.description.trim()){const P={...h};d(U=>[...U,P]),g({feature:"",description:""}),Ie.success(" Feature added successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}})}},F=P=>{d(U=>U.filter((R,V)=>V!==P)),Ie.success(" Feature removed successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}})},I=()=>{p.trim()&&(m(P=>[...P,{term:p}]),v(""),Ie.success(" Term added successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}))},k=P=>{m(U=>U.filter((R,V)=>V!==P)),Ie.success(" Term removed successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}})},E=()=>o.planName.trim()?o.description.trim()?A.length===0?"At least one feature is required":u.length===0?"At least one term and condition is required":null:"Description is required":"Plan name is required",O=async P=>{P.preventDefault();const U=E();if(U){l(U),Ie.error(` ${U}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}});return}a(!0),l(null);try{const R={...o,features:A,termsAndConditions:u},V=await $e.createInvestmentPlan(R);if(console.log("Investment plan creation response:",V),V.success)Ie.success(` Investment plan "${o.planName}" created successfully!`,{duration:4e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),r(),t();else if(V.errors&&Array.isArray(V.errors))V.errors.forEach(Z=>{Ie.error(` ${Z}`,{duration:6e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}),l(V.errors[0]);else{const Z=V.message||"Failed to create investment plan";l(Z),Ie.error(` ${Z}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}}catch(R){console.error("Error creating investment plan:",R);const V=R instanceof Error?R.message:"An unknown error occurred";l(V),Ie.error(` ${V}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{a(!1)}},L=()=>{var U,R,V,Z,ae,D,Y,re,q,_,z;const P=o.planType.toLowerCase();return P==="fd"?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Fixed Deposit Structure"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Investment"}),s.jsx("input",{type:"number",value:((U=o.emiCostStructure.fd)==null?void 0:U.minimumInvestment)||0,onChange:G=>w("fd","minimumInvestment",parseInt(G.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Investment"}),s.jsx("input",{type:"number",value:((R=o.emiCostStructure.fd)==null?void 0:R.maximumInvestment)||0,onChange:G=>w("fd","maximumInvestment",parseInt(G.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Investment Increments"}),s.jsx("input",{type:"number",value:((V=o.emiCostStructure.fd)==null?void 0:V.investmentIncrements)||0,onChange:G=>w("fd","investmentIncrements",parseInt(G.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000"})]})]})]}):P==="rd"?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Recurring Deposit Structure"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Monthly Installment"}),s.jsx("input",{type:"number",value:((Z=o.emiCostStructure.rd)==null?void 0:Z.minimumMonthlyInstallment)||0,onChange:G=>w("rd","minimumMonthlyInstallment",parseInt(G.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"5000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Monthly Installment"}),s.jsx("input",{type:"number",value:((ae=o.emiCostStructure.rd)==null?void 0:ae.maximumMonthlyInstallment)||0,onChange:G=>w("rd","maximumMonthlyInstallment",parseInt(G.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"50000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Installment Increments"}),s.jsx("input",{type:"number",value:((D=o.emiCostStructure.rd)==null?void 0:D.installmentIncrements)||0,onChange:G=>w("rd","installmentIncrements",parseInt(G.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grace Period (Days)"}),s.jsx("input",{type:"number",value:((Y=o.emiCostStructure.rd)==null?void 0:Y.gracePeriodDays)||0,onChange:G=>w("rd","gracePeriodDays",parseInt(G.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"7"})]})]})]}):P==="cd"?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Certificate of Deposit Structure"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Certificate Value"}),s.jsx("input",{type:"number",value:((re=o.emiCostStructure.cd)==null?void 0:re.minimumCertificateValue)||0,onChange:G=>w("cd","minimumCertificateValue",parseInt(G.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"25000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Certificate Value"}),s.jsx("input",{type:"number",value:((q=o.emiCostStructure.cd)==null?void 0:q.maximumCertificateValue)||0,onChange:G=>w("cd","maximumCertificateValue",parseInt(G.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"2000000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certificate Increments"}),s.jsx("input",{type:"number",value:((_=o.emiCostStructure.cd)==null?void 0:_.certificateIncrements)||0,onChange:G=>w("cd","certificateIncrements",parseInt(G.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"5000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certificate Prefix"}),s.jsx("input",{type:"text",value:((z=o.emiCostStructure.cd)==null?void 0:z.certificateNumberPrefix)||"",onChange:G=>w("cd","certificateNumberPrefix",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"CD"})]})]})]}):null};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Er,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Create Investment Plan"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Create a new investment plan for society members"})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:O,className:"p-6 space-y-8",children:[i&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(pt,{className:"w-5 h-5 text-red-600"}),s.jsx("p",{className:"text-red-800",children:i})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[s.jsx(Kh,{className:"w-5 h-5"}),s.jsx("span",{children:"Basic Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Name *"}),s.jsx("input",{type:"text",value:o.planName,onChange:P=>b("planName",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"High Yield FD Plan",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Type *"}),s.jsxs("select",{value:o.planType,onChange:P=>b("planType",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"FD",children:"Fixed Deposit (FD)"}),s.jsx("option",{value:"RD",children:"Recurring Deposit (RD)"}),s.jsx("option",{value:"CD",children:"Certificate of Deposit (CD)"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{value:o.description,onChange:P=>b("description",P.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"High interest fixed deposit plan for long-term investment",required:!0})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[s.jsx(yt,{className:"w-5 h-5"}),s.jsx("span",{children:"Financial Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Amount *"}),s.jsx("input",{type:"number",value:o.minimumAmount,onChange:P=>b("minimumAmount",parseInt(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10000",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Amount *"}),s.jsx("input",{type:"number",value:o.maximumAmount,onChange:P=>b("maximumAmount",parseInt(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000000",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Rate (%) *"}),s.jsx("input",{type:"number",step:"0.1",value:o.interestRate,onChange:P=>b("interestRate",parseFloat(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"8.5",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tenure (Months) *"}),s.jsx("input",{type:"number",value:o.tenureMonths,onChange:P=>b("tenureMonths",parseInt(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"24",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Compounding Frequency *"}),s.jsxs("select",{value:o.compoundingFrequency,onChange:P=>b("compoundingFrequency",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"quarterly",children:"Quarterly"}),s.jsx("option",{value:"annually",children:"Annually"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[s.jsx(pt,{className:"w-5 h-5"}),s.jsx("span",{children:"Penalty Configuration"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Late Payment Penalty"}),s.jsx("input",{type:"number",value:o.penaltyConfig.latePaymentPenalty,onChange:P=>j("penaltyConfig","latePaymentPenalty",parseInt(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Penalty Percentage (%)"}),s.jsx("input",{type:"number",step:"0.1",value:o.penaltyConfig.penaltyPercentage,onChange:P=>j("penaltyConfig","penaltyPercentage",parseFloat(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grace Period (Days)"}),s.jsx("input",{type:"number",value:o.penaltyConfig.gracePeriodDays,onChange:P=>j("penaltyConfig","gracePeriodDays",parseInt(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"5"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[s.jsx(kt,{className:"w-5 h-5"}),s.jsx("span",{children:"EMI Cost Structure"})]}),L()]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[s.jsx(Me,{className:"w-5 h-5"}),s.jsx("span",{children:"Plan Features"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feature Name"}),s.jsx("input",{type:"text",value:h.feature,onChange:P=>g(U=>({...U,feature:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"High Interest Rate"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feature Description"}),s.jsx("input",{type:"text",value:h.description,onChange:P=>g(U=>({...U,description:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Competitive interest rate of 8.5%"})]})]}),s.jsxs("button",{type:"button",onClick:S,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(Er,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Feature"})]}),A.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Added Features:"}),A.map((P,U)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800",children:P.feature}),s.jsx("p",{className:"text-sm text-gray-600",children:P.description})]}),s.jsx("button",{type:"button",onClick:()=>F(U),className:"p-1 text-red-600 hover:bg-red-100 rounded-lg transition-colors",children:s.jsx(yn,{className:"w-4 h-4"})})]},U))]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[s.jsx(ds,{className:"w-5 h-5"}),s.jsx("span",{children:"Terms and Conditions"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Term"}),s.jsx("input",{type:"text",value:p,onChange:P=>v(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Minimum investment period is 12 months"})]}),s.jsxs("button",{type:"button",onClick:I,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(Er,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Term"})]}),u.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Added Terms:"}),u.map((P,U)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-gray-800",children:P.term}),s.jsx("button",{type:"button",onClick:()=>k(U),className:"p-1 text-red-600 hover:bg-red-100 rounded-lg transition-colors",children:s.jsx(yn,{className:"w-4 h-4"})})]},U))]})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Creating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(gc,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Plan"})]})})]})]})]})}):null},rY=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState(""),[c,A]=N.useState(""),[d,u]=N.useState(""),[m,h]=N.useState(""),[g,p]=N.useState(null),[v,x]=N.useState(!1),[b,j]=N.useState(!1),w=async()=>{n(!0),i(null);try{const E=await $e.getAvailablePlans({planType:c||void 0,minAmount:d?parseInt(d):void 0,maxAmount:m?parseInt(m):void 0});if(E.success&&E.data){let O=E.data.plans||[];Array.isArray(O)||(console.warn("Expected plans to be an array, got:",typeof O),O=[]),l&&(O=O.filter(L=>{var P,U;return((P=L.planName)==null?void 0:P.toLowerCase().includes(l.toLowerCase()))||((U=L.description)==null?void 0:U.toLowerCase().includes(l.toLowerCase()))})),t(O),Ie.success(" Investment plans loaded successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}})}else throw new Error(E.message||"Failed to load investment plans")}catch(E){console.error("Error loading investment plans:",E);const O=E instanceof Error?E.message:"An unknown error occurred";i(O),Ie.error(` Failed to load plans: ${O}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{n(!1)}};N.useEffect(()=>{w()},[c,d,m]);const S=E=>{p(E),x(!0),Ie.success(` Opening details for ${E.planName}`,{duration:2e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},F=()=>{w()},I=()=>{w()},k=()=>{o(""),A(""),u(""),h("")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Investment Plans"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage investment plans for society members"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:F,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(Tt,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh"})]}),s.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(Er,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Plan"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(fr,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",value:l,onChange:E=>o(E.target.value),placeholder:"Search plans...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Type"}),s.jsxs("select",{value:c,onChange:E=>A(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"FD",children:"Fixed Deposit (FD)"}),s.jsx("option",{value:"RD",children:"Recurring Deposit (RD)"}),s.jsx("option",{value:"CD",children:"Certificate of Deposit (CD)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Amount"}),s.jsx("input",{type:"number",value:d,onChange:E=>u(E.target.value),placeholder:"Min amount",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Amount"}),s.jsx("input",{type:"number",value:m,onChange:E=>h(E.target.value),placeholder:"Max amount",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:k,className:"w-full px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Clear Filters"})})]})]}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Tt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading investment plans..."})]})}):a?s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(kt,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Error Loading Plans"}),s.jsx("p",{className:"text-red-600",children:a})]})]})}):e.length===0?s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-12 text-center",children:[s.jsx(kt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Investment Plans Found"}),s.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters to see more plans."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(E=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-xl",children:$e.getPlanTypeIcon(E.planType)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:E.planName}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$e.getPlanTypeColor(E.planType)}`,children:E.planType})]})]}),s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Interest Rate"}),s.jsx("span",{className:"font-bold text-green-600 text-lg",children:$e.formatPercentage(E.interestRate)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tenure"}),s.jsx("span",{className:"font-semibold text-gray-800",children:$e.formatTenure(E.tenureMonths)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Min Investment"}),s.jsx("span",{className:"font-semibold text-gray-800",children:$e.formatCurrency(E.minimumAmount)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Max Investment"}),s.jsx("span",{className:"font-semibold text-gray-800",children:$e.formatCurrency(E.maximumAmount)})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:E.description}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Key Features"}),s.jsx("div",{className:"space-y-1",children:E.features&&E.features.length>0?s.jsxs(s.Fragment,{children:[E.features.slice(0,2).map((O,L)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Me,{className:"w-3 h-3 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-xs text-gray-600",children:O.feature})]},L)),E.features.length>2&&s.jsxs("span",{className:"text-xs text-blue-600",children:["+",E.features.length-2," more features"]})]}):s.jsx("span",{className:"text-xs text-gray-500 italic",children:"No features available"})})]}),E.statistics&&s.jsx("div",{className:"border-t border-gray-200 pt-4 mb-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-bold text-blue-600",children:E.statistics.totalInvestments}),s.jsx("p",{className:"text-xs text-gray-600",children:"Active Investors"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-bold text-green-600",children:$e.formatCurrency(E.statistics.totalAmountInvested)}),s.jsx("p",{className:"text-xs text-gray-600",children:"Total Invested"})]})]})}),s.jsxs("div",{className:"flex items-center space-x-3 pt-4 border-t border-gray-200",children:[s.jsxs("button",{onClick:()=>S(E),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Kh,{className:"w-4 h-4"}),s.jsx("span",{children:"View Details"})]}),s.jsx("button",{onClick:()=>{Ie.success(" EMI Calculator coming soon!",{duration:3e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},className:"px-4 py-2 text-blue-600 bg-blue-100 hover:bg-blue-200 rounded-lg transition-colors",title:"Calculate EMI",children:s.jsx(YP,{className:"w-4 h-4"})})]})]},E._id))}),v&&g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:$e.getPlanTypeIcon(g.planType)})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:g.planName}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$e.getPlanTypeColor(g.planType)}`,children:g.planType})]})]}),s.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("span",{className:"text-2xl",children:""})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(kt,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Interest Rate"}),s.jsx("p",{className:"text-2xl font-bold text-green-800",children:$e.formatPercentage(g.interestRate)})]})]})}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Et,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Tenure"}),s.jsx("p",{className:"text-2xl font-bold text-blue-800",children:$e.formatTenure(g.tenureMonths)})]})]})}),s.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(yt,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Min Amount"}),s.jsx("p",{className:"text-2xl font-bold text-purple-800",children:$e.formatCurrency(g.minimumAmount)})]})]})}),s.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(dt,{className:"w-8 h-8 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Max Amount"}),s.jsx("p",{className:"text-2xl font-bold text-orange-800",children:$e.formatCurrency(g.maximumAmount)})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600",children:g.description})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Key Features"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:g.features&&g.features.length>0?g.features.map((E,O)=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Me,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-800",children:E.feature}),s.jsx("p",{className:"text-sm text-gray-600",children:E.description})]})]},O)):s.jsx("p",{className:"text-sm text-gray-500 italic col-span-2",children:"No features available for this plan."})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Terms & Conditions"}),s.jsx("div",{className:"space-y-2",children:g.termsAndConditions&&g.termsAndConditions.length>0?g.termsAndConditions.map((E,O)=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-gray-600",children:E.term})]},O)):s.jsx("p",{className:"text-sm text-gray-500 italic",children:"No terms and conditions available for this plan."})})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[s.jsx("button",{onClick:()=>x(!1),className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Close"}),s.jsx("button",{onClick:()=>{x(!1),Ie.success(" Investment application form coming soon!",{duration:3e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Apply Now"})]})]})}),s.jsx(sY,{isOpen:b,onClose:()=>j(!1),onSuccess:I})]})},i2=({application:e,isOpen:t,onClose:r,onApprove:n,onReject:a})=>{if(!t)return null;const i=o=>new Date(o).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),l=o=>new Date(o).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:$e.getApplicationStatusIcon(e.status)})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Investment Application Details"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Application ID: ",e.applicationId]})]})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 rounded-lg hover:bg-gray-100",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${e.status==="approved"?"bg-green-500":e.status==="rejected"?"bg-red-500":"bg-yellow-500"}`}),s.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Application Status"})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${$e.getApplicationStatusColor(e.status)}`,children:e.status.toUpperCase()})]})}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Vt,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Member Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[e.member.firstName," ",e.member.lastName]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Member ID"}),s.jsx("p",{className:"text-sm text-gray-900",children:e.member.memberId})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kg,{className:"w-4 h-4 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-900",children:e.member.email})]})]})]}),s.jsx("div",{className:"space-y-3",children:e.member.phoneNumber&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jm,{className:"w-4 h-4 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-900",children:e.member.phoneNumber})]})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(kt,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Investment Plan Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Plan Name"}),s.jsx("p",{className:"text-sm text-gray-900",children:e.plan.planName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Plan Type"}),s.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${$e.getPlanTypeColor(e.plan.planType)}`,children:e.plan.planType})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Interest Rate"}),s.jsx("p",{className:"text-sm text-gray-900",children:$e.formatPercentage(e.plan.interestRate)})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tenure"}),s.jsx("p",{className:"text-sm text-gray-900",children:$e.formatTenure(e.plan.tenureMonths)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Investment Amount"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:$e.formatCurrency(e.investmentAmount)})]}),e.monthlyEMI&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Monthly EMI"}),s.jsx("p",{className:"text-sm text-gray-900",children:$e.formatCurrency(e.monthlyEMI)})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Qr,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Payment Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Amount"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:$e.formatCurrency(e.investmentAmount)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount Paid"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:$e.formatCurrency(e.totalAmountPaid)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Remaining Amount"}),s.jsx("p",{className:"text-lg font-semibold text-orange-600",children:$e.formatCurrency(e.remainingAmount)})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Status"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${e.paymentStatus==="completed"?"bg-green-500":e.paymentStatus==="partial"?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:e.paymentStatus})]})]}),e.paymentMethod&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),s.jsx("p",{className:"text-sm text-gray-900 capitalize",children:e.paymentMethod})]})]}),e.emiProgress&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Et,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"EMI Progress"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.emiProgress.total}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total EMIs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.emiProgress.paid}),s.jsx("p",{className:"text-sm text-gray-600",children:"Paid"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.emiProgress.pending}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.emiProgress.overdue}),s.jsx("p",{className:"text-sm text-gray-600",children:"Overdue"})]})]})]}),e.emiSchedule&&e.emiSchedule.length>0&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(ds,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"EMI Schedule"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"EMI #"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.emiSchedule.map(o=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:o.emiNumber}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:i(o.dueDate)}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:$e.formatCurrency(o.amount)}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o.status==="paid"?"bg-green-100 text-green-800":o.status==="overdue"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:o.status})})]},o.emiNumber))})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Qt,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Application Timeline"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Application Submitted"}),s.jsx("p",{className:"text-xs text-gray-500",children:l(e.applicationDate)})]})]}),e.approvalDate&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Application Approved"}),s.jsx("p",{className:"text-xs text-gray-500",children:l(e.approvalDate)}),e.approvedBy&&s.jsxs("p",{className:"text-xs text-gray-400",children:["Approved by: ",e.approvedBy]})]})]}),e.rejectionDate&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Application Rejected"}),s.jsx("p",{className:"text-xs text-gray-500",children:l(e.rejectionDate)}),e.rejectedBy&&s.jsxs("p",{className:"text-xs text-gray-400",children:["Rejected by: ",e.rejectedBy]}),e.rejectionReason&&s.jsxs("p",{className:"text-xs text-red-600",children:["Reason: ",e.rejectionReason]})]})]})]})]}),e.notes&&e.notes.length>0&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(ds,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notes"})]}),s.jsx("div",{className:"space-y-2",children:e.notes.map((o,c)=>s.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-700",children:o})},c))})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx("button",{onClick:r,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Close"})}),e.status==="pending"&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:a,className:"px-6 py-2 text-red-700 bg-red-100 hover:bg-red-200 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:"Reject"})]}),s.jsxs("button",{onClick:n,className:"px-6 py-2 text-green-700 bg-green-100 hover:bg-green-200 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(Me,{className:"w-4 h-4"}),s.jsx("span",{children:"Approve"})]})]})]})]})})},nY=({application:e,isOpen:t,onClose:r,onSuccess:n})=>{const[a,i]=N.useState(""),[l,o]=N.useState(!1);if(!t)return null;const c=async()=>{if(!a.trim()){Ie.error("Please provide approval notes",{duration:3e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}});return}o(!0);try{await $e.approveInvestmentApplication(e.applicationId,{notes:a.trim()}),Ie.success(" Investment application approved successfully!",{duration:4e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),n()}catch(d){console.error("Error approving application:",d),Ie.error(" Failed to approve application. Please try again.",{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{o(!1)}},A=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(d);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Me,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Approve Investment Application"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Application ID: ",e.applicationId]})]})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 rounded-lg hover:bg-gray-100",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Application Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vt,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Member:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[e.member.firstName," ",e.member.lastName]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Member ID:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.member.memberId})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Plan:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.plan.planName})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yt,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Amount:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:A(e.investmentAmount)})]})]})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ts,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Important Notice"}),s.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"By approving this application, you are confirming that:"}),s.jsxs("ul",{className:"text-sm text-yellow-700 mt-2 list-disc list-inside space-y-1",children:[s.jsx("li",{children:"All required documents have been verified"}),s.jsx("li",{children:"The member's KYC is complete and valid"}),s.jsx("li",{children:"The investment amount is within the plan limits"}),s.jsx("li",{children:"All terms and conditions have been accepted"})]})]})]})}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Approval Notes ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:a,onChange:d=>i(d.target.value),placeholder:"Please provide details about the approval decision, any special conditions, or additional notes...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",rows:4,required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be recorded with the approval and may be visible to the member."})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Investment Details After Approval"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-green-700",children:"Investment ID:"}),s.jsx("span",{className:"text-green-900 font-medium ml-2",children:"Will be generated"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-green-700",children:"Status:"}),s.jsx("span",{className:"text-green-900 font-medium ml-2",children:"Active"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-green-700",children:"Principal Amount:"}),s.jsx("span",{className:"text-green-900 font-medium ml-2",children:A(e.investmentAmount)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-green-700",children:"Expected Maturity:"}),s.jsx("span",{className:"text-green-900 font-medium ml-2",children:A(e.investmentAmount*(1+e.plan.interestRate/100))})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[s.jsx("button",{onClick:r,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",disabled:l,children:"Cancel"}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx("button",{onClick:c,disabled:l||!a.trim(),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Approving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Me,{className:"w-4 h-4"}),s.jsx("span",{children:"Approve Application"})]})})})]})]})})},aY=({application:e,isOpen:t,onClose:r,onSuccess:n})=>{const[a,i]=N.useState(""),[l,o]=N.useState(""),[c,A]=N.useState(!1);if(!t)return null;const d=["Incomplete documentation","Invalid KYC documents","Investment amount exceeds plan limits","Member not eligible for this plan","Missing required information","Document verification failed","Terms and conditions not accepted","Other (specify in notes)"],u=async()=>{if(!a.trim()){Ie.error("Please select a rejection reason",{duration:3e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}});return}A(!0);try{await $e.rejectInvestmentApplication(e.applicationId,{rejectionReason:a.trim(),notes:l.trim()||void 0}),Ie.success(" Investment application rejected successfully!",{duration:4e3,style:{background:"#F59E0B",color:"#fff",fontSize:"14px"}}),n()}catch(h){console.error("Error rejecting application:",h),Ie.error(" Failed to reject application. Please try again.",{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{A(!1)}},m=h=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(h);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-red-50 to-rose-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(Ft,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Reject Investment Application"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Application ID: ",e.applicationId]})]})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 rounded-lg hover:bg-gray-100",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Application Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vt,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Member:"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[e.member.firstName," ",e.member.lastName]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Member ID:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.member.memberId})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Plan:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.plan.planName})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yt,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Amount:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:m(e.investmentAmount)})]})]})]})]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ts,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Important Notice"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Rejecting this application will:"}),s.jsxs("ul",{className:"text-sm text-red-700 mt-2 list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Mark the application as rejected"}),s.jsx("li",{children:"Notify the member about the rejection"}),s.jsx("li",{children:"Prevent the investment from being processed"}),s.jsx("li",{children:"Record the rejection reason for future reference"})]})]})]})}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rejection Reason ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:a,onChange:h=>i(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select a reason for rejection"}),d.map(h=>s.jsx("option",{value:h,children:h},h))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),s.jsx("textarea",{value:l,onChange:h=>o(h.target.value),placeholder:"Provide additional details about the rejection, steps for resubmission, or any other relevant information...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",rows:4}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be shared with the member to help them understand the rejection and take corrective action."})]}),s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-orange-800 mb-2",children:"Impact of Rejection"}),s.jsxs("div",{className:"text-sm text-orange-700 space-y-1",children:[s.jsx("p",{children:" The member will be notified via email about the rejection"}),s.jsx("p",{children:" The application will be marked as rejected in the system"}),s.jsx("p",{children:" The member can resubmit the application after addressing the issues"}),s.jsx("p",{children:" All rejection details will be recorded for audit purposes"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[s.jsx("button",{onClick:r,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",disabled:c,children:"Cancel"}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx("button",{onClick:u,disabled:c||!a.trim(),className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Rejecting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:"Reject Application"})]})})})]})]})})},iY=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState(""),[c,A]=N.useState(""),[d,u]=N.useState(""),[m,h]=N.useState(null),[g,p]=N.useState(!1),[v,x]=N.useState(!1),[b,j]=N.useState(!1),[w,S]=N.useState({currentPage:1,totalPages:1,totalApplications:0,hasNextPage:!1,hasPrevPage:!1}),F=async(R=1)=>{n(!0),i(null);try{const V={page:R,limit:10,planType:c||void 0,memberId:d||void 0,search:l||void 0,status:"pending"},Z=await $e.getPendingInvestmentApplications(V);if(Z.success&&Z.data)t(Z.data.applications),S(Z.data.pagination),Ie.success(" Pending investment applications loaded successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}});else throw new Error(Z.message||"Failed to load pending applications")}catch(V){console.error("Error loading pending applications:",V);const Z=V instanceof Error?V.message:"An unknown error occurred";i(Z),Ie.error(` Failed to load applications: ${Z}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{n(!1)}};N.useEffect(()=>{F(1)},[c,d]),N.useEffect(()=>{const R=setTimeout(()=>{F(1)},500);return()=>clearTimeout(R)},[l]);const I=R=>{h(R),p(!0),Ie.success(` Opening details for ${R.applicationId}`,{duration:2e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},k=R=>{h(R),x(!0)},E=R=>{h(R),j(!0)},O=()=>{F(w.currentPage),p(!1),x(!1),j(!1)},L=()=>{F(w.currentPage)},P=()=>{o(""),A(""),u("")},U=R=>{F(R)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pending Investment Applications"}),s.jsx("p",{className:"text-gray-600",children:"Review and manage pending investment applications from society members"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:L,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(Tt,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(fr,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",value:l,onChange:R=>o(R.target.value),placeholder:"Search by member name, email, or ID...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Type"}),s.jsxs("select",{value:c,onChange:R=>A(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"FD",children:"Fixed Deposit (FD)"}),s.jsx("option",{value:"RD",children:"Recurring Deposit (RD)"}),s.jsx("option",{value:"CD",children:"Certificate of Deposit (CD)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Member ID"}),s.jsx("input",{type:"text",value:d,onChange:R=>u(R.target.value),placeholder:"Member ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:P,className:"w-full px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Clear Filters"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(pt,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.totalApplications})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(yt,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$e.formatCurrency(e.reduce((R,V)=>R+V.investmentAmount,0))})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(kt,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length>0?$e.formatCurrency(e.reduce((R,V)=>R+V.investmentAmount,0)/e.length):"0"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Vt,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Unique Members"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Set(e.map(R=>R.member.memberId)).size})]})]})})]}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Tt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading pending applications..."})]})}):a?s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(pt,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Error Loading Applications"}),s.jsx("p",{className:"text-red-600",children:a})]})]})}):e.length===0?s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-12 text-center",children:[s.jsx(pt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Pending Applications"}),s.jsx("p",{className:"text-gray-600",children:"There are currently no pending investment applications."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Application"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Application Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(R=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-sm font-semibold text-blue-600",children:$e.getApplicationStatusIcon(R.status)})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.applicationId}),s.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${$e.getApplicationStatusColor(R.status)}`,children:R.status})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[R.member.firstName," ",R.member.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:R.member.email}),s.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",R.member.memberId]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.plan.planName}),s.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${$e.getPlanTypeColor(R.plan.planType)}`,children:R.plan.planType}),s.jsxs("div",{className:"text-xs text-gray-500",children:[$e.formatPercentage(R.plan.interestRate),"  ",$e.formatTenure(R.plan.tenureMonths)]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:$e.formatCurrency(R.investmentAmount)}),s.jsxs("div",{className:"text-xs text-gray-500",children:["EMI: ",R.monthlyEMI?$e.formatCurrency(R.monthlyEMI):"N/A"]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[s.jsx(Et,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(R.applicationDate).toLocaleDateString()]}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(R.applicationDate).toLocaleTimeString()})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>I(R),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"View Details",children:s.jsx(xs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>k(R),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:"Approve Application",children:s.jsx(Me,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>E(R),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Reject Application",children:s.jsx(Ft,{className:"w-4 h-4"})})]})})]},R.applicationId))})]})}),w.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>U(w.currentPage-1),disabled:!w.hasPrevPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>U(w.currentPage+1),disabled:!w.hasNextPage,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",s.jsx("span",{className:"font-medium",children:(w.currentPage-1)*10+1})," ","to"," ",s.jsx("span",{className:"font-medium",children:Math.min(w.currentPage*10,w.totalApplications)})," ","of"," ",s.jsx("span",{className:"font-medium",children:w.totalApplications})," ","results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>U(w.currentPage-1),disabled:!w.hasPrevPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:w.totalPages},(R,V)=>V+1).map(R=>s.jsx("button",{onClick:()=>U(R),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${R===w.currentPage?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:R},R)),s.jsx("button",{onClick:()=>U(w.currentPage+1),disabled:!w.hasNextPage,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),g&&m&&s.jsx(i2,{application:m,isOpen:g,onClose:()=>p(!1),onApprove:()=>{p(!1),k(m)},onReject:()=>{p(!1),E(m)}}),v&&m&&s.jsx(nY,{application:m,isOpen:v,onClose:()=>x(!1),onSuccess:O}),b&&m&&s.jsx(aY,{application:m,isOpen:b,onClose:()=>j(!1),onSuccess:O})]})},lY=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState(""),[c,A]=N.useState(""),[d,u]=N.useState(""),[m,h]=N.useState(null),[g,p]=N.useState(!1),[v,x]=N.useState({currentPage:1,totalPages:1,totalApplications:0,hasNextPage:!1,hasPrevPage:!1}),b=async(I=1)=>{n(!0),i(null);try{const k={page:I,limit:10,planType:c||void 0,memberId:d||void 0,search:l||void 0,status:"approved"},E=await $e.getApprovedInvestmentApplications(k);if(E.success&&E.data)t(E.data.applications),x(E.data.pagination),Ie.success(" Approved investment applications loaded successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}});else throw new Error(E.message||"Failed to load approved applications")}catch(k){console.error("Error loading approved applications:",k);const E=k instanceof Error?k.message:"An unknown error occurred";i(E),Ie.error(` Failed to load applications: ${E}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{n(!1)}};N.useEffect(()=>{b(1)},[c,d]),N.useEffect(()=>{const I=setTimeout(()=>{b(1)},500);return()=>clearTimeout(I)},[l]);const j=I=>{h(I),p(!0),Ie.success(` Opening details for ${I.applicationId}`,{duration:2e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},w=()=>{b(v.currentPage)},S=()=>{o(""),A(""),u("")},F=I=>{b(I)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Approved Investment Applications"}),s.jsx("p",{className:"text-gray-600",children:"View and manage approved investment applications from society members"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:w,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(Tt,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(fr,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",value:l,onChange:I=>o(I.target.value),placeholder:"Search by member name, email, or ID...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Type"}),s.jsxs("select",{value:c,onChange:I=>A(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"FD",children:"Fixed Deposit (FD)"}),s.jsx("option",{value:"RD",children:"Recurring Deposit (RD)"}),s.jsx("option",{value:"CD",children:"Certificate of Deposit (CD)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Member ID"}),s.jsx("input",{type:"text",value:d,onChange:I=>u(I.target.value),placeholder:"Member ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:S,className:"w-full px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Clear Filters"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Me,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Approved"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.totalApplications})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(yt,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$e.formatCurrency(e.reduce((I,k)=>I+k.investmentAmount,0))})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(kt,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length>0?$e.formatCurrency(e.reduce((I,k)=>I+k.investmentAmount,0)/e.length):"0"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Vt,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Unique Members"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Set(e.map(I=>I.member.memberId)).size})]})]})})]}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Tt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading approved applications..."})]})}):a?s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(Me,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Error Loading Applications"}),s.jsx("p",{className:"text-red-600",children:a})]})]})}):e.length===0?s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-12 text-center",children:[s.jsx(Me,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Approved Applications"}),s.jsx("p",{className:"text-gray-600",children:"There are currently no approved investment applications."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Application"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approval Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(I=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-sm font-semibold text-green-600",children:$e.getApplicationStatusIcon(I.status)})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.applicationId}),s.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${$e.getApplicationStatusColor(I.status)}`,children:I.status})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[I.member.firstName," ",I.member.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:I.member.email}),s.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",I.member.memberId]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.plan.planName}),s.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${$e.getPlanTypeColor(I.plan.planType)}`,children:I.plan.planType}),s.jsxs("div",{className:"text-xs text-gray-500",children:[$e.formatPercentage(I.plan.interestRate),"  ",$e.formatTenure(I.plan.tenureMonths)]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:$e.formatCurrency(I.investmentAmount)}),s.jsxs("div",{className:"text-xs text-gray-500",children:["EMI: ",I.monthlyEMI?$e.formatCurrency(I.monthlyEMI):"N/A"]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${I.paymentStatus==="completed"?"bg-green-500":I.paymentStatus==="partial"?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:I.paymentStatus})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Paid: ",$e.formatCurrency(I.totalAmountPaid)," / ",$e.formatCurrency(I.investmentAmount)]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[s.jsx(Et,{className:"w-4 h-4 mr-2 text-gray-400"}),I.approvalDate?new Date(I.approvalDate).toLocaleDateString():"N/A"]}),s.jsx("div",{className:"text-xs text-gray-500",children:I.approvalDate?new Date(I.approvalDate).toLocaleTimeString():""})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("button",{onClick:()=>j(I),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"View Details",children:s.jsx(xs,{className:"w-4 h-4"})})})]},I.applicationId))})]})}),v.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>F(v.currentPage-1),disabled:!v.hasPrevPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>F(v.currentPage+1),disabled:!v.hasNextPage,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",s.jsx("span",{className:"font-medium",children:(v.currentPage-1)*10+1})," ","to"," ",s.jsx("span",{className:"font-medium",children:Math.min(v.currentPage*10,v.totalApplications)})," ","of"," ",s.jsx("span",{className:"font-medium",children:v.totalApplications})," ","results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>F(v.currentPage-1),disabled:!v.hasPrevPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:v.totalPages},(I,k)=>k+1).map(I=>s.jsx("button",{onClick:()=>F(I),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${I===v.currentPage?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:I},I)),s.jsx("button",{onClick:()=>F(v.currentPage+1),disabled:!v.hasNextPage,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),g&&m&&s.jsx(i2,{application:m,isOpen:g,onClose:()=>p(!1),onApprove:()=>{},onReject:()=>{}})]})},oY=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState(""),[c,A]=N.useState(""),[d,u]=N.useState(""),[m,h]=N.useState(null),[g,p]=N.useState(!1),[v,x]=N.useState({currentPage:1,totalPages:1,totalApplications:0,hasNextPage:!1,hasPrevPage:!1}),b=async(I=1)=>{n(!0),i(null);try{const k={page:I,limit:10,planType:c||void 0,memberId:d||void 0,search:l||void 0,status:"rejected"},E=await $e.getRejectedInvestmentApplications(k);if(E.success&&E.data)t(E.data.applications),x(E.data.pagination),Ie.success(" Rejected investment applications loaded successfully!",{duration:2e3,style:{background:"#F59E0B",color:"#fff",fontSize:"14px"}});else throw new Error(E.message||"Failed to load rejected applications")}catch(k){console.error("Error loading rejected applications:",k);const E=k instanceof Error?k.message:"An unknown error occurred";i(E),Ie.error(` Failed to load applications: ${E}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{n(!1)}};N.useEffect(()=>{b(1)},[c,d]),N.useEffect(()=>{const I=setTimeout(()=>{b(1)},500);return()=>clearTimeout(I)},[l]);const j=I=>{h(I),p(!0),Ie.success(` Opening details for ${I.applicationId}`,{duration:2e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},w=()=>{b(v.currentPage)},S=()=>{o(""),A(""),u("")},F=I=>{b(I)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Rejected Investment Applications"}),s.jsx("p",{className:"text-gray-600",children:"View and manage rejected investment applications from society members"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:w,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(Tt,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(fr,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",value:l,onChange:I=>o(I.target.value),placeholder:"Search by member name, email, or ID...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Type"}),s.jsxs("select",{value:c,onChange:I=>A(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"FD",children:"Fixed Deposit (FD)"}),s.jsx("option",{value:"RD",children:"Recurring Deposit (RD)"}),s.jsx("option",{value:"CD",children:"Certificate of Deposit (CD)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Member ID"}),s.jsx("input",{type:"text",value:d,onChange:I=>u(I.target.value),placeholder:"Member ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:S,className:"w-full px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Clear Filters"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(Ft,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Rejected"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.totalApplications})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(yt,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$e.formatCurrency(e.reduce((I,k)=>I+k.investmentAmount,0))})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(kt,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length>0?$e.formatCurrency(e.reduce((I,k)=>I+k.investmentAmount,0)/e.length):"0"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Vt,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Unique Members"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Set(e.map(I=>I.member.memberId)).size})]})]})})]}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Tt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading rejected applications..."})]})}):a?s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(Ft,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Error Loading Applications"}),s.jsx("p",{className:"text-red-600",children:a})]})]})}):e.length===0?s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-12 text-center",children:[s.jsx(Ft,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Rejected Applications"}),s.jsx("p",{className:"text-gray-600",children:"There are currently no rejected investment applications."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Application"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rejection Reason"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rejection Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(I=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-sm font-semibold text-red-600",children:$e.getApplicationStatusIcon(I.status)})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.applicationId}),s.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${$e.getApplicationStatusColor(I.status)}`,children:I.status})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[I.member.firstName," ",I.member.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:I.member.email}),s.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",I.member.memberId]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.plan.planName}),s.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${$e.getPlanTypeColor(I.plan.planType)}`,children:I.plan.planType}),s.jsxs("div",{className:"text-xs text-gray-500",children:[$e.formatPercentage(I.plan.interestRate),"  ",$e.formatTenure(I.plan.tenureMonths)]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:$e.formatCurrency(I.investmentAmount)}),s.jsxs("div",{className:"text-xs text-gray-500",children:["EMI: ",I.monthlyEMI?$e.formatCurrency(I.monthlyEMI):"N/A"]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:I.rejectionReason||"No reason provided"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[s.jsx(Et,{className:"w-4 h-4 mr-2 text-gray-400"}),I.rejectionDate?new Date(I.rejectionDate).toLocaleDateString():"N/A"]}),s.jsx("div",{className:"text-xs text-gray-500",children:I.rejectionDate?new Date(I.rejectionDate).toLocaleTimeString():""})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("button",{onClick:()=>j(I),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"View Details",children:s.jsx(xs,{className:"w-4 h-4"})})})]},I.applicationId))})]})}),v.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>F(v.currentPage-1),disabled:!v.hasPrevPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>F(v.currentPage+1),disabled:!v.hasNextPage,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",s.jsx("span",{className:"font-medium",children:(v.currentPage-1)*10+1})," ","to"," ",s.jsx("span",{className:"font-medium",children:Math.min(v.currentPage*10,v.totalApplications)})," ","of"," ",s.jsx("span",{className:"font-medium",children:v.totalApplications})," ","results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsx("button",{onClick:()=>F(v.currentPage-1),disabled:!v.hasPrevPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:v.totalPages},(I,k)=>k+1).map(I=>s.jsx("button",{onClick:()=>F(I),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${I===v.currentPage?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:I},I)),s.jsx("button",{onClick:()=>F(v.currentPage+1),disabled:!v.hasNextPage,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),g&&m&&s.jsx(i2,{application:m,isOpen:g,onClose:()=>p(!1),onApprove:()=>{},onReject:()=>{}})]})},cY=({isOpen:e,onClose:t})=>{const[r,n]=N.useState([]),[a,i]=N.useState(!1),[l,o]=N.useState(null),[c,A]=N.useState(1),[d,u]=N.useState(1),[m,h]=N.useState(0),[g,p]=N.useState(!1),[v,x]=N.useState(!1),[b,j]=N.useState({page:1,limit:10}),[w,S]=N.useState(null),[F,I]=N.useState(!1),[k,E]=N.useState({verificationStatus:"verified",remarks:"",receivedAmount:0}),O=N.useCallback(async()=>{i(!0),o(null);try{const V=await Yt.getPendingCashPayments(b);if(V.success&&V.data)n(V.data.pendingPayments),u(V.data.pagination.totalPages),h(V.data.pagination.totalPendingPayments),p(V.data.pagination.hasNext),x(V.data.pagination.hasPrev),A(V.data.pagination.currentPage);else throw new Error(V.message||"Failed to load pending cash payments")}catch(V){console.error("Error loading pending cash payments:",V),o(V instanceof Error?V.message:"Failed to load pending cash payments")}finally{i(!1)}},[b]);N.useEffect(()=>{e&&O()},[e,O]);const L=N.useCallback(V=>{j(Z=>({...Z,page:V}))},[]),P=N.useCallback(V=>{S(V),E({verificationStatus:"verified",remarks:"",receivedAmount:V.amount}),I(!0)},[]),U=N.useCallback(async()=>{if(w)try{const V=await Yt.verifyCashPayment(w.paymentId,k);if(V.success)Ie.success("Payment verified successfully"),I(!1),S(null),O();else throw new Error(V.message||"Failed to verify payment")}catch(V){console.error("Error verifying payment:",V),Ie.error(V instanceof Error?V.message:"Failed to verify payment")}},[w,k,O]),R=N.useCallback(V=>{S(V),E({verificationStatus:"rejected",remarks:"",receivedAmount:0}),I(!0)},[]);return e?s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:s.jsx(yt,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pending Cash Payments"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[m," payments pending verification"]})]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:s.jsx(rt,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.jsx(ia,{error:l,onRetry:O,onDismiss:()=>o(null),title:"Failed to load payments"}),a?s.jsx(_d,{rows:5,columns:6}):r.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Me,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"No pending cash payments"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"All cash payments have been verified"})]})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",role:"table","aria-label":"Pending cash payments table",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Investment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"EMI #"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remarks"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(V=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-semibold",children:V.memberDetails.name.charAt(0)})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.memberDetails.name}),s.jsx("div",{className:"text-sm text-gray-500",children:V.memberDetails.memberId})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:V.investmentDetails.planName}),s.jsx("div",{className:"text-sm text-gray-500",children:V.investmentDetails.planType})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Yt.formatCurrency(V.amount)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:V.emiNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Yt.formatDate(V.paymentDate)}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:V.remarks||"No remarks"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>P(V),className:"text-green-600 hover:text-green-900","aria-label":`Verify payment for ${V.memberDetails.name}`,children:s.jsx(Me,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>R(V),className:"text-red-600 hover:text-red-900","aria-label":`Reject payment for ${V.memberDetails.name}`,children:s.jsx(Ft,{className:"w-4 h-4"})})]})})]},V.paymentId))})]})}),r.length>0&&s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",r.length," of ",m," payments"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>L(c-1),disabled:!v,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50","aria-label":"Go to previous page",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-sm","aria-live":"polite",children:["Page ",c," of ",d]}),s.jsx("button",{onClick:()=>L(c+1),disabled:!g,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50","aria-label":"Go to next page",children:"Next"})]})]})]}),s.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]}),F&&w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:k.verificationStatus==="verified"?"Verify Payment":"Reject Payment"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Member: ",w.memberDetails.name]}),s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Amount: ",Yt.formatCurrency(w.amount)]})]}),k.verificationStatus==="verified"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Received Amount"}),s.jsx("input",{type:"number",value:k.receivedAmount,onChange:V=>E(Z=>({...Z,receivedAmount:parseFloat(V.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Received amount"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),s.jsx("textarea",{value:k.remarks,onChange:V=>E(Z=>({...Z,remarks:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Enter verification remarks...","aria-label":"Verification remarks"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:U,className:`px-4 py-2 text-white rounded-lg transition-colors ${k.verificationStatus==="verified"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:k.verificationStatus==="verified"?"Verify":"Reject"})]})]})})]}):null},AY=({isOpen:e,onClose:t})=>{const[r,n]=N.useState([]),[a,i]=N.useState(!1),[l,o]=N.useState(null),[c,A]=N.useState(1),[d,u]=N.useState(1),[m,h]=N.useState(0),[g,p]=N.useState(!1),[v,x]=N.useState(!1),[b,j]=N.useState(null),[w,S]=N.useState({page:1,limit:10}),F=N.useCallback(async()=>{i(!0),o(null);try{const L=await Yt.getPendingEMIs(w);if(L.success&&L.data)n(L.data.pendingEMIs),u(L.data.pagination.totalPages),h(L.data.pagination.totalPendingEMIs),p(L.data.pagination.hasNext),x(L.data.pagination.hasPrev),A(L.data.pagination.currentPage),j(L.data.summary);else throw new Error(L.message||"Failed to load pending EMIs")}catch(L){console.error("Error loading pending EMIs:",L),o(L instanceof Error?L.message:"Failed to load pending EMIs")}finally{i(!1)}},[w]);N.useEffect(()=>{e&&F()},[e,F]);const I=N.useCallback(L=>{S(P=>({...P,page:L}))},[]),k=N.useCallback((L,P)=>{S(U=>({...U,[L]:P===""?void 0:P,page:1}))},[]),E=N.useCallback(L=>Yt.getEMIStatusColor(L),[]),O=N.useCallback(L=>L.isOverdue?"Overdue":L.isInGracePeriod?"Grace Period":"Pending",[]);return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-7xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(ts,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pending EMIs"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[m," EMIs pending payment"]})]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:s.jsx(rt,{size:20})})]}),b&&s.jsx("div",{className:"p-6 border-b bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:b.totalPendingEMIs})]}),s.jsx(ts,{className:"w-8 h-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Yt.formatCurrency(b.totalPendingAmount)})]}),s.jsx(yt,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue EMIs"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:b.overdueEMIs})]}),s.jsx(Qt,{className:"w-8 h-8 text-red-600"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Grace Period"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:b.gracePeriodEMIs})]}),s.jsx(kt,{className:"w-8 h-8 text-orange-600"})]})})]})}),s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member ID"}),s.jsx("input",{type:"text",placeholder:"Filter by member ID",onChange:L=>k("memberId",L.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filter by member ID"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Investment ID"}),s.jsx("input",{type:"text",placeholder:"Filter by investment ID",onChange:L=>k("investmentId",L.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filter by investment ID"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Show Overdue Only"}),s.jsxs("select",{onChange:L=>k("overdue",L.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filter by overdue status",children:[s.jsx("option",{value:"",children:"All EMIs"}),s.jsx("option",{value:"true",children:"Overdue Only"}),s.jsx("option",{value:"false",children:"Not Overdue"})]})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.jsx(ia,{error:l,onRetry:F,onDismiss:()=>o(null),title:"Failed to load EMIs"}),a?s.jsx(_d,{rows:5,columns:7}):r.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Me,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"No pending EMIs"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"All EMIs have been paid"})]})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",role:"table","aria-label":"Pending EMIs table",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Investment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"EMI #"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Penalty"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(L=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-semibold",children:L.memberDetails.name.charAt(0)})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.memberDetails.name}),s.jsx("div",{className:"text-sm text-gray-500",children:L.memberDetails.memberId})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:L.investmentDetails.planName}),s.jsx("div",{className:"text-sm text-gray-500",children:L.investmentDetails.planType})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.emiNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Yt.formatCurrency(L.emiAmount)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Yt.formatDate(L.dueDate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${E(L)}`,children:O(L)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.penaltyAmount>0?Yt.formatCurrency(L.penaltyAmount):"-"})]},L.emiId))})]})}),r.length>0&&s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",r.length," of ",m," EMIs"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>I(c-1),disabled:!v,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50","aria-label":"Go to previous page",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-sm","aria-live":"polite",children:["Page ",c," of ",d]}),s.jsx("button",{onClick:()=>I(c+1),disabled:!g,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50","aria-label":"Go to next page",children:"Next"})]})]})]}),s.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})}):null},dY=({isOpen:e,onClose:t,statistics:r})=>{if(!e||!r)return null;const{paymentStatistics:n,emiStatistics:a,insights:i}=r;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(bo,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Statistics"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive payment and EMI analytics"})]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:s.jsx(rt,{size:20})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600 mr-2"}),"Payment Statistics"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Payments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.totalPayments})]}),s.jsx(bo,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Yt.formatCurrency(n.totalAmount)})]}),s.jsx(yt,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.completedPayments})]}),s.jsx(Me,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.pendingPayments})]}),s.jsx(ts,{className:"w-8 h-8 text-yellow-600"})]})})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(kt,{className:"w-5 h-5 text-blue-600 mr-2"}),"EMI Statistics"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total EMIs"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:a.totalEMIs})]}),s.jsx(bo,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total EMI Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Yt.formatCurrency(a.totalEMIAmount)})]}),s.jsx(yt,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid EMIs"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.paidEMIs})]}),s.jsx(Me,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue EMIs"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.overdueEMIs})]}),s.jsx(Ft,{className:"w-8 h-8 text-red-600"})]})})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(kt,{className:"w-5 h-5 text-purple-600 mr-2"}),"Payment Insights"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cash Payments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i.totalCashPayments})]}),s.jsx(yt,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Online Payments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i.totalOnlinePayments})]}),s.jsx(Me,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cash vs Online Ratio"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[i.cashVsOnlineRatio,"%"]})]}),s.jsx(kt,{className:"w-8 h-8 text-purple-600"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:"Payment Breakdown"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Completed Amount"}),s.jsx("span",{className:"font-medium text-green-600",children:Yt.formatCurrency(n.completedAmount)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Pending Amount"}),s.jsx("span",{className:"font-medium text-yellow-600",children:Yt.formatCurrency(n.pendingAmount)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Failed Amount"}),s.jsx("span",{className:"font-medium text-red-600",children:Yt.formatCurrency(n.failedAmount)})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:"EMI Breakdown"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Paid Amount"}),s.jsx("span",{className:"font-medium text-green-600",children:Yt.formatCurrency(a.paidAmount)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Pending Amount"}),s.jsx("span",{className:"font-medium text-yellow-600",children:Yt.formatCurrency(a.pendingAmount)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Overdue Amount"}),s.jsx("span",{className:"font-medium text-red-600",children:Yt.formatCurrency(a.overdueAmount)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Penalty"}),s.jsx("span",{className:"font-medium text-red-600",children:Yt.formatCurrency(a.totalPenaltyAmount)})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-2",children:"Report Period"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["From ",Yt.formatDate(r.period.startDate)," to ",Yt.formatDate(r.period.endDate)]})]})]})}),s.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})})},uY=({isOpen:e,onClose:t,memberId:r})=>{const[n,a]=N.useState(null),[i,l]=N.useState(!1),[o,c]=N.useState(null),A=N.useCallback(async()=>{if(r){l(!0),c(null);try{const d=await Yt.getMemberPaymentSummary(r);if(d.success&&d.data)a(d.data);else throw new Error(d.message||"Failed to load member payment summary")}catch(d){console.error("Error loading member payment summary:",d),c(d instanceof Error?d.message:"Failed to load member payment summary")}finally{l(!1)}}},[r]);return N.useEffect(()=>{e&&r&&A()},[e,r,A]),e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Vt,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Member Payment Summary"}),s.jsx("p",{className:"text-sm text-gray-600",children:(n==null?void 0:n.memberDetails.name)||"Loading..."})]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:s.jsx(rt,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.jsx(ia,{error:o,onRetry:A,onDismiss:()=>c(null),title:"Failed to load member summary"}),i?s.jsx(_d,{rows:5,columns:4}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Vt,{className:"w-5 h-5 text-blue-600 mr-2"}),"Member Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Name"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n.memberDetails.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Member ID"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n.memberDetails.memberId})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Email"}),s.jsx("p",{className:"text-lg text-gray-900",children:n.memberDetails.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Phone"}),s.jsx("p",{className:"text-lg text-gray-900",children:n.memberDetails.phoneNumber})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600 mr-2"}),"Payment Summary"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Payments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.paymentSummary.totalPayments})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cash Payments"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.paymentSummary.cashPayments})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Online Payments"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.paymentSummary.onlinePayments})]}),s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Payments"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.paymentSummary.pendingPayments})]})]}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Paid Amount"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:Yt.formatCurrency(n.paymentSummary.totalPaidAmount)})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(kt,{className:"w-5 h-5 text-purple-600 mr-2"}),"Investment Summary"]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Investments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.investmentSummary.totalInvestments})]}),s.jsx("div",{className:"space-y-4",children:n.investmentSummary.investments.map(d=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:d.planName}),s.jsx("p",{className:"text-sm text-gray-600",children:d.planType})]}),s.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${d.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:d.status})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Principal Amount"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Yt.formatCurrency(d.principalAmount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expected Maturity"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Yt.formatCurrency(d.expectedMaturityAmount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Paid"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:Yt.formatCurrency(d.paymentSummary.totalPaid)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completion"}),s.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:[d.paymentSummary.completionPercentage,"%"]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"EMI Progress"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[d.emiProgress.paid," of ",d.emiProgress.total," EMIs paid"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${d.emiProgress.paid/d.emiProgress.total*100}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsxs("span",{children:["Paid: ",d.emiProgress.paid]}),s.jsxs("span",{children:["Pending: ",d.emiProgress.pending]}),s.jsxs("span",{children:["Overdue: ",d.emiProgress.overdue]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Et,{className:"w-4 h-4 text-gray-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Next Due Date:"})]}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:Yt.formatDate(d.nextDueDate)})]})]},d.investmentId))})]})]}):s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ts,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"No data available"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Unable to load member payment summary"})]})})]}),s.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})}):null},Qk=wd.memo(()=>{const[e,t]=N.useState(null),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState(!1),[c,A]=N.useState(!1),[d,u]=N.useState(!1),[m,h]=N.useState(!1),[g,p]=N.useState(null),v=N.useCallback(async()=>{n(!0),i(null);try{const F=await Yt.getPaymentStatistics();if(F.success&&F.data)t(F.data);else throw new Error(F.message||"Failed to load payment statistics")}catch(F){console.error("Error loading payment statistics:",F),i(F instanceof Error?F.message:"Failed to load payment statistics")}finally{n(!1)}},[]);N.useEffect(()=>{v()},[v]);const x=N.useMemo(()=>e?{totalRevenue:e.paymentStatistics.totalAmount,pendingAmount:e.paymentStatistics.pendingAmount,overdueEMIs:e.emiStatistics.overdueEMIs,completionRate:Math.round(e.paymentStatistics.completedPayments/e.paymentStatistics.totalPayments*100)}:null,[e]),b=N.useCallback(()=>{o(!0)},[]),j=N.useCallback(()=>{A(!0)},[]),w=N.useCallback(()=>{u(!0)},[]);N.useCallback(F=>{p(F),h(!0)},[]);const S=N.useCallback(()=>{o(!1),A(!1),u(!1),h(!1),p(null)},[]);return r?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Qr,{className:"w-8 h-8 text-sky-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Payment Management"})]})}),s.jsx(Qg,{count:4})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Qr,{className:"w-8 h-8 text-sky-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Payment Management"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:w,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors","aria-label":"View detailed statistics",children:[s.jsx(kt,{className:"w-4 h-4"}),s.jsx("span",{children:"Statistics"})]}),s.jsx("button",{onClick:v,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors","aria-label":"Refresh statistics",children:s.jsx("span",{children:"Refresh"})})]})]}),s.jsx(ia,{error:a,onRetry:v,onDismiss:()=>i(null),title:"Failed to load payment data"}),e&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Yt.formatCurrency(e.paymentStatistics.totalAmount)})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(yt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Yt.formatCurrency(e.paymentStatistics.pendingAmount)})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(ts,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue EMIs"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.emiStatistics.overdueEMIs})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(Ft,{className:"w-6 h-6 text-red-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[(x==null?void 0:x.completionRate)||0,"%"]})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Me,{className:"w-6 h-6 text-blue-600"})})]})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx("button",{onClick:b,className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(yt,{className:"w-5 h-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Pending Cash Payments"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[(e==null?void 0:e.insights.pendingCashPayments)||0," payments pending verification"]})]})]})}),s.jsx("button",{onClick:j,className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(ts,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Pending EMIs"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[(e==null?void 0:e.emiStatistics.pendingEMIs)||0," EMIs pending payment"]})]})]})}),s.jsx("button",{onClick:w,className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(kt,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Payment Analytics"}),s.jsx("p",{className:"text-sm text-gray-500",children:"View detailed payment statistics"})]})]})})]})]}),e&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Payment Overview"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Payments"}),s.jsx("span",{className:"font-medium",children:e.paymentStatistics.totalPayments})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Completed Payments"}),s.jsx("span",{className:"font-medium text-green-600",children:e.paymentStatistics.completedPayments})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Pending Payments"}),s.jsx("span",{className:"font-medium text-yellow-600",children:e.paymentStatistics.pendingPayments})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Failed Payments"}),s.jsx("span",{className:"font-medium text-red-600",children:e.paymentStatistics.failedPayments})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"EMI Overview"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total EMIs"}),s.jsx("span",{className:"font-medium",children:e.emiStatistics.totalEMIs})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Paid EMIs"}),s.jsx("span",{className:"font-medium text-green-600",children:e.emiStatistics.paidEMIs})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Pending EMIs"}),s.jsx("span",{className:"font-medium text-yellow-600",children:e.emiStatistics.pendingEMIs})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Overdue EMIs"}),s.jsx("span",{className:"font-medium text-red-600",children:e.emiStatistics.overdueEMIs})]})]})]})]}),s.jsx(cY,{isOpen:l,onClose:S}),s.jsx(AY,{isOpen:c,onClose:S}),s.jsx(dY,{isOpen:d,onClose:S,statistics:e}),g&&s.jsx(uY,{isOpen:m,onClose:S,memberId:g})]})});Qk.displayName="PaymentManagement";const hY=({isOpen:e,onClose:t})=>{const[r,n]=N.useState([]),[a,i]=N.useState(!1),[l,o]=N.useState(null),[c,A]=N.useState(1),[d,u]=N.useState(1),[m,h]=N.useState(0),[g,p]=N.useState(!1),[v,x]=N.useState(!1),[b,j]=N.useState({page:1,limit:10}),[w,S]=N.useState(null),[F,I]=N.useState(null),[k,E]=N.useState({}),O=N.useCallback(async()=>{i(!0),o(null);try{const D=await Ht.getLoanRequests(b);if(D.success&&D.data)n(D.data.loanRequests),u(D.data.pagination.totalPages),h(D.data.pagination.totalRequests),p(D.data.pagination.totalPages>c),x(c>1),A(D.data.pagination.currentPage);else throw new Error(D.message||"Failed to load loan requests")}catch(D){console.error("Error loading loan requests:",D),o(D instanceof Error?D.message:"Failed to load loan requests")}finally{i(!1)}},[b,c]);N.useEffect(()=>{e&&O()},[e,O]);const L=N.useCallback(D=>{j(Y=>({...Y,page:D}))},[]),P=N.useCallback((D,Y)=>{j(re=>({...re,[D]:Y===""?void 0:Y,page:1}))},[]),U=N.useCallback(D=>{S(D),I("approve"),E({approvalNotes:""})},[]),R=N.useCallback(D=>{S(D),I("reject"),E({rejectionReason:""})},[]),V=N.useCallback(D=>{S(D),I("disburse"),E({disbursedAmount:D.loanAmount,disbursementMethod:"bank_transfer",disbursementReference:""})},[]),Z=N.useCallback(async()=>{if(!(!w||!F))try{let D;switch(F){case"approve":D=await Ht.approveLoanRequest(w.requestId,{approvalNotes:k.approvalNotes||""});break;case"reject":D=await Ht.rejectLoanRequest(w.requestId,{rejectionReason:k.rejectionReason||""});break;case"disburse":D=await Ht.disburseLoan(w.requestId,{disbursedAmount:k.disbursedAmount||0,disbursementMethod:k.disbursementMethod||"bank_transfer",disbursementReference:k.disbursementReference||""});break}if(D!=null&&D.success)Ie.success(`Loan ${F} successful`),I(null),S(null),E({}),O();else throw new Error((D==null?void 0:D.message)||`Failed to ${F} loan`)}catch(D){console.error(`Error ${F}ing loan:`,D),Ie.error(D instanceof Error?D.message:`Failed to ${F} loan`)}},[w,F,k,O]),ae=N.useCallback(D=>{switch(D.status){case"pending":return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>U(D),className:"text-green-600 hover:text-green-900","aria-label":`Approve loan for ${D.memberId.firstName} ${D.memberId.lastName}`,children:s.jsx(Me,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>R(D),className:"text-red-600 hover:text-red-900","aria-label":`Reject loan for ${D.memberId.firstName} ${D.memberId.lastName}`,children:s.jsx(Ft,{className:"w-4 h-4"})})]});case"approved":return s.jsx("button",{onClick:()=>V(D),className:"text-blue-600 hover:text-blue-900","aria-label":`Disburse loan for ${D.memberId.firstName} ${D.memberId.lastName}`,children:s.jsx(yt,{className:"w-4 h-4"})});default:return s.jsx("span",{className:"text-gray-400",children:s.jsx(xs,{className:"w-4 h-4"})})}},[U,R,V]);return e?s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-7xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(yo,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Loan Requests"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[m," loan requests"]})]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:s.jsx(rt,{size:20})})]}),s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{onChange:D=>P("status",D.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filter by status",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"disbursed",children:"Disbursed"}),s.jsx("option",{value:"completed",children:"Completed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member ID"}),s.jsx("input",{type:"text",placeholder:"Filter by member ID",onChange:D=>P("memberId",D.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filter by member ID"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),s.jsx("input",{type:"date",onChange:D=>P("startDate",D.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filter from date"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),s.jsx("input",{type:"date",onChange:D=>P("endDate",D.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filter to date"})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.jsx(ia,{error:l,onRetry:O,onDismiss:()=>o(null),title:"Failed to load loan requests"}),a?s.jsx(_d,{rows:5,columns:7}):r.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Me,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"No loan requests found"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"All loan requests have been processed"})]})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",role:"table","aria-label":"Loan requests table",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loan Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purpose"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-semibold",children:D.memberId.firstName.charAt(0)})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[D.memberId.firstName," ",D.memberId.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:D.memberId.memberId})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ht.formatCurrency(D.loanAmount)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Ht.getLoanPurposeColor(D.loanPurpose)}`,children:D.loanPurpose})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Ht.getLoanStatusColor(D.status)}`,children:D.status.charAt(0).toUpperCase()+D.status.slice(1)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Ht.formatDate(D.createdAt)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:ae(D)})]},D.requestId))})]})}),r.length>0&&s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",r.length," of ",m," loan requests"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>L(c-1),disabled:!v,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50","aria-label":"Go to previous page",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-sm","aria-live":"polite",children:["Page ",c," of ",d]}),s.jsx("button",{onClick:()=>L(c+1),disabled:!g,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50","aria-label":"Go to next page",children:"Next"})]})]})]}),s.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]}),F&&w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:[F==="approve"&&"Approve Loan",F==="reject"&&"Reject Loan",F==="disburse"&&"Disburse Loan"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Member: ",w.memberId.firstName," ",w.memberId.lastName]}),s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Amount: ",Ht.formatCurrency(w.loanAmount)]})]}),F==="approve"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approval Notes"}),s.jsx("textarea",{value:k.approvalNotes||"",onChange:D=>E(Y=>({...Y,approvalNotes:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Enter approval notes...","aria-label":"Approval notes"})]}),F==="reject"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rejection Reason"}),s.jsx("textarea",{value:k.rejectionReason||"",onChange:D=>E(Y=>({...Y,rejectionReason:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Enter rejection reason...","aria-label":"Rejection reason"})]}),F==="disburse"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disbursed Amount"}),s.jsx("input",{type:"number",value:k.disbursedAmount||0,onChange:D=>E(Y=>({...Y,disbursedAmount:parseFloat(D.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Disbursed amount"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disbursement Method"}),s.jsxs("select",{value:k.disbursementMethod||"bank_transfer",onChange:D=>E(Y=>({...Y,disbursementMethod:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Disbursement method",children:[s.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),s.jsx("option",{value:"cash",children:"Cash"}),s.jsx("option",{value:"cheque",children:"Cheque"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),s.jsx("input",{type:"text",value:k.disbursementReference||"",onChange:D=>E(Y=>({...Y,disbursementReference:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter reference number...","aria-label":"Reference number"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>I(null),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:Z,className:`px-4 py-2 text-white rounded-lg transition-colors ${F==="approve"?"bg-green-600 hover:bg-green-700":F==="reject"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:[F==="approve"&&"Approve",F==="reject"&&"Reject",F==="disburse"&&"Disburse"]})]})]})})]}):null},mY=({isOpen:e,onClose:t,statistics:r})=>!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(bo,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Loan Statistics"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive loan analytics and insights"})]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:s.jsx(rt,{size:20})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600 mr-2"}),"Overview Statistics"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r.totalRequests})]}),s.jsx(bo,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Loan Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Ht.formatCurrency(r.totalLoanAmount)})]}),s.jsx(yt,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Requests"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:r.additionalStats.totalPendingRequests})]}),s.jsx(Qt,{className:"w-8 h-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved Requests"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.additionalStats.totalApprovedRequests})]}),s.jsx(Me,{className:"w-8 h-8 text-green-600"})]})})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(kt,{className:"w-5 h-5 text-purple-600 mr-2"}),"Status Breakdown"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.statusBreakdown.map(n=>s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Ht.getLoanStatusColor(n.status)}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)}),s.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[n.count," requests"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),s.jsx("span",{className:"font-medium",children:Ht.formatCurrency(n.totalAmount)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Average Amount:"}),s.jsx("span",{className:"font-medium",children:Ht.formatCurrency(n.averageAmount)})]})]})]},n.status))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:"Request Status Summary"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Pending Requests"}),s.jsx("span",{className:"font-medium text-yellow-600",children:r.additionalStats.totalPendingRequests})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Approved Requests"}),s.jsx("span",{className:"font-medium text-green-600",children:r.additionalStats.totalApprovedRequests})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Disbursed Loans"}),s.jsx("span",{className:"font-medium text-blue-600",children:r.additionalStats.totalDisbursedLoans})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Requests"}),s.jsx("span",{className:"font-medium",children:r.totalRequests})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:"Amount Summary"}),s.jsxs("div",{className:"space-y-3",children:[r.statusBreakdown.map(n=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-sm text-gray-600 capitalize",children:[n.status," Amount"]}),s.jsx("span",{className:"font-medium",children:Ht.formatCurrency(n.totalAmount)})]},n.status)),s.jsx("div",{className:"border-t pt-2",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Total Loan Amount"}),s.jsx("span",{className:"font-bold text-lg",children:Ht.formatCurrency(r.totalLoanAmount)})]})})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-4",children:"Status Distribution"}),s.jsx("div",{className:"space-y-3",children:r.statusBreakdown.map(n=>{const a=Math.round(n.count/r.totalRequests*100);return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:n.status}),s.jsxs("span",{className:"text-sm text-gray-600",children:[n.count," (",a,"%)"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${n.status==="pending"?"bg-yellow-500":n.status==="approved"?"bg-green-500":n.status==="disbursed"?"bg-blue-500":n.status==="rejected"?"bg-red-500":"bg-gray-500"}`,style:{width:`${a}%`}})})]},n.status)})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-2",children:"Key Insights"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsxs("p",{children:[" Average loan amount: ",Ht.formatCurrency(r.totalLoanAmount/r.totalRequests)]}),s.jsxs("p",{children:[" Approval rate: ",Math.round(r.additionalStats.totalApprovedRequests/r.totalRequests*100),"%"]})]}),s.jsxs("div",{children:[s.jsxs("p",{children:[" Disbursement rate: ",Math.round(r.additionalStats.totalDisbursedLoans/r.totalRequests*100),"%"]}),s.jsxs("p",{children:[" Pending rate: ",Math.round(r.additionalStats.totalPendingRequests/r.totalRequests*100),"%"]})]})]})]})]})}),s.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})}),fY=({isOpen:e,onClose:t,memberId:r})=>{const[n,a]=N.useState(null),[i,l]=N.useState(!1),[o,c]=N.useState(null),A=N.useCallback(async()=>{if(r){l(!0),c(null);try{const d=await Ht.getMemberLoanSummary(r);if(d.success&&d.data)a(d.data);else throw new Error(d.message||"Failed to load member loan summary")}catch(d){console.error("Error loading member loan summary:",d),c(d instanceof Error?d.message:"Failed to load member loan summary")}finally{l(!1)}}},[r]);return N.useEffect(()=>{e&&r&&A()},[e,r,A]),e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Vt,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Member Loan Summary"}),s.jsx("p",{className:"text-sm text-gray-600",children:(n==null?void 0:n.member.name)||"Loading..."})]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:s.jsx(rt,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.jsx(ia,{error:o,onRetry:A,onDismiss:()=>c(null),title:"Failed to load member summary"}),i?s.jsx(_d,{rows:5,columns:4}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Vt,{className:"w-5 h-5 text-blue-600 mr-2"}),"Member Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Name"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n.member.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Member ID"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n.member.memberId})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Email"}),s.jsx("p",{className:"text-lg text-gray-900",children:n.member.email})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600 mr-2"}),"Loan Summary"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Loans"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.totalLoans})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Loan Amount"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Ht.formatCurrency(n.totalLoanAmount)})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Disbursed Amount"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:Ht.formatCurrency(n.totalDisbursedAmount)})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Amount"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Ht.formatCurrency(n.totalLoanAmount-n.totalDisbursedAmount)})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(kt,{className:"w-5 h-5 text-purple-600 mr-2"}),"Status Breakdown"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),s.jsx("p",{className:"text-xl font-bold text-yellow-600",children:n.statusBreakdown.pending})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),s.jsx("p",{className:"text-xl font-bold text-green-600",children:n.statusBreakdown.approved})]}),s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Disbursed"}),s.jsx("p",{className:"text-xl font-bold text-blue-600",children:n.statusBreakdown.disbursed})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-xl font-bold text-gray-600",children:n.statusBreakdown.completed})]}),s.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),s.jsx("p",{className:"text-xl font-bold text-red-600",children:n.statusBreakdown.rejected})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Et,{className:"w-5 h-5 text-orange-600 mr-2"}),"Loan Requests"]}),s.jsx("div",{className:"space-y-4",children:n.loanRequests.map(d=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:["Request #",d.requestId]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Loan Amount: ",Ht.formatCurrency(d.loanAmount)]})]}),s.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${Ht.getLoanStatusColor(d.status)}`,children:d.status.charAt(0).toUpperCase()+d.status.slice(1)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Disbursed Amount"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Ht.formatCurrency(d.disbursedAmount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total EMIs"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:d.emiCount})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid EMIs"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:d.paidEMIs})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending EMIs"}),s.jsx("p",{className:"text-lg font-semibold text-yellow-600",children:d.pendingEMIs})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"EMI Progress"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[d.paidEMIs," of ",d.emiCount," EMIs paid"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Ht.calculateEMIProgress(d.paidEMIs,d.emiCount)}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsxs("span",{children:["Paid: ",d.paidEMIs]}),s.jsxs("span",{children:["Pending: ",d.pendingEMIs]}),s.jsxs("span",{children:["Progress: ",Ht.calculateEMIProgress(d.paidEMIs,d.emiCount),"%"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Me,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Paid EMIs: ",d.paidEMIs]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qt,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Pending EMIs: ",d.pendingEMIs]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(kt,{className:"w-4 h-4 text-blue-500 mr-1"}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Completion: ",Ht.calculateEMIProgress(d.paidEMIs,d.emiCount),"%"]})]})]})]},d.requestId))})]})]}):s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ts,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"No data available"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Unable to load member loan summary"})]})})]}),s.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})}):null},Pk=wd.memo(()=>{const[e,t]=N.useState(null),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState(!1),[c,A]=N.useState(!1),[d,u]=N.useState(!1),[m,h]=N.useState(null),g=N.useCallback(async()=>{n(!0),i(null);try{const j=await Ht.getLoanStatistics();if(j.success&&j.data)t(j.data);else throw new Error(j.message||"Failed to load loan statistics")}catch(j){console.error("Error loading loan statistics:",j),i(j instanceof Error?j.message:"Failed to load loan statistics")}finally{n(!1)}},[]);N.useEffect(()=>{g()},[g]);const p=N.useMemo(()=>{var j,w,S;return e?{totalLoanAmount:e.totalLoanAmount,pendingAmount:((j=e.statusBreakdown.find(F=>F.status==="pending"))==null?void 0:j.totalAmount)||0,approvedAmount:((w=e.statusBreakdown.find(F=>F.status==="approved"))==null?void 0:w.totalAmount)||0,disbursedAmount:((S=e.statusBreakdown.find(F=>F.status==="disbursed"))==null?void 0:S.totalAmount)||0}:null},[e]),v=N.useCallback(()=>{o(!0)},[]),x=N.useCallback(()=>{A(!0)},[]);N.useCallback(j=>{h(j),u(!0)},[]);const b=N.useCallback(()=>{o(!1),A(!1),u(!1),h(null)},[]);return r?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(yo,{className:"w-8 h-8 text-sky-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Loan Management"})]})}),s.jsx(Qg,{count:4})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(yo,{className:"w-8 h-8 text-sky-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Loan Management"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:x,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors","aria-label":"View detailed statistics",children:[s.jsx(kt,{className:"w-4 h-4"}),s.jsx("span",{children:"Statistics"})]}),s.jsx("button",{onClick:g,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors","aria-label":"Refresh statistics",children:s.jsx("span",{children:"Refresh"})})]})]}),s.jsx(ia,{error:a,onRetry:g,onDismiss:()=>i(null),title:"Failed to load loan data"}),e&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Loan Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Ht.formatCurrency(e.totalLoanAmount)})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(yt,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Ht.formatCurrency((p==null?void 0:p.pendingAmount)||0)})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(Qt,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Ht.formatCurrency((p==null?void 0:p.approvedAmount)||0)})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Me,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Disbursed Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Ht.formatCurrency((p==null?void 0:p.disbursedAmount)||0)})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(yo,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx("button",{onClick:v,className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(ts,{className:"w-5 h-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Loan Requests"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[(e==null?void 0:e.additionalStats.totalPendingRequests)||0," requests pending review"]})]})]})}),s.jsx("button",{onClick:x,className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(kt,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Loan Analytics"}),s.jsx("p",{className:"text-sm text-gray-500",children:"View detailed loan statistics"})]})]})}),s.jsx("button",{onClick:v,className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Me,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Approved Loans"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[(e==null?void 0:e.additionalStats.totalApprovedRequests)||0," loans approved"]})]})]})})]})]}),e&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Loan Status Overview"}),s.jsx("div",{className:"space-y-3",children:e.statusBreakdown.map(j=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Ht.getLoanStatusColor(j.status)}`,children:j.status.charAt(0).toUpperCase()+j.status.slice(1)}),s.jsxs("span",{className:"text-sm text-gray-600",children:["(",j.count,")"]})]}),s.jsx("span",{className:"font-medium",children:Ht.formatCurrency(j.totalAmount)})]},j.status))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Loan Summary"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Requests"}),s.jsx("span",{className:"font-medium",children:e.totalRequests})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Pending Requests"}),s.jsx("span",{className:"font-medium text-yellow-600",children:e.additionalStats.totalPendingRequests})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Approved Requests"}),s.jsx("span",{className:"font-medium text-green-600",children:e.additionalStats.totalApprovedRequests})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Disbursed Loans"}),s.jsx("span",{className:"font-medium text-blue-600",children:e.additionalStats.totalDisbursedLoans})]})]})]})]}),s.jsx(hY,{isOpen:l,onClose:b}),s.jsx(mY,{isOpen:c,onClose:b,statistics:e}),m&&s.jsx(fY,{isOpen:d,onClose:b,memberId:m})]})});Pk.displayName="LoanManagement";const xY=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=N.useState([]),[i,l]=N.useState(!1),[o,c]=N.useState(null),[A,d]=N.useState({images:[],category:"gallery",isPublic:!0,isFeatured:!1,tags:""}),u=N.useCallback(x=>{if(!x)return;const b=[],j=10,w=n.length;if(w+x.length>j){c(`You can only upload up to ${j} files at once. Currently have ${w} files.`);return}Array.from(x).forEach(S=>{const F=Ss.validateImageFile(S),I=Ss.generatePreviewUrl(S);b.push({file:S,preview:I,isValid:F.isValid,error:F.error})}),a(S=>[...S,...b]),c(null)},[n.length]),m=N.useCallback(x=>{const b=n[x];Ss.revokePreviewUrl(b.preview),a(j=>j.filter((w,S)=>S!==x))},[n]),h=N.useCallback(x=>{x.preventDefault(),x.stopPropagation()},[]),g=N.useCallback(x=>{x.preventDefault(),x.stopPropagation(),u(x.dataTransfer.files)},[u]),p=N.useCallback(async()=>{var b;if(n.length===0){c("Please select at least one file to upload");return}const x=n.filter(j=>j.isValid);if(x.length===0){c("No valid files to upload");return}l(!0),c(null);try{const j={...A,images:x.map(S=>S.file)},w=await Ss.uploadThumbnails(j);if(w.success)Ie.success(`${((b=w.data)==null?void 0:b.totalUploaded)||0} thumbnails uploaded successfully`),r(),v();else throw new Error(w.message||"Failed to upload thumbnails")}catch(j){console.error("Error uploading thumbnails:",j),c(j instanceof Error?j.message:"Failed to upload thumbnails")}finally{l(!1)}},[n,A,r]),v=N.useCallback(()=>{n.forEach(x=>{Ss.revokePreviewUrl(x.preview)}),a([]),c(null),d({images:[],category:"gallery",isPublic:!0,isFeatured:!1,tags:""}),t()},[n,t]);return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(K0,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upload Thumbnails"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Upload up to 10 images with automatic thumbnail generation"})]})]}),s.jsx("button",{onClick:v,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:s.jsx(rt,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.jsx(ia,{error:o,onDismiss:()=>c(null),title:"Upload failed"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors",onDragOver:h,onDrop:g,children:[s.jsx(K0,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop files here or click to browse"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Supports JPEG, PNG, GIF, WebP up to 10MB each"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:x=>u(x.target.files),className:"hidden",id:"file-upload"}),s.jsx("label",{htmlFor:"file-upload",className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg cursor-pointer transition-colors",children:"Choose Files"})]}),n.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Selected Files (",n.length,"/10)"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((x,b)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:x.preview,alt:x.file.name,className:"w-full h-32 object-cover rounded-lg"}),s.jsx("button",{onClick:()=>m(b),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors","aria-label":`Remove ${x.file.name}`,children:s.jsx(yn,{className:"w-4 h-4"})}),x.isValid?s.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white p-1 rounded-full",children:s.jsx(Me,{className:"w-4 h-4"})}):s.jsx("div",{className:"absolute top-2 left-2 bg-red-500 text-white p-1 rounded-full",children:s.jsx(pt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x.file.name}),s.jsx("p",{className:"text-xs text-gray-500",children:Ss.formatFileSize(x.file.size)}),x.error&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.error})]})]},b))})]}),s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsx("select",{value:A.category,onChange:x=>d(b=>({...b,category:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Select category",children:Ss.getCategories().map(x=>s.jsx("option",{value:x.value,children:x.label},x.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),s.jsx("input",{type:"text",value:A.tags,onChange:x=>d(b=>({...b,tags:x.target.value})),placeholder:"Enter tags separated by commas",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Enter tags"})]})]}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:A.isPublic,onChange:x=>d(b=>({...b,isPublic:x.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Make public"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:A.isFeatured,onChange:x=>d(b=>({...b,isFeatured:x.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mark as featured"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t bg-gray-50",children:[s.jsx("button",{onClick:v,className:"px-6 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",disabled:i,children:"Cancel"}),s.jsx("button",{onClick:p,disabled:i||n.length===0,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Uploading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(K0,{className:"w-4 h-4"}),s.jsxs("span",{children:["Upload ",n.length," Files"]})]})})]})]})}):null},gY=({isOpen:e,onClose:t,thumbnail:r,onSuccess:n})=>{var m;const[a,i]=N.useState(!1),[l,o]=N.useState(null),[c,A]=N.useState({title:r.title,description:r.description,category:r.category,status:r.status,isPublic:r.isPublic,isFeatured:r.isFeatured,altText:r.altText,tags:r.tags});N.useEffect(()=>{e&&A({title:r.title,description:r.description,category:r.category,status:r.status,isPublic:r.isPublic,isFeatured:r.isFeatured,altText:r.altText,tags:r.tags})},[e,r]);const d=N.useCallback(async()=>{i(!0),o(null);try{const h=await Ss.updateThumbnail(r.thumbnailId,c);if(h.success)Ie.success("Thumbnail updated successfully"),n(),t();else throw new Error(h.message||"Failed to update thumbnail")}catch(h){console.error("Error updating thumbnail:",h),o(h instanceof Error?h.message:"Failed to update thumbnail")}finally{i(!1)}},[r.thumbnailId,c,n,t]),u=N.useCallback(()=>{o(null),t()},[t]);return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(xc,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Thumbnail"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Update thumbnail information"})]})]}),s.jsx("button",{onClick:u,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:s.jsx(rt,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.jsx(ia,{error:l,onDismiss:()=>o(null),title:"Update failed"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Thumbnail Preview"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:r.thumbnailUrl,alt:r.altText,className:"w-24 h-24 object-cover rounded-lg border border-gray-200"})}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"File Name"}),s.jsx("p",{className:"text-gray-600",children:r.fileName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"File Size"}),s.jsx("p",{className:"text-gray-600",children:Ss.formatFileSize(r.fileSize)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Dimensions"}),s.jsxs("p",{className:"text-gray-600",children:[r.dimensions.width,"  ",r.dimensions.height]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Uploaded"}),s.jsx("p",{className:"text-gray-600",children:Ss.formatDate(r.createdAt)})]})]})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),s.jsx("input",{type:"text",value:c.title,onChange:h=>A(g=>({...g,title:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter thumbnail title","aria-label":"Thumbnail title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:c.description,onChange:h=>A(g=>({...g,description:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Enter thumbnail description","aria-label":"Thumbnail description"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alt Text *"}),s.jsx("input",{type:"text",value:c.altText,onChange:h=>A(g=>({...g,altText:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter alt text for accessibility","aria-label":"Alt text"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsx("select",{value:c.category,onChange:h=>A(g=>({...g,category:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Select category",children:Ss.getCategories().map(h=>s.jsx("option",{value:h.value,children:h.label},h.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsx("select",{value:c.status,onChange:h=>A(g=>({...g,status:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Select status",children:Ss.getStatuses().map(h=>s.jsx("option",{value:h.value,children:h.label},h.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),s.jsx("input",{type:"text",value:((m=c.tags)==null?void 0:m.join(", "))||"",onChange:h=>A(g=>({...g,tags:h.target.value.split(",").map(p=>p.trim()).filter(p=>p.length>0)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter tags separated by commas","aria-label":"Tags"})]}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:c.isPublic,onChange:h=>A(g=>({...g,isPublic:h.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Make public"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:c.isFeatured,onChange:h=>A(g=>({...g,isFeatured:h.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mark as featured"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t bg-gray-50",children:[s.jsx("button",{onClick:u,className:"px-6 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",disabled:a,children:"Cancel"}),s.jsx("button",{onClick:d,disabled:a||!c.title||!c.altText,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(gc,{className:"w-4 h-4"}),s.jsx("span",{children:"Save Changes"})]})})]})]})}):null},pY=({isOpen:e,onClose:t,thumbnail:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(xv,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thumbnail Details"}),s.jsx("p",{className:"text-sm text-gray-600",children:r.title})]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:s.jsx(rt,{size:20})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:r.originalImageUrl,alt:r.altText,className:"w-full h-auto rounded-lg border border-gray-200"}),s.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[r.isFeatured&&s.jsxs("span",{className:"bg-yellow-500 text-white px-3 py-1 rounded-full text-sm flex items-center space-x-1",children:[s.jsx(md,{className:"w-4 h-4"}),s.jsx("span",{children:"Featured"})]}),r.isPublic?s.jsxs("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm flex items-center space-x-1",children:[s.jsx(hd,{className:"w-4 h-4"}),s.jsx("span",{children:"Public"})]}):s.jsxs("span",{className:"bg-gray-500 text-white px-3 py-1 rounded-full text-sm flex items-center space-x-1",children:[s.jsx(Fg,{className:"w-4 h-4"}),s.jsx("span",{children:"Private"})]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("a",{href:r.originalImageUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[s.jsx(xv,{className:"w-4 h-4"}),s.jsx("span",{children:"View Original"})]}),s.jsxs("a",{href:r.originalImageUrl,download:r.fileName,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{children:"Download"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Basic Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Title"}),s.jsx("p",{className:"text-gray-900",children:r.title})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Description"}),s.jsx("p",{className:"text-gray-900",children:r.description||"No description provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Alt Text"}),s.jsx("p",{className:"text-gray-900",children:r.altText})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"File Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"File Name"}),s.jsx("p",{className:"text-gray-900 text-sm",children:r.fileName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"File Size"}),s.jsx("p",{className:"text-gray-900 text-sm",children:Ss.formatFileSize(r.fileSize)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Dimensions"}),s.jsxs("p",{className:"text-gray-900 text-sm",children:[r.dimensions.width,"  ",r.dimensions.height]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"MIME Type"}),s.jsx("p",{className:"text-gray-900 text-sm",children:r.mimeType})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Categorization"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Category"}),s.jsx("span",{className:`inline-block px-3 py-1 text-sm font-semibold rounded-full ${Ss.getCategoryColor(r.category)}`,children:r.category})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Status"}),s.jsx("span",{className:`inline-block px-3 py-1 text-sm font-semibold rounded-full ${Ss.getStatusColor(r.status)}`,children:r.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Display Order"}),s.jsx("p",{className:"text-gray-900",children:r.displayOrder})]})]})]}),r.tags&&r.tags.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map((n,a)=>s.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center space-x-1",children:[s.jsx(oD,{className:"w-3 h-3"}),s.jsx("span",{children:n})]},a))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Upload Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Uploaded By"}),s.jsxs("p",{className:"text-gray-900 flex items-center space-x-2",children:[s.jsx(Vt,{className:"w-4 h-4"}),s.jsxs("span",{children:[r.uploadedBy.firstName," ",r.uploadedBy.lastName]})]}),s.jsx("p",{className:"text-gray-500 text-sm",children:r.uploadedBy.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Uploaded Date"}),s.jsxs("p",{className:"text-gray-900 flex items-center space-x-2",children:[s.jsx(Et,{className:"w-4 h-4"}),s.jsx("span",{children:Ss.formatDateTime(r.createdAt)})]})]}),r.updatedAt!==r.createdAt&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Last Updated"}),s.jsxs("p",{className:"text-gray-900 flex items-center space-x-2",children:[s.jsx(Et,{className:"w-4 h-4"}),s.jsx("span",{children:Ss.formatDateTime(r.updatedAt)})]})]})]})]})]})]})}),s.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})}):null,Dk=wd.memo(()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null),[l,o]=N.useState("grid"),[c,A]=N.useState({page:1,limit:12}),[d,u]=N.useState(1),[m,h]=N.useState(1),[g,p]=N.useState(0),[v,x]=N.useState(!1),[b,j]=N.useState(!1),[w,S]=N.useState(!1),[F,I]=N.useState(!1),[k,E]=N.useState(!1),[O,L]=N.useState(null),P=N.useCallback(async()=>{n(!0),i(null);try{const _=await Ss.getThumbnails(c);if(_.success&&_.data)t(_.data.thumbnails),h(_.data.pagination.totalPages),p(_.data.pagination.totalThumbnails),x(_.data.pagination.hasNext),j(_.data.pagination.hasPrev),u(_.data.pagination.currentPage);else throw new Error(_.message||"Failed to load thumbnails")}catch(_){console.error("Error loading thumbnails:",_),i(_ instanceof Error?_.message:"Failed to load thumbnails")}finally{n(!1)}},[c]);N.useEffect(()=>{P()},[P]);const U=N.useMemo(()=>({total:e.length,active:e.filter(_=>_.status==="active").length,featured:e.filter(_=>_.isFeatured).length,public:e.filter(_=>_.isPublic).length}),[e]),R=N.useCallback(_=>{A(z=>({...z,page:_}))},[]),V=N.useCallback((_,z)=>{A(G=>({...G,[_]:z===""?void 0:z,page:1}))},[]),Z=N.useCallback(_=>{L(_),E(!0)},[]),ae=N.useCallback(_=>{L(_),I(!0)},[]),D=N.useCallback(async _=>{if(window.confirm("Are you sure you want to delete this thumbnail?"))try{const z=await Ss.deleteThumbnail(_);if(z.success)P();else throw new Error(z.message||"Failed to delete thumbnail")}catch(z){console.error("Error deleting thumbnail:",z),i(z instanceof Error?z.message:"Failed to delete thumbnail")}},[P]),Y=N.useCallback(()=>{S(!1),I(!1),E(!1),L(null)},[]),re=N.useCallback(()=>{P()},[P]),q=N.useCallback(()=>{P()},[P]);return r&&e.length===0?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(xc,{className:"w-8 h-8 text-sky-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Thumbnail Management"})]})}),s.jsx(Qg,{count:4})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(xc,{className:"w-8 h-8 text-sky-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Thumbnail Management"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>S(!0),className:"bg-sky-500 hover:bg-sky-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors","aria-label":"Upload thumbnails",children:[s.jsx(Er,{className:"w-4 h-4"}),s.jsx("span",{children:"Upload"})]}),s.jsx("button",{onClick:P,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors","aria-label":"Refresh thumbnails",children:s.jsx("span",{children:"Refresh"})})]})]}),s.jsx(ia,{error:a,onRetry:P,onDismiss:()=>i(null),title:"Failed to load thumbnails"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Thumbnails"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:U.total})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(xc,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:U.active})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(xs,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Featured"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:U.featured})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(md,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Public"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:U.public})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(hd,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsxs("select",{onChange:_=>V("category",_.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filter by category",children:[s.jsx("option",{value:"",children:"All Categories"}),Ss.getCategories().map(_=>s.jsx("option",{value:_.value,children:_.label},_.value))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{onChange:_=>V("status",_.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filter by status",children:[s.jsx("option",{value:"",children:"All Statuses"}),Ss.getStatuses().map(_=>s.jsx("option",{value:_.value,children:_.label},_.value))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),s.jsx("input",{type:"text",placeholder:"Search thumbnails...",onChange:_=>V("search",_.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Search thumbnails"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>o("grid"),className:`p-2 rounded-lg transition-colors ${l==="grid"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,"aria-label":"Grid view",children:s.jsx(tD,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>o("list"),className:`p-2 rounded-lg transition-colors ${l==="list"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,"aria-label":"List view",children:s.jsx(rD,{className:"w-5 h-5"})})]})]})}),r?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((_,z)=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"bg-gray-200 h-48 rounded-lg mb-4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"bg-gray-200 h-4 rounded"}),s.jsx("div",{className:"bg-gray-200 h-3 rounded w-2/3"})]})]})},z))}):e.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"No thumbnails found"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Upload some thumbnails to get started"})]})}):l==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(_=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:_.thumbnailUrl,alt:_.altText,className:"w-full h-48 object-cover"}),s.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[_.isFeatured&&s.jsxs("span",{className:"bg-yellow-500 text-white px-2 py-1 rounded-full text-xs",children:[s.jsx(md,{className:"w-3 h-3 inline mr-1"}),"Featured"]}),_.isPublic?s.jsxs("span",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs",children:[s.jsx(hd,{className:"w-3 h-3 inline mr-1"}),"Public"]}):s.jsxs("span",{className:"bg-gray-500 text-white px-2 py-1 rounded-full text-xs",children:[s.jsx(Fg,{className:"w-3 h-3 inline mr-1"}),"Private"]})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:_.title}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:_.description}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Ss.getCategoryColor(_.category)}`,children:_.category}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:()=>Z(_),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors","aria-label":`View ${_.title}`,children:s.jsx(xs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ae(_),className:"p-1 text-gray-400 hover:text-green-600 transition-colors","aria-label":`Edit ${_.title}`,children:s.jsx(Ea,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>D(_.thumbnailId),className:"p-1 text-gray-400 hover:text-red-600 transition-colors","aria-label":`Delete ${_.title}`,children:s.jsx(yn,{className:"w-4 h-4"})})]})]})]})]},_.thumbnailId))}):s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",role:"table","aria-label":"Thumbnails table",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thumbnail"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(_=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("img",{src:_.thumbnailUrl,alt:_.altText,className:"w-16 h-16 object-cover rounded-lg"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.title}),s.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:_.description})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Ss.getCategoryColor(_.category)}`,children:_.category})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Ss.getStatusColor(_.status)}`,children:_.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Ss.formatFileSize(_.fileSize)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>Z(_),className:"text-blue-600 hover:text-blue-900","aria-label":`View ${_.title}`,children:s.jsx(xs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ae(_),className:"text-green-600 hover:text-green-900","aria-label":`Edit ${_.title}`,children:s.jsx(Ea,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>D(_.thumbnailId),className:"text-red-600 hover:text-red-900","aria-label":`Delete ${_.title}`,children:s.jsx(yn,{className:"w-4 h-4"})})]})})]},_.thumbnailId))})]})})}),e.length>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",g," thumbnails"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>R(d-1),disabled:!b,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50","aria-label":"Go to previous page",children:"Previous"}),s.jsxs("span",{className:"px-3 py-1 text-sm","aria-live":"polite",children:["Page ",d," of ",m]}),s.jsx("button",{onClick:()=>R(d+1),disabled:!v,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50","aria-label":"Go to next page",children:"Next"})]})]}),s.jsx(xY,{isOpen:w,onClose:Y,onSuccess:re}),O&&s.jsxs(s.Fragment,{children:[s.jsx(gY,{isOpen:F,onClose:Y,thumbnail:O,onSuccess:q}),s.jsx(pY,{isOpen:k,onClose:Y,thumbnail:O})]})]})});Dk.displayName="ThumbnailManagement";class l2{static async getPendingRequests(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.userType&&r.append("userType",t.userType),t.search&&r.append("search",t.search),t.requestDateFrom&&r.append("requestDateFrom",t.requestDateFrom),t.requestDateTo&&r.append("requestDateTo",t.requestDateTo),t.investmentAmountMin&&r.append("investmentAmountMin",t.investmentAmountMin.toString()),t.investmentAmountMax&&r.append("investmentAmountMax",t.investmentAmountMax.toString());const n=r.toString(),a=n?`${Xe.CD_INVESTMENT.PENDING_REQUESTS}?${n}`:Xe.CD_INVESTMENT.PENDING_REQUESTS;return(await pe.get(a)).data}static async getAllInvestments(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.status&&r.append("status",t.status),t.userType&&r.append("userType",t.userType),t.search&&r.append("search",t.search),t.requestDateFrom&&r.append("requestDateFrom",t.requestDateFrom),t.requestDateTo&&r.append("requestDateTo",t.requestDateTo),t.investmentAmountMin&&r.append("investmentAmountMin",t.investmentAmountMin.toString()),t.investmentAmountMax&&r.append("investmentAmountMax",t.investmentAmountMax.toString());const n=r.toString(),a=n?`${Xe.CD_INVESTMENT.ALL_INVESTMENTS}?${n}`:Xe.CD_INVESTMENT.ALL_INVESTMENTS;console.log("CD Investment Service - Making request to:",a),console.log("CD Investment Service - Filters:",t);const i=await pe.get(a);return console.log("CD Investment Service - Raw response:",i),i.data}static async approveRequest(t,r){return(await pe.patch(Xe.CD_INVESTMENT.APPROVE(t),r)).data}static async rejectRequest(t,r){return(await pe.patch(Xe.CD_INVESTMENT.REJECT(t),r)).data}static async getCDInvestmentById(t){return(await pe.get(`/admin/cd-investment/${t}`)).data}}const yY=({isOpen:e,onClose:t,onSuccess:r,investment:n})=>{const[a,i]=N.useState(""),[l,o]=N.useState(!1),[c,A]=N.useState(null),d=async m=>{var h,g;if(m.preventDefault(),!!n){o(!0),A(null);try{const p={adminNotes:a.trim()||void 0};await l2.approveRequest(n.cdId,p),r(),t(),i("")}catch(p){A(((g=(h=p.response)==null?void 0:h.data)==null?void 0:g.message)||"Failed to approve CD investment request")}finally{o(!1)}}},u=()=>{l||(i(""),A(null),t())};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Me,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Approve CD Investment"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Review and approve this CD investment request"})]})]}),s.jsx("button",{onClick:u,disabled:l,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:s.jsx(rt,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Investment Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"CD ID"}),s.jsx("p",{className:"text-sm text-gray-900 font-mono",children:n.cdId})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"User Type"}),s.jsx("p",{className:"text-sm text-gray-900",children:n.userType})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Investor Name"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[n.userId.firstName," ",n.userId.lastName]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-900",children:n.userEmail})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Investment Amount"}),s.jsxs("p",{className:"text-sm text-gray-900 font-semibold",children:["",n.investmentAmount.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Tenure"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[n.tenureMonths," months"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Interest Rate"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[n.interestRate,"%"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Maturity Amount"}),s.jsxs("p",{className:"text-sm text-gray-900 font-semibold text-green-600",children:["",n.maturityAmount.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Interest"}),s.jsxs("p",{className:"text-sm text-gray-900 font-semibold text-blue-600",children:["",n.totalInterest.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Request Date"}),s.jsx("p",{className:"text-sm text-gray-900",children:new Date(n.requestDate).toLocaleDateString()})]}),n.purpose&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Purpose"}),s.jsx("p",{className:"text-sm text-gray-900",children:n.purpose})]})]})]}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"adminNotes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Notes (Optional)"}),s.jsx("textarea",{id:"adminNotes",value:a,onChange:m=>i(m.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none",placeholder:"Add any notes or comments about this approval...",disabled:l})]}),c&&s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(pt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-red-700",children:c})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:u,disabled:l,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx(N6,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Approving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Me,{className:"w-4 h-4"}),s.jsx("span",{children:"Approve Investment"})]})})]})]})]})]})})},bY=({isOpen:e,onClose:t,onSuccess:r,investment:n})=>{const[a,i]=N.useState(""),[l,o]=N.useState(""),[c,A]=N.useState(!1),[d,u]=N.useState(null),m=async g=>{var p,v;if(g.preventDefault(),!(!n||!a.trim())){A(!0),u(null);try{const x={rejectionReason:a.trim(),adminNotes:l.trim()||void 0};await l2.rejectRequest(n.cdId,x),r(),t(),i(""),o("")}catch(x){u(((v=(p=x.response)==null?void 0:p.data)==null?void 0:v.message)||"Failed to reject CD investment request")}finally{A(!1)}}},h=()=>{c||(i(""),o(""),u(null),t())};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(Ft,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Reject CD Investment"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Review and reject this CD investment request"})]})]}),s.jsx("button",{onClick:h,disabled:c,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:s.jsx(rt,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Investment Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"CD ID"}),s.jsx("p",{className:"text-sm text-gray-900 font-mono",children:n.cdId})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"User Type"}),s.jsx("p",{className:"text-sm text-gray-900",children:n.userType})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Investor Name"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[n.userId.firstName," ",n.userId.lastName]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-900",children:n.userEmail})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Investment Amount"}),s.jsxs("p",{className:"text-sm text-gray-900 font-semibold",children:["",n.investmentAmount.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Tenure"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[n.tenureMonths," months"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Interest Rate"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[n.interestRate,"%"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Maturity Amount"}),s.jsxs("p",{className:"text-sm text-gray-900 font-semibold text-green-600",children:["",n.maturityAmount.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Interest"}),s.jsxs("p",{className:"text-sm text-gray-900 font-semibold text-blue-600",children:["",n.totalInterest.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Request Date"}),s.jsx("p",{className:"text-sm text-gray-900",children:new Date(n.requestDate).toLocaleDateString()})]}),n.purpose&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Purpose"}),s.jsx("p",{className:"text-sm text-gray-900",children:n.purpose})]})]})]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"rejectionReason",className:"block text-sm font-medium text-gray-700 mb-2",children:["Rejection Reason ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"rejectionReason",value:a,onChange:g=>i(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0,disabled:c,children:[s.jsx("option",{value:"",children:"Select a reason for rejection"}),s.jsx("option",{value:"Insufficient documentation provided",children:"Insufficient documentation provided"}),s.jsx("option",{value:"KYC verification failed",children:"KYC verification failed"}),s.jsx("option",{value:"Investment amount below minimum threshold",children:"Investment amount below minimum threshold"}),s.jsx("option",{value:"Investment amount above maximum threshold",children:"Investment amount above maximum threshold"}),s.jsx("option",{value:"Invalid tenure period",children:"Invalid tenure period"}),s.jsx("option",{value:"Duplicate application",children:"Duplicate application"}),s.jsx("option",{value:"Policy violation",children:"Policy violation"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"adminNotes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),s.jsx("textarea",{id:"adminNotes",value:l,onChange:g=>o(g.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none",placeholder:"Add any additional notes or instructions for the applicant...",disabled:c})]}),d&&s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(pt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-red-700",children:d})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:h,disabled:c,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:c||!a.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx(N6,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Rejecting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:"Reject Investment"})]})})]})]})]})]})})},vY=()=>{var re;console.log("CDInvestmentManagement component rendered");const[e,t]=N.useState([]),[r,n]=N.useState(null),[a,i]=N.useState(!0),[l,o]=N.useState(null),[c,A]=N.useState(!1),[d,u]=N.useState({page:1,limit:20}),[m,h]=N.useState(""),[g,p]=N.useState(""),[v,x]=N.useState(""),[b,j]=N.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:20}),[w,S]=N.useState(null),[F,I]=N.useState(!1),[k,E]=N.useState(!1),[O,L]=N.useState(!1),P=async(q=!0)=>{var _,z;try{q&&i(!0),o(null);const G={...d,search:m||void 0,status:g||void 0,userType:v||void 0};console.log("Loading CD investments with filters:",G);const X=await l2.getAllInvestments(G);console.log("CD investments response:",X),t(X.investments),n(X.statistics),j(X.pagination),console.log("Set investments:",X.investments),console.log("Set statistics:",X.statistics)}catch(G){console.error("Error loading CD investments:",G),o(((z=(_=G.response)==null?void 0:_.data)==null?void 0:z.message)||"Failed to load CD investments")}finally{i(!1),A(!1)}};N.useEffect(()=>{P()},[]),N.useEffect(()=>{const q=setTimeout(()=>{P()},500);return()=>clearTimeout(q)},[m,g,v]);const U=()=>{A(!0),P(!1)},R=q=>{S(q),I(!0)},V=q=>{S(q),E(!0)},Z=()=>{P(!1)},ae=q=>{u(_=>({..._,page:q})),P()},D=q=>{const _={pending:{color:"bg-yellow-100 text-yellow-800",icon:Qt},approved:{color:"bg-green-100 text-green-800",icon:Me},rejected:{color:"bg-red-100 text-red-800",icon:Ft},active:{color:"bg-blue-100 text-blue-800",icon:kt},matured:{color:"bg-purple-100 text-purple-800",icon:Me},cancelled:{color:"bg-gray-100 text-gray-800",icon:Ft}},z=_[q]||_.pending,G=z.icon;return s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${z.color}`,children:[s.jsx(G,{className:"w-3 h-3 mr-1"}),q.charAt(0).toUpperCase()+q.slice(1)]})},Y=q=>{const _=q==="Student";return s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:[s.jsx(dt,{className:"w-3 h-3 mr-1"}),q]})};return a&&!c?s.jsx(Ec,{}):(console.log("Component state:",{loading:a,refreshing:c,error:l,investments:e.length,statistics:r,pagination:b}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CD Investment Management"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage Certificate of Deposit investment requests and approvals"})]}),s.jsxs("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:[s.jsxs("button",{onClick:U,disabled:c,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[s.jsx(Tt,{className:`w-4 h-4 ${c?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]}),s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(lr,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]})]})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Debug Information"}),s.jsxs("div",{className:"text-xs text-yellow-700 space-y-1",children:[s.jsxs("p",{children:["Loading: ",a?"true":"false"]}),s.jsxs("p",{children:["Refreshing: ",c?"true":"false"]}),s.jsxs("p",{children:["Error: ",l||"none"]}),s.jsxs("p",{children:["Investments Count: ",e.length]}),s.jsxs("p",{children:["Statistics: ",r?"loaded":"null"]}),s.jsxs("p",{children:["Pagination: ",b?`Page ${b.currentPage} of ${b.totalPages}`:"null"]})]})]}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(kt,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Investments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.overall.totalInvestments})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(yt,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",r.overall.totalAmount.toLocaleString()]})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(Et,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Interest Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.overall.avgInterestRate,"%"]})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:s.jsx(dt,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Investments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((re=r.byStatus.active)==null?void 0:re.count)||0})]})]})})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",value:m,onChange:q=>h(q.target.value),placeholder:"Search by CD ID, name, email...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:g,onChange:q=>p(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"matured",children:"Matured"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Type"}),s.jsxs("select",{value:v,onChange:q=>x(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"Student",children:"Student"}),s.jsx("option",{value:"SocietyMember",children:"Society Member"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>{h(""),p(""),x("")},className:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Clear Filters"})})]})}),l&&s.jsx(ia,{message:l,onRetry:U}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CD Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Investor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Investment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[console.log("Rendering investments:",e),e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(pt,{className:"w-12 h-12 text-gray-400 mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"No investments found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your filters or check back later."})]})})}):e.map(q=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 font-mono",children:q.cdId}),s.jsxs("div",{className:"text-sm text-gray-500",children:[q.tenureMonths," months @ ",q.interestRate,"%"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[q.userId.firstName," ",q.userId.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:q.userEmail}),s.jsx("div",{className:"mt-1",children:Y(q.userType)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["",q.investmentAmount.toLocaleString()]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Maturity: ",q.maturityAmount.toLocaleString()]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D(q.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(q.requestDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>{S(q),L(!0)},className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"View Details",children:s.jsx(xs,{className:"w-4 h-4"})}),q.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>R(q),className:"text-green-600 hover:text-green-900 p-1 rounded",title:"Approve",children:s.jsx(Me,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>V(q),className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Reject",children:s.jsx(Ft,{className:"w-4 h-4"})})]})]})})]},q._id))]})]})}),b.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>ae(b.currentPage-1),disabled:b.currentPage===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),s.jsx("button",{onClick:()=>ae(b.currentPage+1),disabled:b.currentPage===b.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",s.jsx("span",{className:"font-medium",children:(b.currentPage-1)*b.itemsPerPage+1})," ","to"," ",s.jsx("span",{className:"font-medium",children:Math.min(b.currentPage*b.itemsPerPage,b.totalItems)})," ","of ",s.jsx("span",{className:"font-medium",children:b.totalItems})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[s.jsx("button",{onClick:()=>ae(b.currentPage-1),disabled:b.currentPage===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:b.totalPages},(q,_)=>_+1).map(q=>s.jsx("button",{onClick:()=>ae(q),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${q===b.currentPage?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:q},q)),s.jsx("button",{onClick:()=>ae(b.currentPage+1),disabled:b.currentPage===b.totalPages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})]}),s.jsx(yY,{isOpen:F,onClose:()=>I(!1),onSuccess:Z,investment:w}),s.jsx(bY,{isOpen:k,onClose:()=>E(!1),onSuccess:Z,investment:w})]}))};class wY extends N.Component{constructor(t){super(t),this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:s.jsx(ts,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"An unexpected error occurred. Please try refreshing the page."}),!1,s.jsxs("button",{onClick:this.handleRetry,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})]})}):this.props.children}}const jY=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("span",{className:"text-4xl text-red-600",children:"404"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"The page you're looking for doesn't exist."}),s.jsx("button",{onClick:()=>window.history.back(),className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Go Back"})]})}),NY=()=>{const{isAuthenticated:e,isLoading:t}=Eg();return t?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-sky-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:e?s.jsx(mD,{children:s.jsxs(R8,{children:[s.jsx(Ut,{path:"/",element:s.jsx(M8,{to:"/dashboard"})}),s.jsx(Ut,{path:"/dashboard",element:s.jsx(O7,{})}),s.jsx(Ut,{path:"/society/members",element:s.jsx(K7,{})}),s.jsx(Ut,{path:"/society/payments",element:s.jsx(z7,{})}),s.jsx(Ut,{path:"/society/loans",element:s.jsx(V7,{})}),s.jsx(Ut,{path:"/society/penalty",element:s.jsx($7,{})}),s.jsx(Ut,{path:"/student/students",element:s.jsx(xE,{})}),s.jsx(Ut,{path:"/student/course-batch",element:s.jsx(W7,{})}),s.jsx(Ut,{path:"/student/certificate",element:s.jsx(Y7,{})}),s.jsx(Ut,{path:"/student/certificate-management",element:s.jsx(_W,{})}),s.jsx(Ut,{path:"/student/marksheet",element:s.jsx(IW,{})}),s.jsx(Ut,{path:"/student/courses",element:s.jsx(RW,{})}),s.jsx(Ut,{path:"/student/course-batches",element:s.jsx(zW,{})}),s.jsx(Ut,{path:"/student/fee-management",element:s.jsx(GW,{})}),s.jsx(Ut,{path:"/student/payment-history",element:s.jsx(qW,{})}),s.jsx(Ut,{path:"/student/attendance",element:s.jsx(XW,{})}),s.jsx(Ut,{path:"/student/enrollment-management",element:s.jsx(tY,{})}),s.jsx(Ut,{path:"/society/investment-plans",element:s.jsx(rY,{})}),s.jsx(Ut,{path:"/society/pending-investment-applications",element:s.jsx(iY,{})}),s.jsx(Ut,{path:"/society/approved-investment-applications",element:s.jsx(lY,{})}),s.jsx(Ut,{path:"/society/rejected-investment-applications",element:s.jsx(oY,{})}),s.jsx(Ut,{path:"/society/payment-management",element:s.jsx(Qk,{})}),s.jsx(Ut,{path:"/society/loan-management",element:s.jsx(Pk,{})}),s.jsx(Ut,{path:"/society/thumbnail-management",element:s.jsx(Dk,{})}),s.jsx(Ut,{path:"/society/cd-investment-management",element:s.jsx(vY,{})}),s.jsx(Ut,{path:"/kyc",element:s.jsx(UW,{})}),s.jsx(Ut,{path:"/kyc/pending",element:s.jsx(LW,{})}),s.jsx(Ut,{path:"/kyc/students",element:s.jsx(QW,{})}),s.jsx(Ut,{path:"/kyc/society-members",element:s.jsx(PW,{})}),s.jsx(Ut,{path:"/kyc/approved",element:s.jsx(DW,{})}),s.jsx(Ut,{path:"/reports/financial",element:s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Financial Reports"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"This page is under development."})]})}),s.jsx(Ut,{path:"/reports/students",element:s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Student Reports"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"This page is under development."})]})}),s.jsx(Ut,{path:"/reports/society",element:s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Society Reports"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"This page is under development."})]})}),s.jsx(Ut,{path:"/reports/kyc",element:s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"KYC Reports"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"This page is under development."})]})}),s.jsx(Ut,{path:"*",element:s.jsx(jY,{})})]})}):s.jsx(dD,{onLogin:()=>{}})})};function BY(){return s.jsx(wY,{children:s.jsxs(cL,{children:[s.jsx(zP,{children:s.jsx(NY,{})}),s.jsx(iQ,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,style:{background:"#10B981"}},error:{duration:5e3,style:{background:"#EF4444"}}}})]})})}k3(document.getElementById("root")).render(s.jsx(N.StrictMode,{children:s.jsx(BY,{})}));export{as as _,SY as c,j_ as g};
