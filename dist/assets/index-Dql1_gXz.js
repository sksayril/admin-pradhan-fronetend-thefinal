var aS=Object.defineProperty;var iS=(e,t,s)=>t in e?aS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Gt=(e,t,s)=>iS(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var WN={exports:{}},M0={},JN={exports:{}},Bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bu=Symbol.for("react.element"),lS=Symbol.for("react.portal"),oS=Symbol.for("react.fragment"),AS=Symbol.for("react.strict_mode"),cS=Symbol.for("react.profiler"),dS=Symbol.for("react.provider"),uS=Symbol.for("react.context"),hS=Symbol.for("react.forward_ref"),mS=Symbol.for("react.suspense"),fS=Symbol.for("react.memo"),pS=Symbol.for("react.lazy"),zw=Symbol.iterator;function xS(e){return e===null||typeof e!="object"?null:(e=zw&&e[zw]||e["@@iterator"],typeof e=="function"?e:null)}var XN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZN=Object.assign,ej={};function dc(e,t,s){this.props=e,this.context=t,this.refs=ej,this.updater=s||XN}dc.prototype.isReactComponent={};dc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tj(){}tj.prototype=dc.prototype;function Ny(e,t,s){this.props=e,this.context=t,this.refs=ej,this.updater=s||XN}var jy=Ny.prototype=new tj;jy.constructor=Ny;ZN(jy,dc.prototype);jy.isPureReactComponent=!0;var Vw=Array.isArray,rj=Object.prototype.hasOwnProperty,By={current:null},sj={key:!0,ref:!0,__self:!0,__source:!0};function nj(e,t,s){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)rj.call(t,n)&&!sj.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=s;else if(1<o){for(var A=Array(o),c=0;c<o;c++)A[c]=arguments[c+2];a.children=A}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Bu,type:e,key:i,ref:l,props:a,_owner:By.current}}function gS(e,t){return{$$typeof:Bu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bu}function yS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Gw=/\/+/g;function op(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yS(""+e.key):t.toString(36)}function wm(e,t,s,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Bu:case lS:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+op(l,0):n,Vw(a)?(s="",e!=null&&(s=e.replace(Gw,"$&/")+"/"),wm(a,t,s,"",function(c){return c})):a!=null&&(Cy(a)&&(a=gS(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Gw,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",Vw(e))for(var o=0;o<e.length;o++){i=e[o];var A=n+op(i,o);l+=wm(i,t,s,A,a)}else if(A=xS(e),typeof A=="function")for(e=A.call(e),o=0;!(i=e.next()).done;)i=i.value,A=n+op(i,o++),l+=wm(i,t,s,A,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function yh(e,t,s){if(e==null)return e;var n=[],a=0;return wm(e,n,"","",function(i){return t.call(s,i,a++)}),n}function wS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},vm={transition:null},vS={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:vm,ReactCurrentOwner:By};function aj(){throw Error("act(...) is not supported in production builds of React.")}Bt.Children={map:yh,forEach:function(e,t,s){yh(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return yh(e,function(){t++}),t},toArray:function(e){return yh(e,function(t){return t})||[]},only:function(e){if(!Cy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Bt.Component=dc;Bt.Fragment=oS;Bt.Profiler=cS;Bt.PureComponent=Ny;Bt.StrictMode=AS;Bt.Suspense=mS;Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vS;Bt.act=aj;Bt.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ZN({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=By.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(A in t)rj.call(t,A)&&!sj.hasOwnProperty(A)&&(n[A]=t[A]===void 0&&o!==void 0?o[A]:t[A])}var A=arguments.length-2;if(A===1)n.children=s;else if(1<A){o=Array(A);for(var c=0;c<A;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Bu,type:e.type,key:a,ref:i,props:n,_owner:l}};Bt.createContext=function(e){return e={$$typeof:uS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dS,_context:e},e.Consumer=e};Bt.createElement=nj;Bt.createFactory=function(e){var t=nj.bind(null,e);return t.type=e,t};Bt.createRef=function(){return{current:null}};Bt.forwardRef=function(e){return{$$typeof:hS,render:e}};Bt.isValidElement=Cy;Bt.lazy=function(e){return{$$typeof:pS,_payload:{_status:-1,_result:e},_init:wS}};Bt.memo=function(e,t){return{$$typeof:fS,type:e,compare:t===void 0?null:t}};Bt.startTransition=function(e){var t=vm.transition;vm.transition={};try{e()}finally{vm.transition=t}};Bt.unstable_act=aj;Bt.useCallback=function(e,t){return tn.current.useCallback(e,t)};Bt.useContext=function(e){return tn.current.useContext(e)};Bt.useDebugValue=function(){};Bt.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};Bt.useEffect=function(e,t){return tn.current.useEffect(e,t)};Bt.useId=function(){return tn.current.useId()};Bt.useImperativeHandle=function(e,t,s){return tn.current.useImperativeHandle(e,t,s)};Bt.useInsertionEffect=function(e,t){return tn.current.useInsertionEffect(e,t)};Bt.useLayoutEffect=function(e,t){return tn.current.useLayoutEffect(e,t)};Bt.useMemo=function(e,t){return tn.current.useMemo(e,t)};Bt.useReducer=function(e,t,s){return tn.current.useReducer(e,t,s)};Bt.useRef=function(e){return tn.current.useRef(e)};Bt.useState=function(e){return tn.current.useState(e)};Bt.useSyncExternalStore=function(e,t,s){return tn.current.useSyncExternalStore(e,t,s)};Bt.useTransition=function(){return tn.current.useTransition()};Bt.version="18.3.1";JN.exports=Bt;var C=JN.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS=C,NS=Symbol.for("react.element"),jS=Symbol.for("react.fragment"),BS=Object.prototype.hasOwnProperty,CS=bS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SS={key:!0,ref:!0,__self:!0,__source:!0};function ij(e,t,s){var n,a={},i=null,l=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)BS.call(t,n)&&!SS.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:NS,type:e,key:i,ref:l,props:a,_owner:CS.current}}M0.Fragment=jS;M0.jsx=ij;M0.jsxs=ij;WN.exports=M0;var r=WN.exports,lj={exports:{}},Rn={},oj={exports:{}},Aj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,X){var se=R.length;R.push(X);e:for(;0<se;){var re=se-1>>>1,Q=R[re];if(0<a(Q,X))R[re]=X,R[se]=Q,se=re;else break e}}function s(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var X=R[0],se=R.pop();if(se!==X){R[0]=se;e:for(var re=0,Q=R.length,z=Q>>>1;re<z;){var $=2*(re+1)-1,V=R[$],ne=$+1,de=R[ne];if(0>a(V,se))ne<Q&&0>a(de,V)?(R[re]=de,R[ne]=se,re=ne):(R[re]=V,R[$]=se,re=$);else if(ne<Q&&0>a(de,se))R[re]=de,R[ne]=se,re=ne;else break e}}return X}function a(R,X){var se=R.sortIndex-X.sortIndex;return se!==0?se:R.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var A=[],c=[],d=1,h=null,p=3,m=!1,y=!1,v=!1,B=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var X=s(c);X!==null;){if(X.callback===null)n(c);else if(X.startTime<=R)n(c),X.sortIndex=X.expirationTime,t(A,X);else break;X=s(c)}}function g(R){if(v=!1,b(R),!y)if(s(A)!==null)y=!0,te(k);else{var X=s(c);X!==null&&le(g,X.startTime-R)}}function k(R,X){y=!1,v&&(v=!1,x(U),U=-1),m=!0;var se=p;try{for(b(X),h=s(A);h!==null&&(!(h.expirationTime>X)||R&&!L());){var re=h.callback;if(typeof re=="function"){h.callback=null,p=h.priorityLevel;var Q=re(h.expirationTime<=X);X=e.unstable_now(),typeof Q=="function"?h.callback=Q:h===s(A)&&n(A),b(X)}else n(A);h=s(A)}if(h!==null)var z=!0;else{var $=s(c);$!==null&&le(g,$.startTime-X),z=!1}return z}finally{h=null,p=se,m=!1}}var _=!1,I=null,U=-1,S=5,G=-1;function L(){return!(e.unstable_now()-G<S)}function P(){if(I!==null){var R=e.unstable_now();G=R;var X=!0;try{X=I(!0,R)}finally{X?F():(_=!1,I=null)}}else _=!1}var F;if(typeof N=="function")F=function(){N(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Z=M.port2;M.port1.onmessage=P,F=function(){Z.postMessage(null)}}else F=function(){B(P,0)};function te(R){I=R,_||(_=!0,F())}function le(R,X){U=B(function(){R(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,te(k))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return s(A)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var se=p;p=X;try{return R()}finally{p=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,X){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var se=p;p=R;try{return X()}finally{p=se}},e.unstable_scheduleCallback=function(R,X,se){var re=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?re+se:re):se=re,R){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=se+Q,R={id:d++,callback:X,priorityLevel:R,startTime:se,expirationTime:Q,sortIndex:-1},se>re?(R.sortIndex=se,t(c,R),s(A)===null&&R===s(c)&&(v?(x(U),U=-1):v=!0,le(g,se-re))):(R.sortIndex=Q,t(A,R),y||m||(y=!0,te(k))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var X=p;return function(){var se=p;p=X;try{return R.apply(this,arguments)}finally{p=se}}}})(Aj);oj.exports=Aj;var ES=oj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS=C,Tn=ES;function Ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cj=new Set,Yd={};function Oo(e,t){ZA(e,t),ZA(e+"Capture",t)}function ZA(e,t){for(Yd[e]=t,e=0;e<t.length;e++)cj.add(t[e])}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qx=Object.prototype.hasOwnProperty,IS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$w={},qw={};function kS(e){return Qx.call(qw,e)?!0:Qx.call($w,e)?!1:IS.test(e)?qw[e]=!0:($w[e]=!0,!1)}function US(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QS(e,t,s,n){if(t===null||typeof t>"u"||US(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rn(e,t,s,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Qs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qs[e]=new rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qs[t]=new rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qs[e]=new rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qs[e]=new rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qs[e]=new rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qs[e]=new rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qs[e]=new rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qs[e]=new rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qs[e]=new rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sy=/[\-:]([a-z])/g;function Ey(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sy,Ey);Qs[t]=new rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sy,Ey);Qs[t]=new rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sy,Ey);Qs[t]=new rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qs[e]=new rn(e,1,!1,e.toLowerCase(),null,!1,!1)});Qs.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qs[e]=new rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fy(e,t,s,n){var a=Qs.hasOwnProperty(t)?Qs[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QS(t,s,a,n)&&(s=null),n||a===null?kS(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var zi=FS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wh=Symbol.for("react.element"),jA=Symbol.for("react.portal"),BA=Symbol.for("react.fragment"),Iy=Symbol.for("react.strict_mode"),_x=Symbol.for("react.profiler"),dj=Symbol.for("react.provider"),uj=Symbol.for("react.context"),ky=Symbol.for("react.forward_ref"),Lx=Symbol.for("react.suspense"),Px=Symbol.for("react.suspense_list"),Uy=Symbol.for("react.memo"),ul=Symbol.for("react.lazy"),hj=Symbol.for("react.offscreen"),Yw=Symbol.iterator;function Xc(e){return e===null||typeof e!="object"?null:(e=Yw&&e[Yw]||e["@@iterator"],typeof e=="function"?e:null)}var Cr=Object.assign,Ap;function pd(e){if(Ap===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Ap=t&&t[1]||""}return`
`+Ap+e}var cp=!1;function dp(e,t){if(!e||cp)return"";cp=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var A=`
`+a[l].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=l&&0<=o);break}}}finally{cp=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?pd(e):""}function _S(e){switch(e.tag){case 5:return pd(e.type);case 16:return pd("Lazy");case 13:return pd("Suspense");case 19:return pd("SuspenseList");case 0:case 2:case 15:return e=dp(e.type,!1),e;case 11:return e=dp(e.type.render,!1),e;case 1:return e=dp(e.type,!0),e;default:return""}}function Dx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case BA:return"Fragment";case jA:return"Portal";case _x:return"Profiler";case Iy:return"StrictMode";case Lx:return"Suspense";case Px:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uj:return(e.displayName||"Context")+".Consumer";case dj:return(e._context.displayName||"Context")+".Provider";case ky:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Uy:return t=e.displayName||null,t!==null?t:Dx(e.type)||"Memo";case ul:t=e._payload,e=e._init;try{return Dx(e(t))}catch{}}return null}function LS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dx(t);case 8:return t===Iy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function PS(e){var t=mj(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vh(e){e._valueTracker||(e._valueTracker=PS(e))}function fj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=mj(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Jm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tx(e,t){var s=t.checked;return Cr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Ww(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Rl(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pj(e,t){t=t.checked,t!=null&&Fy(e,"checked",t,!1)}function Rx(e,t){pj(e,t);var s=Rl(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mx(e,t.type,s):t.hasOwnProperty("defaultValue")&&Mx(e,t.type,Rl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jw(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Mx(e,t,s){(t!=="number"||Jm(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var xd=Array.isArray;function MA(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Rl(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Hx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return Cr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xw(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Ie(92));if(xd(s)){if(1<s.length)throw Error(Ie(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Rl(s)}}function xj(e,t){var s=Rl(t.value),n=Rl(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function Zw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ox(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bh,yj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bh=bh||document.createElement("div"),bh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wd(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Fd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DS=["Webkit","ms","Moz","O"];Object.keys(Fd).forEach(function(e){DS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fd[t]=Fd[e]})});function wj(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Fd.hasOwnProperty(e)&&Fd[e]?(""+t).trim():t+"px"}function vj(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=wj(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var TS=Cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kx(e,t){if(t){if(TS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ie(62))}}function zx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vx=null;function Qy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gx=null,HA=null,OA=null;function ev(e){if(e=Eu(e)){if(typeof Gx!="function")throw Error(Ie(280));var t=e.stateNode;t&&(t=V0(t),Gx(e.stateNode,e.type,t))}}function bj(e){HA?OA?OA.push(e):OA=[e]:HA=e}function Nj(){if(HA){var e=HA,t=OA;if(OA=HA=null,ev(e),t)for(e=0;e<t.length;e++)ev(t[e])}}function jj(e,t){return e(t)}function Bj(){}var up=!1;function Cj(e,t,s){if(up)return e(t,s);up=!0;try{return jj(e,t,s)}finally{up=!1,(HA!==null||OA!==null)&&(Bj(),Nj())}}function Jd(e,t){var s=e.stateNode;if(s===null)return null;var n=V0(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Ie(231,t,typeof s));return s}var $x=!1;if(Di)try{var Zc={};Object.defineProperty(Zc,"passive",{get:function(){$x=!0}}),window.addEventListener("test",Zc,Zc),window.removeEventListener("test",Zc,Zc)}catch{$x=!1}function RS(e,t,s,n,a,i,l,o,A){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var Id=!1,Xm=null,Zm=!1,qx=null,MS={onError:function(e){Id=!0,Xm=e}};function HS(e,t,s,n,a,i,l,o,A){Id=!1,Xm=null,RS.apply(MS,arguments)}function OS(e,t,s,n,a,i,l,o,A){if(HS.apply(this,arguments),Id){if(Id){var c=Xm;Id=!1,Xm=null}else throw Error(Ie(198));Zm||(Zm=!0,qx=c)}}function Ko(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Sj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tv(e){if(Ko(e)!==e)throw Error(Ie(188))}function KS(e){var t=e.alternate;if(!t){if(t=Ko(e),t===null)throw Error(Ie(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return tv(a),e;if(i===n)return tv(a),t;i=i.sibling}throw Error(Ie(188))}if(s.return!==n.return)s=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===s){l=!0,s=a,n=i;break}if(o===n){l=!0,n=a,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,n=a;break}if(o===n){l=!0,n=i,s=a;break}o=o.sibling}if(!l)throw Error(Ie(189))}}if(s.alternate!==n)throw Error(Ie(190))}if(s.tag!==3)throw Error(Ie(188));return s.stateNode.current===s?e:t}function Ej(e){return e=KS(e),e!==null?Fj(e):null}function Fj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fj(e);if(t!==null)return t;e=e.sibling}return null}var Ij=Tn.unstable_scheduleCallback,rv=Tn.unstable_cancelCallback,zS=Tn.unstable_shouldYield,VS=Tn.unstable_requestPaint,zr=Tn.unstable_now,GS=Tn.unstable_getCurrentPriorityLevel,_y=Tn.unstable_ImmediatePriority,kj=Tn.unstable_UserBlockingPriority,e0=Tn.unstable_NormalPriority,$S=Tn.unstable_LowPriority,Uj=Tn.unstable_IdlePriority,H0=null,Za=null;function qS(e){if(Za&&typeof Za.onCommitFiberRoot=="function")try{Za.onCommitFiberRoot(H0,e,void 0,(e.current.flags&128)===128)}catch{}}var Na=Math.clz32?Math.clz32:JS,YS=Math.log,WS=Math.LN2;function JS(e){return e>>>=0,e===0?32:31-(YS(e)/WS|0)|0}var Nh=64,jh=4194304;function gd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function t0(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=s&268435455;if(l!==0){var o=l&~a;o!==0?n=gd(o):(i&=l,i!==0&&(n=gd(i)))}else l=s&~a,l!==0?n=gd(l):i!==0&&(n=gd(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-Na(t),a=1<<s,n|=e[s],t&=~a;return n}function XS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZS(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Na(i),o=1<<l,A=a[l];A===-1?(!(o&s)||o&n)&&(a[l]=XS(o,t)):A<=t&&(e.expiredLanes|=o),i&=~o}}function Yx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qj(){var e=Nh;return Nh<<=1,!(Nh&4194240)&&(Nh=64),e}function hp(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Cu(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Na(t),e[t]=s}function e6(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Na(s),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~i}}function Ly(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-Na(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var qt=0;function _j(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lj,Py,Pj,Dj,Tj,Wx=!1,Bh=[],Cl=null,Sl=null,El=null,Xd=new Map,Zd=new Map,fl=[],t6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sv(e,t){switch(e){case"focusin":case"focusout":Cl=null;break;case"dragenter":case"dragleave":Sl=null;break;case"mouseover":case"mouseout":El=null;break;case"pointerover":case"pointerout":Xd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zd.delete(t.pointerId)}}function ed(e,t,s,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Eu(t),t!==null&&Py(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function r6(e,t,s,n,a){switch(t){case"focusin":return Cl=ed(Cl,e,t,s,n,a),!0;case"dragenter":return Sl=ed(Sl,e,t,s,n,a),!0;case"mouseover":return El=ed(El,e,t,s,n,a),!0;case"pointerover":var i=a.pointerId;return Xd.set(i,ed(Xd.get(i)||null,e,t,s,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Zd.set(i,ed(Zd.get(i)||null,e,t,s,n,a)),!0}return!1}function Rj(e){var t=go(e.target);if(t!==null){var s=Ko(t);if(s!==null){if(t=s.tag,t===13){if(t=Sj(s),t!==null){e.blockedOn=t,Tj(e.priority,function(){Pj(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Jx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Vx=n,s.target.dispatchEvent(n),Vx=null}else return t=Eu(s),t!==null&&Py(t),e.blockedOn=s,!1;t.shift()}return!0}function nv(e,t,s){bm(e)&&s.delete(t)}function s6(){Wx=!1,Cl!==null&&bm(Cl)&&(Cl=null),Sl!==null&&bm(Sl)&&(Sl=null),El!==null&&bm(El)&&(El=null),Xd.forEach(nv),Zd.forEach(nv)}function td(e,t){e.blockedOn===t&&(e.blockedOn=null,Wx||(Wx=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,s6)))}function eu(e){function t(a){return td(a,e)}if(0<Bh.length){td(Bh[0],e);for(var s=1;s<Bh.length;s++){var n=Bh[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Cl!==null&&td(Cl,e),Sl!==null&&td(Sl,e),El!==null&&td(El,e),Xd.forEach(t),Zd.forEach(t),s=0;s<fl.length;s++)n=fl[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<fl.length&&(s=fl[0],s.blockedOn===null);)Rj(s),s.blockedOn===null&&fl.shift()}var KA=zi.ReactCurrentBatchConfig,r0=!0;function n6(e,t,s,n){var a=qt,i=KA.transition;KA.transition=null;try{qt=1,Dy(e,t,s,n)}finally{qt=a,KA.transition=i}}function a6(e,t,s,n){var a=qt,i=KA.transition;KA.transition=null;try{qt=4,Dy(e,t,s,n)}finally{qt=a,KA.transition=i}}function Dy(e,t,s,n){if(r0){var a=Jx(e,t,s,n);if(a===null)Np(e,t,n,s0,s),sv(e,n);else if(r6(a,e,t,s,n))n.stopPropagation();else if(sv(e,n),t&4&&-1<t6.indexOf(e)){for(;a!==null;){var i=Eu(a);if(i!==null&&Lj(i),i=Jx(e,t,s,n),i===null&&Np(e,t,n,s0,s),i===a)break;a=i}a!==null&&n.stopPropagation()}else Np(e,t,n,null,s)}}var s0=null;function Jx(e,t,s,n){if(s0=null,e=Qy(n),e=go(e),e!==null)if(t=Ko(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Sj(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return s0=e,null}function Mj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GS()){case _y:return 1;case kj:return 4;case e0:case $S:return 16;case Uj:return 536870912;default:return 16}default:return 16}}var yl=null,Ty=null,Nm=null;function Hj(){if(Nm)return Nm;var e,t=Ty,s=t.length,n,a="value"in yl?yl.value:yl.textContent,i=a.length;for(e=0;e<s&&t[e]===a[e];e++);var l=s-e;for(n=1;n<=l&&t[s-n]===a[i-n];n++);return Nm=a.slice(e,1<n?1-n:void 0)}function jm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ch(){return!0}function av(){return!1}function Mn(e){function t(s,n,a,i,l){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ch:av,this.isPropagationStopped=av,this}return Cr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ch)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ch)},persist:function(){},isPersistent:Ch}),t}var uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ry=Mn(uc),Su=Cr({},uc,{view:0,detail:0}),i6=Mn(Su),mp,fp,rd,O0=Cr({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:My,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rd&&(rd&&e.type==="mousemove"?(mp=e.screenX-rd.screenX,fp=e.screenY-rd.screenY):fp=mp=0,rd=e),mp)},movementY:function(e){return"movementY"in e?e.movementY:fp}}),iv=Mn(O0),l6=Cr({},O0,{dataTransfer:0}),o6=Mn(l6),A6=Cr({},Su,{relatedTarget:0}),pp=Mn(A6),c6=Cr({},uc,{animationName:0,elapsedTime:0,pseudoElement:0}),d6=Mn(c6),u6=Cr({},uc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h6=Mn(u6),m6=Cr({},uc,{data:0}),lv=Mn(m6),f6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=x6[e])?!!t[e]:!1}function My(){return g6}var y6=Cr({},Su,{key:function(e){if(e.key){var t=f6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:My,charCode:function(e){return e.type==="keypress"?jm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w6=Mn(y6),v6=Cr({},O0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ov=Mn(v6),b6=Cr({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:My}),N6=Mn(b6),j6=Cr({},uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),B6=Mn(j6),C6=Cr({},O0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S6=Mn(C6),E6=[9,13,27,32],Hy=Di&&"CompositionEvent"in window,kd=null;Di&&"documentMode"in document&&(kd=document.documentMode);var F6=Di&&"TextEvent"in window&&!kd,Oj=Di&&(!Hy||kd&&8<kd&&11>=kd),Av=" ",cv=!1;function Kj(e,t){switch(e){case"keyup":return E6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var CA=!1;function I6(e,t){switch(e){case"compositionend":return zj(t);case"keypress":return t.which!==32?null:(cv=!0,Av);case"textInput":return e=t.data,e===Av&&cv?null:e;default:return null}}function k6(e,t){if(CA)return e==="compositionend"||!Hy&&Kj(e,t)?(e=Hj(),Nm=Ty=yl=null,CA=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Oj&&t.locale!=="ko"?null:t.data;default:return null}}var U6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U6[e.type]:t==="textarea"}function Vj(e,t,s,n){bj(n),t=n0(t,"onChange"),0<t.length&&(s=new Ry("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Ud=null,tu=null;function Q6(e){r5(e,0)}function K0(e){var t=FA(e);if(fj(t))return e}function _6(e,t){if(e==="change")return t}var Gj=!1;if(Di){var xp;if(Di){var gp="oninput"in document;if(!gp){var uv=document.createElement("div");uv.setAttribute("oninput","return;"),gp=typeof uv.oninput=="function"}xp=gp}else xp=!1;Gj=xp&&(!document.documentMode||9<document.documentMode)}function hv(){Ud&&(Ud.detachEvent("onpropertychange",$j),tu=Ud=null)}function $j(e){if(e.propertyName==="value"&&K0(tu)){var t=[];Vj(t,tu,e,Qy(e)),Cj(Q6,t)}}function L6(e,t,s){e==="focusin"?(hv(),Ud=t,tu=s,Ud.attachEvent("onpropertychange",$j)):e==="focusout"&&hv()}function P6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return K0(tu)}function D6(e,t){if(e==="click")return K0(t)}function T6(e,t){if(e==="input"||e==="change")return K0(t)}function R6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ba=typeof Object.is=="function"?Object.is:R6;function ru(e,t){if(Ba(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!Qx.call(t,a)||!Ba(e[a],t[a]))return!1}return!0}function mv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fv(e,t){var s=mv(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=mv(s)}}function qj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yj(){for(var e=window,t=Jm();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Jm(e.document)}return t}function Oy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function M6(e){var t=Yj(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&qj(s.ownerDocument.documentElement,s)){if(n!==null&&Oy(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=fv(s,i);var l=fv(s,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var H6=Di&&"documentMode"in document&&11>=document.documentMode,SA=null,Xx=null,Qd=null,Zx=!1;function pv(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Zx||SA==null||SA!==Jm(n)||(n=SA,"selectionStart"in n&&Oy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qd&&ru(Qd,n)||(Qd=n,n=n0(Xx,"onSelect"),0<n.length&&(t=new Ry("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=SA)))}function Sh(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var EA={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},yp={},Wj={};Di&&(Wj=document.createElement("div").style,"AnimationEvent"in window||(delete EA.animationend.animation,delete EA.animationiteration.animation,delete EA.animationstart.animation),"TransitionEvent"in window||delete EA.transitionend.transition);function z0(e){if(yp[e])return yp[e];if(!EA[e])return e;var t=EA[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Wj)return yp[e]=t[s];return e}var Jj=z0("animationend"),Xj=z0("animationiteration"),Zj=z0("animationstart"),e5=z0("transitionend"),t5=new Map,xv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zl(e,t){t5.set(e,t),Oo(t,[e])}for(var wp=0;wp<xv.length;wp++){var vp=xv[wp],O6=vp.toLowerCase(),K6=vp[0].toUpperCase()+vp.slice(1);zl(O6,"on"+K6)}zl(Jj,"onAnimationEnd");zl(Xj,"onAnimationIteration");zl(Zj,"onAnimationStart");zl("dblclick","onDoubleClick");zl("focusin","onFocus");zl("focusout","onBlur");zl(e5,"onTransitionEnd");ZA("onMouseEnter",["mouseout","mouseover"]);ZA("onMouseLeave",["mouseout","mouseover"]);ZA("onPointerEnter",["pointerout","pointerover"]);ZA("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z6=new Set("cancel close invalid load scroll toggle".split(" ").concat(yd));function gv(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,OS(n,t,void 0,e),e.currentTarget=null}function r5(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],A=o.instance,c=o.currentTarget;if(o=o.listener,A!==i&&a.isPropagationStopped())break e;gv(a,o,c),i=A}else for(l=0;l<n.length;l++){if(o=n[l],A=o.instance,c=o.currentTarget,o=o.listener,A!==i&&a.isPropagationStopped())break e;gv(a,o,c),i=A}}}if(Zm)throw e=qx,Zm=!1,qx=null,e}function hr(e,t){var s=t[ng];s===void 0&&(s=t[ng]=new Set);var n=e+"__bubble";s.has(n)||(s5(t,e,2,!1),s.add(n))}function bp(e,t,s){var n=0;t&&(n|=4),s5(s,e,n,t)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function su(e){if(!e[Eh]){e[Eh]=!0,cj.forEach(function(s){s!=="selectionchange"&&(z6.has(s)||bp(s,!1,e),bp(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eh]||(t[Eh]=!0,bp("selectionchange",!1,t))}}function s5(e,t,s,n){switch(Mj(t)){case 1:var a=n6;break;case 4:a=a6;break;default:a=Dy}s=a.bind(null,t,s,e),a=void 0,!$x||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Np(e,t,s,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var A=l.tag;if((A===3||A===4)&&(A=l.stateNode.containerInfo,A===a||A.nodeType===8&&A.parentNode===a))return;l=l.return}for(;o!==null;){if(l=go(o),l===null)return;if(A=l.tag,A===5||A===6){n=i=l;continue e}o=o.parentNode}}n=n.return}Cj(function(){var c=i,d=Qy(s),h=[];e:{var p=t5.get(e);if(p!==void 0){var m=Ry,y=e;switch(e){case"keypress":if(jm(s)===0)break e;case"keydown":case"keyup":m=w6;break;case"focusin":y="focus",m=pp;break;case"focusout":y="blur",m=pp;break;case"beforeblur":case"afterblur":m=pp;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=iv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=o6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=N6;break;case Jj:case Xj:case Zj:m=d6;break;case e5:m=B6;break;case"scroll":m=i6;break;case"wheel":m=S6;break;case"copy":case"cut":case"paste":m=h6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ov}var v=(t&4)!==0,B=!v&&e==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var N=c,b;N!==null;){b=N;var g=b.stateNode;if(b.tag===5&&g!==null&&(b=g,x!==null&&(g=Jd(N,x),g!=null&&v.push(nu(N,g,b)))),B)break;N=N.return}0<v.length&&(p=new m(p,y,null,s,d),h.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&s!==Vx&&(y=s.relatedTarget||s.fromElement)&&(go(y)||y[Ti]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=s.relatedTarget||s.toElement,m=c,y=y?go(y):null,y!==null&&(B=Ko(y),y!==B||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(v=iv,g="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(v=ov,g="onPointerLeave",x="onPointerEnter",N="pointer"),B=m==null?p:FA(m),b=y==null?p:FA(y),p=new v(g,N+"leave",m,s,d),p.target=B,p.relatedTarget=b,g=null,go(d)===c&&(v=new v(x,N+"enter",y,s,d),v.target=b,v.relatedTarget=B,g=v),B=g,m&&y)t:{for(v=m,x=y,N=0,b=v;b;b=AA(b))N++;for(b=0,g=x;g;g=AA(g))b++;for(;0<N-b;)v=AA(v),N--;for(;0<b-N;)x=AA(x),b--;for(;N--;){if(v===x||x!==null&&v===x.alternate)break t;v=AA(v),x=AA(x)}v=null}else v=null;m!==null&&yv(h,p,m,v,!1),y!==null&&B!==null&&yv(h,B,y,v,!0)}}e:{if(p=c?FA(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var k=_6;else if(dv(p))if(Gj)k=T6;else{k=P6;var _=L6}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=D6);if(k&&(k=k(e,c))){Vj(h,k,s,d);break e}_&&_(e,p,c),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&Mx(p,"number",p.value)}switch(_=c?FA(c):window,e){case"focusin":(dv(_)||_.contentEditable==="true")&&(SA=_,Xx=c,Qd=null);break;case"focusout":Qd=Xx=SA=null;break;case"mousedown":Zx=!0;break;case"contextmenu":case"mouseup":case"dragend":Zx=!1,pv(h,s,d);break;case"selectionchange":if(H6)break;case"keydown":case"keyup":pv(h,s,d)}var I;if(Hy)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else CA?Kj(e,s)&&(U="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(U="onCompositionStart");U&&(Oj&&s.locale!=="ko"&&(CA||U!=="onCompositionStart"?U==="onCompositionEnd"&&CA&&(I=Hj()):(yl=d,Ty="value"in yl?yl.value:yl.textContent,CA=!0)),_=n0(c,U),0<_.length&&(U=new lv(U,e,null,s,d),h.push({event:U,listeners:_}),I?U.data=I:(I=zj(s),I!==null&&(U.data=I)))),(I=F6?I6(e,s):k6(e,s))&&(c=n0(c,"onBeforeInput"),0<c.length&&(d=new lv("onBeforeInput","beforeinput",null,s,d),h.push({event:d,listeners:c}),d.data=I))}r5(h,t)})}function nu(e,t,s){return{instance:e,listener:t,currentTarget:s}}function n0(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Jd(e,s),i!=null&&n.unshift(nu(e,i,a)),i=Jd(e,t),i!=null&&n.push(nu(e,i,a))),e=e.return}return n}function AA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yv(e,t,s,n,a){for(var i=t._reactName,l=[];s!==null&&s!==n;){var o=s,A=o.alternate,c=o.stateNode;if(A!==null&&A===n)break;o.tag===5&&c!==null&&(o=c,a?(A=Jd(s,i),A!=null&&l.unshift(nu(s,A,o))):a||(A=Jd(s,i),A!=null&&l.push(nu(s,A,o)))),s=s.return}l.length!==0&&e.push({event:t,listeners:l})}var V6=/\r\n?/g,G6=/\u0000|\uFFFD/g;function wv(e){return(typeof e=="string"?e:""+e).replace(V6,`
`).replace(G6,"")}function Fh(e,t,s){if(t=wv(t),wv(e)!==t&&s)throw Error(Ie(425))}function a0(){}var eg=null,tg=null;function rg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sg=typeof setTimeout=="function"?setTimeout:void 0,$6=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,q6=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(e){return vv.resolve(null).then(e).catch(Y6)}:sg;function Y6(e){setTimeout(function(){throw e})}function jp(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),eu(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);eu(t)}function Fl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var hc=Math.random().toString(36).slice(2),Ya="__reactFiber$"+hc,au="__reactProps$"+hc,Ti="__reactContainer$"+hc,ng="__reactEvents$"+hc,W6="__reactListeners$"+hc,J6="__reactHandles$"+hc;function go(e){var t=e[Ya];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ti]||s[Ya]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=bv(e);e!==null;){if(s=e[Ya])return s;e=bv(e)}return t}e=s,s=e.parentNode}return null}function Eu(e){return e=e[Ya]||e[Ti],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function FA(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ie(33))}function V0(e){return e[au]||null}var ag=[],IA=-1;function Vl(e){return{current:e}}function xr(e){0>IA||(e.current=ag[IA],ag[IA]=null,IA--)}function cr(e,t){IA++,ag[IA]=e.current,e.current=t}var Ml={},Gs=Vl(Ml),un=Vl(!1),Qo=Ml;function ec(e,t){var s=e.type.contextTypes;if(!s)return Ml;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function hn(e){return e=e.childContextTypes,e!=null}function i0(){xr(un),xr(Gs)}function Nv(e,t,s){if(Gs.current!==Ml)throw Error(Ie(168));cr(Gs,t),cr(un,s)}function n5(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ie(108,LS(e)||"Unknown",a));return Cr({},s,n)}function l0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ml,Qo=Gs.current,cr(Gs,e),cr(un,un.current),!0}function jv(e,t,s){var n=e.stateNode;if(!n)throw Error(Ie(169));s?(e=n5(e,t,Qo),n.__reactInternalMemoizedMergedChildContext=e,xr(un),xr(Gs),cr(Gs,e)):xr(un),cr(un,s)}var Fi=null,G0=!1,Bp=!1;function a5(e){Fi===null?Fi=[e]:Fi.push(e)}function X6(e){G0=!0,a5(e)}function Gl(){if(!Bp&&Fi!==null){Bp=!0;var e=0,t=qt;try{var s=Fi;for(qt=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}Fi=null,G0=!1}catch(a){throw Fi!==null&&(Fi=Fi.slice(e+1)),Ij(_y,Gl),a}finally{qt=t,Bp=!1}}return null}var kA=[],UA=0,o0=null,A0=0,Yn=[],Wn=0,_o=null,Ui=1,Qi="";function ho(e,t){kA[UA++]=A0,kA[UA++]=o0,o0=e,A0=t}function i5(e,t,s){Yn[Wn++]=Ui,Yn[Wn++]=Qi,Yn[Wn++]=_o,_o=e;var n=Ui;e=Qi;var a=32-Na(n)-1;n&=~(1<<a),s+=1;var i=32-Na(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,Ui=1<<32-Na(t)+a|s<<a|n,Qi=i+e}else Ui=1<<i|s<<a|n,Qi=e}function Ky(e){e.return!==null&&(ho(e,1),i5(e,1,0))}function zy(e){for(;e===o0;)o0=kA[--UA],kA[UA]=null,A0=kA[--UA],kA[UA]=null;for(;e===_o;)_o=Yn[--Wn],Yn[Wn]=null,Qi=Yn[--Wn],Yn[Wn]=null,Ui=Yn[--Wn],Yn[Wn]=null}var Pn=null,Qn=null,wr=!1,va=null;function l5(e,t){var s=ea(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Bv(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pn=e,Qn=Fl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pn=e,Qn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=_o!==null?{id:Ui,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=ea(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Pn=e,Qn=null,!0):!1;default:return!1}}function ig(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lg(e){if(wr){var t=Qn;if(t){var s=t;if(!Bv(e,t)){if(ig(e))throw Error(Ie(418));t=Fl(s.nextSibling);var n=Pn;t&&Bv(e,t)?l5(n,s):(e.flags=e.flags&-4097|2,wr=!1,Pn=e)}}else{if(ig(e))throw Error(Ie(418));e.flags=e.flags&-4097|2,wr=!1,Pn=e}}}function Cv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pn=e}function Ih(e){if(e!==Pn)return!1;if(!wr)return Cv(e),wr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rg(e.type,e.memoizedProps)),t&&(t=Qn)){if(ig(e))throw o5(),Error(Ie(418));for(;t;)l5(e,t),t=Fl(t.nextSibling)}if(Cv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Qn=Fl(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Qn=null}}else Qn=Pn?Fl(e.stateNode.nextSibling):null;return!0}function o5(){for(var e=Qn;e;)e=Fl(e.nextSibling)}function tc(){Qn=Pn=null,wr=!1}function Vy(e){va===null?va=[e]:va.push(e)}var Z6=zi.ReactCurrentBatchConfig;function sd(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Ie(309));var n=s.stateNode}if(!n)throw Error(Ie(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ie(284));if(!s._owner)throw Error(Ie(290,e))}return e}function kh(e,t){throw e=Object.prototype.toString.call(t),Error(Ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sv(e){var t=e._init;return t(e._payload)}function A5(e){function t(x,N){if(e){var b=x.deletions;b===null?(x.deletions=[N],x.flags|=16):b.push(N)}}function s(x,N){if(!e)return null;for(;N!==null;)t(x,N),N=N.sibling;return null}function n(x,N){for(x=new Map;N!==null;)N.key!==null?x.set(N.key,N):x.set(N.index,N),N=N.sibling;return x}function a(x,N){return x=Ql(x,N),x.index=0,x.sibling=null,x}function i(x,N,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<N?(x.flags|=2,N):b):(x.flags|=2,N)):(x.flags|=1048576,N)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,N,b,g){return N===null||N.tag!==6?(N=Up(b,x.mode,g),N.return=x,N):(N=a(N,b),N.return=x,N)}function A(x,N,b,g){var k=b.type;return k===BA?d(x,N,b.props.children,g,b.key):N!==null&&(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ul&&Sv(k)===N.type)?(g=a(N,b.props),g.ref=sd(x,N,b),g.return=x,g):(g=km(b.type,b.key,b.props,null,x.mode,g),g.ref=sd(x,N,b),g.return=x,g)}function c(x,N,b,g){return N===null||N.tag!==4||N.stateNode.containerInfo!==b.containerInfo||N.stateNode.implementation!==b.implementation?(N=Qp(b,x.mode,g),N.return=x,N):(N=a(N,b.children||[]),N.return=x,N)}function d(x,N,b,g,k){return N===null||N.tag!==7?(N=Eo(b,x.mode,g,k),N.return=x,N):(N=a(N,b),N.return=x,N)}function h(x,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Up(""+N,x.mode,b),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case wh:return b=km(N.type,N.key,N.props,null,x.mode,b),b.ref=sd(x,null,N),b.return=x,b;case jA:return N=Qp(N,x.mode,b),N.return=x,N;case ul:var g=N._init;return h(x,g(N._payload),b)}if(xd(N)||Xc(N))return N=Eo(N,x.mode,b,null),N.return=x,N;kh(x,N)}return null}function p(x,N,b,g){var k=N!==null?N.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:o(x,N,""+b,g);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wh:return b.key===k?A(x,N,b,g):null;case jA:return b.key===k?c(x,N,b,g):null;case ul:return k=b._init,p(x,N,k(b._payload),g)}if(xd(b)||Xc(b))return k!==null?null:d(x,N,b,g,null);kh(x,b)}return null}function m(x,N,b,g,k){if(typeof g=="string"&&g!==""||typeof g=="number")return x=x.get(b)||null,o(N,x,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case wh:return x=x.get(g.key===null?b:g.key)||null,A(N,x,g,k);case jA:return x=x.get(g.key===null?b:g.key)||null,c(N,x,g,k);case ul:var _=g._init;return m(x,N,b,_(g._payload),k)}if(xd(g)||Xc(g))return x=x.get(b)||null,d(N,x,g,k,null);kh(N,g)}return null}function y(x,N,b,g){for(var k=null,_=null,I=N,U=N=0,S=null;I!==null&&U<b.length;U++){I.index>U?(S=I,I=null):S=I.sibling;var G=p(x,I,b[U],g);if(G===null){I===null&&(I=S);break}e&&I&&G.alternate===null&&t(x,I),N=i(G,N,U),_===null?k=G:_.sibling=G,_=G,I=S}if(U===b.length)return s(x,I),wr&&ho(x,U),k;if(I===null){for(;U<b.length;U++)I=h(x,b[U],g),I!==null&&(N=i(I,N,U),_===null?k=I:_.sibling=I,_=I);return wr&&ho(x,U),k}for(I=n(x,I);U<b.length;U++)S=m(I,x,U,b[U],g),S!==null&&(e&&S.alternate!==null&&I.delete(S.key===null?U:S.key),N=i(S,N,U),_===null?k=S:_.sibling=S,_=S);return e&&I.forEach(function(L){return t(x,L)}),wr&&ho(x,U),k}function v(x,N,b,g){var k=Xc(b);if(typeof k!="function")throw Error(Ie(150));if(b=k.call(b),b==null)throw Error(Ie(151));for(var _=k=null,I=N,U=N=0,S=null,G=b.next();I!==null&&!G.done;U++,G=b.next()){I.index>U?(S=I,I=null):S=I.sibling;var L=p(x,I,G.value,g);if(L===null){I===null&&(I=S);break}e&&I&&L.alternate===null&&t(x,I),N=i(L,N,U),_===null?k=L:_.sibling=L,_=L,I=S}if(G.done)return s(x,I),wr&&ho(x,U),k;if(I===null){for(;!G.done;U++,G=b.next())G=h(x,G.value,g),G!==null&&(N=i(G,N,U),_===null?k=G:_.sibling=G,_=G);return wr&&ho(x,U),k}for(I=n(x,I);!G.done;U++,G=b.next())G=m(I,x,U,G.value,g),G!==null&&(e&&G.alternate!==null&&I.delete(G.key===null?U:G.key),N=i(G,N,U),_===null?k=G:_.sibling=G,_=G);return e&&I.forEach(function(P){return t(x,P)}),wr&&ho(x,U),k}function B(x,N,b,g){if(typeof b=="object"&&b!==null&&b.type===BA&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wh:e:{for(var k=b.key,_=N;_!==null;){if(_.key===k){if(k=b.type,k===BA){if(_.tag===7){s(x,_.sibling),N=a(_,b.props.children),N.return=x,x=N;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ul&&Sv(k)===_.type){s(x,_.sibling),N=a(_,b.props),N.ref=sd(x,_,b),N.return=x,x=N;break e}s(x,_);break}else t(x,_);_=_.sibling}b.type===BA?(N=Eo(b.props.children,x.mode,g,b.key),N.return=x,x=N):(g=km(b.type,b.key,b.props,null,x.mode,g),g.ref=sd(x,N,b),g.return=x,x=g)}return l(x);case jA:e:{for(_=b.key;N!==null;){if(N.key===_)if(N.tag===4&&N.stateNode.containerInfo===b.containerInfo&&N.stateNode.implementation===b.implementation){s(x,N.sibling),N=a(N,b.children||[]),N.return=x,x=N;break e}else{s(x,N);break}else t(x,N);N=N.sibling}N=Qp(b,x.mode,g),N.return=x,x=N}return l(x);case ul:return _=b._init,B(x,N,_(b._payload),g)}if(xd(b))return y(x,N,b,g);if(Xc(b))return v(x,N,b,g);kh(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,N!==null&&N.tag===6?(s(x,N.sibling),N=a(N,b),N.return=x,x=N):(s(x,N),N=Up(b,x.mode,g),N.return=x,x=N),l(x)):s(x,N)}return B}var rc=A5(!0),c5=A5(!1),c0=Vl(null),d0=null,QA=null,Gy=null;function $y(){Gy=QA=d0=null}function qy(e){var t=c0.current;xr(c0),e._currentValue=t}function og(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function zA(e,t){d0=e,Gy=QA=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cn=!0),e.firstContext=null)}function na(e){var t=e._currentValue;if(Gy!==e)if(e={context:e,memoizedValue:t,next:null},QA===null){if(d0===null)throw Error(Ie(308));QA=e,d0.dependencies={lanes:0,firstContext:e}}else QA=QA.next=e;return t}var yo=null;function Yy(e){yo===null?yo=[e]:yo.push(e)}function d5(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,Yy(t)):(s.next=a.next,a.next=s),t.interleaved=s,Ri(e,n)}function Ri(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var hl=!1;function Wy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _i(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Il(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Qt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ri(e,s)}return a=n.interleaved,a===null?(t.next=t,Yy(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ri(e,s)}function Bm(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Ly(e,s)}}function Ev(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?a=i=t:i=i.next=t}else a=i=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function u0(e,t,s,n){var a=e.updateQueue;hl=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var A=o,c=A.next;A.next=null,l===null?i=c:l.next=c,l=A;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=A))}if(i!==null){var h=a.baseState;l=0,d=c=A=null,o=i;do{var p=o.lane,m=o.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,v=o;switch(p=t,m=s,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=Cr({},h,p);break e;case 2:hl=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,A=h):d=d.next=m,l|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;p=o,o=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(A=h),a.baseState=A,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Po|=l,e.lanes=l,e.memoizedState=h}}function Fv(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(Ie(191,a));a.call(n)}}}var Fu={},ei=Vl(Fu),iu=Vl(Fu),lu=Vl(Fu);function wo(e){if(e===Fu)throw Error(Ie(174));return e}function Jy(e,t){switch(cr(lu,t),cr(iu,e),cr(ei,Fu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ox(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ox(t,e)}xr(ei),cr(ei,t)}function sc(){xr(ei),xr(iu),xr(lu)}function h5(e){wo(lu.current);var t=wo(ei.current),s=Ox(t,e.type);t!==s&&(cr(iu,e),cr(ei,s))}function Xy(e){iu.current===e&&(xr(ei),xr(iu))}var jr=Vl(0);function h0(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cp=[];function Zy(){for(var e=0;e<Cp.length;e++)Cp[e]._workInProgressVersionPrimary=null;Cp.length=0}var Cm=zi.ReactCurrentDispatcher,Sp=zi.ReactCurrentBatchConfig,Lo=0,Br=null,As=null,ys=null,m0=!1,_d=!1,ou=0,eE=0;function Ps(){throw Error(Ie(321))}function e1(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Ba(e[s],t[s]))return!1;return!0}function t1(e,t,s,n,a,i){if(Lo=i,Br=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cm.current=e===null||e.memoizedState===null?nE:aE,e=s(n,a),_d){i=0;do{if(_d=!1,ou=0,25<=i)throw Error(Ie(301));i+=1,ys=As=null,t.updateQueue=null,Cm.current=iE,e=s(n,a)}while(_d)}if(Cm.current=f0,t=As!==null&&As.next!==null,Lo=0,ys=As=Br=null,m0=!1,t)throw Error(Ie(300));return e}function r1(){var e=ou!==0;return ou=0,e}function qa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ys===null?Br.memoizedState=ys=e:ys=ys.next=e,ys}function aa(){if(As===null){var e=Br.alternate;e=e!==null?e.memoizedState:null}else e=As.next;var t=ys===null?Br.memoizedState:ys.next;if(t!==null)ys=t,As=e;else{if(e===null)throw Error(Ie(310));As=e,e={memoizedState:As.memoizedState,baseState:As.baseState,baseQueue:As.baseQueue,queue:As.queue,next:null},ys===null?Br.memoizedState=ys=e:ys=ys.next=e}return ys}function Au(e,t){return typeof t=="function"?t(e):t}function Ep(e){var t=aa(),s=t.queue;if(s===null)throw Error(Ie(311));s.lastRenderedReducer=e;var n=As,a=n.baseQueue,i=s.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,A=null,c=i;do{var d=c.lane;if((Lo&d)===d)A!==null&&(A=A.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};A===null?(o=A=h,l=n):A=A.next=h,Br.lanes|=d,Po|=d}c=c.next}while(c!==null&&c!==i);A===null?l=n:A.next=o,Ba(n,t.memoizedState)||(cn=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=A,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do i=a.lane,Br.lanes|=i,Po|=i,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Fp(e){var t=aa(),s=t.queue;if(s===null)throw Error(Ie(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,i=t.memoizedState;if(a!==null){s.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);Ba(i,t.memoizedState)||(cn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,n]}function m5(){}function f5(e,t){var s=Br,n=aa(),a=t(),i=!Ba(n.memoizedState,a);if(i&&(n.memoizedState=a,cn=!0),n=n.queue,s1(g5.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||ys!==null&&ys.memoizedState.tag&1){if(s.flags|=2048,cu(9,x5.bind(null,s,n,a,t),void 0,null),vs===null)throw Error(Ie(349));Lo&30||p5(s,t,a)}return a}function p5(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Br.updateQueue,t===null?(t={lastEffect:null,stores:null},Br.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function x5(e,t,s,n){t.value=s,t.getSnapshot=n,y5(t)&&w5(e)}function g5(e,t,s){return s(function(){y5(t)&&w5(e)})}function y5(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ba(e,s)}catch{return!0}}function w5(e){var t=Ri(e,1);t!==null&&ja(t,e,1,-1)}function Iv(e){var t=qa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Au,lastRenderedState:e},t.queue=e,e=e.dispatch=sE.bind(null,Br,e),[t.memoizedState,e]}function cu(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=Br.updateQueue,t===null?(t={lastEffect:null,stores:null},Br.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function v5(){return aa().memoizedState}function Sm(e,t,s,n){var a=qa();Br.flags|=e,a.memoizedState=cu(1|t,s,void 0,n===void 0?null:n)}function $0(e,t,s,n){var a=aa();n=n===void 0?null:n;var i=void 0;if(As!==null){var l=As.memoizedState;if(i=l.destroy,n!==null&&e1(n,l.deps)){a.memoizedState=cu(t,s,i,n);return}}Br.flags|=e,a.memoizedState=cu(1|t,s,i,n)}function kv(e,t){return Sm(8390656,8,e,t)}function s1(e,t){return $0(2048,8,e,t)}function b5(e,t){return $0(4,2,e,t)}function N5(e,t){return $0(4,4,e,t)}function j5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function B5(e,t,s){return s=s!=null?s.concat([e]):null,$0(4,4,j5.bind(null,t,e),s)}function n1(){}function C5(e,t){var s=aa();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&e1(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function S5(e,t){var s=aa();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&e1(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function E5(e,t,s){return Lo&21?(Ba(s,t)||(s=Qj(),Br.lanes|=s,Po|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cn=!0),e.memoizedState=s)}function tE(e,t){var s=qt;qt=s!==0&&4>s?s:4,e(!0);var n=Sp.transition;Sp.transition={};try{e(!1),t()}finally{qt=s,Sp.transition=n}}function F5(){return aa().memoizedState}function rE(e,t,s){var n=Ul(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},I5(e))k5(t,s);else if(s=d5(e,t,s,n),s!==null){var a=en();ja(s,e,n,a),U5(s,t,n)}}function sE(e,t,s){var n=Ul(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(I5(e))k5(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,s);if(a.hasEagerState=!0,a.eagerState=o,Ba(o,l)){var A=t.interleaved;A===null?(a.next=a,Yy(t)):(a.next=A.next,A.next=a),t.interleaved=a;return}}catch{}finally{}s=d5(e,t,a,n),s!==null&&(a=en(),ja(s,e,n,a),U5(s,t,n))}}function I5(e){var t=e.alternate;return e===Br||t!==null&&t===Br}function k5(e,t){_d=m0=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function U5(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Ly(e,s)}}var f0={readContext:na,useCallback:Ps,useContext:Ps,useEffect:Ps,useImperativeHandle:Ps,useInsertionEffect:Ps,useLayoutEffect:Ps,useMemo:Ps,useReducer:Ps,useRef:Ps,useState:Ps,useDebugValue:Ps,useDeferredValue:Ps,useTransition:Ps,useMutableSource:Ps,useSyncExternalStore:Ps,useId:Ps,unstable_isNewReconciler:!1},nE={readContext:na,useCallback:function(e,t){return qa().memoizedState=[e,t===void 0?null:t],e},useContext:na,useEffect:kv,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Sm(4194308,4,j5.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Sm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sm(4,2,e,t)},useMemo:function(e,t){var s=qa();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=qa();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rE.bind(null,Br,e),[n.memoizedState,e]},useRef:function(e){var t=qa();return e={current:e},t.memoizedState=e},useState:Iv,useDebugValue:n1,useDeferredValue:function(e){return qa().memoizedState=e},useTransition:function(){var e=Iv(!1),t=e[0];return e=tE.bind(null,e[1]),qa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=Br,a=qa();if(wr){if(s===void 0)throw Error(Ie(407));s=s()}else{if(s=t(),vs===null)throw Error(Ie(349));Lo&30||p5(n,t,s)}a.memoizedState=s;var i={value:s,getSnapshot:t};return a.queue=i,kv(g5.bind(null,n,i,e),[e]),n.flags|=2048,cu(9,x5.bind(null,n,i,s,t),void 0,null),s},useId:function(){var e=qa(),t=vs.identifierPrefix;if(wr){var s=Qi,n=Ui;s=(n&~(1<<32-Na(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=ou++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=eE++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aE={readContext:na,useCallback:C5,useContext:na,useEffect:s1,useImperativeHandle:B5,useInsertionEffect:b5,useLayoutEffect:N5,useMemo:S5,useReducer:Ep,useRef:v5,useState:function(){return Ep(Au)},useDebugValue:n1,useDeferredValue:function(e){var t=aa();return E5(t,As.memoizedState,e)},useTransition:function(){var e=Ep(Au)[0],t=aa().memoizedState;return[e,t]},useMutableSource:m5,useSyncExternalStore:f5,useId:F5,unstable_isNewReconciler:!1},iE={readContext:na,useCallback:C5,useContext:na,useEffect:s1,useImperativeHandle:B5,useInsertionEffect:b5,useLayoutEffect:N5,useMemo:S5,useReducer:Fp,useRef:v5,useState:function(){return Fp(Au)},useDebugValue:n1,useDeferredValue:function(e){var t=aa();return As===null?t.memoizedState=e:E5(t,As.memoizedState,e)},useTransition:function(){var e=Fp(Au)[0],t=aa().memoizedState;return[e,t]},useMutableSource:m5,useSyncExternalStore:f5,useId:F5,unstable_isNewReconciler:!1};function ya(e,t){if(e&&e.defaultProps){t=Cr({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Ag(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:Cr({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var q0={isMounted:function(e){return(e=e._reactInternals)?Ko(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=en(),a=Ul(e),i=_i(n,a);i.payload=t,s!=null&&(i.callback=s),t=Il(e,i,a),t!==null&&(ja(t,e,a,n),Bm(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=en(),a=Ul(e),i=_i(n,a);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=Il(e,i,a),t!==null&&(ja(t,e,a,n),Bm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=en(),n=Ul(e),a=_i(s,n);a.tag=2,t!=null&&(a.callback=t),t=Il(e,a,n),t!==null&&(ja(t,e,n,s),Bm(t,e,n))}};function Uv(e,t,s,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!ru(s,n)||!ru(a,i):!0}function Q5(e,t,s){var n=!1,a=Ml,i=t.contextType;return typeof i=="object"&&i!==null?i=na(i):(a=hn(t)?Qo:Gs.current,n=t.contextTypes,i=(n=n!=null)?ec(e,a):Ml),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=q0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Qv(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&q0.enqueueReplaceState(t,t.state,null)}function cg(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Wy(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=na(i):(i=hn(t)?Qo:Gs.current,a.context=ec(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ag(e,t,i,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&q0.enqueueReplaceState(a,a.state,null),u0(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function nc(e,t){try{var s="",n=t;do s+=_S(n),n=n.return;while(n);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Ip(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function dg(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var lE=typeof WeakMap=="function"?WeakMap:Map;function _5(e,t,s){s=_i(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){x0||(x0=!0,vg=n),dg(e,t)},s}function L5(e,t,s){s=_i(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){dg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){dg(e,t),typeof n!="function"&&(kl===null?kl=new Set([this]):kl.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),s}function _v(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new lE;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=vE.bind(null,e,t,s),t.then(e,e))}function Lv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pv(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=_i(-1,1),t.tag=2,Il(s,t,1))),s.lanes|=1),e)}var oE=zi.ReactCurrentOwner,cn=!1;function Xs(e,t,s,n){t.child=e===null?c5(t,null,s,n):rc(t,e.child,s,n)}function Dv(e,t,s,n,a){s=s.render;var i=t.ref;return zA(t,a),n=t1(e,t,s,n,i,a),s=r1(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Mi(e,t,a)):(wr&&s&&Ky(t),t.flags|=1,Xs(e,t,n,a),t.child)}function Tv(e,t,s,n,a){if(e===null){var i=s.type;return typeof i=="function"&&!u1(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,P5(e,t,i,n,a)):(e=km(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:ru,s(l,n)&&e.ref===t.ref)return Mi(e,t,a)}return t.flags|=1,e=Ql(i,n),e.ref=t.ref,e.return=t,t.child=e}function P5(e,t,s,n,a){if(e!==null){var i=e.memoizedProps;if(ru(i,n)&&e.ref===t.ref)if(cn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(cn=!0);else return t.lanes=e.lanes,Mi(e,t,a)}return ug(e,t,s,n,a)}function D5(e,t,s){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},cr(LA,In),In|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,cr(LA,In),In|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:s,cr(LA,In),In|=n}else i!==null?(n=i.baseLanes|s,t.memoizedState=null):n=s,cr(LA,In),In|=n;return Xs(e,t,a,s),t.child}function T5(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function ug(e,t,s,n,a){var i=hn(s)?Qo:Gs.current;return i=ec(t,i),zA(t,a),s=t1(e,t,s,n,i,a),n=r1(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Mi(e,t,a)):(wr&&n&&Ky(t),t.flags|=1,Xs(e,t,s,a),t.child)}function Rv(e,t,s,n,a){if(hn(s)){var i=!0;l0(t)}else i=!1;if(zA(t,a),t.stateNode===null)Em(e,t),Q5(t,s,n),cg(t,s,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var A=l.context,c=s.contextType;typeof c=="object"&&c!==null?c=na(c):(c=hn(s)?Qo:Gs.current,c=ec(t,c));var d=s.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||A!==c)&&Qv(t,l,n,c),hl=!1;var p=t.memoizedState;l.state=p,u0(t,n,l,a),A=t.memoizedState,o!==n||p!==A||un.current||hl?(typeof d=="function"&&(Ag(t,s,d,n),A=t.memoizedState),(o=hl||Uv(t,s,o,n,p,A,c))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=A),l.props=n,l.state=A,l.context=c,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,u5(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ya(t.type,o),l.props=c,h=t.pendingProps,p=l.context,A=s.contextType,typeof A=="object"&&A!==null?A=na(A):(A=hn(s)?Qo:Gs.current,A=ec(t,A));var m=s.getDerivedStateFromProps;(d=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||p!==A)&&Qv(t,l,n,A),hl=!1,p=t.memoizedState,l.state=p,u0(t,n,l,a);var y=t.memoizedState;o!==h||p!==y||un.current||hl?(typeof m=="function"&&(Ag(t,s,m,n),y=t.memoizedState),(c=hl||Uv(t,s,c,n,p,y,A)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,y,A),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,y,A)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),l.props=n,l.state=y,l.context=A,n=c):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return hg(e,t,s,n,i,a)}function hg(e,t,s,n,a,i){T5(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&jv(t,s,!1),Mi(e,t,i);n=t.stateNode,oE.current=t;var o=l&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=rc(t,e.child,null,i),t.child=rc(t,null,o,i)):Xs(e,t,o,i),t.memoizedState=n.state,a&&jv(t,s,!0),t.child}function R5(e){var t=e.stateNode;t.pendingContext?Nv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nv(e,t.context,!1),Jy(e,t.containerInfo)}function Mv(e,t,s,n,a){return tc(),Vy(a),t.flags|=256,Xs(e,t,s,n),t.child}var mg={dehydrated:null,treeContext:null,retryLane:0};function fg(e){return{baseLanes:e,cachePool:null,transitions:null}}function M5(e,t,s){var n=t.pendingProps,a=jr.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),cr(jr,a&1),e===null)return lg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=J0(l,n,0,null),e=Eo(e,n,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fg(s),t.memoizedState=mg,e):a1(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return AE(e,t,l,n,o,a,s);if(i){i=n.fallback,l=t.mode,a=e.child,o=a.sibling;var A={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=A,t.deletions=null):(n=Ql(a,A),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ql(o,i):(i=Eo(i,l,s,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?fg(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~s,t.memoizedState=mg,n}return i=e.child,e=i.sibling,n=Ql(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function a1(e,t){return t=J0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uh(e,t,s,n){return n!==null&&Vy(n),rc(t,e.child,null,s),e=a1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AE(e,t,s,n,a,i,l){if(s)return t.flags&256?(t.flags&=-257,n=Ip(Error(Ie(422))),Uh(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=J0({mode:"visible",children:n.children},a,0,null),i=Eo(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&rc(t,e.child,null,l),t.child.memoizedState=fg(l),t.memoizedState=mg,i);if(!(t.mode&1))return Uh(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Ie(419)),n=Ip(i,n,void 0),Uh(e,t,l,n)}if(o=(l&e.childLanes)!==0,cn||o){if(n=vs,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ri(e,a),ja(n,e,a,-1))}return d1(),n=Ip(Error(Ie(421))),Uh(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=bE.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Qn=Fl(a.nextSibling),Pn=t,wr=!0,va=null,e!==null&&(Yn[Wn++]=Ui,Yn[Wn++]=Qi,Yn[Wn++]=_o,Ui=e.id,Qi=e.overflow,_o=t),t=a1(t,n.children),t.flags|=4096,t)}function Hv(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),og(e.return,t,s)}function kp(e,t,s,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=s,i.tailMode=a)}function H5(e,t,s){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Xs(e,t,n.children,s),n=jr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hv(e,s,t);else if(e.tag===19)Hv(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(cr(jr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&h0(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),kp(t,!1,a,s,i);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&h0(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}kp(t,!0,s,null,i);break;case"together":kp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Em(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mi(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Po|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ie(153));if(t.child!==null){for(e=t.child,s=Ql(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ql(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function cE(e,t,s){switch(t.tag){case 3:R5(t),tc();break;case 5:h5(t);break;case 1:hn(t.type)&&l0(t);break;case 4:Jy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;cr(c0,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(cr(jr,jr.current&1),t.flags|=128,null):s&t.child.childLanes?M5(e,t,s):(cr(jr,jr.current&1),e=Mi(e,t,s),e!==null?e.sibling:null);cr(jr,jr.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return H5(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),cr(jr,jr.current),n)break;return null;case 22:case 23:return t.lanes=0,D5(e,t,s)}return Mi(e,t,s)}var O5,pg,K5,z5;O5=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};pg=function(){};K5=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,wo(ei.current);var i=null;switch(s){case"input":a=Tx(e,a),n=Tx(e,n),i=[];break;case"select":a=Cr({},a,{value:void 0}),n=Cr({},n,{value:void 0}),i=[];break;case"textarea":a=Hx(e,a),n=Hx(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=a0)}Kx(s,n);var l;s=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var A=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&A!==o&&(A!=null||o!=null))if(c==="style")if(o){for(l in o)!o.hasOwnProperty(l)||A&&A.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in A)A.hasOwnProperty(l)&&o[l]!==A[l]&&(s||(s={}),s[l]=A[l])}else s||(i||(i=[]),i.push(c,s)),s=A;else c==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,o=o?o.__html:void 0,A!=null&&o!==A&&(i=i||[]).push(c,A)):c==="children"?typeof A!="string"&&typeof A!="number"||(i=i||[]).push(c,""+A):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yd.hasOwnProperty(c)?(A!=null&&c==="onScroll"&&hr("scroll",e),i||o===A||(i=[])):(i=i||[]).push(c,A))}s&&(i=i||[]).push("style",s);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};z5=function(e,t,s,n){s!==n&&(t.flags|=4)};function nd(e,t){if(!wr)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ds(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function dE(e,t,s){var n=t.pendingProps;switch(zy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ds(t),null;case 1:return hn(t.type)&&i0(),Ds(t),null;case 3:return n=t.stateNode,sc(),xr(un),xr(Gs),Zy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ih(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,va!==null&&(jg(va),va=null))),pg(e,t),Ds(t),null;case 5:Xy(t);var a=wo(lu.current);if(s=t.type,e!==null&&t.stateNode!=null)K5(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ie(166));return Ds(t),null}if(e=wo(ei.current),Ih(t)){n=t.stateNode,s=t.type;var i=t.memoizedProps;switch(n[Ya]=t,n[au]=i,e=(t.mode&1)!==0,s){case"dialog":hr("cancel",n),hr("close",n);break;case"iframe":case"object":case"embed":hr("load",n);break;case"video":case"audio":for(a=0;a<yd.length;a++)hr(yd[a],n);break;case"source":hr("error",n);break;case"img":case"image":case"link":hr("error",n),hr("load",n);break;case"details":hr("toggle",n);break;case"input":Ww(n,i),hr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},hr("invalid",n);break;case"textarea":Xw(n,i),hr("invalid",n)}Kx(s,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Fh(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Fh(n.textContent,o,e),a=["children",""+o]):Yd.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&hr("scroll",n)}switch(s){case"input":vh(n),Jw(n,i,!0);break;case"textarea":vh(n),Zw(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=a0)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gj(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(s,{is:n.is}):(e=l.createElement(s),s==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,s),e[Ya]=t,e[au]=n,O5(e,t,!1,!1),t.stateNode=e;e:{switch(l=zx(s,n),s){case"dialog":hr("cancel",e),hr("close",e),a=n;break;case"iframe":case"object":case"embed":hr("load",e),a=n;break;case"video":case"audio":for(a=0;a<yd.length;a++)hr(yd[a],e);a=n;break;case"source":hr("error",e),a=n;break;case"img":case"image":case"link":hr("error",e),hr("load",e),a=n;break;case"details":hr("toggle",e),a=n;break;case"input":Ww(e,n),a=Tx(e,n),hr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Cr({},n,{value:void 0}),hr("invalid",e);break;case"textarea":Xw(e,n),a=Hx(e,n),hr("invalid",e);break;default:a=n}Kx(s,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var A=o[i];i==="style"?vj(e,A):i==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&yj(e,A)):i==="children"?typeof A=="string"?(s!=="textarea"||A!=="")&&Wd(e,A):typeof A=="number"&&Wd(e,""+A):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yd.hasOwnProperty(i)?A!=null&&i==="onScroll"&&hr("scroll",e):A!=null&&Fy(e,i,A,l))}switch(s){case"input":vh(e),Jw(e,n,!1);break;case"textarea":vh(e),Zw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Rl(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?MA(e,!!n.multiple,i,!1):n.defaultValue!=null&&MA(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=a0)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ds(t),null;case 6:if(e&&t.stateNode!=null)z5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ie(166));if(s=wo(lu.current),wo(ei.current),Ih(t)){if(n=t.stateNode,s=t.memoizedProps,n[Ya]=t,(i=n.nodeValue!==s)&&(e=Pn,e!==null))switch(e.tag){case 3:Fh(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fh(n.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Ya]=t,t.stateNode=n}return Ds(t),null;case 13:if(xr(jr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wr&&Qn!==null&&t.mode&1&&!(t.flags&128))o5(),tc(),t.flags|=98560,i=!1;else if(i=Ih(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ie(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ie(317));i[Ya]=t}else tc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ds(t),i=!1}else va!==null&&(jg(va),va=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||jr.current&1?ds===0&&(ds=3):d1())),t.updateQueue!==null&&(t.flags|=4),Ds(t),null);case 4:return sc(),pg(e,t),e===null&&su(t.stateNode.containerInfo),Ds(t),null;case 10:return qy(t.type._context),Ds(t),null;case 17:return hn(t.type)&&i0(),Ds(t),null;case 19:if(xr(jr),i=t.memoizedState,i===null)return Ds(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)nd(i,!1);else{if(ds!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=h0(e),l!==null){for(t.flags|=128,nd(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)i=s,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return cr(jr,jr.current&1|2),t.child}e=e.sibling}i.tail!==null&&zr()>ac&&(t.flags|=128,n=!0,nd(i,!1),t.lanes=4194304)}else{if(!n)if(e=h0(l),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),nd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!wr)return Ds(t),null}else 2*zr()-i.renderingStartTime>ac&&s!==1073741824&&(t.flags|=128,n=!0,nd(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(s=i.last,s!==null?s.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=zr(),t.sibling=null,s=jr.current,cr(jr,n?s&1|2:s&1),t):(Ds(t),null);case 22:case 23:return c1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?In&1073741824&&(Ds(t),t.subtreeFlags&6&&(t.flags|=8192)):Ds(t),null;case 24:return null;case 25:return null}throw Error(Ie(156,t.tag))}function uE(e,t){switch(zy(t),t.tag){case 1:return hn(t.type)&&i0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sc(),xr(un),xr(Gs),Zy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xy(t),null;case 13:if(xr(jr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ie(340));tc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xr(jr),null;case 4:return sc(),null;case 10:return qy(t.type._context),null;case 22:case 23:return c1(),null;case 24:return null;default:return null}}var Qh=!1,zs=!1,hE=typeof WeakSet=="function"?WeakSet:Set,De=null;function _A(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){kr(e,t,n)}else s.current=null}function xg(e,t,s){try{s()}catch(n){kr(e,t,n)}}var Ov=!1;function mE(e,t){if(eg=r0,e=Yj(),Oy(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,o=-1,A=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==s||a!==0&&h.nodeType!==3||(o=l+a),h!==i||n!==0&&h.nodeType!==3||(A=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===s&&++c===a&&(o=l),p===i&&++d===n&&(A=l),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}s=o===-1||A===-1?null:{start:o,end:A}}else s=null}s=s||{start:0,end:0}}else s=null;for(tg={focusedElem:e,selectionRange:s},r0=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){t=De;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,B=y.memoizedState,x=t.stateNode,N=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:ya(t.type,v),B);x.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(g){kr(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}return y=Ov,Ov=!1,y}function Ld(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&xg(t,s,i)}a=a.next}while(a!==n)}}function Y0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function gg(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function V5(e){var t=e.alternate;t!==null&&(e.alternate=null,V5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ya],delete t[au],delete t[ng],delete t[W6],delete t[J6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function G5(e){return e.tag===5||e.tag===3||e.tag===4}function Kv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||G5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yg(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=a0));else if(n!==4&&(e=e.child,e!==null))for(yg(e,t,s),e=e.sibling;e!==null;)yg(e,t,s),e=e.sibling}function wg(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(wg(e,t,s),e=e.sibling;e!==null;)wg(e,t,s),e=e.sibling}var Es=null,wa=!1;function il(e,t,s){for(s=s.child;s!==null;)$5(e,t,s),s=s.sibling}function $5(e,t,s){if(Za&&typeof Za.onCommitFiberUnmount=="function")try{Za.onCommitFiberUnmount(H0,s)}catch{}switch(s.tag){case 5:zs||_A(s,t);case 6:var n=Es,a=wa;Es=null,il(e,t,s),Es=n,wa=a,Es!==null&&(wa?(e=Es,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Es.removeChild(s.stateNode));break;case 18:Es!==null&&(wa?(e=Es,s=s.stateNode,e.nodeType===8?jp(e.parentNode,s):e.nodeType===1&&jp(e,s),eu(e)):jp(Es,s.stateNode));break;case 4:n=Es,a=wa,Es=s.stateNode.containerInfo,wa=!0,il(e,t,s),Es=n,wa=a;break;case 0:case 11:case 14:case 15:if(!zs&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&xg(s,t,l),a=a.next}while(a!==n)}il(e,t,s);break;case 1:if(!zs&&(_A(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){kr(s,t,o)}il(e,t,s);break;case 21:il(e,t,s);break;case 22:s.mode&1?(zs=(n=zs)||s.memoizedState!==null,il(e,t,s),zs=n):il(e,t,s);break;default:il(e,t,s)}}function zv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new hE),t.forEach(function(n){var a=NE.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function pa(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Es=o.stateNode,wa=!1;break e;case 3:Es=o.stateNode.containerInfo,wa=!0;break e;case 4:Es=o.stateNode.containerInfo,wa=!0;break e}o=o.return}if(Es===null)throw Error(Ie(160));$5(i,l,a),Es=null,wa=!1;var A=a.alternate;A!==null&&(A.return=null),a.return=null}catch(c){kr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)q5(t,e),t=t.sibling}function q5(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pa(t,e),Ka(e),n&4){try{Ld(3,e,e.return),Y0(3,e)}catch(v){kr(e,e.return,v)}try{Ld(5,e,e.return)}catch(v){kr(e,e.return,v)}}break;case 1:pa(t,e),Ka(e),n&512&&s!==null&&_A(s,s.return);break;case 5:if(pa(t,e),Ka(e),n&512&&s!==null&&_A(s,s.return),e.flags&32){var a=e.stateNode;try{Wd(a,"")}catch(v){kr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=s!==null?s.memoizedProps:i,o=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&pj(a,i),zx(o,l);var c=zx(o,i);for(l=0;l<A.length;l+=2){var d=A[l],h=A[l+1];d==="style"?vj(a,h):d==="dangerouslySetInnerHTML"?yj(a,h):d==="children"?Wd(a,h):Fy(a,d,h,c)}switch(o){case"input":Rx(a,i);break;case"textarea":xj(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?MA(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?MA(a,!!i.multiple,i.defaultValue,!0):MA(a,!!i.multiple,i.multiple?[]:"",!1))}a[au]=i}catch(v){kr(e,e.return,v)}}break;case 6:if(pa(t,e),Ka(e),n&4){if(e.stateNode===null)throw Error(Ie(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){kr(e,e.return,v)}}break;case 3:if(pa(t,e),Ka(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{eu(t.containerInfo)}catch(v){kr(e,e.return,v)}break;case 4:pa(t,e),Ka(e);break;case 13:pa(t,e),Ka(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(o1=zr())),n&4&&zv(e);break;case 22:if(d=s!==null&&s.memoizedState!==null,e.mode&1?(zs=(c=zs)||d,pa(t,e),zs=c):pa(t,e),Ka(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(De=e,d=e.child;d!==null;){for(h=De=d;De!==null;){switch(p=De,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ld(4,p,p.return);break;case 1:_A(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,s=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){kr(n,s,v)}}break;case 5:_A(p,p.return);break;case 22:if(p.memoizedState!==null){Gv(h);continue}}m!==null?(m.return=p,De=m):Gv(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,A=h.memoizedProps.style,l=A!=null&&A.hasOwnProperty("display")?A.display:null,o.style.display=wj("display",l))}catch(v){kr(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){kr(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pa(t,e),Ka(e),n&4&&zv(e);break;case 21:break;default:pa(t,e),Ka(e)}}function Ka(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(G5(s)){var n=s;break e}s=s.return}throw Error(Ie(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Wd(a,""),n.flags&=-33);var i=Kv(e);wg(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Kv(e);yg(e,o,l);break;default:throw Error(Ie(161))}}catch(A){kr(e,e.return,A)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fE(e,t,s){De=e,Y5(e)}function Y5(e,t,s){for(var n=(e.mode&1)!==0;De!==null;){var a=De,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||Qh;if(!l){var o=a.alternate,A=o!==null&&o.memoizedState!==null||zs;o=Qh;var c=zs;if(Qh=l,(zs=A)&&!c)for(De=a;De!==null;)l=De,A=l.child,l.tag===22&&l.memoizedState!==null?$v(a):A!==null?(A.return=l,De=A):$v(a);for(;i!==null;)De=i,Y5(i),i=i.sibling;De=a,Qh=o,zs=c}Vv(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,De=i):Vv(e)}}function Vv(e){for(;De!==null;){var t=De;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zs||Y0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!zs)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:ya(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Fv(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Fv(t,l,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var A=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&s.focus();break;case"img":A.src&&(s.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&eu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}zs||t.flags&512&&gg(t)}catch(p){kr(t,t.return,p)}}if(t===e){De=null;break}if(s=t.sibling,s!==null){s.return=t.return,De=s;break}De=t.return}}function Gv(e){for(;De!==null;){var t=De;if(t===e){De=null;break}var s=t.sibling;if(s!==null){s.return=t.return,De=s;break}De=t.return}}function $v(e){for(;De!==null;){var t=De;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Y0(4,t)}catch(A){kr(t,s,A)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(A){kr(t,a,A)}}var i=t.return;try{gg(t)}catch(A){kr(t,i,A)}break;case 5:var l=t.return;try{gg(t)}catch(A){kr(t,l,A)}}}catch(A){kr(t,t.return,A)}if(t===e){De=null;break}var o=t.sibling;if(o!==null){o.return=t.return,De=o;break}De=t.return}}var pE=Math.ceil,p0=zi.ReactCurrentDispatcher,i1=zi.ReactCurrentOwner,sa=zi.ReactCurrentBatchConfig,Qt=0,vs=null,Zr=null,Us=0,In=0,LA=Vl(0),ds=0,du=null,Po=0,W0=0,l1=0,Pd=null,An=null,o1=0,ac=1/0,Ei=null,x0=!1,vg=null,kl=null,_h=!1,wl=null,g0=0,Dd=0,bg=null,Fm=-1,Im=0;function en(){return Qt&6?zr():Fm!==-1?Fm:Fm=zr()}function Ul(e){return e.mode&1?Qt&2&&Us!==0?Us&-Us:Z6.transition!==null?(Im===0&&(Im=Qj()),Im):(e=qt,e!==0||(e=window.event,e=e===void 0?16:Mj(e.type)),e):1}function ja(e,t,s,n){if(50<Dd)throw Dd=0,bg=null,Error(Ie(185));Cu(e,s,n),(!(Qt&2)||e!==vs)&&(e===vs&&(!(Qt&2)&&(W0|=s),ds===4&&pl(e,Us)),mn(e,n),s===1&&Qt===0&&!(t.mode&1)&&(ac=zr()+500,G0&&Gl()))}function mn(e,t){var s=e.callbackNode;ZS(e,t);var n=t0(e,e===vs?Us:0);if(n===0)s!==null&&rv(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&rv(s),t===1)e.tag===0?X6(qv.bind(null,e)):a5(qv.bind(null,e)),q6(function(){!(Qt&6)&&Gl()}),s=null;else{switch(_j(n)){case 1:s=_y;break;case 4:s=kj;break;case 16:s=e0;break;case 536870912:s=Uj;break;default:s=e0}s=sB(s,W5.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function W5(e,t){if(Fm=-1,Im=0,Qt&6)throw Error(Ie(327));var s=e.callbackNode;if(VA()&&e.callbackNode!==s)return null;var n=t0(e,e===vs?Us:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=y0(e,n);else{t=n;var a=Qt;Qt|=2;var i=X5();(vs!==e||Us!==t)&&(Ei=null,ac=zr()+500,So(e,t));do try{yE();break}catch(o){J5(e,o)}while(!0);$y(),p0.current=i,Qt=a,Zr!==null?t=0:(vs=null,Us=0,t=ds)}if(t!==0){if(t===2&&(a=Yx(e),a!==0&&(n=a,t=Ng(e,a))),t===1)throw s=du,So(e,0),pl(e,n),mn(e,zr()),s;if(t===6)pl(e,n);else{if(a=e.current.alternate,!(n&30)&&!xE(a)&&(t=y0(e,n),t===2&&(i=Yx(e),i!==0&&(n=i,t=Ng(e,i))),t===1))throw s=du,So(e,0),pl(e,n),mn(e,zr()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ie(345));case 2:mo(e,An,Ei);break;case 3:if(pl(e,n),(n&130023424)===n&&(t=o1+500-zr(),10<t)){if(t0(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){en(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=sg(mo.bind(null,e,An,Ei),t);break}mo(e,An,Ei);break;case 4:if(pl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-Na(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=zr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pE(n/1960))-n,10<n){e.timeoutHandle=sg(mo.bind(null,e,An,Ei),n);break}mo(e,An,Ei);break;case 5:mo(e,An,Ei);break;default:throw Error(Ie(329))}}}return mn(e,zr()),e.callbackNode===s?W5.bind(null,e):null}function Ng(e,t){var s=Pd;return e.current.memoizedState.isDehydrated&&(So(e,t).flags|=256),e=y0(e,t),e!==2&&(t=An,An=s,t!==null&&jg(t)),e}function jg(e){An===null?An=e:An.push.apply(An,e)}function xE(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],i=a.getSnapshot;a=a.value;try{if(!Ba(i(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pl(e,t){for(t&=~l1,t&=~W0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Na(t),n=1<<s;e[s]=-1,t&=~n}}function qv(e){if(Qt&6)throw Error(Ie(327));VA();var t=t0(e,0);if(!(t&1))return mn(e,zr()),null;var s=y0(e,t);if(e.tag!==0&&s===2){var n=Yx(e);n!==0&&(t=n,s=Ng(e,n))}if(s===1)throw s=du,So(e,0),pl(e,t),mn(e,zr()),s;if(s===6)throw Error(Ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mo(e,An,Ei),mn(e,zr()),null}function A1(e,t){var s=Qt;Qt|=1;try{return e(t)}finally{Qt=s,Qt===0&&(ac=zr()+500,G0&&Gl())}}function Do(e){wl!==null&&wl.tag===0&&!(Qt&6)&&VA();var t=Qt;Qt|=1;var s=sa.transition,n=qt;try{if(sa.transition=null,qt=1,e)return e()}finally{qt=n,sa.transition=s,Qt=t,!(Qt&6)&&Gl()}}function c1(){In=LA.current,xr(LA)}function So(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,$6(s)),Zr!==null)for(s=Zr.return;s!==null;){var n=s;switch(zy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&i0();break;case 3:sc(),xr(un),xr(Gs),Zy();break;case 5:Xy(n);break;case 4:sc();break;case 13:xr(jr);break;case 19:xr(jr);break;case 10:qy(n.type._context);break;case 22:case 23:c1()}s=s.return}if(vs=e,Zr=e=Ql(e.current,null),Us=In=t,ds=0,du=null,l1=W0=Po=0,An=Pd=null,yo!==null){for(t=0;t<yo.length;t++)if(s=yo[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,i=s.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}s.pending=n}yo=null}return e}function J5(e,t){do{var s=Zr;try{if($y(),Cm.current=f0,m0){for(var n=Br.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}m0=!1}if(Lo=0,ys=As=Br=null,_d=!1,ou=0,i1.current=null,s===null||s.return===null){ds=1,du=t,Zr=null;break}e:{var i=e,l=s.return,o=s,A=t;if(t=Us,o.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var c=A,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Lv(l);if(m!==null){m.flags&=-257,Pv(m,l,o,i,t),m.mode&1&&_v(i,c,t),t=m,A=c;var y=t.updateQueue;if(y===null){var v=new Set;v.add(A),t.updateQueue=v}else y.add(A);break e}else{if(!(t&1)){_v(i,c,t),d1();break e}A=Error(Ie(426))}}else if(wr&&o.mode&1){var B=Lv(l);if(B!==null){!(B.flags&65536)&&(B.flags|=256),Pv(B,l,o,i,t),Vy(nc(A,o));break e}}i=A=nc(A,o),ds!==4&&(ds=2),Pd===null?Pd=[i]:Pd.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=_5(i,A,t);Ev(i,x);break e;case 1:o=A;var N=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof N.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(kl===null||!kl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var g=L5(i,o,t);Ev(i,g);break e}}i=i.return}while(i!==null)}eB(s)}catch(k){t=k,Zr===s&&s!==null&&(Zr=s=s.return);continue}break}while(!0)}function X5(){var e=p0.current;return p0.current=f0,e===null?f0:e}function d1(){(ds===0||ds===3||ds===2)&&(ds=4),vs===null||!(Po&268435455)&&!(W0&268435455)||pl(vs,Us)}function y0(e,t){var s=Qt;Qt|=2;var n=X5();(vs!==e||Us!==t)&&(Ei=null,So(e,t));do try{gE();break}catch(a){J5(e,a)}while(!0);if($y(),Qt=s,p0.current=n,Zr!==null)throw Error(Ie(261));return vs=null,Us=0,ds}function gE(){for(;Zr!==null;)Z5(Zr)}function yE(){for(;Zr!==null&&!zS();)Z5(Zr)}function Z5(e){var t=rB(e.alternate,e,In);e.memoizedProps=e.pendingProps,t===null?eB(e):Zr=t,i1.current=null}function eB(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=uE(s,t),s!==null){s.flags&=32767,Zr=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ds=6,Zr=null;return}}else if(s=dE(s,t,In),s!==null){Zr=s;return}if(t=t.sibling,t!==null){Zr=t;return}Zr=t=e}while(t!==null);ds===0&&(ds=5)}function mo(e,t,s){var n=qt,a=sa.transition;try{sa.transition=null,qt=1,wE(e,t,s,n)}finally{sa.transition=a,qt=n}return null}function wE(e,t,s,n){do VA();while(wl!==null);if(Qt&6)throw Error(Ie(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Ie(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(e6(e,i),e===vs&&(Zr=vs=null,Us=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||_h||(_h=!0,sB(e0,function(){return VA(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=sa.transition,sa.transition=null;var l=qt;qt=1;var o=Qt;Qt|=4,i1.current=null,mE(e,s),q5(s,e),M6(tg),r0=!!eg,tg=eg=null,e.current=s,fE(s),VS(),Qt=o,qt=l,sa.transition=i}else e.current=s;if(_h&&(_h=!1,wl=e,g0=a),i=e.pendingLanes,i===0&&(kl=null),qS(s.stateNode),mn(e,zr()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(x0)throw x0=!1,e=vg,vg=null,e;return g0&1&&e.tag!==0&&VA(),i=e.pendingLanes,i&1?e===bg?Dd++:(Dd=0,bg=e):Dd=0,Gl(),null}function VA(){if(wl!==null){var e=_j(g0),t=sa.transition,s=qt;try{if(sa.transition=null,qt=16>e?16:e,wl===null)var n=!1;else{if(e=wl,wl=null,g0=0,Qt&6)throw Error(Ie(331));var a=Qt;for(Qt|=4,De=e.current;De!==null;){var i=De,l=i.child;if(De.flags&16){var o=i.deletions;if(o!==null){for(var A=0;A<o.length;A++){var c=o[A];for(De=c;De!==null;){var d=De;switch(d.tag){case 0:case 11:case 15:Ld(8,d,i)}var h=d.child;if(h!==null)h.return=d,De=h;else for(;De!==null;){d=De;var p=d.sibling,m=d.return;if(V5(d),d===c){De=null;break}if(p!==null){p.return=m,De=p;break}De=m}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var B=v.sibling;v.sibling=null,v=B}while(v!==null)}}De=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,De=l;else e:for(;De!==null;){if(i=De,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ld(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,De=x;break e}De=i.return}}var N=e.current;for(De=N;De!==null;){l=De;var b=l.child;if(l.subtreeFlags&2064&&b!==null)b.return=l,De=b;else e:for(l=N;De!==null;){if(o=De,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Y0(9,o)}}catch(k){kr(o,o.return,k)}if(o===l){De=null;break e}var g=o.sibling;if(g!==null){g.return=o.return,De=g;break e}De=o.return}}if(Qt=a,Gl(),Za&&typeof Za.onPostCommitFiberRoot=="function")try{Za.onPostCommitFiberRoot(H0,e)}catch{}n=!0}return n}finally{qt=s,sa.transition=t}}return!1}function Yv(e,t,s){t=nc(s,t),t=_5(e,t,1),e=Il(e,t,1),t=en(),e!==null&&(Cu(e,1,t),mn(e,t))}function kr(e,t,s){if(e.tag===3)Yv(e,e,s);else for(;t!==null;){if(t.tag===3){Yv(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kl===null||!kl.has(n))){e=nc(s,e),e=L5(t,e,1),t=Il(t,e,1),e=en(),t!==null&&(Cu(t,1,e),mn(t,e));break}}t=t.return}}function vE(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=en(),e.pingedLanes|=e.suspendedLanes&s,vs===e&&(Us&s)===s&&(ds===4||ds===3&&(Us&130023424)===Us&&500>zr()-o1?So(e,0):l1|=s),mn(e,t)}function tB(e,t){t===0&&(e.mode&1?(t=jh,jh<<=1,!(jh&130023424)&&(jh=4194304)):t=1);var s=en();e=Ri(e,t),e!==null&&(Cu(e,t,s),mn(e,s))}function bE(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),tB(e,s)}function NE(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ie(314))}n!==null&&n.delete(t),tB(e,s)}var rB;rB=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)cn=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return cn=!1,cE(e,t,s);cn=!!(e.flags&131072)}else cn=!1,wr&&t.flags&1048576&&i5(t,A0,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Em(e,t),e=t.pendingProps;var a=ec(t,Gs.current);zA(t,s),a=t1(null,t,n,e,a,s);var i=r1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,hn(n)?(i=!0,l0(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Wy(t),a.updater=q0,t.stateNode=a,a._reactInternals=t,cg(t,n,e,s),t=hg(null,t,n,!0,i,s)):(t.tag=0,wr&&i&&Ky(t),Xs(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Em(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=BE(n),e=ya(n,e),a){case 0:t=ug(null,t,n,e,s);break e;case 1:t=Rv(null,t,n,e,s);break e;case 11:t=Dv(null,t,n,e,s);break e;case 14:t=Tv(null,t,n,ya(n.type,e),s);break e}throw Error(Ie(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ya(n,a),ug(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ya(n,a),Rv(e,t,n,a,s);case 3:e:{if(R5(t),e===null)throw Error(Ie(387));n=t.pendingProps,i=t.memoizedState,a=i.element,u5(e,t),u0(t,n,null,s);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=nc(Error(Ie(423)),t),t=Mv(e,t,n,s,a);break e}else if(n!==a){a=nc(Error(Ie(424)),t),t=Mv(e,t,n,s,a);break e}else for(Qn=Fl(t.stateNode.containerInfo.firstChild),Pn=t,wr=!0,va=null,s=c5(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(tc(),n===a){t=Mi(e,t,s);break e}Xs(e,t,n,s)}t=t.child}return t;case 5:return h5(t),e===null&&lg(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,rg(n,a)?l=null:i!==null&&rg(n,i)&&(t.flags|=32),T5(e,t),Xs(e,t,l,s),t.child;case 6:return e===null&&lg(t),null;case 13:return M5(e,t,s);case 4:return Jy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=rc(t,null,n,s):Xs(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ya(n,a),Dv(e,t,n,a,s);case 7:return Xs(e,t,t.pendingProps,s),t.child;case 8:return Xs(e,t,t.pendingProps.children,s),t.child;case 12:return Xs(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,cr(c0,n._currentValue),n._currentValue=l,i!==null)if(Ba(i.value,l)){if(i.children===a.children&&!un.current){t=Mi(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var A=o.firstContext;A!==null;){if(A.context===n){if(i.tag===1){A=_i(-1,s&-s),A.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?A.next=A:(A.next=d.next,d.next=A),c.pending=A}}i.lanes|=s,A=i.alternate,A!==null&&(A.lanes|=s),og(i.return,s,t),o.lanes|=s;break}A=A.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Ie(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),og(l,s,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Xs(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,zA(t,s),a=na(a),n=n(a),t.flags|=1,Xs(e,t,n,s),t.child;case 14:return n=t.type,a=ya(n,t.pendingProps),a=ya(n.type,a),Tv(e,t,n,a,s);case 15:return P5(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ya(n,a),Em(e,t),t.tag=1,hn(n)?(e=!0,l0(t)):e=!1,zA(t,s),Q5(t,n,a),cg(t,n,a,s),hg(null,t,n,!0,e,s);case 19:return H5(e,t,s);case 22:return D5(e,t,s)}throw Error(Ie(156,t.tag))};function sB(e,t){return Ij(e,t)}function jE(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(e,t,s,n){return new jE(e,t,s,n)}function u1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BE(e){if(typeof e=="function")return u1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ky)return 11;if(e===Uy)return 14}return 2}function Ql(e,t){var s=e.alternate;return s===null?(s=ea(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function km(e,t,s,n,a,i){var l=2;if(n=e,typeof e=="function")u1(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case BA:return Eo(s.children,a,i,t);case Iy:l=8,a|=8;break;case _x:return e=ea(12,s,t,a|2),e.elementType=_x,e.lanes=i,e;case Lx:return e=ea(13,s,t,a),e.elementType=Lx,e.lanes=i,e;case Px:return e=ea(19,s,t,a),e.elementType=Px,e.lanes=i,e;case hj:return J0(s,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dj:l=10;break e;case uj:l=9;break e;case ky:l=11;break e;case Uy:l=14;break e;case ul:l=16,n=null;break e}throw Error(Ie(130,e==null?e:typeof e,""))}return t=ea(l,s,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Eo(e,t,s,n){return e=ea(7,e,n,t),e.lanes=s,e}function J0(e,t,s,n){return e=ea(22,e,n,t),e.elementType=hj,e.lanes=s,e.stateNode={isHidden:!1},e}function Up(e,t,s){return e=ea(6,e,null,t),e.lanes=s,e}function Qp(e,t,s){return t=ea(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CE(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hp(0),this.expirationTimes=hp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hp(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function h1(e,t,s,n,a,i,l,o,A){return e=new CE(e,t,s,o,A),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ea(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wy(i),e}function SE(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jA,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function nB(e){if(!e)return Ml;e=e._reactInternals;e:{if(Ko(e)!==e||e.tag!==1)throw Error(Ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ie(171))}if(e.tag===1){var s=e.type;if(hn(s))return n5(e,s,t)}return t}function aB(e,t,s,n,a,i,l,o,A){return e=h1(s,n,!0,e,a,i,l,o,A),e.context=nB(null),s=e.current,n=en(),a=Ul(s),i=_i(n,a),i.callback=t??null,Il(s,i,a),e.current.lanes=a,Cu(e,a,n),mn(e,n),e}function X0(e,t,s,n){var a=t.current,i=en(),l=Ul(a);return s=nB(s),t.context===null?t.context=s:t.pendingContext=s,t=_i(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Il(a,t,l),e!==null&&(ja(e,a,l,i),Bm(e,a,l)),l}function w0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function m1(e,t){Wv(e,t),(e=e.alternate)&&Wv(e,t)}function EE(){return null}var iB=typeof reportError=="function"?reportError:function(e){console.error(e)};function f1(e){this._internalRoot=e}Z0.prototype.render=f1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ie(409));X0(e,t,null,null)};Z0.prototype.unmount=f1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Do(function(){X0(null,e,null,null)}),t[Ti]=null}};function Z0(e){this._internalRoot=e}Z0.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dj();e={blockedOn:null,target:e,priority:t};for(var s=0;s<fl.length&&t!==0&&t<fl[s].priority;s++);fl.splice(s,0,e),s===0&&Rj(e)}};function p1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ef(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jv(){}function FE(e,t,s,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=w0(l);i.call(c)}}var l=aB(t,n,e,0,null,!1,!1,"",Jv);return e._reactRootContainer=l,e[Ti]=l.current,su(e.nodeType===8?e.parentNode:e),Do(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=w0(A);o.call(c)}}var A=h1(e,0,!1,null,null,!1,!1,"",Jv);return e._reactRootContainer=A,e[Ti]=A.current,su(e.nodeType===8?e.parentNode:e),Do(function(){X0(t,A,s,n)}),A}function tf(e,t,s,n,a){var i=s._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var A=w0(l);o.call(A)}}X0(t,l,e,a)}else l=FE(s,t,e,a,n);return w0(l)}Lj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=gd(t.pendingLanes);s!==0&&(Ly(t,s|1),mn(t,zr()),!(Qt&6)&&(ac=zr()+500,Gl()))}break;case 13:Do(function(){var n=Ri(e,1);if(n!==null){var a=en();ja(n,e,1,a)}}),m1(e,1)}};Py=function(e){if(e.tag===13){var t=Ri(e,134217728);if(t!==null){var s=en();ja(t,e,134217728,s)}m1(e,134217728)}};Pj=function(e){if(e.tag===13){var t=Ul(e),s=Ri(e,t);if(s!==null){var n=en();ja(s,e,t,n)}m1(e,t)}};Dj=function(){return qt};Tj=function(e,t){var s=qt;try{return qt=e,t()}finally{qt=s}};Gx=function(e,t,s){switch(t){case"input":if(Rx(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=V0(n);if(!a)throw Error(Ie(90));fj(n),Rx(n,a)}}}break;case"textarea":xj(e,s);break;case"select":t=s.value,t!=null&&MA(e,!!s.multiple,t,!1)}};jj=A1;Bj=Do;var IE={usingClientEntryPoint:!1,Events:[Eu,FA,V0,bj,Nj,A1]},ad={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kE={bundleType:ad.bundleType,version:ad.version,rendererPackageName:ad.rendererPackageName,rendererConfig:ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ej(e),e===null?null:e.stateNode},findFiberByHostInstance:ad.findFiberByHostInstance||EE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{H0=Lh.inject(kE),Za=Lh}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IE;Rn.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p1(t))throw Error(Ie(200));return SE(e,t,null,s)};Rn.createRoot=function(e,t){if(!p1(e))throw Error(Ie(299));var s=!1,n="",a=iB;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=h1(e,1,!1,null,null,s,!1,n,a),e[Ti]=t.current,su(e.nodeType===8?e.parentNode:e),new f1(t)};Rn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ie(188)):(e=Object.keys(e).join(","),Error(Ie(268,e)));return e=Ej(t),e=e===null?null:e.stateNode,e};Rn.flushSync=function(e){return Do(e)};Rn.hydrate=function(e,t,s){if(!ef(t))throw Error(Ie(200));return tf(null,e,t,!0,s)};Rn.hydrateRoot=function(e,t,s){if(!p1(e))throw Error(Ie(405));var n=s!=null&&s.hydratedSources||null,a=!1,i="",l=iB;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),t=aB(t,null,e,1,s??null,a,!1,i,l),e[Ti]=t.current,su(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Z0(t)};Rn.render=function(e,t,s){if(!ef(t))throw Error(Ie(200));return tf(null,e,t,!1,s)};Rn.unmountComponentAtNode=function(e){if(!ef(e))throw Error(Ie(40));return e._reactRootContainer?(Do(function(){tf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ti]=null})}),!0):!1};Rn.unstable_batchedUpdates=A1;Rn.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!ef(s))throw Error(Ie(200));if(e==null||e._reactInternals===void 0)throw Error(Ie(38));return tf(e,t,s,!1,n)};Rn.version="18.3.1-next-f1338f8080-20240426";function lB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lB)}catch(e){console.error(e)}}lB(),lj.exports=Rn;var UE=lj.exports,oB,Xv=UE;oB=Xv.createRoot,Xv.hydrateRoot;/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zv="popstate";function QE(e={}){function t(n,a){let{pathname:i,search:l,hash:o}=n.location;return Bg("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:uu(a)}return LE(t,s,null,e)}function vr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ca(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _E(){return Math.random().toString(36).substring(2,10)}function eb(e,t){return{usr:e.state,key:e.key,idx:t}}function Bg(e,t,s=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?mc(t):t,state:s,key:t&&t.key||n||_E()}}function uu({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function mc(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function LE(e,t,s,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o="POP",A=null,c=d();c==null&&(c=0,l.replaceState({...l.state,idx:c},""));function d(){return(l.state||{idx:null}).idx}function h(){o="POP";let B=d(),x=B==null?null:B-c;c=B,A&&A({action:o,location:v.location,delta:x})}function p(B,x){o="PUSH";let N=Bg(v.location,B,x);c=d()+1;let b=eb(N,c),g=v.createHref(N);try{l.pushState(b,"",g)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(g)}i&&A&&A({action:o,location:v.location,delta:1})}function m(B,x){o="REPLACE";let N=Bg(v.location,B,x);c=d();let b=eb(N,c),g=v.createHref(N);l.replaceState(b,"",g),i&&A&&A({action:o,location:v.location,delta:0})}function y(B){return PE(B)}let v={get action(){return o},get location(){return e(a,l)},listen(B){if(A)throw new Error("A history only accepts one active listener");return a.addEventListener(Zv,h),A=B,()=>{a.removeEventListener(Zv,h),A=null}},createHref(B){return t(a,B)},createURL:y,encodeLocation(B){let x=y(B);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(B){return l.go(B)}};return v}function PE(e,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),vr(s,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:uu(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=s+n),new URL(n,s)}function AB(e,t,s="/"){return DE(e,t,s,!1)}function DE(e,t,s,n){let a=typeof t=="string"?mc(t):t,i=Hi(a.pathname||"/",s);if(i==null)return null;let l=cB(e);TE(l);let o=null;for(let A=0;o==null&&A<l.length;++A){let c=YE(i);o=$E(l[A],c,n)}return o}function cB(e,t=[],s=[],n="",a=!1){let i=(l,o,A=a,c)=>{let d={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&A)return;vr(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=Li([n,d.relativePath]),p=s.concat(d);l.children&&l.children.length>0&&(vr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),cB(l.children,t,p,h,A)),!(l.path==null&&!l.index)&&t.push({path:h,score:VE(h,l.index),routesMeta:p})};return e.forEach((l,o)=>{var A;if(l.path===""||!((A=l.path)!=null&&A.includes("?")))i(l,o);else for(let c of dB(l.path))i(l,o,!0,c)}),t}function dB(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=dB(n.join("/")),o=[];return o.push(...l.map(A=>A===""?i:[i,A].join("/"))),a&&o.push(...l),o.map(A=>e.startsWith("/")&&A===""?"/":A)}function TE(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:GE(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var RE=/^:[\w-]+$/,ME=3,HE=2,OE=1,KE=10,zE=-2,tb=e=>e==="*";function VE(e,t){let s=e.split("/"),n=s.length;return s.some(tb)&&(n+=zE),t&&(n+=HE),s.filter(a=>!tb(a)).reduce((a,i)=>a+(RE.test(i)?ME:i===""?OE:KE),n)}function GE(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function $E(e,t,s=!1){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let A=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=v0({path:A.relativePath,caseSensitive:A.caseSensitive,end:c},d),p=A.route;if(!h&&c&&s&&!n[n.length-1].route.index&&(h=v0({path:A.relativePath,caseSensitive:A.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),l.push({params:a,pathname:Li([i,h.pathname]),pathnameBase:ZE(Li([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Li([i,h.pathnameBase]))}return l}function v0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=qE(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:h},p)=>{if(d==="*"){let y=o[p]||"";l=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[p];return h&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:l,pattern:e}}function qE(e,t=!1,s=!0){Ca(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,A)=>(n.push({paramName:o,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function YE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ca(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Hi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function WE(e,t="/"){let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?mc(e):e;return{pathname:s?s.startsWith("/")?s:JE(s,t):t,search:eF(n),hash:tF(a)}}function JE(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function _p(e,t,s,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XE(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function x1(e){let t=XE(e);return t.map((s,n)=>n===t.length-1?s.pathname:s.pathnameBase)}function g1(e,t,s,n=!1){let a;typeof e=="string"?a=mc(e):(a={...e},vr(!a.pathname||!a.pathname.includes("?"),_p("?","pathname","search",a)),vr(!a.pathname||!a.pathname.includes("#"),_p("#","pathname","hash",a)),vr(!a.search||!a.search.includes("#"),_p("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=s;else{let h=t.length-1;if(!n&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),h-=1;a.pathname=p.join("/")}o=h>=0?t[h]:"/"}let A=WE(a,o),c=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&s.endsWith("/");return!A.pathname.endsWith("/")&&(c||d)&&(A.pathname+="/"),A}var Li=e=>e.join("/").replace(/\/\/+/g,"/"),ZE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var uB=["POST","PUT","PATCH","DELETE"];new Set(uB);var sF=["GET",...uB];new Set(sF);var fc=C.createContext(null);fc.displayName="DataRouter";var rf=C.createContext(null);rf.displayName="DataRouterState";C.createContext(!1);var hB=C.createContext({isTransitioning:!1});hB.displayName="ViewTransition";var nF=C.createContext(new Map);nF.displayName="Fetchers";var aF=C.createContext(null);aF.displayName="Await";var Ea=C.createContext(null);Ea.displayName="Navigation";var Iu=C.createContext(null);Iu.displayName="Location";var ni=C.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var y1=C.createContext(null);y1.displayName="RouteError";function iF(e,{relative:t}={}){vr(pc(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=C.useContext(Ea),{hash:a,pathname:i,search:l}=ku(e,{relative:t}),o=i;return s!=="/"&&(o=i==="/"?s:Li([s,i])),n.createHref({pathname:o,search:l,hash:a})}function pc(){return C.useContext(Iu)!=null}function Vi(){return vr(pc(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Iu).location}var mB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fB(e){C.useContext(Ea).static||C.useLayoutEffect(e)}function pB(){let{isDataRoute:e}=C.useContext(ni);return e?yF():lF()}function lF(){vr(pc(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(fc),{basename:t,navigator:s}=C.useContext(Ea),{matches:n}=C.useContext(ni),{pathname:a}=Vi(),i=JSON.stringify(x1(n)),l=C.useRef(!1);return fB(()=>{l.current=!0}),C.useCallback((A,c={})=>{if(Ca(l.current,mB),!l.current)return;if(typeof A=="number"){s.go(A);return}let d=g1(A,JSON.parse(i),a,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Li([t,d.pathname])),(c.replace?s.replace:s.push)(d,c.state,c)},[t,s,i,a,e])}C.createContext(null);function ku(e,{relative:t}={}){let{matches:s}=C.useContext(ni),{pathname:n}=Vi(),a=JSON.stringify(x1(s));return C.useMemo(()=>g1(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function oF(e,t){return xB(e,t)}function xB(e,t,s,n,a){var N;vr(pc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(Ea),{matches:l}=C.useContext(ni),o=l[l.length-1],A=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let b=h&&h.path||"";gB(c,!h||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let p=Vi(),m;if(t){let b=typeof t=="string"?mc(t):t;vr(d==="/"||((N=b.pathname)==null?void 0:N.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),m=b}else m=p;let y=m.pathname||"/",v=y;if(d!=="/"){let b=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(b.length).join("/")}let B=AB(e,{pathname:v});Ca(h||B!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ca(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=hF(B&&B.map(b=>Object.assign({},b,{params:Object.assign({},A,b.params),pathname:Li([d,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Li([d,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,s,n,a);return t&&x?C.createElement(Iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function AF(){let e=gF(),t=rF(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),s?C.createElement("pre",{style:a},s):null,l)}var cF=C.createElement(AF,null),dF=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?C.createElement(ni.Provider,{value:this.props.routeContext},C.createElement(y1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uF({routeContext:e,match:t,children:s}){let n=C.useContext(fc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(ni.Provider,{value:e},s)}function hF(e,t=[],s=null,n=null,a=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,l=s==null?void 0:s.errors;if(l!=null){let c=i.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);vr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,A=-1;if(s)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(A=c),d.route.id){let{loaderData:h,errors:p}=s,m=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){o=!0,A>=0?i=i.slice(0,A+1):i=[i[0]];break}}}return i.reduceRight((c,d,h)=>{let p,m=!1,y=null,v=null;s&&(p=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||cF,o&&(A<0&&h===0?(gB("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,v=null):A===h&&(m=!0,v=d.route.hydrateFallbackElement||null)));let B=t.concat(i.slice(0,h+1)),x=()=>{let N;return p?N=y:m?N=v:d.route.Component?N=C.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=c,C.createElement(uF,{match:d,routeContext:{outlet:c,matches:B,isDataRoute:s!=null},children:N})};return s&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?C.createElement(dF,{location:s.location,revalidation:s.revalidation,component:y,error:p,children:x(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:n}):x()},null)}function w1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mF(e){let t=C.useContext(fc);return vr(t,w1(e)),t}function fF(e){let t=C.useContext(rf);return vr(t,w1(e)),t}function pF(e){let t=C.useContext(ni);return vr(t,w1(e)),t}function v1(e){let t=pF(e),s=t.matches[t.matches.length-1];return vr(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function xF(){return v1("useRouteId")}function gF(){var n;let e=C.useContext(y1),t=fF("useRouteError"),s=v1("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function yF(){let{router:e}=mF("useNavigate"),t=v1("useNavigate"),s=C.useRef(!1);return fB(()=>{s.current=!0}),C.useCallback(async(a,i={})=>{Ca(s.current,mB),s.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var rb={};function gB(e,t,s){!t&&!rb[e]&&(rb[e]=!0,Ca(!1,s))}C.memo(wF);function wF({routes:e,future:t,state:s,unstable_onError:n}){return xB(e,void 0,s,n,t)}function vF({to:e,replace:t,state:s,relative:n}){vr(pc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(Ea);Ca(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=C.useContext(ni),{pathname:l}=Vi(),o=pB(),A=g1(e,x1(i),l,n==="path"),c=JSON.stringify(A);return C.useEffect(()=>{o(JSON.parse(c),{replace:t,state:s,relative:n})},[o,c,n,t,s]),null}function sr(e){vr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bF({basename:e="/",children:t=null,location:s,navigationType:n="POP",navigator:a,static:i=!1}){vr(!pc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=C.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof s=="string"&&(s=mc(s));let{pathname:A="/",search:c="",hash:d="",state:h=null,key:p="default"}=s,m=C.useMemo(()=>{let y=Hi(A,l);return y==null?null:{location:{pathname:y,search:c,hash:d,state:h,key:p},navigationType:n}},[l,A,c,d,h,p,n]);return Ca(m!=null,`<Router basename="${l}"> is not able to match the URL "${A}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:C.createElement(Ea.Provider,{value:o},C.createElement(Iu.Provider,{children:t,value:m}))}function NF({children:e,location:t}){return oF(Cg(e),t)}function Cg(e,t=[]){let s=[];return C.Children.forEach(e,(n,a)=>{if(!C.isValidElement(n))return;let i=[...t,a];if(n.type===C.Fragment){s.push.apply(s,Cg(n.props.children,i));return}vr(n.type===sr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Cg(n.props.children,i)),s.push(l)}),s}var Um="get",Qm="application/x-www-form-urlencoded";function sf(e){return e!=null&&typeof e.tagName=="string"}function jF(e){return sf(e)&&e.tagName.toLowerCase()==="button"}function BF(e){return sf(e)&&e.tagName.toLowerCase()==="form"}function CF(e){return sf(e)&&e.tagName.toLowerCase()==="input"}function SF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EF(e,t){return e.button===0&&(!t||t==="_self")&&!SF(e)}var Ph=null;function FF(){if(Ph===null)try{new FormData(document.createElement("form"),0),Ph=!1}catch{Ph=!0}return Ph}var IF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lp(e){return e!=null&&!IF.has(e)?(Ca(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qm}"`),null):e}function kF(e,t){let s,n,a,i,l;if(BF(e)){let o=e.getAttribute("action");n=o?Hi(o,t):null,s=e.getAttribute("method")||Um,a=Lp(e.getAttribute("enctype"))||Qm,i=new FormData(e)}else if(jF(e)||CF(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let A=e.getAttribute("formaction")||o.getAttribute("action");if(n=A?Hi(A,t):null,s=e.getAttribute("formmethod")||o.getAttribute("method")||Um,a=Lp(e.getAttribute("formenctype"))||Lp(o.getAttribute("enctype"))||Qm,i=new FormData(o,e),!FF()){let{name:c,type:d,value:h}=e;if(d==="image"){let p=c?`${c}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else c&&i.append(c,h)}}else{if(sf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Um,n=null,a=Qm,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:n,method:s.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function b1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function UF(e,t,s){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${s}`:t&&Hi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${s}`,n}async function QF(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _F(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function LF(e,t,s){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await QF(i,s);return l.links?l.links():[]}return[]}));return RF(n.flat(1).filter(_F).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function sb(e,t,s,n,a,i){let l=(A,c)=>s[c]?A.route.id!==s[c].route.id:!0,o=(A,c)=>{var d;return s[c].pathname!==A.pathname||((d=s[c].route.path)==null?void 0:d.endsWith("*"))&&s[c].params["*"]!==A.params["*"]};return i==="assets"?t.filter((A,c)=>l(A,c)||o(A,c)):i==="data"?t.filter((A,c)=>{var h;let d=n.routes[A.route.id];if(!d||!d.hasLoader)return!1;if(l(A,c)||o(A,c))return!0;if(A.route.shouldRevalidate){let p=A.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=s[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:A.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function PF(e,t,{includeHydrateFallback:s}={}){return DF(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function DF(e){return[...new Set(e)]}function TF(e){let t={},s=Object.keys(e).sort();for(let n of s)t[n]=e[n];return t}function RF(e,t){let s=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(TF(a));return s.has(i)||(s.add(i),n.push({key:i,link:a})),n},[])}function yB(){let e=C.useContext(fc);return b1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function MF(){let e=C.useContext(rf);return b1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var N1=C.createContext(void 0);N1.displayName="FrameworkContext";function wB(){let e=C.useContext(N1);return b1(e,"You must render this element inside a <HydratedRouter> element"),e}function HF(e,t){let s=C.useContext(N1),[n,a]=C.useState(!1),[i,l]=C.useState(!1),{onFocus:o,onBlur:A,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=t,p=C.useRef(null);C.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let v=x=>{x.forEach(N=>{l(N.isIntersecting)})},B=new IntersectionObserver(v,{threshold:.5});return p.current&&B.observe(p.current),()=>{B.disconnect()}}},[e]),C.useEffect(()=>{if(n){let v=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{a(!0)},y=()=>{a(!1),l(!1)};return s?e!=="intent"?[i,p,{}]:[i,p,{onFocus:id(o,m),onBlur:id(A,y),onMouseEnter:id(c,m),onMouseLeave:id(d,y),onTouchStart:id(h,m)}]:[!1,p,{}]}function id(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function OF({page:e,...t}){let{router:s}=yB(),n=C.useMemo(()=>AB(s.routes,e,s.basename),[s.routes,e,s.basename]);return n?C.createElement(zF,{page:e,matches:n,...t}):null}function KF(e){let{manifest:t,routeModules:s}=wB(),[n,a]=C.useState([]);return C.useEffect(()=>{let i=!1;return LF(e,t,s).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,s]),n}function zF({page:e,matches:t,...s}){let n=Vi(),{manifest:a,routeModules:i}=wB(),{basename:l}=yB(),{loaderData:o,matches:A}=MF(),c=C.useMemo(()=>sb(e,t,A,a,n,"data"),[e,t,A,a,n]),d=C.useMemo(()=>sb(e,t,A,a,n,"assets"),[e,t,A,a,n]),h=C.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,v=!1;if(t.forEach(x=>{var b;let N=a.routes[x.route.id];!N||!N.hasLoader||(!c.some(g=>g.route.id===x.route.id)&&x.route.id in o&&((b=i[x.route.id])!=null&&b.shouldRevalidate)||N.hasClientLoader?v=!0:y.add(x.route.id))}),y.size===0)return[];let B=UF(e,l,"data");return v&&y.size>0&&B.searchParams.set("_routes",t.filter(x=>y.has(x.route.id)).map(x=>x.route.id).join(",")),[B.pathname+B.search]},[l,o,n,a,c,t,e,i]),p=C.useMemo(()=>PF(d,a),[d,a]),m=KF(d);return C.createElement(C.Fragment,null,h.map(y=>C.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...s})),p.map(y=>C.createElement("link",{key:y,rel:"modulepreload",href:y,...s})),m.map(({key:y,link:v})=>C.createElement("link",{key:y,nonce:s.nonce,...v})))}function VF(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var vB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vB&&(window.__reactRouterVersion="7.9.1")}catch{}function GF({basename:e,children:t,window:s}){let n=C.useRef();n.current==null&&(n.current=QE({window:s,v5Compat:!0}));let a=n.current,[i,l]=C.useState({action:a.action,location:a.location}),o=C.useCallback(A=>{C.startTransition(()=>l(A))},[l]);return C.useLayoutEffect(()=>a.listen(o),[a,o]),C.createElement(bF,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var bB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Td=C.forwardRef(function({onClick:t,discover:s="render",prefetch:n="none",relative:a,reloadDocument:i,replace:l,state:o,target:A,to:c,preventScrollReset:d,viewTransition:h,...p},m){let{basename:y}=C.useContext(Ea),v=typeof c=="string"&&bB.test(c),B,x=!1;if(typeof c=="string"&&v&&(B=c,vB))try{let S=new URL(window.location.href),G=c.startsWith("//")?new URL(S.protocol+c):new URL(c),L=Hi(G.pathname,y);G.origin===S.origin&&L!=null?c=L+G.search+G.hash:x=!0}catch{Ca(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=iF(c,{relative:a}),[b,g,k]=HF(n,p),_=WF(c,{replace:l,state:o,target:A,preventScrollReset:d,relative:a,viewTransition:h});function I(S){t&&t(S),S.defaultPrevented||_(S)}let U=C.createElement("a",{...p,...k,href:B||N,onClick:x||i?t:I,ref:VF(m,g),target:A,"data-discover":!v&&s==="render"?"true":void 0});return b&&!v?C.createElement(C.Fragment,null,U,C.createElement(OF,{page:N})):U});Td.displayName="Link";var $F=C.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:n="",end:a=!1,style:i,to:l,viewTransition:o,children:A,...c},d){let h=ku(l,{relative:c.relative}),p=Vi(),m=C.useContext(rf),{navigator:y,basename:v}=C.useContext(Ea),B=m!=null&&tI(h)&&o===!0,x=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,N=p.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(N=N.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase()),b&&v&&(b=Hi(b,v)||b);const g=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let k=N===x||!a&&N.startsWith(x)&&N.charAt(g)==="/",_=b!=null&&(b===x||!a&&b.startsWith(x)&&b.charAt(x.length)==="/"),I={isActive:k,isPending:_,isTransitioning:B},U=k?t:void 0,S;typeof n=="function"?S=n(I):S=[n,k?"active":null,_?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(I):i;return C.createElement(Td,{...c,"aria-current":U,className:S,ref:d,style:G,to:l,viewTransition:o},typeof A=="function"?A(I):A)});$F.displayName="NavLink";var qF=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:n,replace:a,state:i,method:l=Um,action:o,onSubmit:A,relative:c,preventScrollReset:d,viewTransition:h,...p},m)=>{let y=ZF(),v=eI(o,{relative:c}),B=l.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&bB.test(o),N=b=>{if(A&&A(b),b.defaultPrevented)return;b.preventDefault();let g=b.nativeEvent.submitter,k=(g==null?void 0:g.getAttribute("formmethod"))||l;y(g||b.currentTarget,{fetcherKey:t,method:k,navigate:s,replace:a,state:i,relative:c,preventScrollReset:d,viewTransition:h})};return C.createElement("form",{ref:m,method:B,action:v,onSubmit:n?A:N,...p,"data-discover":!x&&e==="render"?"true":void 0})});qF.displayName="Form";function YF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NB(e){let t=C.useContext(fc);return vr(t,YF(e)),t}function WF(e,{target:t,replace:s,state:n,preventScrollReset:a,relative:i,viewTransition:l}={}){let o=pB(),A=Vi(),c=ku(e,{relative:i});return C.useCallback(d=>{if(EF(d,t)){d.preventDefault();let h=s!==void 0?s:uu(A)===uu(c);o(e,{replace:h,state:n,preventScrollReset:a,relative:i,viewTransition:l})}},[A,o,c,s,n,t,e,a,i,l])}var JF=0,XF=()=>`__${String(++JF)}__`;function ZF(){let{router:e}=NB("useSubmit"),{basename:t}=C.useContext(Ea),s=xF();return C.useCallback(async(n,a={})=>{let{action:i,method:l,encType:o,formData:A,body:c}=kF(n,t);if(a.navigate===!1){let d=a.fetcherKey||XF();await e.fetch(d,s,a.action||i,{preventScrollReset:a.preventScrollReset,formData:A,body:c,formMethod:a.method||l,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:A,body:c,formMethod:a.method||l,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:s,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,s])}function eI(e,{relative:t}={}){let{basename:s}=C.useContext(Ea),n=C.useContext(ni);vr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...ku(e||".",{relative:t})},l=Vi();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),A=o.getAll("index");if(A.some(d=>d==="")){o.delete("index"),A.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(i.pathname=i.pathname==="/"?s:Li([s,i.pathname])),uu(i)}function tI(e,{relative:t}={}){let s=C.useContext(hB);vr(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=NB("useViewTransitionState"),a=ku(e,{relative:t});if(!s.isTransitioning)return!1;let i=Hi(s.currentLocation.pathname,n)||s.currentLocation.pathname,l=Hi(s.nextLocation.pathname,n)||s.nextLocation.pathname;return v0(a.pathname,l)!=null||v0(a.pathname,i)!=null}let rI={data:""},sI=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||rI,nI=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,aI=/\/\*[^]*?\*\/|  +/g,nb=/\n+/g,xl=(e,t)=>{let s="",n="",a="";for(let i in e){let l=e[i];i[0]=="@"?i[1]=="i"?s=i+" "+l+";":n+=i[1]=="f"?xl(l,i):i+"{"+xl(l,i[1]=="k"?"":t)+"}":typeof l=="object"?n+=xl(l,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,A=>/&/.test(A)?A.replace(/&/g,o):o?o+" "+A:A)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=xl.p?xl.p(i,l):i+":"+l+";")}return s+(t&&a?t+"{"+a+"}":a)+n},Ni={},jB=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+jB(e[s]);return t}return e},iI=(e,t,s,n,a)=>{let i=jB(e),l=Ni[i]||(Ni[i]=(A=>{let c=0,d=11;for(;c<A.length;)d=101*d+A.charCodeAt(c++)>>>0;return"go"+d})(i));if(!Ni[l]){let A=i!==e?e:(c=>{let d,h,p=[{}];for(;d=nI.exec(c.replace(aI,""));)d[4]?p.shift():d[3]?(h=d[3].replace(nb," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][d[1]]=d[2].replace(nb," ").trim();return p[0]})(e);Ni[l]=xl(a?{["@keyframes "+l]:A}:A,s?"":"."+l)}let o=s&&Ni.g?Ni.g:null;return s&&(Ni.g=Ni[l]),((A,c,d,h)=>{h?c.data=c.data.replace(h,A):c.data.indexOf(A)===-1&&(c.data=d?A+c.data:c.data+A)})(Ni[l],t,n,o),l},lI=(e,t,s)=>e.reduce((n,a,i)=>{let l=t[i];if(l&&l.call){let o=l(s),A=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=A?"."+A:o&&typeof o=="object"?o.props?"":xl(o,""):o===!1?"":o}return n+a+(l??"")},"");function nf(e){let t=this||{},s=e.call?e(t.p):e;return iI(s.unshift?s.raw?lI(s,[].slice.call(arguments,1),t.p):s.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):s,sI(t.target),t.g,t.o,t.k)}let BB,Sg,Eg;nf.bind({g:1});let Oi=nf.bind({k:1});function oI(e,t,s,n){xl.p=t,BB=e,Sg=s,Eg=n}function $l(e,t){let s=this||{};return function(){let n=arguments;function a(i,l){let o=Object.assign({},i),A=o.className||a.className;s.p=Object.assign({theme:Sg&&Sg()},o),s.o=/ *go\d+/.test(A),o.className=nf.apply(s,n)+(A?" "+A:"");let c=e;return e[0]&&(c=o.as||e,delete o.as),Eg&&c[0]&&Eg(o),BB(c,o)}return a}}var AI=e=>typeof e=="function",b0=(e,t)=>AI(e)?e(t):e,cI=(()=>{let e=0;return()=>(++e).toString()})(),CB=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),dI=20,j1="default",SB=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:n}=t;return SB(e,{type:e.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},_m=[],EB={toasts:[],pausedAt:void 0,settings:{toastLimit:dI}},Ja={},FB=(e,t=j1)=>{Ja[t]=SB(Ja[t]||EB,e),_m.forEach(([s,n])=>{s===t&&n(Ja[t])})},IB=e=>Object.keys(Ja).forEach(t=>FB(e,t)),uI=e=>Object.keys(Ja).find(t=>Ja[t].toasts.some(s=>s.id===e)),af=(e=j1)=>t=>{FB(t,e)},hI={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},mI=(e={},t=j1)=>{let[s,n]=C.useState(Ja[t]||EB),a=C.useRef(Ja[t]);C.useEffect(()=>(a.current!==Ja[t]&&n(Ja[t]),_m.push([t,n]),()=>{let l=_m.findIndex(([o])=>o===t);l>-1&&_m.splice(l,1)}),[t]);let i=s.toasts.map(l=>{var o,A,c;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((o=e[l.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((A=e[l.type])==null?void 0:A.duration)||(e==null?void 0:e.duration)||hI[l.type],style:{...e.style,...(c=e[l.type])==null?void 0:c.style,...l.style}}});return{...s,toasts:i}},fI=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||cI()}),Uu=e=>(t,s)=>{let n=fI(t,e,s);return af(n.toasterId||uI(n.id))({type:2,toast:n}),n.id},fr=(e,t)=>Uu("blank")(e,t);fr.error=Uu("error");fr.success=Uu("success");fr.loading=Uu("loading");fr.custom=Uu("custom");fr.dismiss=(e,t)=>{let s={type:3,toastId:e};t?af(t)(s):IB(s)};fr.dismissAll=e=>fr.dismiss(void 0,e);fr.remove=(e,t)=>{let s={type:4,toastId:e};t?af(t)(s):IB(s)};fr.removeAll=e=>fr.remove(void 0,e);fr.promise=(e,t,s)=>{let n=fr.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?b0(t.success,a):void 0;return i?fr.success(i,{id:n,...s,...s==null?void 0:s.success}):fr.dismiss(n),a}).catch(a=>{let i=t.error?b0(t.error,a):void 0;i?fr.error(i,{id:n,...s,...s==null?void 0:s.error}):fr.dismiss(n)}),e};var pI=1e3,xI=(e,t="default")=>{let{toasts:s,pausedAt:n}=mI(e,t),a=C.useRef(new Map).current,i=C.useCallback((h,p=pI)=>{if(a.has(h))return;let m=setTimeout(()=>{a.delete(h),l({type:4,toastId:h})},p);a.set(h,m)},[]);C.useEffect(()=>{if(n)return;let h=Date.now(),p=s.map(m=>{if(m.duration===1/0)return;let y=(m.duration||0)+m.pauseDuration-(h-m.createdAt);if(y<0){m.visible&&fr.dismiss(m.id);return}return setTimeout(()=>fr.dismiss(m.id,t),y)});return()=>{p.forEach(m=>m&&clearTimeout(m))}},[s,n,t]);let l=C.useCallback(af(t),[t]),o=C.useCallback(()=>{l({type:5,time:Date.now()})},[l]),A=C.useCallback((h,p)=>{l({type:1,toast:{id:h,height:p}})},[l]),c=C.useCallback(()=>{n&&l({type:6,time:Date.now()})},[n,l]),d=C.useCallback((h,p)=>{let{reverseOrder:m=!1,gutter:y=8,defaultPosition:v}=p||{},B=s.filter(b=>(b.position||v)===(h.position||v)&&b.height),x=B.findIndex(b=>b.id===h.id),N=B.filter((b,g)=>g<x&&b.visible).length;return B.filter(b=>b.visible).slice(...m?[N+1]:[0,N]).reduce((b,g)=>b+(g.height||0)+y,0)},[s]);return C.useEffect(()=>{s.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let p=a.get(h.id);p&&(clearTimeout(p),a.delete(h.id))}})},[s,i]),{toasts:s,handlers:{updateHeight:A,startPause:o,endPause:c,calculateOffset:d}}},gI=Oi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yI=Oi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wI=Oi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vI=$l("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yI} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wI} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bI=Oi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,NI=$l("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${bI} 1s linear infinite;
`,jI=Oi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,BI=Oi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,CI=$l("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${BI} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,SI=$l("div")`
  position: absolute;
`,EI=$l("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,FI=Oi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,II=$l("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${FI} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,kI=({toast:e})=>{let{icon:t,type:s,iconTheme:n}=e;return t!==void 0?typeof t=="string"?C.createElement(II,null,t):t:s==="blank"?null:C.createElement(EI,null,C.createElement(NI,{...n}),s!=="loading"&&C.createElement(SI,null,s==="error"?C.createElement(vI,{...n}):C.createElement(CI,{...n})))},UI=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,QI=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,_I="0%{opacity:0;} 100%{opacity:1;}",LI="0%{opacity:1;} 100%{opacity:0;}",PI=$l("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,DI=$l("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,TI=(e,t)=>{let s=e.includes("top")?1:-1,[n,a]=CB()?[_I,LI]:[UI(s),QI(s)];return{animation:t?`${Oi(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Oi(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},RI=C.memo(({toast:e,position:t,style:s,children:n})=>{let a=e.height?TI(e.position||t||"top-center",e.visible):{opacity:0},i=C.createElement(kI,{toast:e}),l=C.createElement(DI,{...e.ariaProps},b0(e.message,e));return C.createElement(PI,{className:e.className,style:{...a,...s,...e.style}},typeof n=="function"?n({icon:i,message:l}):C.createElement(C.Fragment,null,i,l))});oI(C.createElement);var MI=({id:e,className:t,style:s,onHeightUpdate:n,children:a})=>{let i=C.useCallback(l=>{if(l){let o=()=>{let A=l.getBoundingClientRect().height;n(e,A)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return C.createElement("div",{ref:i,className:t,style:s},a)},HI=(e,t)=>{let s=e.includes("top"),n=s?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:CB()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...n,...a}},OI=nf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Dh=16,KI=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:n,children:a,toasterId:i,containerStyle:l,containerClassName:o})=>{let{toasts:A,handlers:c}=xI(s,i);return C.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Dh,left:Dh,right:Dh,bottom:Dh,pointerEvents:"none",...l},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},A.map(d=>{let h=d.position||t,p=c.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),m=HI(h,p);return C.createElement(MI,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?OI:"",style:m},d.type==="custom"?b0(d.message,d):a?a(d):C.createElement(RI,{toast:d,position:h}))}))},Ue=fr;function kB(e,t){return function(){return e.apply(t,arguments)}}const{toString:zI}=Object.prototype,{getPrototypeOf:B1}=Object,{iterator:lf,toStringTag:UB}=Symbol,of=(e=>t=>{const s=zI.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Fa=e=>(e=e.toLowerCase(),t=>of(t)===e),Af=e=>t=>typeof t===e,{isArray:xc}=Array,ic=Af("undefined");function Qu(e){return e!==null&&!ic(e)&&e.constructor!==null&&!ic(e.constructor)&&fn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const QB=Fa("ArrayBuffer");function VI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&QB(e.buffer),t}const GI=Af("string"),fn=Af("function"),_B=Af("number"),_u=e=>e!==null&&typeof e=="object",$I=e=>e===!0||e===!1,Lm=e=>{if(of(e)!=="object")return!1;const t=B1(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(UB in e)&&!(lf in e)},qI=e=>{if(!_u(e)||Qu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},YI=Fa("Date"),WI=Fa("File"),JI=Fa("Blob"),XI=Fa("FileList"),ZI=e=>_u(e)&&fn(e.pipe),ek=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||fn(e.append)&&((t=of(e))==="formdata"||t==="object"&&fn(e.toString)&&e.toString()==="[object FormData]"))},tk=Fa("URLSearchParams"),[rk,sk,nk,ak]=["ReadableStream","Request","Response","Headers"].map(Fa),ik=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lu(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),xc(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Qu(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(n=0;n<l;n++)o=i[n],t.call(null,e[o],o,e)}}function LB(e,t){if(Qu(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,a;for(;n-- >0;)if(a=s[n],t===a.toLowerCase())return a;return null}const vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,PB=e=>!ic(e)&&e!==vo;function Fg(){const{caseless:e,skipUndefined:t}=PB(this)&&this||{},s={},n=(a,i)=>{const l=e&&LB(s,i)||i;Lm(s[l])&&Lm(a)?s[l]=Fg(s[l],a):Lm(a)?s[l]=Fg({},a):xc(a)?s[l]=a.slice():(!t||!ic(a))&&(s[l]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Lu(arguments[a],n);return s}const lk=(e,t,s,{allOwnKeys:n}={})=>(Lu(t,(a,i)=>{s&&fn(a)?e[i]=kB(a,s):e[i]=a},{allOwnKeys:n}),e),ok=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ak=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},ck=(e,t,s,n)=>{let a,i,l;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)l=a[i],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=s!==!1&&B1(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},dk=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},uk=e=>{if(!e)return null;if(xc(e))return e;let t=e.length;if(!_B(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},hk=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&B1(Uint8Array)),mk=(e,t)=>{const n=(e&&e[lf]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},fk=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},pk=Fa("HTMLFormElement"),xk=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,a){return n.toUpperCase()+a}),ab=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),gk=Fa("RegExp"),DB=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};Lu(s,(a,i)=>{let l;(l=t(a,i,e))!==!1&&(n[i]=l||a)}),Object.defineProperties(e,n)},yk=e=>{DB(e,(t,s)=>{if(fn(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(fn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},wk=(e,t)=>{const s={},n=a=>{a.forEach(i=>{s[i]=!0})};return xc(e)?n(e):n(String(e).split(t)),s},vk=()=>{},bk=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Nk(e){return!!(e&&fn(e.append)&&e[UB]==="FormData"&&e[lf])}const jk=e=>{const t=new Array(10),s=(n,a)=>{if(_u(n)){if(t.indexOf(n)>=0)return;if(Qu(n))return n;if(!("toJSON"in n)){t[a]=n;const i=xc(n)?[]:{};return Lu(n,(l,o)=>{const A=s(l,a+1);!ic(A)&&(i[o]=A)}),t[a]=void 0,i}}return n};return s(e,0)},Bk=Fa("AsyncFunction"),Ck=e=>e&&(_u(e)||fn(e))&&fn(e.then)&&fn(e.catch),TB=((e,t)=>e?setImmediate:t?((s,n)=>(vo.addEventListener("message",({source:a,data:i})=>{a===vo&&i===s&&n.length&&n.shift()()},!1),a=>{n.push(a),vo.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",fn(vo.postMessage)),Sk=typeof queueMicrotask<"u"?queueMicrotask.bind(vo):typeof process<"u"&&process.nextTick||TB,Ek=e=>e!=null&&fn(e[lf]),pe={isArray:xc,isArrayBuffer:QB,isBuffer:Qu,isFormData:ek,isArrayBufferView:VI,isString:GI,isNumber:_B,isBoolean:$I,isObject:_u,isPlainObject:Lm,isEmptyObject:qI,isReadableStream:rk,isRequest:sk,isResponse:nk,isHeaders:ak,isUndefined:ic,isDate:YI,isFile:WI,isBlob:JI,isRegExp:gk,isFunction:fn,isStream:ZI,isURLSearchParams:tk,isTypedArray:hk,isFileList:XI,forEach:Lu,merge:Fg,extend:lk,trim:ik,stripBOM:ok,inherits:Ak,toFlatObject:ck,kindOf:of,kindOfTest:Fa,endsWith:dk,toArray:uk,forEachEntry:mk,matchAll:fk,isHTMLForm:pk,hasOwnProperty:ab,hasOwnProp:ab,reduceDescriptors:DB,freezeMethods:yk,toObjectSet:wk,toCamelCase:xk,noop:vk,toFiniteNumber:bk,findKey:LB,global:vo,isContextDefined:PB,isSpecCompliantForm:Nk,toJSONObject:jk,isAsyncFn:Bk,isThenable:Ck,setImmediate:TB,asap:Sk,isIterable:Ek};function wt(e,t,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}pe.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const RB=wt.prototype,MB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{MB[e]={value:e}});Object.defineProperties(wt,MB);Object.defineProperty(RB,"isAxiosError",{value:!0});wt.from=(e,t,s,n,a,i)=>{const l=Object.create(RB);pe.toFlatObject(e,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const o=e&&e.message?e.message:"Error",A=t==null&&e?e.code:t;return wt.call(l,o,A,s,n,a),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const Fk=null;function Ig(e){return pe.isPlainObject(e)||pe.isArray(e)}function HB(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function ib(e,t,s){return e?e.concat(t).map(function(a,i){return a=HB(a),!s&&i?"["+a+"]":a}).join(s?".":""):t}function Ik(e){return pe.isArray(e)&&!e.some(Ig)}const kk=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function cf(e,t,s){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=pe.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,B){return!pe.isUndefined(B[v])});const n=s.metaTokens,a=s.visitor||d,i=s.dots,l=s.indexes,A=(s.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(a))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(pe.isDate(y))return y.toISOString();if(pe.isBoolean(y))return y.toString();if(!A&&pe.isBlob(y))throw new wt("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(y)||pe.isTypedArray(y)?A&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,B){let x=y;if(y&&!B&&typeof y=="object"){if(pe.endsWith(v,"{}"))v=n?v:v.slice(0,-2),y=JSON.stringify(y);else if(pe.isArray(y)&&Ik(y)||(pe.isFileList(y)||pe.endsWith(v,"[]"))&&(x=pe.toArray(y)))return v=HB(v),x.forEach(function(b,g){!(pe.isUndefined(b)||b===null)&&t.append(l===!0?ib([v],g,i):l===null?v:v+"[]",c(b))}),!1}return Ig(y)?!0:(t.append(ib(B,v,i),c(y)),!1)}const h=[],p=Object.assign(kk,{defaultVisitor:d,convertValue:c,isVisitable:Ig});function m(y,v){if(!pe.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(y),pe.forEach(y,function(x,N){(!(pe.isUndefined(x)||x===null)&&a.call(t,x,pe.isString(N)?N.trim():N,v,p))===!0&&m(x,v?v.concat(N):[N])}),h.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return m(e),t}function lb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function C1(e,t){this._pairs=[],e&&cf(e,this,t)}const OB=C1.prototype;OB.append=function(t,s){this._pairs.push([t,s])};OB.toString=function(t){const s=t?function(n){return t.call(this,n,lb)}:lb;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function Uk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function KB(e,t,s){if(!t)return e;const n=s&&s.encode||Uk;pe.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let i;if(a?i=a(t,s):i=pe.isURLSearchParams(t)?t.toString():new C1(t,s).toString(n),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class ob{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const zB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qk=typeof URLSearchParams<"u"?URLSearchParams:C1,_k=typeof FormData<"u"?FormData:null,Lk=typeof Blob<"u"?Blob:null,Pk={isBrowser:!0,classes:{URLSearchParams:Qk,FormData:_k,Blob:Lk},protocols:["http","https","file","blob","url","data"]},S1=typeof window<"u"&&typeof document<"u",kg=typeof navigator=="object"&&navigator||void 0,Dk=S1&&(!kg||["ReactNative","NativeScript","NS"].indexOf(kg.product)<0),Tk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rk=S1&&window.location.href||"http://localhost",Mk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:S1,hasStandardBrowserEnv:Dk,hasStandardBrowserWebWorkerEnv:Tk,navigator:kg,origin:Rk},Symbol.toStringTag,{value:"Module"})),Vs={...Mk,...Pk};function Hk(e,t){return cf(e,new Vs.classes.URLSearchParams,{visitor:function(s,n,a,i){return Vs.isNode&&pe.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Ok(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Kk(e){const t={},s=Object.keys(e);let n;const a=s.length;let i;for(n=0;n<a;n++)i=s[n],t[i]=e[i];return t}function VB(e){function t(s,n,a,i){let l=s[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),A=i>=s.length;return l=!l&&pe.isArray(a)?a.length:l,A?(pe.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!o):((!a[l]||!pe.isObject(a[l]))&&(a[l]=[]),t(s,n,a[l],i)&&pe.isArray(a[l])&&(a[l]=Kk(a[l])),!o)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const s={};return pe.forEachEntry(e,(n,a)=>{t(Ok(n),a,s,0)}),s}return null}function zk(e,t,s){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const Pu={transitional:zB,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",a=n.indexOf("application/json")>-1,i=pe.isObject(t);if(i&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return a?JSON.stringify(VB(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t)||pe.isReadableStream(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Hk(t,this.formSerializer).toString();if((o=pe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const A=this.env&&this.env.FormData;return cf(o?{"files[]":t}:t,A&&new A,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),zk(t)):t}],transformResponse:[function(t){const s=this.transitional||Pu.transitional,n=s&&s.forcedJSONParsing,a=this.responseType==="json";if(pe.isResponse(t)||pe.isReadableStream(t))return t;if(t&&pe.isString(t)&&(n&&!this.responseType||a)){const l=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?wt.from(o,wt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vs.classes.FormData,Blob:Vs.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{Pu.headers[e]={}});const Vk=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gk=e=>{const t={};let s,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),s=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!s||t[s]&&Vk[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},Ab=Symbol("internals");function ld(e){return e&&String(e).trim().toLowerCase()}function Pm(e){return e===!1||e==null?e:pe.isArray(e)?e.map(Pm):String(e)}function $k(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const qk=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Pp(e,t,s,n,a){if(pe.isFunction(n))return n.call(this,t,s);if(a&&(t=s),!!pe.isString(t)){if(pe.isString(n))return t.indexOf(n)!==-1;if(pe.isRegExp(n))return n.test(t)}}function Yk(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function Wk(e,t){const s=pe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(a,i,l){return this[n].call(this,t,a,i,l)},configurable:!0})})}class pn{constructor(t){t&&this.set(t)}set(t,s,n){const a=this;function i(o,A,c){const d=ld(A);if(!d)throw new Error("header name must be a non-empty string");const h=pe.findKey(a,d);(!h||a[h]===void 0||c===!0||c===void 0&&a[h]!==!1)&&(a[h||A]=Pm(o))}const l=(o,A)=>pe.forEach(o,(c,d)=>i(c,d,A));if(pe.isPlainObject(t)||t instanceof this.constructor)l(t,s);else if(pe.isString(t)&&(t=t.trim())&&!qk(t))l(Gk(t),s);else if(pe.isObject(t)&&pe.isIterable(t)){let o={},A,c;for(const d of t){if(!pe.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[c=d[0]]=(A=o[c])?pe.isArray(A)?[...A,d[1]]:[A,d[1]]:d[1]}l(o,s)}else t!=null&&i(s,t,n);return this}get(t,s){if(t=ld(t),t){const n=pe.findKey(this,t);if(n){const a=this[n];if(!s)return a;if(s===!0)return $k(a);if(pe.isFunction(s))return s.call(this,a,n);if(pe.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=ld(t),t){const n=pe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||Pp(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let a=!1;function i(l){if(l=ld(l),l){const o=pe.findKey(n,l);o&&(!s||Pp(n,n[o],o,s))&&(delete n[o],a=!0)}}return pe.isArray(t)?t.forEach(i):i(t),a}clear(t){const s=Object.keys(this);let n=s.length,a=!1;for(;n--;){const i=s[n];(!t||Pp(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const s=this,n={};return pe.forEach(this,(a,i)=>{const l=pe.findKey(n,i);if(l){s[l]=Pm(a),delete s[i];return}const o=t?Yk(i):String(i).trim();o!==i&&delete s[i],s[o]=Pm(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return pe.forEach(this,(n,a)=>{n!=null&&n!==!1&&(s[a]=t&&pe.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Ab]=this[Ab]={accessors:{}}).accessors,a=this.prototype;function i(l){const o=ld(l);n[o]||(Wk(a,l),n[o]=!0)}return pe.isArray(t)?t.forEach(i):i(t),this}}pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(pn.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});pe.freezeMethods(pn);function Dp(e,t){const s=this||Pu,n=t||s,a=pn.from(n.headers);let i=n.data;return pe.forEach(e,function(o){i=o.call(s,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function GB(e){return!!(e&&e.__CANCEL__)}function gc(e,t,s){wt.call(this,e??"canceled",wt.ERR_CANCELED,t,s),this.name="CanceledError"}pe.inherits(gc,wt,{__CANCEL__:!0});function $B(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new wt("Request failed with status code "+s.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Jk(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Xk(e,t){e=e||10;const s=new Array(e),n=new Array(e);let a=0,i=0,l;return t=t!==void 0?t:1e3,function(A){const c=Date.now(),d=n[i];l||(l=c),s[a]=A,n[a]=c;let h=i,p=0;for(;h!==a;)p+=s[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),c-l<t)return;const m=d&&c-d;return m?Math.round(p*1e3/m):void 0}}function Zk(e,t){let s=0,n=1e3/t,a,i;const l=(c,d=Date.now())=>{s=d,a=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const d=Date.now(),h=d-s;h>=n?l(c,d):(a=c,i||(i=setTimeout(()=>{i=null,l(a)},n-h)))},()=>a&&l(a)]}const N0=(e,t,s=3)=>{let n=0;const a=Xk(50,250);return Zk(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,A=l-n,c=a(A),d=l<=o;n=l;const h={loaded:l,total:o,progress:o?l/o:void 0,bytes:A,rate:c||void 0,estimated:c&&o&&d?(o-l)/c:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},s)},cb=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},db=e=>(...t)=>pe.asap(()=>e(...t)),eU=Vs.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Vs.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Vs.origin),Vs.navigator&&/(msie|trident)/i.test(Vs.navigator.userAgent)):()=>!0,tU=Vs.hasStandardBrowserEnv?{write(e,t,s,n,a,i){const l=[e+"="+encodeURIComponent(t)];pe.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),pe.isString(n)&&l.push("path="+n),pe.isString(a)&&l.push("domain="+a),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function sU(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function qB(e,t,s){let n=!rU(t);return e&&(n||s==!1)?sU(e,t):t}const ub=e=>e instanceof pn?{...e}:e;function To(e,t){t=t||{};const s={};function n(c,d,h,p){return pe.isPlainObject(c)&&pe.isPlainObject(d)?pe.merge.call({caseless:p},c,d):pe.isPlainObject(d)?pe.merge({},d):pe.isArray(d)?d.slice():d}function a(c,d,h,p){if(pe.isUndefined(d)){if(!pe.isUndefined(c))return n(void 0,c,h,p)}else return n(c,d,h,p)}function i(c,d){if(!pe.isUndefined(d))return n(void 0,d)}function l(c,d){if(pe.isUndefined(d)){if(!pe.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function o(c,d,h){if(h in t)return n(c,d);if(h in e)return n(void 0,c)}const A={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(c,d,h)=>a(ub(c),ub(d),h,!0)};return pe.forEach(Object.keys({...e,...t}),function(d){const h=A[d]||a,p=h(e[d],t[d],d);pe.isUndefined(p)&&h!==o||(s[d]=p)}),s}const YB=e=>{const t=To({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=pn.from(l),t.url=KB(qB(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),pe.isFormData(s)){if(Vs.hasStandardBrowserEnv||Vs.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(pe.isFunction(s.getHeaders)){const A=s.getHeaders(),c=["content-type","content-length"];Object.entries(A).forEach(([d,h])=>{c.includes(d.toLowerCase())&&l.set(d,h)})}}if(Vs.hasStandardBrowserEnv&&(n&&pe.isFunction(n)&&(n=n(t)),n||n!==!1&&eU(t.url))){const A=a&&i&&tU.read(i);A&&l.set(a,A)}return t},nU=typeof XMLHttpRequest<"u",aU=nU&&function(e){return new Promise(function(s,n){const a=YB(e);let i=a.data;const l=pn.from(a.headers).normalize();let{responseType:o,onUploadProgress:A,onDownloadProgress:c}=a,d,h,p,m,y;function v(){m&&m(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let B=new XMLHttpRequest;B.open(a.method.toUpperCase(),a.url,!0),B.timeout=a.timeout;function x(){if(!B)return;const b=pn.from("getAllResponseHeaders"in B&&B.getAllResponseHeaders()),k={data:!o||o==="text"||o==="json"?B.responseText:B.response,status:B.status,statusText:B.statusText,headers:b,config:e,request:B};$B(function(I){s(I),v()},function(I){n(I),v()},k),B=null}"onloadend"in B?B.onloadend=x:B.onreadystatechange=function(){!B||B.readyState!==4||B.status===0&&!(B.responseURL&&B.responseURL.indexOf("file:")===0)||setTimeout(x)},B.onabort=function(){B&&(n(new wt("Request aborted",wt.ECONNABORTED,e,B)),B=null)},B.onerror=function(g){const k=g&&g.message?g.message:"Network Error",_=new wt(k,wt.ERR_NETWORK,e,B);_.event=g||null,n(_),B=null},B.ontimeout=function(){let g=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||zB;a.timeoutErrorMessage&&(g=a.timeoutErrorMessage),n(new wt(g,k.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,e,B)),B=null},i===void 0&&l.setContentType(null),"setRequestHeader"in B&&pe.forEach(l.toJSON(),function(g,k){B.setRequestHeader(k,g)}),pe.isUndefined(a.withCredentials)||(B.withCredentials=!!a.withCredentials),o&&o!=="json"&&(B.responseType=a.responseType),c&&([p,y]=N0(c,!0),B.addEventListener("progress",p)),A&&B.upload&&([h,m]=N0(A),B.upload.addEventListener("progress",h),B.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=b=>{B&&(n(!b||b.type?new gc(null,e,B):b),B.abort(),B=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const N=Jk(a.url);if(N&&Vs.protocols.indexOf(N)===-1){n(new wt("Unsupported protocol "+N+":",wt.ERR_BAD_REQUEST,e));return}B.send(i||null)})},iU=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,a;const i=function(c){if(!a){a=!0,o();const d=c instanceof Error?c:this.reason;n.abort(d instanceof wt?d:new gc(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,i(new wt(`timeout ${t} of ms exceeded`,wt.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:A}=n;return A.unsubscribe=()=>pe.asap(o),A}},lU=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,a;for(;n<s;)a=n+t,yield e.slice(n,a),n=a},oU=async function*(e,t){for await(const s of AU(e))yield*lU(s,t)},AU=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},hb=(e,t,s,n)=>{const a=oU(e,t);let i=0,l,o=A=>{l||(l=!0,n&&n(A))};return new ReadableStream({async pull(A){try{const{done:c,value:d}=await a.next();if(c){o(),A.close();return}let h=d.byteLength;if(s){let p=i+=h;s(p)}A.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(A){return o(A),a.return()}},{highWaterMark:2})},mb=64*1024,{isFunction:Th}=pe,WB=(({fetch:e,Request:t,Response:s})=>({fetch:e,Request:t,Response:s}))(pe.global),{ReadableStream:fb,TextEncoder:pb}=pe.global,xb=(e,...t)=>{try{return!!e(...t)}catch{return!1}},cU=e=>{const{fetch:t,Request:s,Response:n}=Object.assign({},WB,e),a=Th(t),i=Th(s),l=Th(n);if(!a)return!1;const o=a&&Th(fb),A=a&&(typeof pb=="function"?(y=>v=>y.encode(v))(new pb):async y=>new Uint8Array(await new s(y).arrayBuffer())),c=i&&o&&xb(()=>{let y=!1;const v=new s(Vs.origin,{body:new fb,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!v}),d=l&&o&&xb(()=>pe.isReadableStream(new n("").body)),h={stream:d&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!h[y]&&(h[y]=(v,B)=>{let x=v&&v[y];if(x)return x.call(v);throw new wt(`Response type '${y}' is not supported`,wt.ERR_NOT_SUPPORT,B)})});const p=async y=>{if(y==null)return 0;if(pe.isBlob(y))return y.size;if(pe.isSpecCompliantForm(y))return(await new s(Vs.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(y)||pe.isArrayBuffer(y))return y.byteLength;if(pe.isURLSearchParams(y)&&(y=y+""),pe.isString(y))return(await A(y)).byteLength},m=async(y,v)=>{const B=pe.toFiniteNumber(y.getContentLength());return B??p(v)};return async y=>{let{url:v,method:B,data:x,signal:N,cancelToken:b,timeout:g,onDownloadProgress:k,onUploadProgress:_,responseType:I,headers:U,withCredentials:S="same-origin",fetchOptions:G}=YB(y);I=I?(I+"").toLowerCase():"text";let L=iU([N,b&&b.toAbortSignal()],g),P=null;const F=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let M;try{if(_&&c&&B!=="get"&&B!=="head"&&(M=await m(U,x))!==0){let se=new s(v,{method:"POST",body:x,duplex:"half"}),re;if(pe.isFormData(x)&&(re=se.headers.get("content-type"))&&U.setContentType(re),se.body){const[Q,z]=cb(M,N0(db(_)));x=hb(se.body,mb,Q,z)}}pe.isString(S)||(S=S?"include":"omit");const Z=i&&"credentials"in s.prototype,te={...G,signal:L,method:B.toUpperCase(),headers:U.normalize().toJSON(),body:x,duplex:"half",credentials:Z?S:void 0};P=i&&new s(v,te);let le=await(i?t(P,G):t(v,te));const R=d&&(I==="stream"||I==="response");if(d&&(k||R&&F)){const se={};["status","statusText","headers"].forEach($=>{se[$]=le[$]});const re=pe.toFiniteNumber(le.headers.get("content-length")),[Q,z]=k&&cb(re,N0(db(k),!0))||[];le=new n(hb(le.body,mb,Q,()=>{z&&z(),F&&F()}),se)}I=I||"text";let X=await h[pe.findKey(h,I)||"text"](le,y);return!R&&F&&F(),await new Promise((se,re)=>{$B(se,re,{data:X,headers:pn.from(le.headers),status:le.status,statusText:le.statusText,config:y,request:P})})}catch(Z){throw F&&F(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new wt("Network Error",wt.ERR_NETWORK,y,P),{cause:Z.cause||Z}):wt.from(Z,Z&&Z.code,y,P)}}},dU=new Map,JB=e=>{let t=pe.merge.call({skipUndefined:!0},WB,e?e.env:null);const{fetch:s,Request:n,Response:a}=t,i=[n,a,s];let l=i.length,o=l,A,c,d=dU;for(;o--;)A=i[o],c=d.get(A),c===void 0&&d.set(A,c=o?new Map:cU(t)),d=c;return c};JB();const Ug={http:Fk,xhr:aU,fetch:{get:JB}};pe.forEach(Ug,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const gb=e=>`- ${e}`,uU=e=>pe.isFunction(e)||e===null||e===!1,XB={getAdapter:(e,t)=>{e=pe.isArray(e)?e:[e];const{length:s}=e;let n,a;const i={};for(let l=0;l<s;l++){n=e[l];let o;if(a=n,!uU(n)&&(a=Ug[(o=String(n)).toLowerCase()],a===void 0))throw new wt(`Unknown adapter '${o}'`);if(a&&(pe.isFunction(a)||(a=a.get(t))))break;i[o||"#"+l]=a}if(!a){const l=Object.entries(i).map(([A,c])=>`adapter ${A} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=s?l.length>1?`since :
`+l.map(gb).join(`
`):" "+gb(l[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:Ug};function Tp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gc(null,e)}function yb(e){return Tp(e),e.headers=pn.from(e.headers),e.data=Dp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),XB.getAdapter(e.adapter||Pu.adapter,e)(e).then(function(n){return Tp(e),n.data=Dp.call(e,e.transformResponse,n),n.headers=pn.from(n.headers),n},function(n){return GB(n)||(Tp(e),n&&n.response&&(n.response.data=Dp.call(e,e.transformResponse,n.response),n.response.headers=pn.from(n.response.headers))),Promise.reject(n)})}const ZB="1.12.1",df={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{df[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const wb={};df.transitional=function(t,s,n){function a(i,l){return"[Axios v"+ZB+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,o)=>{if(t===!1)throw new wt(a(l," has been removed"+(s?" in "+s:"")),wt.ERR_DEPRECATED);return s&&!wb[l]&&(wb[l]=!0,console.warn(a(l," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,l,o):!0}};df.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function hU(e,t,s){if(typeof e!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],l=t[i];if(l){const o=e[i],A=o===void 0||l(o,i,e);if(A!==!0)throw new wt("option "+i+" must be "+A,wt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new wt("Unknown option "+i,wt.ERR_BAD_OPTION)}}const Dm={assertOptions:hU,validators:df},za=Dm.validators;class Fo{constructor(t){this.defaults=t||{},this.interceptors={request:new ob,response:new ob}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=To(this.defaults,s);const{transitional:n,paramsSerializer:a,headers:i}=s;n!==void 0&&Dm.assertOptions(n,{silentJSONParsing:za.transitional(za.boolean),forcedJSONParsing:za.transitional(za.boolean),clarifyTimeoutError:za.transitional(za.boolean)},!1),a!=null&&(pe.isFunction(a)?s.paramsSerializer={serialize:a}:Dm.assertOptions(a,{encode:za.function,serialize:za.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Dm.assertOptions(s,{baseUrl:za.spelling("baseURL"),withXsrfToken:za.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=i&&pe.merge(i.common,i[s.method]);i&&pe.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),s.headers=pn.concat(l,i);const o=[];let A=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(s)===!1||(A=A&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let d,h=0,p;if(!A){const y=[yb.bind(this),void 0];for(y.unshift(...o),y.push(...c),p=y.length,d=Promise.resolve(s);h<p;)d=d.then(y[h++],y[h++]);return d}p=o.length;let m=s;for(h=0;h<p;){const y=o[h++],v=o[h++];try{m=y(m)}catch(B){v.call(this,B);break}}try{d=yb.call(this,m)}catch(y){return Promise.reject(y)}for(h=0,p=c.length;h<p;)d=d.then(c[h++],c[h++]);return d}getUri(t){t=To(this.defaults,t);const s=qB(t.baseURL,t.url,t.allowAbsoluteUrls);return KB(s,t.params,t.paramsSerializer)}}pe.forEach(["delete","get","head","options"],function(t){Fo.prototype[t]=function(s,n){return this.request(To(n||{},{method:t,url:s,data:(n||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function s(n){return function(i,l,o){return this.request(To(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Fo.prototype[t]=s(),Fo.prototype[t+"Form"]=s(!0)});class E1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(o=>{n.subscribe(o),i=o}).then(a);return l.cancel=function(){n.unsubscribe(i)},l},t(function(i,l,o){n.reason||(n.reason=new gc(i,l,o),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new E1(function(a){t=a}),cancel:t}}}function mU(e){return function(s){return e.apply(null,s)}}function fU(e){return pe.isObject(e)&&e.isAxiosError===!0}const Qg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qg).forEach(([e,t])=>{Qg[t]=e});function e4(e){const t=new Fo(e),s=kB(Fo.prototype.request,t);return pe.extend(s,Fo.prototype,t,{allOwnKeys:!0}),pe.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return e4(To(e,a))},s}const ts=e4(Pu);ts.Axios=Fo;ts.CanceledError=gc;ts.CancelToken=E1;ts.isCancel=GB;ts.VERSION=ZB;ts.toFormData=cf;ts.AxiosError=wt;ts.Cancel=ts.CanceledError;ts.all=function(t){return Promise.all(t)};ts.spread=mU;ts.isAxiosError=fU;ts.mergeConfig=To;ts.AxiosHeaders=pn;ts.formToJSON=e=>VB(pe.isHTMLForm(e)?new FormData(e):e);ts.getAdapter=XB.getAdapter;ts.HttpStatusCode=Qg;ts.default=ts;const Rh={BASE_URL:"http://localhost:3500/api",TIMEOUT:1e4,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3},et={AUTH:{LOGIN:"/admin/login",SIGNUP:"/admin/signup",PROFILE:"/admin/profile",REFRESH:"/admin/refresh",LOGOUT:"/admin/logout"},ADMIN:{LIST:"/admin/list",CREATE:"/admin/create",UPDATE:"/admin/update",DELETE:"/admin/delete",BY_ID:e=>`/admin/${e}`},SOCIETY:{MEMBERS:"/society/members",PAYMENTS:"/society/payments",LOANS:"/society/loans",PENALTIES:"/society/penalties"},STUDENT:{STUDENTS:"/student/students",COURSE_BATCH:"/student/course-batch",CERTIFICATES:"/student/certificates",MARKSHEETS:"/student/marksheets"},USER_MANAGEMENT:{STUDENTS:"/user-management/students",STUDENT_BY_ID:e=>`/user-management/students/${e}`,STUDENT_BY_STUDENT_ID:e=>`/user-management/students/by-student-id/${e}`,STUDENTS_APPROVED_KYC:"/user-management/students/approved-kyc",SOCIETY_MEMBERS:"/user-management/society-members",SOCIETY_MEMBER_BY_ID:e=>`/user-management/society-members/${e}`,SOCIETY_MEMBER_BY_MEMBER_ID:e=>`/user-management/society-members/by-member-id/${e}`,SOCIETY_MEMBERS_APPROVED_KYC:"/user-management/society-members/approved-kyc",ADMINS:"/user-management/admins",ADMIN_BY_ID:e=>`/user-management/admins/${e}`,USERS:"/user-management/users",BULK_ACTIONS:"/user-management/bulk-actions"},KYC:{PENDING:"/kyc/admin/pending",STUDENT_KYC:"/kyc/admin/student",SOCIETY_MEMBER_KYC:"/kyc/admin/society-member",APPROVE_STUDENT:"/kyc/admin/student/approve",REJECT_STUDENT:"/kyc/admin/student/reject",APPROVE_SOCIETY_MEMBER:"/kyc/admin/society-member/approve",REJECT_SOCIETY_MEMBER:"/kyc/admin/society-member/reject"},COURSES:{LIST:"/courses",CREATE:"/courses/create",BY_ID:e=>`/courses/${e}`,UPDATE:e=>`/courses/${e}`,DELETE:e=>`/courses/${e}`,STATISTICS:"/courses/statistics"},BATCHES:{LIST:"/batches",CREATE:"/batches/create",BY_ID:e=>`/batches/${e}`,UPDATE:e=>`/batches/${e}`,DELETE:e=>`/batches/${e}`,BY_COURSE:e=>`/batches/course/${e}`,STATISTICS:"/batches/statistics"}},pU={OK:200,CREATED:201,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,INTERNAL_SERVER_ERROR:500},od={AUTH_TOKEN:"admin_auth_token",REFRESH_TOKEN:"admin_refresh_token",USER_DATA:"admin_user_data"},Un={saveToken:e=>{const t={token:e,expiresAt:Date.now()+864e5};localStorage.setItem(od.AUTH_TOKEN,JSON.stringify(t))},getToken:()=>{try{const e=localStorage.getItem(od.AUTH_TOKEN);if(!e)return null;const t=JSON.parse(e);return Date.now()>t.expiresAt?(Un.removeToken(),null):t.token}catch(e){return console.error("Error parsing token:",e),Un.removeToken(),null}},removeToken:()=>{localStorage.removeItem(od.AUTH_TOKEN),localStorage.removeItem(od.REFRESH_TOKEN),localStorage.removeItem(od.USER_DATA)},isAuthenticated:()=>Un.getToken()!==null},PA={createError:(e,t,s)=>({message:e,status:t,code:s}),handleApiError:e=>{if(e.response){const{status:t,data:s}=e.response;return t===400&&s&&(s.errors||s.success===!1)?{success:!1,message:s.message||"Validation failed",errors:s.errors||[],status:t,code:s.code}:{message:(s==null?void 0:s.message)||(s==null?void 0:s.error)||"An error occurred",status:t,code:s==null?void 0:s.code}}else return e.request?{message:"Network error. Please check your connection.",status:0,code:"NETWORK_ERROR"}:{message:e.message||"An unexpected error occurred",code:"UNKNOWN_ERROR"}},logError:(e,t)=>{console.error(`API Error${t?` in ${t}`:""}:`,{message:e.message,status:e.status,code:e.code,timestamp:new Date().toISOString()})}},vb={getAuthHeader:()=>{const e=Un.getToken();return e?{Authorization:`Bearer ${e}`}:{}},retryRequest:async(e,t=3,s=1e3)=>{let n;for(let a=0;a<=t;a++)try{return await e()}catch(i){if(n=i,a===t)throw i;await new Promise(l=>setTimeout(l,s*Math.pow(2,a)))}throw n},validateResponse:e=>{if(!e)throw PA.createError("No response received");if(e.success===!1)throw PA.createError(e.message||"Request failed",e.status,e.code);return e}},mr={formToJson:e=>{const t={};return e.forEach((s,n)=>{t[n]=s}),t},sanitizeInput:e=>{if(typeof e=="string")return e.trim();if(Array.isArray(e))return e.map(t=>mr.sanitizeInput(t));if(typeof e=="object"&&e!==null){const t={};return Object.keys(e).forEach(s=>{t[s]=mr.sanitizeInput(e[s])}),t}return e},formatDate:e=>new Date(e).toISOString()};class xU{constructor(){this.isRefreshing=!1,this.failedQueue=[],this.client=ts.create({baseURL:Rh.BASE_URL,timeout:Rh.TIMEOUT,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(t=>{const s=Un.getToken();return s&&(t.headers.Authorization=`Bearer ${s}`),t.data instanceof FormData&&delete t.headers["Content-Type"],t.metadata={startTime:Date.now()},t},t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,async t=>{var n;const s=t.config;if(((n=t.response)==null?void 0:n.status)===pU.UNAUTHORIZED&&!s._retry){if(this.isRefreshing)return new Promise((a,i)=>{this.failedQueue.push({resolve:a,reject:i})}).then(()=>this.client(s)).catch(a=>Promise.reject(a));s._retry=!0,this.isRefreshing=!0;try{return await this.refreshToken(),this.processQueue(null),this.client(s)}catch(a){return this.processQueue(a),Un.removeToken(),this.handleAuthFailure(),Promise.reject(a)}finally{this.isRefreshing=!1}}return Promise.reject(t)})}processQueue(t){this.failedQueue.forEach(({resolve:s,reject:n})=>{t?n(t):s()}),this.failedQueue=[]}async refreshToken(){throw new Error("Token refresh not implemented")}handleAuthFailure(){Un.removeToken(),window.dispatchEvent(new CustomEvent("auth:logout")),window.location.pathname!=="/login"&&(window.location.href="/login")}async request(t){try{const s=await vb.retryRequest(()=>this.client.request(t),t.retries||Rh.RETRY_ATTEMPTS,Rh.RETRY_DELAY);return vb.validateResponse(s.data)}catch(s){const n=PA.handleApiError(s);throw PA.logError(n,t.url),n}}async get(t,s){return this.request({...s,method:"GET",url:t})}async post(t,s,n){return this.request({...n,method:"POST",url:t,data:s})}async put(t,s,n){return this.request({...n,method:"PUT",url:t,data:s})}async patch(t,s,n){return this.request({...n,method:"PATCH",url:t,data:s})}async delete(t,s){return this.request({...s,method:"DELETE",url:t})}async upload(t,s,n){const a=new FormData;return a.append("file",s),this.request({...n,method:"POST",url:t,data:a,headers:{...n==null?void 0:n.headers,"Content-Type":"multipart/form-data"}})}async download(t,s,n){try{const a=await this.client.get(t,{...n,responseType:"blob"}),i=new Blob([a.data]),l=window.URL.createObjectURL(i),o=document.createElement("a");o.href=l,o.download=s||"download",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(l)}catch(a){const i=PA.handleApiError(a);throw PA.logError(i,t),i}}}const je=new xU;class gU{async login(t){try{const s=mr.sanitizeInput(t),n=await je.post(et.AUTH.LOGIN,s);if(n.success&&n.data)return Un.saveToken(n.data.token),localStorage.setItem("admin_user_data",JSON.stringify(n.data.admin)),n.data;throw new Error(n.message||"Login failed")}catch(s){throw console.error("Login error:",s),s}}async signup(t){try{const s=mr.sanitizeInput(t),n=await je.post(et.AUTH.SIGNUP,s);if(n.success&&n.data)return Un.saveToken(n.data.token),localStorage.setItem("admin_user_data",JSON.stringify(n.data.admin)),n.data;throw new Error(n.message||"Signup failed")}catch(s){throw console.error("Signup error:",s),s}}async getProfile(){try{const t=await je.get(et.AUTH.PROFILE);if(t.success&&t.data)return localStorage.setItem("admin_user_data",JSON.stringify(t.data.user)),t.data;throw new Error(t.message||"Failed to fetch profile")}catch(t){throw console.error("Get profile error:",t),t}}async updateProfile(t){try{const s=mr.sanitizeInput(t),n=await je.put(et.AUTH.PROFILE,s);if(n.success&&n.data)return localStorage.setItem("admin_user_data",JSON.stringify(n.data.admin)),n.data.admin;throw new Error(n.message||"Profile update failed")}catch(s){throw console.error("Update profile error:",s),s}}async refreshToken(){try{const t=await je.post(et.AUTH.REFRESH);if(t.success&&t.data)return Un.saveToken(t.data.token),t.data;throw new Error(t.message||"Token refresh failed")}catch(t){throw console.error("Refresh token error:",t),t}}async logout(){try{await je.post(et.AUTH.LOGOUT)}catch(t){console.error("Logout error:",t)}finally{Un.removeToken(),localStorage.removeItem("admin_user_data")}}isAuthenticated(){return Un.isAuthenticated()}getCurrentUser(){try{const t=localStorage.getItem("admin_user_data");return t?JSON.parse(t):null}catch(t){return console.error("Error parsing user data:",t),null}}getCurrentToken(){return Un.getToken()}async validateToken(){try{return this.isAuthenticated()?(await this.getProfile(),!0):!1}catch(t){return console.error("Token validation error:",t),!1}}async changePassword(t,s){try{const n=mr.sanitizeInput({currentPassword:t,newPassword:s}),a=await je.put(`${et.AUTH.PROFILE}/password`,n);if(!a.success)throw new Error(a.message||"Password change failed")}catch(n){throw console.error("Change password error:",n),n}}async requestPasswordReset(t){try{const s=mr.sanitizeInput(t),n=await je.post(`${et.AUTH.PROFILE}/reset-password`,{email:s});if(!n.success)throw new Error(n.message||"Password reset request failed")}catch(s){throw console.error("Password reset request error:",s),s}}async verifyEmail(t){try{const s=await je.post(`${et.AUTH.PROFILE}/verify-email`,{token:t});if(!s.success)throw new Error(s.message||"Email verification failed")}catch(s){throw console.error("Email verification error:",s),s}}}const ll=new gU;class yU{async getAllStudents(t=1,s=10,n,a,i="asc"){try{const l={page:t,limit:s,sortBy:a,sortOrder:i,...mr.sanitizeInput(n||{})};Object.keys(l).forEach(A=>{(l[A]===void 0||l[A]==="")&&delete l[A]});const o=await je.get(et.USER_MANAGEMENT.STUDENTS,{params:l});if(o.success&&o.data)return o.data;throw new Error(o.message||"Failed to fetch students")}catch(l){throw console.error("Get all students error:",l),l}}async getStudents(t={}){const s={search:t.search,department:t.department,year:t.year,kycStatus:t.kycStatus};return t.status==="active"?s.isActive=!0:t.status==="inactive"&&(s.isActive=!1),this.getAllStudents(t.page||1,t.limit||10,s,t.sortBy,t.sortOrder||"asc")}async getStudentById(t){try{const s=await je.get(et.USER_MANAGEMENT.STUDENT_BY_ID(t));if(s.success&&s.data)return s.data.student;throw new Error(s.message||"Failed to fetch student")}catch(s){throw console.error("Get student by ID error:",s),s}}async getStudentByStudentId(t){try{const s=await je.get(et.USER_MANAGEMENT.STUDENT_BY_STUDENT_ID(t));if(s.success&&s.data)return s.data.student;throw new Error(s.message||"Failed to fetch student")}catch(s){throw console.error("Get student by student ID error:",s),s}}async updateStudent(t,s){try{const n=mr.sanitizeInput(s),a=await je.put(`${et.USER_MANAGEMENT.STUDENTS}/${t}`,n);if(a.success&&a.data)return a.data.student;throw new Error(a.message||"Failed to update student")}catch(n){throw console.error("Update student error:",n),n}}async deleteStudent(t){try{const s=await je.delete(`${et.USER_MANAGEMENT.STUDENTS}/${t}`);if(!s.success)throw new Error(s.message||"Failed to delete student")}catch(s){throw console.error("Delete student error:",s),s}}async getAllSocietyMembers(t=1,s=10,n,a,i="asc"){try{const l={page:t,limit:s,sortBy:a,sortOrder:i,...mr.sanitizeInput(n||{})};Object.keys(l).forEach(A=>{(l[A]===void 0||l[A]==="")&&delete l[A]});const o=await je.get(et.USER_MANAGEMENT.SOCIETY_MEMBERS,{params:l});if(o.success&&o.data)return o.data;throw new Error(o.message||"Failed to fetch society members")}catch(l){throw console.error("Get all society members error:",l),l}}async getSocietyMemberById(t){try{const s=await je.get(et.USER_MANAGEMENT.SOCIETY_MEMBER_BY_ID(t));if(s.success&&s.data)return s.data.societyMember;throw new Error(s.message||"Failed to fetch society member")}catch(s){throw console.error("Get society member by ID error:",s),s}}async getSocietyMemberByMemberId(t){try{const s=await je.get(et.USER_MANAGEMENT.SOCIETY_MEMBER_BY_MEMBER_ID(t));if(s.success&&s.data)return s.data.societyMember;throw new Error(s.message||"Failed to fetch society member")}catch(s){throw console.error("Get society member by member ID error:",s),s}}async updateSocietyMember(t,s){try{const n=mr.sanitizeInput(s),a=await je.put(`${et.USER_MANAGEMENT.SOCIETY_MEMBERS}/${t}`,n);if(a.success&&a.data)return a.data.societyMember;throw new Error(a.message||"Failed to update society member")}catch(n){throw console.error("Update society member error:",n),n}}async deleteSocietyMember(t){try{const s=await je.delete(`${et.USER_MANAGEMENT.SOCIETY_MEMBERS}/${t}`);if(!s.success)throw new Error(s.message||"Failed to delete society member")}catch(s){throw console.error("Delete society member error:",s),s}}async getAllAdmins(t=1,s=10,n,a,i="asc"){try{const l={page:t,limit:s,sortBy:a,sortOrder:i,...mr.sanitizeInput(n||{})};Object.keys(l).forEach(A=>{(l[A]===void 0||l[A]==="")&&delete l[A]});const o=await je.get(et.USER_MANAGEMENT.ADMINS,{params:l});if(o.success&&o.data)return o.data;throw new Error(o.message||"Failed to fetch admins")}catch(l){throw console.error("Get all admins error:",l),l}}async getAdminById(t){try{const s=await je.get(et.USER_MANAGEMENT.ADMIN_BY_ID(t));if(s.success&&s.data)return s.data.admin;throw new Error(s.message||"Failed to fetch admin")}catch(s){throw console.error("Get admin by ID error:",s),s}}async createAdmin(t){try{const s=mr.sanitizeInput(t),n=await je.post(et.USER_MANAGEMENT.ADMINS,s);if(n.success&&n.data)return n.data.admin;throw new Error(n.message||"Failed to create admin")}catch(s){throw console.error("Create admin error:",s),s}}async updateAdmin(t,s){try{const n=mr.sanitizeInput(s),a=await je.put(`${et.USER_MANAGEMENT.ADMINS}/${t}`,n);if(a.success&&a.data)return a.data.admin;throw new Error(a.message||"Failed to update admin")}catch(n){throw console.error("Update admin error:",n),n}}async deleteAdmin(t){try{const s=await je.delete(`${et.USER_MANAGEMENT.ADMINS}/${t}`);if(!s.success)throw new Error(s.message||"Failed to delete admin")}catch(s){throw console.error("Delete admin error:",s),s}}async performBulkAction(t){try{const s=mr.sanitizeInput(t),n=await je.post(et.USER_MANAGEMENT.BULK_ACTIONS,s);if(n.success&&n.data)return n.data;throw new Error(n.message||"Bulk action failed")}catch(s){throw console.error("Bulk action error:",s),s}}async exportUsers(t,s,n="excel"){try{const a={format:n,...mr.sanitizeInput(s||{})};Object.keys(a).forEach(i=>{(a[i]===void 0||a[i]==="")&&delete a[i]}),await je.download(`${et.USER_MANAGEMENT.USERS}/export/${t}`,`users-export.${n}`,{params:a})}catch(a){throw console.error("Export users error:",a),a}}async getUserStatistics(){try{const t=await je.get(`${et.USER_MANAGEMENT.USERS}/statistics`);if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch user statistics")}catch(t){throw console.error("Get user statistics error:",t),t}}async searchUsers(t,s=["students","society-members","admins"],n=10){try{const a={query:mr.sanitizeInput(t),userTypes:s.join(","),limit:n},i=await je.get(`${et.USER_MANAGEMENT.USERS}/search`,{params:a});if(i.success&&i.data)return i.data;throw new Error(i.message||"Search failed")}catch(a){throw console.error("Search users error:",a),a}}async getApprovedKYCStudents(t){try{const s={page:(t==null?void 0:t.page)||1,limit:(t==null?void 0:t.limit)||10,...(t==null?void 0:t.search)&&{search:t.search},...(t==null?void 0:t.department)&&{department:t.department},...(t==null?void 0:t.year)&&{year:t.year}},n=await je.get(et.USER_MANAGEMENT.STUDENTS_APPROVED_KYC,{params:s});if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to fetch approved KYC students")}catch(s){throw console.error("Get approved KYC students error:",s),s}}async getApprovedKYCSocietyMembers(t){try{const s={page:(t==null?void 0:t.page)||1,limit:(t==null?void 0:t.limit)||10,...(t==null?void 0:t.search)&&{search:t.search},...(t==null?void 0:t.societyName)&&{societyName:t.societyName},...(t==null?void 0:t.position)&&{position:t.position}},n=await je.get(et.USER_MANAGEMENT.SOCIETY_MEMBERS_APPROVED_KYC,{params:s});if(n.success&&n.data)return n.data;throw new Error(n.message||"Failed to fetch approved KYC society members")}catch(s){throw console.error("Get approved KYC society members error:",s),s}}}const si=new yU,bb=e=>/^[0-9a-fA-F]{24}$/.test(e),Mh=e=>{if(bb(e))return e;if(e.startsWith("kyc_")){const t=e.substring(4);if(bb(t))return t}throw new Error(`Invalid KYC ID format: ${e}`)},wU=e=>/^[A-Za-z0-9]{3,}$/.test(e),vU=e=>/^[A-Za-z0-9]{3,}$/.test(e);class bU{async getPendingKYC(){try{const t=await je.get(et.KYC.PENDING);if(t.success&&t.data)return t.data;throw new Error(t.message||"Failed to fetch pending KYC requests")}catch(t){throw console.error("Get pending KYC error:",t),t}}async approveStudentKYC(t){try{if(!t.kycId||typeof t.kycId!="string")throw new Error("Invalid KYC ID format");const s=Mh(t.kycId),n=mr.sanitizeInput({...t,kycId:s}),a=await je.post(et.KYC.APPROVE_STUDENT,n);if(a.success&&a.data)return a.data;throw new Error(a.message||"Failed to approve student KYC")}catch(s){throw console.error("Approve student KYC error:",s),s}}async rejectStudentKYC(t){try{if(!t.kycId||typeof t.kycId!="string")throw new Error("Invalid KYC ID format");const s=Mh(t.kycId),n=mr.sanitizeInput({...t,kycId:s}),a=await je.post(et.KYC.REJECT_STUDENT,n);if(a.success&&a.data)return a.data;throw new Error(a.message||"Failed to reject student KYC")}catch(s){throw console.error("Reject student KYC error:",s),s}}async approveSocietyMemberKYC(t){try{if(!t.kycId||typeof t.kycId!="string")throw new Error("Invalid KYC ID format");const s=Mh(t.kycId),n=mr.sanitizeInput({...t,kycId:s}),a=await je.post(et.KYC.APPROVE_SOCIETY_MEMBER,n);if(a.success&&a.data)return a.data;throw new Error(a.message||"Failed to approve society member KYC")}catch(s){throw console.error("Approve society member KYC error:",s),s}}async rejectSocietyMemberKYC(t){try{if(!t.kycId||typeof t.kycId!="string")throw new Error("Invalid KYC ID format");const s=Mh(t.kycId),n=mr.sanitizeInput({...t,kycId:s}),a=await je.post(et.KYC.REJECT_SOCIETY_MEMBER,n);if(a.success&&a.data)return a.data;throw new Error(a.message||"Failed to reject society member KYC")}catch(s){throw console.error("Reject society member KYC error:",s),s}}async getStudentKYCByStatus(t){try{const s=await je.get(`${et.USER_MANAGEMENT.STUDENTS}?kycStatus=${t}`);if(s.success&&s.data)return s.data.students.filter(n=>n.kyc&&n.kycStatus===t&&wU(n.studentId)).map(n=>({_id:n.kyc._id||n._id,studentId:{_id:n._id,firstName:n.firstName,lastName:n.lastName,email:n.email,studentId:n.studentId,department:n.department,year:n.year},aadharNumber:n.kyc.aadharNumber||"",aadharCardImage:n.kyc.aadharCardImage||"",status:n.kyc.status,submittedAt:n.kyc.submittedAt||"",reviewedAt:n.kyc.reviewedAt,reviewedBy:n.kyc.reviewedBy,rejectionReason:n.kyc.rejectionReason,remarks:n.kyc.remarks}));throw new Error(s.message||"Failed to fetch student KYC")}catch(s){throw console.error("Get student KYC by status error:",s),s}}async getSocietyMemberKYCByStatus(t){try{const s=await je.get(`${et.USER_MANAGEMENT.SOCIETY_MEMBERS}?kycStatus=${t}`);if(s.success&&s.data)return s.data.societyMembers.filter(n=>n.kyc&&n.kycStatus===t&&vU(n.memberId)).map(n=>({_id:n.kyc._id||n._id,memberId:{_id:n._id,firstName:n.firstName,lastName:n.lastName,email:n.email,memberId:n.memberId,societyName:n.societyName,position:n.position},aadharNumber:n.kyc.aadharNumber||"",panNumber:n.kyc.panNumber,aadharCardImage:n.kyc.aadharCardImage||"",panCardImage:n.kyc.panCardImage,status:n.kyc.status,submittedAt:n.kyc.submittedAt||"",reviewedAt:n.kyc.reviewedAt,reviewedBy:n.kyc.reviewedBy,rejectionReason:n.kyc.rejectionReason,remarks:n.kyc.remarks}));throw new Error(s.message||"Failed to fetch society member KYC")}catch(s){throw console.error("Get society member KYC by status error:",s),s}}async getAllApprovedKYC(){try{const[t,s]=await Promise.all([this.getStudentKYCByStatus("approved"),this.getSocietyMemberKYCByStatus("approved")]);return{studentKyc:t,societyMemberKyc:s}}catch(t){throw console.error("Get all approved KYC error:",t),t}}}const Xn=new bU;class NU{async getAllCourses(t=1,s=10,n,a,i="asc"){try{const l={page:t,limit:s,sortBy:a||"createdAt",sortOrder:i};n&&Object.entries(n).forEach(([A,c])=>{c!=null&&c!==""&&(l[A]=c)});const o=await je.get(et.COURSES.LIST,{params:l});if(o.success&&o.data)return o;throw new Error(o.message||"Failed to fetch courses")}catch(l){throw console.error("Get courses error:",l),l}}async getCourseById(t){try{const s=await je.get(et.COURSES.BY_ID(t));if(s.success&&s.data)return s;throw new Error(s.message||"Failed to fetch course")}catch(s){throw console.error("Get course by ID error:",s),s}}async getCourseWithBatches(t){try{const s=await je.get(et.COURSES.BY_ID(t));if(s.success&&s.data)return s;throw new Error(s.message||"Failed to fetch course with batches")}catch(s){throw console.error("Get course with batches error:",s),s}}async createCourse(t){try{const s=new FormData;s.append("title",t.title),s.append("description",t.description),s.append("type",t.type),s.append("category",t.category),s.append("status",t.status),s.append("price",t.price.toString()),s.append("duration",t.duration.toString()),s.append("maxStudents",t.maxStudents.toString()),s.append("instructor[name]",t.instructor.name),s.append("instructor[email]",t.instructor.email),t.instructor.phone&&s.append("instructor[phone]",t.instructor.phone),t.instructor.bio&&s.append("instructor[bio]",t.instructor.bio),t.instructor.qualifications&&s.append("instructor[qualifications]",t.instructor.qualifications),t.currency&&s.append("currency",t.currency),t.durationUnit&&s.append("durationUnit",t.durationUnit),t.thumbnail&&s.append("thumbnail",t.thumbnail),t.syllabus&&s.append("syllabus",t.syllabus),t.type==="online"?t.videoUrl&&s.append("videoUrl",t.videoUrl):t.type==="offline"&&t.venue&&s.append("venue",t.venue),t.address&&(t.type==="offline"||t.type==="hybrid")&&(t.address.street&&s.append("address[street]",t.address.street),t.address.city&&s.append("address[city]",t.address.city),t.address.state&&s.append("address[state]",t.address.state),t.address.zipCode&&s.append("address[zipCode]",t.address.zipCode),t.address.country&&s.append("address[country]",t.address.country)),t.tags&&s.append("tags",t.tags),t.prerequisites&&s.append("prerequisites",t.prerequisites),t.learningObjectives&&s.append("learningObjectives",t.learningObjectives),t.courseContent&&s.append("courseContent",t.courseContent),console.log("FormData being sent:");for(let[a,i]of s.entries())console.log(`${a}:`,i);const n=await je.post(et.COURSES.CREATE,s);if(n.success&&n.data)return n;throw new Error(n.message||"Failed to create course")}catch(s){throw console.error("Create course error:",s),s}}async updateCourse(t,s){try{const n=new FormData;s.title&&n.append("title",s.title),s.description&&n.append("description",s.description),s.type&&n.append("type",s.type),s.category&&n.append("category",s.category),s.price!==void 0&&n.append("price",s.price.toString()),s.duration!==void 0&&n.append("duration",s.duration.toString()),s.status&&n.append("status",s.status),s.isActive!==void 0&&n.append("isActive",s.isActive.toString()),s.instructor&&(s.instructor.name&&n.append("instructor.name",s.instructor.name),s.instructor.email&&n.append("instructor.email",s.instructor.email),s.instructor.phone&&n.append("instructor.phone",s.instructor.phone),s.instructor.bio&&n.append("instructor.bio",s.instructor.bio)),s.currency&&n.append("currency",s.currency),s.durationUnit&&n.append("durationUnit",s.durationUnit),s.thumbnail&&n.append("thumbnail",s.thumbnail),s.coursePdf&&n.append("coursePdf",s.coursePdf),s.type==="online"?s.videoUrl&&n.append("videoUrl",s.videoUrl):s.type==="offline"&&(s.venue&&n.append("venue",s.venue),s.maxStudents!==void 0&&n.append("maxStudents",s.maxStudents.toString()),s.address&&(s.address.street&&n.append("address.street",s.address.street),s.address.city&&n.append("address.city",s.address.city),s.address.state&&n.append("address.state",s.address.state),s.address.zipCode&&n.append("address.zipCode",s.address.zipCode))),s.tags&&n.append("tags",s.tags),s.prerequisites&&n.append("prerequisites",s.prerequisites),s.learningObjectives&&n.append("learningObjectives",s.learningObjectives);const a=await je.put(et.COURSES.UPDATE(t),n,{headers:{"Content-Type":"multipart/form-data"}});if(a.success&&a.data)return a;throw new Error(a.message||"Failed to update course")}catch(n){throw console.error("Update course error:",n),n}}async deleteCourse(t){try{const s=await je.delete(et.COURSES.DELETE(t));if(s.success&&s.data)return s.data;throw new Error(s.message||"Failed to delete course")}catch(s){throw console.error("Delete course error:",s),s}}async getCourseStatistics(){try{const t=await je.get(et.COURSES.STATISTICS);if(t.success&&t.data)return t.data;if(t.data&&typeof t.data=="object")return{success:!0,message:"Course statistics retrieved successfully",data:t.data};throw new Error(t.message||"Failed to fetch course statistics")}catch(t){throw console.error("Get course statistics error:",t),t}}async getCoursesWithFilters(t=1,s=10,n,a,i="asc"){var l;try{const o=await this.getAllCourses(t,s,n,a,i);return console.log("getCoursesWithFilters - Full response:",o),console.log("getCoursesWithFilters - response.data:",o.data),console.log("getCoursesWithFilters - response.data.courses:",(l=o.data)==null?void 0:l.courses),o.success&&o.data&&o.data.courses?(console.log("getCoursesWithFilters - Found courses in response.data.courses:",o.data.courses),{courses:o.data.courses,pagination:o.data.pagination}):o.data&&Array.isArray(o.data)?(console.log("getCoursesWithFilters - Found courses as direct array:",o.data),{courses:o.data,pagination:{currentPage:t,totalPages:1,totalCourses:o.data.length,hasNextPage:!1,hasPrevPage:!1}}):(console.warn("Unexpected API response structure:",o),console.warn("Response keys:",Object.keys(o)),o.data&&console.warn("Response.data keys:",Object.keys(o.data)),{courses:[],pagination:{currentPage:t,totalPages:1,totalCourses:0,hasNextPage:!1,hasPrevPage:!1}})}catch(o){throw console.error("Get courses with filters error:",o),o}}}const GA=new NU;class jU{async getAllBatches(t=1,s=10,n,a,i="asc"){try{const l={page:t,limit:s,sortBy:a||"createdAt",sortOrder:i};n&&Object.entries(n).forEach(([A,c])=>{c!=null&&c!==""&&(l[A]=c)});const o=await je.get(et.BATCHES.LIST,{params:l});if(o.success&&o.data)return o;throw new Error(o.message||"Failed to fetch batches")}catch(l){throw console.error("Get batches error:",l),l}}async getBatchById(t){try{const s=await je.get(et.BATCHES.BY_ID(t));if(s.success&&s.data)return s;throw new Error(s.message||"Failed to fetch batch")}catch(s){throw console.error("Get batch by ID error:",s),s}}async getBatchesByCourse(t){try{const s=await je.get(et.BATCHES.BY_COURSE(t));if(s.success&&s.data)return s;throw new Error(s.message||"Failed to fetch batches for course")}catch(s){throw console.error("Get batches by course error:",s),s}}async createBatch(t){try{const s=mr.sanitizeInput(t),n=await je.post(et.BATCHES.CREATE,s);if(n.success&&n.data)return n;throw new Error(n.message||"Failed to create batch")}catch(s){throw console.error("Create batch error:",s),s}}async updateBatch(t,s){try{const n=mr.sanitizeInput(s),a=await je.put(et.BATCHES.UPDATE(t),n);if(a.success&&a.data)return a;throw new Error(a.message||"Failed to update batch")}catch(n){throw console.error("Update batch error:",n),n}}async deleteBatch(t){try{const s=await je.delete(et.BATCHES.DELETE(t));if(s.success)return s.data;throw new Error(s.message||"Failed to delete batch")}catch(s){throw console.error("Delete batch error:",s),s}}async getBatchStatistics(){try{const t=await je.get(et.BATCHES.STATISTICS);if(t.success&&t.data)return t;if(t.data&&typeof t.data=="object")return{success:!0,message:"Batch statistics retrieved successfully",data:t.data};throw new Error(t.message||"Failed to fetch batch statistics")}catch(t){throw console.error("Get batch statistics error:",t),t}}async getBatchesWithFilters(t=1,s=10,n,a,i="asc"){try{const l=await this.getAllBatches(t,s,n,a,i);return l.data&&l.data.batches?{batches:l.data.batches,pagination:l.data.pagination}:l.data&&Array.isArray(l.data)?{batches:l.data,pagination:{currentPage:t,totalPages:1,totalBatches:l.data.length,hasNextPage:!1,hasPrevPage:!1}}:(console.warn("Unexpected API response structure:",l),{batches:[],pagination:{currentPage:t,totalPages:1,totalBatches:0,hasNextPage:!1,hasPrevPage:!1}})}catch(l){throw console.error("Get batches with filters error:",l),l}}formatTimeSlots(t){return!t||t.length===0?"No time slots":t.map(s=>`${new Date(s.date).toLocaleDateString()} (${s.startTime} - ${s.endTime})`).join(", ")}getBatchStatusColor(t){switch(t){case"scheduled":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}isAcceptingEnrollments(t){const s=new Date,n=new Date(t.registrationStartDate),a=new Date(t.registrationEndDate);return s>=n&&s<=a&&t.availableSpots>0}}const bo=new jU,Rt={async getStudentEnrollmentStatus(e,t,s){try{const n=new URLSearchParams({studentId:e});return t&&n.append("courseId",t),s&&n.append("batchId",s),await je.get(`/admin/enrollments/student/status?${n.toString()}`)}catch(n){throw console.error("Error fetching student enrollment status:",n),n}},async getPendingEnrollments(e={}){try{const t=new URLSearchParams;return t.append("page",(e.page||1).toString()),t.append("limit",(e.limit||10).toString()),t.append("sortBy",e.sortBy||"enrollmentDate"),t.append("sortOrder",e.sortOrder||"desc"),e.courseId&&t.append("courseId",e.courseId),e.batchId&&t.append("batchId",e.batchId),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),await je.get(`/admin/enrollments/pending?${t.toString()}`)}catch(t){throw console.error("Error fetching pending enrollments:",t),t}},async approveEnrollment(e,t){try{console.log("Calling approve enrollment API for:",e);const s=await je.put(`/admin/enrollments/${e}/approve`,{adminNotes:t});return console.log("Approval API response:",s),s}catch(s){return console.error("Error approving enrollment:",s),console.log("API not available, returning mock approval response"),{success:!0,message:"Enrollment approved successfully (mock response)",data:{enrollment:{_id:e,studentId:{_id:"student1",firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com",phoneNumber:"+1234567890"},courseId:{_id:"course1",title:"Mock Course",category:"Programming",type:"online",price:5e3,currency:"INR"},batchId:{_id:"batch1",name:"Mock Batch",startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30},status:"enrolled",approvalStatus:"approved",enrollmentDate:"2024-01-15T10:00:00.000Z",paymentAmount:5e3,currency:"INR",paymentStatus:"pending",createdAt:"2024-01-15T10:00:00.000Z",updatedAt:new Date().toISOString()}}}}},async rejectEnrollment(e,t,s){try{return await je.put(`/admin/enrollments/${e}/reject`,{rejectionReason:t,rejectionNotes:s})}catch(n){throw console.error("Error rejecting enrollment:",n),n}},async getEnrollmentStatistics(e={}){try{const t=new URLSearchParams;return e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),e.courseId&&t.append("courseId",e.courseId),e.batchId&&t.append("batchId",e.batchId),await je.get(`/admin/enrollments/statistics?${t.toString()}`)}catch(t){throw console.error("Error fetching enrollment statistics:",t),t}},async getEnrollmentDetails(e){try{return await je.get(`/admin/enrollments/${e}`)}catch(t){throw console.error("Error fetching enrollment details:",t),t}},async getAllEnrollments(e={}){try{const t=new URLSearchParams;return t.append("page",(e.page||1).toString()),t.append("limit",(e.limit||10).toString()),t.append("sortBy",e.sortBy||"enrollmentDate"),t.append("sortOrder",e.sortOrder||"desc"),e.studentId&&t.append("studentId",e.studentId),e.courseId&&t.append("courseId",e.courseId),e.batchId&&t.append("batchId",e.batchId),e.status&&t.append("status",e.status),e.approvalStatus&&t.append("approvalStatus",e.approvalStatus),e.paymentStatus&&t.append("paymentStatus",e.paymentStatus),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),await je.get(`/admin/enrollments?${t.toString()}`)}catch(t){throw console.error("Error fetching all enrollments:",t),t}},async syncEnrollmentWithBatch(e){try{console.log("Calling sync enrollment API for:",e);const t=await je.put(`/admin/enrollments/${e}/sync`);return console.log("Sync enrollment API response:",t),t}catch(t){return console.error("Error syncing enrollment with batch:",t),console.log("API not available, returning mock sync response"),{success:!0,message:"Enrollment sync completed (mock response)",data:{enrollment:{id:e,student:{_id:"student1",firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com"},course:{_id:"course1",title:"Mock Course",category:"Programming",type:"online"},batch:{id:"batch1",name:"Mock Batch",enrolledStudentsCount:15},status:"enrolled",approvalStatus:"approved",wasInBatch:!1,action:"Added student to batch enrolledStudents array (mock)",updated:!0}}}}},getEnrollmentStatusColor(e){switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"enrolled":case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";case"dropped":case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},getEnrollmentStatusIcon(e){switch(e.toLowerCase()){case"pending":return"";case"enrolled":case"approved":return"";case"rejected":return"";case"completed":return"";case"dropped":case"cancelled":return"";default:return""}},formatCurrency(e,t="INR"){return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}},BU=Object.freeze(Object.defineProperty({__proto__:null,enrollmentService:Rt},Symbol.toStringTag,{value:"Module"})),kn={async createFeeRequest(e){try{return await je.post("/fee-management/requests/create",e)}catch(t){throw console.error("Error creating fee request:",t),t}},async getAllFeeRequests(e=1,t=10,s={},n="createdAt",a="desc"){try{const i=new URLSearchParams({page:e.toString(),limit:t.toString(),sortBy:n,sortOrder:a,...Object.fromEntries(Object.entries(s).filter(([o,A])=>A!==void 0&&A!==""))});return await je.get(`/fee-management/requests?${i.toString()}`)}catch(i){throw console.error("Error fetching fee requests:",i),i}},async getFeeRequestById(e){try{return await je.get(`/fee-management/requests/${e}`)}catch(t){throw console.error("Error fetching fee request:",t),t}},async updateFeeRequest(e,t){try{return await je.put(`/fee-management/requests/${e}`,t)}catch(s){throw console.error("Error updating fee request:",s),s}},async deleteFeeRequest(e){try{return await je.delete(`/fee-management/requests/${e}`)}catch(t){throw console.error("Error deleting fee request:",t),t}},async getFeeStatistics(){try{return await je.get("/fee-management/statistics")}catch(e){throw console.error("Error fetching fee statistics:",e),e}},async getFeeRequestsByStudentId(e){try{return await je.get(`/fee-management/requests/student/${e}`)}catch(t){throw console.error("Error fetching student fee requests:",t),t}},async getStudentsWithEnrollments(){try{return await je.get("/user-management/students/with-enrollments")}catch(e){throw console.error("Error fetching students with enrollments:",e),e}},async recordPayment(e){try{return await je.post("/fee-management/payments/record",e)}catch(t){throw console.error("Error recording payment:",t),t}},async getPaymentHistory(e=1,t=10,s={},n="paymentDate",a="desc"){try{const i=new URLSearchParams({page:e.toString(),limit:t.toString(),sortBy:n,sortOrder:a,...Object.fromEntries(Object.entries(s).filter(([o,A])=>A!==void 0&&A!==""))});return await je.get(`/fee-management/payments/history?${i.toString()}`)}catch(i){throw console.error("Error fetching payment history:",i),i}},async getEnhancedFeeStatistics(){try{return await je.get("/fee-management/statistics")}catch(e){throw console.error("Error fetching enhanced fee statistics:",e),e}},getFeeStatusColor(e){switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-blue-100 text-blue-800";case"overdue":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},getPaymentMethodColor(e){switch(e.toLowerCase()){case"online":return"bg-blue-100 text-blue-800";case"cash":return"bg-green-100 text-green-800";case"bank_transfer":return"bg-purple-100 text-purple-800";case"cheque":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},getPaymentStatusColor(e){switch(e.toLowerCase()){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"refunded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},isOverdue(e){return new Date(e)<new Date},formatCurrency(e,t="INR"){return new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:2}).format(e)}},F1={async getStudentsWithEnrollments(){try{return await je.get("/user-management/students/with-enrollments")}catch(e){throw console.error("Error fetching students with enrollments:",e),e}},async createAttendanceSession(e){try{return await je.post("/attendance/sessions/create",e)}catch(t){throw console.error("Error creating attendance session:",t),t}},async getAttendanceSessions(e=1,t=10,s={},n="sessionDate",a="desc"){try{const i=new URLSearchParams({page:e.toString(),limit:t.toString(),sortBy:n,sortOrder:a,...Object.fromEntries(Object.entries(s).filter(([o,A])=>A!==void 0&&A!==""))});return await je.get(`/attendance/sessions?${i.toString()}`)}catch(i){throw console.error("Error fetching attendance sessions:",i),i}},async getAttendanceSessionById(e){try{return await je.get(`/attendance/sessions/${e}`)}catch(t){throw console.error("Error fetching attendance session:",t),t}},async markAttendance(e){try{return await je.post("/attendance/mark",e)}catch(t){throw console.error("Error marking attendance:",t),t}},async checkStudentEnrollment(e,t,s){try{const n=new URLSearchParams({studentId:e,courseId:t,batchId:s});return await je.get(`/admin/attendance/debug/enrollment?${n.toString()}`)}catch(n){throw console.error("Error checking student enrollment:",n),n}},async markSingleStudentAttendance(e){var t,s,n;try{if(!e.studentId||!e.courseId||!e.batchId)throw new Error("Missing required fields: studentId, courseId, and batchId are required");if(!e.attendanceDate||!e.status)throw new Error("Missing required fields: attendanceDate and status are required");if(!((t=e.timeSlot)!=null&&t.startTime)||!((s=e.timeSlot)!=null&&s.endTime))throw new Error("Missing required fields: timeSlot with startTime and endTime are required");const a=await this.checkStudentEnrollment(e.studentId,e.courseId,e.batchId);if(!a.success||!((n=a.data)!=null&&n.isEnrolled))throw new Error("Student is not enrolled in this course and batch combination");return await je.post("/admin/attendance/mark",e)}catch(a){throw console.error("Error marking single student attendance:",a),a}},async markSimpleAttendance(e){var t,s;try{if(console.log("Marking simple attendance for student:",e.studentId),!e.studentId)throw new Error("Missing required field: studentId is required");if(!e.attendanceDate||!e.status)throw new Error("Missing required fields: attendanceDate and status are required");if(!((t=e.timeSlot)!=null&&t.startTime)||!((s=e.timeSlot)!=null&&s.endTime))throw new Error("Missing required fields: timeSlot with startTime and endTime are required");const n=await je.post("/admin/attendance/mark-simple",e);return console.log("Simple attendance marked successfully:",n),n}catch(n){return console.error("Error marking simple attendance:",n),n instanceof Error&&Ue.error(`API Error: ${n.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),console.log("API not available, returning mock simple attendance response"),Ue.success(" Attendance marked successfully (Mock Response)",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),{success:!0,message:"Attendance marked successfully (mock response)",data:{attendance:{id:"mock-attendance-1",student:{_id:e.studentId,firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com"},course:{_id:"mock-course-1",title:"Introduction to Python",category:"Programming",type:"online"},batch:{_id:"mock-batch-1",name:"Python Morning Batch",startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z"},attendanceDate:e.attendanceDate,status:e.status,timeSlot:{startTime:e.timeSlot.startTime,endTime:e.timeSlot.endTime,duration:120},remarks:e.remarks,markedBy:{_id:"mock-admin-1",firstName:"Admin",lastName:"User",email:"admin@example.com"},createdAt:new Date().toISOString()}}}}},async getStudentAttendance(e=1,t=10,s={}){try{const n=new URLSearchParams({page:e.toString(),limit:t.toString(),...Object.fromEntries(Object.entries(s).filter(([i,l])=>l!==void 0&&l!==""))});return await je.get(`/attendance/students?${n.toString()}`)}catch(n){throw console.error("Error fetching student attendance:",n),n}},async getAttendanceReport(e,t,s,n){try{const a=new URLSearchParams({courseId:e,batchId:t,startDate:s,endDate:n});return await je.get(`/attendance/report?${a.toString()}`)}catch(a){throw console.error("Error fetching attendance report:",a),a}},async updateAttendanceRecord(e,t,s){try{return await je.put(`/attendance/records/${e}`,{status:t,notes:s})}catch(n){throw console.error("Error updating attendance record:",n),n}},async deleteAttendanceSession(e){try{return await je.delete(`/attendance/sessions/${e}`)}catch(t){throw console.error("Error deleting attendance session:",t),t}},getAttendanceStatusColor(e){switch(e.toLowerCase()){case"present":return"bg-green-100 text-green-800";case"absent":return"bg-red-100 text-red-800";case"late":return"bg-yellow-100 text-yellow-800";case"excused":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},getAttendanceStatusIcon(e){switch(e.toLowerCase()){case"present":return"";case"absent":return"";case"late":return"";case"excused":return"";default:return"?"}},calculateAttendancePercentage(e,t){return t===0?0:Math.round(e/t*100)},formatAttendancePercentage(e){return e>=90?`${e}% (Excellent)`:e>=80?`${e}% (Good)`:e>=70?`${e}% (Average)`:e>=60?`${e}% (Below Average)`:`${e}% (Poor)`},getAttendancePercentageColor(e){return e>=90?"text-green-600":e>=80?"text-green-500":e>=70?"text-yellow-500":e>=60?"text-orange-500":"text-red-500"},formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},formatTime(e){return new Date(`2000-01-01T${e}`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})},async getStudentAttendanceReport(e){try{console.log("Getting student attendance report for:",e.studentId);const t=new URLSearchParams;e.year&&t.append("year",e.year),e.month&&t.append("month",e.month),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate);const s=t.toString(),n=`/admin/attendance/student/${e.studentId}/report${s?`?${s}`:""}`,a=await je.get(n);return console.log("Student attendance report retrieved successfully:",a),a}catch(t){return console.error("Error getting student attendance report:",t),t instanceof Error&&Ue.error(`Report Error: ${t.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),console.log("API not available, returning mock student attendance report"),Ue.success(" Student attendance report loaded (Mock Data)",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),{success:!0,message:"Student attendance report retrieved successfully (mock response)",data:{student:{id:e.studentId,firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com",phoneNumber:"+1234567890"},enrollments:[{id:"mock-enrollment-1",course:{_id:"mock-course-1",title:"Introduction to Python",category:"Programming",type:"online"},batch:{_id:"mock-batch-1",name:"Python Morning Batch",startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z"},enrollmentDate:"2024-01-15T10:00:00.000Z",status:"enrolled",approvalStatus:"approved"}],summary:{totalDays:25,present:20,absent:3,late:2,excused:0,overallAttendanceRate:88},monthlyReport:[{month:"January 2024",monthKey:"2024-01",totalDays:12,present:10,absent:1,late:1,excused:0,attendanceRate:92,records:[{id:"mock-record-1",date:"2024-01-15T10:00:00.000Z",status:"present",timeSlot:{startTime:"09:00",endTime:"11:00",duration:120},remarks:"Student was on time",course:{_id:"mock-course-1",title:"Introduction to Python",category:"Programming",type:"online"},batch:{_id:"mock-batch-1",name:"Python Morning Batch",startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z"},markedBy:{_id:"mock-admin-1",firstName:"Admin",lastName:"User",email:"admin@example.com"},createdAt:"2024-01-15T10:30:00.000Z"}]}],filter:{year:e.year||null,month:e.month||null,startDate:e.startDate||null,endDate:e.endDate||null}}}}}},Ke={async createInvestmentPlan(e){try{console.log("Creating investment plan:",e.planName);const t=await je.post("/admin/investment/plans",e);return console.log("Investment plan created successfully:",t),t.success&&Ue.success(` Investment plan "${e.planName}" created successfully!`,{duration:4e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),t}catch(t){if(console.error("Error creating investment plan:",t),t&&typeof t=="object"&&"success"in t&&t.success===!1)return t;if(t&&typeof t=="object"&&"response"in t){const s=t;if(s.response&&s.response.data)return s.response.data}return t instanceof Error&&Ue.error(` Failed to create plan: ${t.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),console.log("API not available, returning mock investment plan response"),{success:!0,message:"Investment plan created successfully (mock response)",data:{plan:{_id:"mock-plan-1",planName:e.planName,planType:e.planType,description:e.description,minimumAmount:e.minimumAmount,maximumAmount:e.maximumAmount,interestRate:e.interestRate,tenureMonths:e.tenureMonths,compoundingFrequency:e.compoundingFrequency,penaltyConfig:e.penaltyConfig,emiCostStructure:{planType:e.planType,costStructure:e.emiCostStructure[e.planType.toLowerCase()]||{}},features:e.features,termsAndConditions:e.termsAndConditions,isActive:!0,statistics:{totalInvestments:0,totalAmountInvested:0,activeInvestments:0},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},sampleEMICosts:[]}}}},async getInvestmentPlans(e=1,t=10,s={}){try{console.log("Fetching investment plans with filters:",s);const n=new URLSearchParams;n.append("page",e.toString()),n.append("limit",t.toString()),Object.entries(s).forEach(([i,l])=>{l!==void 0&&l!==""&&n.append(i,l.toString())});const a=await je.get(`/admin/investment/plans?${n.toString()}`);return console.log("Investment plans fetched successfully:",a),a}catch(n){return console.error("Error fetching investment plans:",n),console.log("API not available, returning mock investment plans response"),{success:!0,message:"Investment plans retrieved successfully (mock response)",data:{plans:[{_id:"mock-plan-1",planName:"High Yield FD Plan",planType:"FD",description:"High interest fixed deposit plan for long-term investment",minimumAmount:1e4,maximumAmount:1e6,interestRate:8.5,tenureMonths:24,compoundingFrequency:"quarterly",penaltyConfig:{latePaymentPenalty:100,penaltyPercentage:2,gracePeriodDays:5},emiCostStructure:{planType:"FD",costStructure:{minimumInvestment:1e4,maximumInvestment:1e6,investmentIncrements:1e3}},features:[{feature:"High Interest Rate",description:"Competitive interest rate of 8.5%"}],termsAndConditions:[{term:"Minimum investment period is 12 months"}],isActive:!0,statistics:{totalInvestments:25,totalAmountInvested:25e5,activeInvestments:20},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],pagination:{currentPage:1,totalPages:1,totalPlans:1,hasNextPage:!1,hasPrevPage:!1}}}}},async getInvestmentPlan(e){try{console.log("Fetching investment plan:",e);const t=await je.get(`/admin/investment/plans/${e}`);return console.log("Investment plan fetched successfully:",t),t}catch(t){throw console.error("Error fetching investment plan:",t),t}},async updateInvestmentPlan(e,t){try{console.log("Updating investment plan:",e);const s=await je.put(`/admin/investment/plans/${e}`,t);return console.log("Investment plan updated successfully:",s),Ue.success(" Investment plan updated successfully!",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),s}catch(s){throw console.error("Error updating investment plan:",s),s instanceof Error&&Ue.error(` Failed to update plan: ${s.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),s}},async deleteInvestmentPlan(e){try{console.log("Deleting investment plan:",e);const t=await je.delete(`/admin/investment/plans/${e}`);return console.log("Investment plan deleted successfully:",t),Ue.success(" Investment plan deleted successfully!",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),t}catch(t){throw console.error("Error deleting investment plan:",t),t instanceof Error&&Ue.error(` Failed to delete plan: ${t.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),t}},async togglePlanStatus(e,t){try{console.log("Toggling plan status:",e,t);const s=await je.patch(`/admin/investment/plans/${e}/status`,{isActive:t});return console.log("Plan status toggled successfully:",s),Ue.success(` Plan ${t?"activated":"deactivated"} successfully!`,{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),s}catch(s){throw console.error("Error toggling plan status:",s),s instanceof Error&&Ue.error(` Failed to toggle plan status: ${s.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),s}},async getPlanStatistics(e){try{console.log("Fetching plan statistics:",e);const t=await je.get(`/admin/investment/plans/${e}/statistics`);return console.log("Plan statistics fetched successfully:",t),t}catch(t){throw console.error("Error fetching plan statistics:",t),t}},async calculateEMI(e,t){try{console.log("Calculating EMI for plan:",e,t);const s=await je.post(`/admin/investment/plans/${e}/calculate-emi`,t);return console.log("EMI calculated successfully:",s),s}catch(s){throw console.error("Error calculating EMI:",s),s}},async getSampleEMICosts(e){try{console.log("Fetching sample EMI costs for plan:",e);const t=await je.get(`/admin/investment/plans/${e}/sample-emi-costs`);return console.log("Sample EMI costs fetched successfully:",t),t}catch(t){throw console.error("Error fetching sample EMI costs:",t),t}},async createInvestment(e){try{console.log("Creating investment:",e);const t=await je.post("/admin/investment/investments",e);return console.log("Investment created successfully:",t),Ue.success(" Investment created successfully!",{duration:4e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),t}catch(t){throw console.error("Error creating investment:",t),t instanceof Error&&Ue.error(` Failed to create investment: ${t.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),t}},async getInvestments(e=1,t=10,s={}){try{console.log("Fetching investments with filters:",s);const n=new URLSearchParams({page:e.toString(),limit:t.toString(),...Object.fromEntries(Object.entries(s).filter(([i,l])=>l!==void 0&&l!==""))}),a=await je.get(`/admin/investment/investments?${n.toString()}`);return console.log("Investments fetched successfully:",a),a}catch(n){throw console.error("Error fetching investments:",n),n}},async getAvailablePlans(e={}){try{console.log("Fetching available investment plans:",e);const t=new URLSearchParams;Object.entries(e).forEach(([n,a])=>{a!==void 0&&a!==""&&t.append(n,a.toString())});const s=await je.get(`/society-member/investment/plans?${t.toString()}`);return console.log("Available plans fetched successfully:",s),s}catch(t){return console.error("Error fetching available plans:",t),console.log("API not available, returning mock available plans response"),{success:!0,message:"Available investment plans retrieved successfully (mock response)",data:{plans:[{_id:"mock-plan-1",planName:"High Yield FD Plan",planType:"FD",description:"High interest fixed deposit plan for long-term investment",minimumAmount:1e4,maximumAmount:1e6,interestRate:8.5,tenureMonths:24,compoundingFrequency:"quarterly",penaltyConfig:{latePaymentPenalty:100,penaltyPercentage:2,gracePeriodDays:5},emiCostStructure:{planType:"FD",costStructure:{minimumInvestment:1e4,maximumInvestment:1e6,investmentIncrements:1e3}},features:[{feature:"High Interest Rate",description:"Competitive interest rate of 8.5%"},{feature:"Flexible Tenure",description:"Choose from 12 to 24 months"}],termsAndConditions:[{term:"Minimum investment period is 12 months"},{term:"Early withdrawal may attract penalty"}],isActive:!0,statistics:{totalInvestments:25,totalAmountInvested:25e5,activeInvestments:20},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"mock-plan-2",planName:"Monthly Recurring Deposit",planType:"RD",description:"Build wealth with monthly recurring deposits",minimumAmount:5e3,maximumAmount:5e5,interestRate:7.5,tenureMonths:36,compoundingFrequency:"monthly",penaltyConfig:{latePaymentPenalty:50,penaltyPercentage:1.5,gracePeriodDays:7},emiCostStructure:{planType:"RD",costStructure:{minimumMonthlyInstallment:5e3,maximumMonthlyInstallment:5e4,installmentIncrements:500,gracePeriodDays:7}},features:[{feature:"Monthly Installments",description:"Flexible monthly payment options"},{feature:"Compound Interest",description:"Monthly compounding for better returns"}],termsAndConditions:[{term:"Minimum monthly installment is 5,000"},{term:"Late payment charges apply after grace period"}],isActive:!0,statistics:{totalInvestments:15,totalAmountInvested:15e5,activeInvestments:12},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"mock-plan-3",planName:"Certificate of Deposit",planType:"CD",description:"Secure certificate-based investment with guaranteed returns",minimumAmount:25e3,maximumAmount:2e6,interestRate:9,tenureMonths:12,compoundingFrequency:"annually",penaltyConfig:{latePaymentPenalty:200,penaltyPercentage:3,gracePeriodDays:3},emiCostStructure:{planType:"CD",costStructure:{minimumCertificateValue:25e3,maximumCertificateValue:2e6,certificateIncrements:5e3,certificateNumberPrefix:"CD"}},features:[{feature:"Guaranteed Returns",description:"Fixed interest rate with guaranteed maturity amount"},{feature:"Certificate Based",description:"Physical certificate for your investment"}],termsAndConditions:[{term:"Minimum certificate value is 25,000"},{term:"Certificate must be presented for maturity"}],isActive:!0,statistics:{totalInvestments:8,totalAmountInvested:8e5,activeInvestments:6},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]}}}},getPlanTypeColor(e){switch(e.toUpperCase()){case"FD":return"bg-blue-100 text-blue-800";case"RD":return"bg-green-100 text-green-800";case"CD":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},getPlanTypeIcon(e){switch(e.toUpperCase()){case"FD":return"";case"RD":return"";case"CD":return"";default:return""}},formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},formatPercentage(e){return`${e}%`},formatTenure(e){if(e<12)return`${e} months`;if(e===12)return"1 year";{const t=Math.floor(e/12),s=e%12;return s===0?`${t} year${t>1?"s":""}`:`${t} year${t>1?"s":""} ${s} month${s>1?"s":""}`}},async getPendingInvestmentApplications(e={}){try{console.log("Fetching pending investment applications with filters:",e);const t=new URLSearchParams;Object.entries(e).forEach(([n,a])=>{a!==void 0&&a!==""&&t.append(n,a.toString())});const s=await je.get(`/admin/society-member-investment/applications/pending?${t.toString()}`);return console.log("Pending investment applications fetched successfully:",s),s}catch(t){return console.error("Error fetching pending investment applications:",t),console.log("API not available, returning mock pending applications response"),{success:!0,message:"Pending investment applications retrieved successfully (mock response)",data:{applications:[{applicationId:"APP2412001",status:"pending",investmentAmount:5e4,totalAmountPaid:0,remainingAmount:5e4,paymentStatus:"pending",emiProgress:{total:12,paid:0,pending:12,overdue:0},member:{firstName:"John",lastName:"Doe",email:"john.doe@example.com",memberId:"202411001",phoneNumber:"+1234567890"},plan:{planName:"Monthly Savings Plan",planType:"RD",interestRate:7.5,tenureMonths:12},applicationDate:"2024-12-01T10:00:00.000Z"}],pagination:{currentPage:1,totalPages:1,totalApplications:1,hasNextPage:!1,hasPrevPage:!1}}}}},async getApprovedInvestmentApplications(e={}){try{console.log("Fetching approved investment applications with filters:",e);const t=new URLSearchParams;Object.entries(e).forEach(([n,a])=>{a!==void 0&&a!==""&&t.append(n,a.toString())});const s=await je.get(`/admin/society-member-investment/applications/approved?${t.toString()}`);return console.log("Approved investment applications fetched successfully:",s),s}catch(t){return console.error("Error fetching approved investment applications:",t),console.log("API not available, returning mock approved applications response"),{success:!0,message:"Approved investment applications retrieved successfully (mock response)",data:{applications:[],pagination:{currentPage:1,totalPages:1,totalApplications:0,hasNextPage:!1,hasPrevPage:!1}}}}},async getRejectedInvestmentApplications(e={}){try{console.log("Fetching rejected investment applications with filters:",e);const t=new URLSearchParams;Object.entries(e).forEach(([n,a])=>{a!==void 0&&a!==""&&t.append(n,a.toString())});const s=await je.get(`/admin/society-member-investment/applications/rejected?${t.toString()}`);return console.log("Rejected investment applications fetched successfully:",s),s}catch(t){return console.error("Error fetching rejected investment applications:",t),console.log("API not available, returning mock rejected applications response"),{success:!0,message:"Rejected investment applications retrieved successfully (mock response)",data:{applications:[],pagination:{currentPage:1,totalPages:1,totalApplications:0,hasNextPage:!1,hasPrevPage:!1}}}}},async getInvestmentApplicationDetails(e){try{console.log("Fetching investment application details:",e);const t=await je.get(`/admin/society-member-investment/applications/${e}`);return console.log("Investment application details fetched successfully:",t),t}catch(t){throw console.error("Error fetching investment application details:",t),t}},async approveInvestmentApplication(e,t){try{console.log("Approving investment application:",e,t);const s=await je.patch(`/admin/society-member-investment/applications/${e}/approve`,t);return console.log("Investment application approved successfully:",s),Ue.success(" Investment application approved successfully!",{duration:4e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),s}catch(s){throw console.error("Error approving investment application:",s),s instanceof Error&&Ue.error(` Failed to approve application: ${s.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),s}},async rejectInvestmentApplication(e,t){try{console.log("Rejecting investment application:",e,t);const s=await je.patch(`/admin/society-member-investment/applications/${e}/reject`,t);return console.log("Investment application rejected successfully:",s),Ue.success(" Investment application rejected successfully!",{duration:4e3,style:{background:"#F59E0B",color:"#fff",fontSize:"14px"}}),s}catch(s){throw console.error("Error rejecting investment application:",s),s instanceof Error&&Ue.error(` Failed to reject application: ${s.message}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),s}},getApplicationStatusColor(e){switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},getApplicationStatusIcon(e){switch(e.toLowerCase()){case"pending":return"";case"approved":return"";case"rejected":return"";default:return""}}};class CU{async createMarksheet(t){try{const s=mr.sanitizeInput(t),n=await je.post("/admin/student-documents/marksheets",s);if(n.success&&n.data)return n;throw new Error(n.message||"Failed to create marksheet")}catch(s){throw console.error("Create marksheet error:",s),s}}async getAllMarksheets(t=1,s=10,n,a,i="asc"){try{const l={page:t,limit:s,sortBy:a||"createdAt",sortOrder:i};n&&Object.entries(n).forEach(([A,c])=>{c!=null&&c!==""&&(l[A]=c)});const o=await je.get("/admin/student-documents/marksheets",{params:l});if(o.success&&o.data)return o;throw new Error(o.message||"Failed to fetch marksheets")}catch(l){throw console.error("Get marksheets error:",l),l}}async getMarksheetById(t){try{const s=await je.get(`/admin/student-documents/marksheets/${t}`);if(s.success&&s.data)return s;throw new Error(s.message||"Failed to fetch marksheet")}catch(s){throw console.error("Get marksheet by ID error:",s),s}}async getMarksheetsByStudent(t){try{const s=await je.get(`/admin/student-documents/marksheets/student/${t}`);if(s.success&&s.data)return s;throw new Error(s.message||"Failed to fetch student marksheets")}catch(s){throw console.error("Get marksheets by student error:",s),s}}async getStudentMarksheets(t,s=1,n=10,a){try{const i={page:s,limit:n,includeDetails:!0};a&&Object.entries(a).forEach(([o,A])=>{A!=null&&A!==""&&(i[o]=A)});const l=await je.get(`/admin/student-documents/students/${t}/marksheets`,{params:i});if(l.success&&l.data)return l;throw new Error(l.message||"Failed to fetch student marksheets")}catch(i){throw console.error("Get student marksheets error:",i),i}}async updateMarksheet(t,s){try{const n=mr.sanitizeInput(s),a=await je.put(`/admin/student-documents/marksheets/${t}`,n);if(a.success&&a.data)return a;throw new Error(a.message||"Failed to update marksheet")}catch(n){throw console.error("Update marksheet error:",n),n}}async deleteMarksheet(t){try{const s=await je.delete(`/admin/student-documents/marksheets/${t}`);if(s.success&&s.data)return s.data;throw new Error(s.message||"Failed to delete marksheet")}catch(s){throw console.error("Delete marksheet error:",s),s}}async verifyMarksheet(t,s){try{const n=await je.post(`/admin/student-documents/marksheets/${t}/verify`,{verificationCode:s});if(n.success&&n.data)return n;throw new Error(n.message||"Failed to verify marksheet")}catch(n){throw console.error("Verify marksheet error:",n),n}}async downloadMarksheetPDF(t){try{const s=await fetch(`/admin/student-documents/marksheets/${t}/download`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("admin_auth_token")}`}});if(!s.ok)throw new Error("Failed to download marksheet PDF");return await s.blob()}catch(s){throw console.error("Download marksheet PDF error:",s),s}}async getMarksheetStatistics(){try{const t=await je.get("/admin/student-documents/marksheets/statistics");if(t.success&&t.data)return t;throw new Error(t.message||"Failed to fetch marksheet statistics")}catch(t){throw console.error("Get marksheet statistics error:",t),t}}calculateGrade(t){return t>=90?{grade:"A+",gradePoints:10}:t>=80?{grade:"A",gradePoints:9}:t>=70?{grade:"B+",gradePoints:8}:t>=60?{grade:"B",gradePoints:7}:t>=50?{grade:"C+",gradePoints:6}:t>=40?{grade:"C",gradePoints:5}:t>=35?{grade:"D",gradePoints:4}:{grade:"F",gradePoints:0}}calculateCGPA(t){if(t.length===0)return 0;const s=t.reduce((a,i)=>a+i.gradePoints*i.credits,0),n=t.reduce((a,i)=>a+i.credits,0);return n>0?s/n:0}getResultStatus(t){return t>=35?"PASS":"FAIL"}}const Tm=new CU,t4=C.createContext(void 0),SU=({children:e})=>{const[t,s]=C.useState(null),[n,a]=C.useState(!1),[i,l]=C.useState(!0),[o,A]=C.useState(null);C.useEffect(()=>{(async()=>{try{if(l(!0),ll.isAuthenticated()){const N=ll.getCurrentUser();if(N){s(N),a(!0);try{const b=await ll.getProfile();s(b.user)}catch(b){console.warn("Token validation failed:",b),await h()}}}}catch(N){console.error("Auth initialization error:",N),await h()}finally{l(!1)}})();const x=()=>{s(null),a(!1)};return window.addEventListener("auth:logout",x),()=>{window.removeEventListener("auth:logout",x)}},[]);const c=async B=>{try{l(!0),A(null);const x=await ll.login(B);s(x.admin),a(!0)}catch(x){throw A(x.message||"Login failed"),x}finally{l(!1)}},d=async B=>{try{l(!0),A(null);const x=await ll.signup(B);s(x.admin),a(!0)}catch(x){throw A(x.message||"Signup failed"),x}finally{l(!1)}},h=async()=>{try{l(!0),await ll.logout()}catch(B){console.error("Logout error:",B)}finally{s(null),a(!1),l(!1),A(null)}},v={user:t,isAuthenticated:n,isLoading:i,error:o,login:c,signup:d,logout:h,updateProfile:async B=>{try{l(!0),A(null);const x=await ll.updateProfile(B);s(x)}catch(x){throw A(x.message||"Profile update failed"),x}finally{l(!1)}},clearError:()=>{A(null)},refreshUser:async()=>{try{l(!0);const B=await ll.getProfile();s(B.user)}catch(B){console.error("Refresh user error:",B),await h()}finally{l(!1)}}};return r.jsx(t4.Provider,{value:v,children:e})},uf=()=>{const e=C.useContext(t4);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ye=(e,t)=>{const s=C.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:A,...c},d)=>C.createElement("svg",{ref:d,...EU,width:a,height:a,stroke:n,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${FU(e)}`,o].join(" "),...c},[...t.map(([h,p])=>C.createElement(h,p)),...Array.isArray(A)?A:[A]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=Ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=Ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Ye("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Ye("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=Ye("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=Ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Ye("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=Ye("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=Ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=Ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=Ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=Ye("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Ye("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=Ye("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Ye("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=Ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Ye("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=Ye("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=Ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=Ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=Ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=Ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=Ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=Ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=Ye("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=Ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=Ye("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=Ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Ye("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=Ye("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=Ye("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),qU=({onLogin:e})=>{const{login:t,isLoading:s,error:n,clearError:a}=uf(),[i,l]=C.useState(!1),[o,A]=C.useState({email:"",password:""}),[c,d]=C.useState(null),h=async p=>{p.preventDefault(),d(null),a();try{await t(o),e()}catch{d("Login failed. Please check your credentials.")}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-400 via-sky-500 to-sky-600 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-20 h-20 bg-sky-500 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(dr,{className:"w-10 h-10 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Admin Panel"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Welcome back! Please sign in to continue."})]}),(n||c)&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[r.jsx(Nt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-red-700",children:n||c})]}),r.jsxs("form",{onSubmit:h,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"email",id:"email",value:o.email,onChange:p=>A({...o,email:p.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-all",placeholder:"Enter your email address",required:!0,disabled:s})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(r4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:i?"text":"password",id:"password",value:o.password,onChange:p=>A({...o,password:p.target.value}),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-all",placeholder:"Enter your password",required:!0,disabled:s}),r.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?r.jsx(PU,{className:"w-5 h-5"}):r.jsx(_r,{className:"w-5 h-5"})})]})]}),r.jsx("button",{type:"submit",disabled:s,className:"w-full bg-sky-500 hover:bg-sky-600 disabled:bg-sky-300 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 transform hover:scale-105 disabled:transform-none",children:s?r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Signing In..."})]}):"Sign In"})]})]})})},YU=({isOpen:e,onToggle:t})=>{var h;const s=Vi(),{user:n,logout:a}=uf(),[i,l]=C.useState(["society","student","kyc","reports","enrollment","admin"]);C.useEffect(()=>{window.innerWidth<1024&&t()},[s.pathname]);const o=p=>{l(m=>m.includes(p)?m.filter(y=>y!==p):[...m,p])},A=async()=>{try{await a()}catch(p){console.error("Logout error:",p)}},c=[{id:"dashboard",title:"Dashboard",icon:MU,path:"/dashboard",description:"Overview and analytics"},{id:"society",title:"Society Management",icon:ct,description:"Manage society members and finances",children:[{title:"Society Members",path:"/society/members",icon:ct,description:"View and manage members"},{title:"Payments",path:"/society/payments",icon:xn,description:"Track payments and contributions"},{title:"Loans",path:"/society/loans",icon:_g,description:"Manage loan applications"},{title:"Penalties",path:"/society/penalty",icon:Qr,description:"Handle penalty management"},{title:"Investment Plans",path:"/society/investment-plans",icon:br,description:"Create and manage investment plans"},{title:"Pending Applications",path:"/society/pending-investment-applications",icon:Qr,description:"Review pending investment applications"},{title:"Approved Applications",path:"/society/approved-investment-applications",icon:it,description:"View approved investment applications"},{title:"Rejected Applications",path:"/society/rejected-investment-applications",icon:Kt,description:"View rejected investment applications"}]},{id:"student",title:"Student Management",icon:Ur,description:"Manage students and academic records",children:[{title:"Students",path:"/student/students",icon:Ur,description:"Student information"},{title:"Courses",path:"/student/courses",icon:es,description:"Manage courses and curriculum"},{title:"Course Batches",path:"/student/course-batches",icon:ct,description:"Manage course batches and schedules"},{title:"Fee Management",path:"/student/fee-management",icon:br,description:"Manage fee requests and payments"},{title:"Payment History",path:"/student/payment-history",icon:xn,description:"View payment history and records"},{title:"Attendance",path:"/student/attendance",icon:Mt,description:"Manage student attendance and reports"},{title:"Certificate Management",path:"/student/certificate-management",icon:Jr,description:"Manage student certificates and marksheets"},{title:"Marksheets",path:"/student/marksheet",icon:Xt,description:"Academic records and grades"}]},{id:"kyc",title:"KYC Management",icon:ba,description:"Manage KYC verification and approval",children:[{title:"Pending KYC",path:"/kyc/pending",icon:Qr,description:"Review pending KYC requests"},{title:"Student KYC",path:"/kyc/students",icon:Ur,description:"Manage student KYC verification"},{title:"Society Member KYC",path:"/kyc/society-members",icon:ct,description:"Manage society member KYC verification"},{title:"Approved KYC",path:"/kyc/approved",icon:ba,description:"View approved KYC documents"}]},{id:"reports",title:"Reports & Analytics",icon:Xt,description:"Generate reports and view analytics",children:[{title:"Financial Reports",path:"/reports/financial",icon:xn,description:"Financial statements and reports"},{title:"Student Reports",path:"/reports/students",icon:Ur,description:"Student performance and statistics"},{title:"Society Reports",path:"/reports/society",icon:ct,description:"Society activity and member reports"},{title:"KYC Reports",path:"/reports/kyc",icon:ba,description:"KYC verification and status reports"}]}],d=[{id:"settings",title:"Settings",icon:zU,path:"/settings"},{id:"help",title:"Help & Support",icon:TU,path:"/help"}];return r.jsxs(r.Fragment,{children:[e&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:t,style:{touchAction:"none"}}),r.jsxs("div",{className:`
        sidebar-fixed sidebar-container w-72 bg-gradient-to-b from-white to-gray-50 shadow-2xl transform transition-all duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        ${e?"":"lg:w-0 lg:overflow-hidden"}
        border-r border-gray-200 flex flex-col
      `,children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-white flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-500 to-sky-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(ba,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Admin Panel"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Management System"})]})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 lg:hidden transition-colors",children:r.jsx(jt,{className:"w-5 h-5 text-gray-600"})})]}),r.jsx("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-sky-50 to-blue-50 flex-shrink-0",children:r.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl bg-white shadow-sm",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sky-500 to-sky-600 rounded-full flex items-center justify-center shadow-md",children:r.jsx("span",{className:"text-white font-semibold text-lg",children:((h=n==null?void 0:n.firstName)==null?void 0:h.charAt(0))||"A"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:n?`${n.firstName} ${n.lastName}`:"Admin User"}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:(n==null?void 0:n.email)||"admin@example.com"}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),r.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Online"})]})]})]})}),r.jsx("nav",{className:"flex-1 sidebar-scroll sidebar-nav p-4 space-y-1 min-h-0 overflow-y-auto",style:{overflowY:"auto",overflowX:"hidden",maxHeight:"calc(100vh - 200px)",height:"0"},children:c.map(p=>r.jsx("div",{className:"mb-2",children:p.children?r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>o(p.id),className:"w-full flex items-center justify-between p-3 text-gray-700 rounded-xl hover:bg-sky-50 hover:text-sky-700 transition-all group",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gray-100 group-hover:bg-sky-100 transition-colors",children:r.jsx(p.icon,{className:"w-5 h-5"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("span",{className:"font-semibold text-sm",children:p.title}),r.jsx("p",{className:"text-xs text-gray-500",children:p.description})]})]}),r.jsx("div",{className:"p-1 rounded-lg bg-gray-100 group-hover:bg-sky-100 transition-colors",children:i.includes(p.id)?r.jsx(QU,{className:"w-4 h-4"}):r.jsx(_U,{className:"w-4 h-4"})})]}),i.includes(p.id)&&r.jsx("div",{className:"ml-4 mt-2 space-y-1 border-l-2 border-gray-100 pl-4",children:p.children.map(m=>r.jsxs(Td,{to:m.path,className:`flex items-center space-x-3 p-3 rounded-lg transition-all group ${s.pathname===m.path?"bg-sky-100 text-sky-700 border-l-2 border-sky-500 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-800"}`,children:[r.jsx("div",{className:`p-1.5 rounded-md transition-colors ${s.pathname===m.path?"bg-sky-200":"bg-gray-100 group-hover:bg-gray-200"}`,children:r.jsx(m.icon,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:"text-sm font-medium",children:m.title}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:m.description})]}),s.pathname===m.path&&r.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full"})]},m.path))})]}):r.jsxs(Td,{to:p.path,className:`flex items-center space-x-3 p-3 rounded-xl transition-all group ${s.pathname===p.path?"bg-sky-100 text-sky-700 border-l-4 border-sky-500 shadow-sm":"text-gray-700 hover:bg-sky-50 hover:text-sky-700"}`,children:[r.jsx("div",{className:`p-2 rounded-lg transition-colors ${s.pathname===p.path?"bg-sky-200":"bg-gray-100 group-hover:bg-sky-100"}`,children:r.jsx(p.icon,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:"font-semibold text-sm",children:p.title}),r.jsx("p",{className:"text-xs text-gray-500",children:p.description})]}),s.pathname===p.path&&r.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full"})]})},p.id))}),r.jsxs("div",{className:"border-t border-gray-200 p-4 space-y-2 flex-shrink-0 bg-white",children:[d.map(p=>r.jsxs(Td,{to:p.path,className:"flex items-center space-x-3 p-3 text-gray-600 rounded-lg hover:bg-gray-50 hover:text-gray-800 transition-all group",children:[r.jsx("div",{className:"p-1.5 rounded-md bg-gray-100 group-hover:bg-gray-200 transition-colors",children:r.jsx(p.icon,{className:"w-4 h-4"})}),r.jsx("span",{className:"text-sm font-medium",children:p.title})]},p.id)),r.jsxs("button",{onClick:A,className:"w-full flex items-center space-x-3 p-3 text-red-600 rounded-lg hover:bg-red-50 hover:text-red-700 transition-all group",children:[r.jsx("div",{className:"p-1.5 rounded-md bg-red-100 group-hover:bg-red-200 transition-colors",children:r.jsx(s4,{className:"w-4 h-4"})}),r.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})]})},WU=({onToggleSidebar:e})=>{var a;const{user:t,logout:s}=uf(),n=async()=>{try{await s()}catch(i){console.error("Logout error:",i)}};return r.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4 flex items-center justify-between sticky top-0 z-30",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors lg:hidden",children:r.jsx(HU,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{className:"relative hidden md:block",children:[r.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search members, students, payments...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent w-80 bg-gray-50 focus:bg-white transition-colors"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors relative group",children:[r.jsx(kU,{className:"w-5 h-5 text-gray-600 group-hover:text-sky-600"}),r.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer group",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-500 to-sky-600 rounded-full flex items-center justify-center shadow-md group-hover:shadow-lg transition-shadow",children:r.jsx("span",{className:"text-white text-sm font-semibold",children:((a=t==null?void 0:t.firstName)==null?void 0:a.charAt(0))||"A"})}),r.jsxs("div",{className:"hidden sm:block",children:[r.jsx("p",{className:"text-gray-700 font-medium text-sm",children:t?`${t.firstName} ${t.lastName}`:"Admin"}),r.jsx("p",{className:"text-gray-500 text-xs",children:(t==null?void 0:t.role)||"Administrator"})]})]}),r.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-red-50 hover:text-red-600 transition-colors group",title:"Logout",children:r.jsx(s4,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})})]})]})},JU=({children:e})=>{const[t,s]=C.useState(!0);return r.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[r.jsx(YU,{isOpen:t,onToggle:()=>s(!t)}),r.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[r.jsx(WU,{onToggleSidebar:()=>s(!t)}),r.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden p-6 bg-gray-50",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]})},XU=()=>{const e=[{title:"Total Students",value:"2,543",change:"+12%",changeType:"positive",icon:Ur,color:"bg-sky-500"},{title:"Society Members",value:"1,234",change:"+5%",changeType:"positive",icon:ct,color:"bg-green-500"},{title:"Total Payments",value:"$45,678",change:"+8%",changeType:"positive",icon:br,color:"bg-blue-500"},{title:"Pending Loans",value:"123",change:"-3%",changeType:"negative",icon:xn,color:"bg-orange-500"},{title:"Penalties",value:"45",change:"+2%",changeType:"positive",icon:Nt,color:"bg-red-500"},{title:"Revenue Growth",value:"23.5%",change:"+1.2%",changeType:"positive",icon:us,color:"bg-purple-500"}],t=[{id:1,action:"New student enrollment",user:"John Doe",time:"2 minutes ago"},{id:2,action:"Payment received",user:"Jane Smith",time:"15 minutes ago"},{id:3,action:"Loan application submitted",user:"Mike Johnson",time:"1 hour ago"},{id:4,action:"Certificate issued",user:"Sarah Wilson",time:"2 hours ago"},{id:5,action:"Penalty imposed",user:"David Brown",time:"3 hours ago"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Dashboard"}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((s,n)=>r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:s.title}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:s.value}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx("span",{className:`text-sm font-medium ${s.changeType==="positive"?"text-green-600":"text-red-600"}`,children:s.change}),r.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"from last month"})]})]}),r.jsx("div",{className:`w-16 h-16 rounded-xl ${s.color} flex items-center justify-center`,children:r.jsx(s.icon,{className:"w-8 h-8 text-white"})})]})},n))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Revenue Trends"}),r.jsx("div",{className:"h-64 bg-gradient-to-br from-sky-50 to-sky-100 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(us,{className:"w-12 h-12 text-sky-500 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600",children:"Chart will be displayed here"})]})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Recent Activities"}),r.jsx("div",{className:"space-y-4",children:t.map(s=>r.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-lg hover:bg-gray-50",children:[r.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-800",children:s.action}),r.jsx("p",{className:"text-xs text-gray-500",children:s.user})]}),r.jsx("div",{className:"text-xs text-gray-400",children:s.time})]},s.id))})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-sky-500 hover:bg-sky-50 transition-all",children:[r.jsx(ct,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Add Member"})]}),r.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-sky-500 hover:bg-sky-50 transition-all",children:[r.jsx(Ur,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Add Student"})]}),r.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-sky-500 hover:bg-sky-50 transition-all",children:[r.jsx(xn,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Process Payment"})]}),r.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-sky-500 hover:bg-sky-50 transition-all",children:[r.jsx(us,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"View Reports"})]})]})]})]})},yc=({isOpen:e,onClose:t,documentUrl:s,documentType:n,documentName:a})=>{const[i,l]=C.useState(100),[o,A]=C.useState(0),[c,d]=C.useState(!1);if(!e)return null;const h=()=>{l(x=>Math.min(x+25,300))},p=()=>{l(x=>Math.max(x-25,50))},m=()=>{A(x=>(x+90)%360)},y=()=>{const x=document.createElement("a");x.href=s,x.download=a||`${n}-document`,x.target="_blank",document.body.appendChild(x),x.click(),document.body.removeChild(x)},v=()=>{window.open(s,"_blank")},B=()=>{l(100),A(0),d(!1)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.toLowerCase().includes("aadhar")?r.jsx(Dn,{className:"w-5 h-5 text-blue-600"}):r.jsx(Xt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[n," Document"]}),r.jsx("p",{className:"text-sm text-gray-500",children:a||`${n} Document Preview`})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:B,className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"Reset View"}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(jt,{className:"w-5 h-5 text-gray-600"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:p,disabled:i<=50,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Zoom Out",children:r.jsx($U,{className:"w-4 h-4"})}),r.jsxs("span",{className:"px-3 py-1 bg-white rounded-lg text-sm font-medium min-w-[60px] text-center",children:[i,"%"]}),r.jsx("button",{onClick:h,disabled:i>=300,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Zoom In",children:r.jsx(GU,{className:"w-4 h-4"})}),r.jsx("button",{onClick:m,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Rotate",children:r.jsx(OU,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:v,className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(LU,{className:"w-4 h-4"}),r.jsx("span",{children:"Open in New Tab"})]}),r.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Download"})]})]})]}),r.jsx("div",{className:"flex-1 overflow-auto bg-gray-100 p-4",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c?r.jsxs("div",{className:"text-center",children:[r.jsx(Nt,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Failed to Load Document"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The document image could not be loaded. This might be due to:"}),r.jsxs("ul",{className:"text-sm text-gray-500 text-left max-w-md mx-auto mb-4",children:[r.jsx("li",{children:" Invalid or expired document URL"}),r.jsx("li",{children:" Network connectivity issues"}),r.jsx("li",{children:" Document access permissions"}),r.jsx("li",{children:" Unsupported file format"})]}),r.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[r.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"}),r.jsx("button",{onClick:v,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Open in New Tab"})]})]}):r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:s,alt:`${n} Document`,className:"max-w-full max-h-full shadow-lg rounded-lg",style:{transform:`scale(${i/100}) rotate(${o}deg)`,transition:"transform 0.3s ease-in-out"},onError:()=>d(!0),onLoad:()=>d(!1)}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 rounded-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Loading document..."})]})})]})})}),r.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsxs("p",{children:["Document Type: ",r.jsx("span",{className:"font-medium text-gray-700",children:n})]}),a&&r.jsxs("p",{children:["File Name: ",r.jsx("span",{className:"font-medium text-gray-700",children:a})]})]}),r.jsx("div",{className:"text-sm text-gray-500",children:r.jsxs("p",{children:["Zoom: ",i,"% | Rotation: ",o,""]})})]})})]})})},ZU=({memberId:e,isOpen:t,onClose:s})=>{const[n,a]=C.useState(null),[i,l]=C.useState(!1),[o,A]=C.useState(null),[c,d]=C.useState(null),[h,p]=C.useState(!1);C.useEffect(()=>{t&&e&&m()},[t,e]);const m=async()=>{l(!0),A(null);try{const b=await si.getSocietyMemberById(e);a(b)}catch(b){console.error("Error loading member details:",b),A("Failed to load member details. Please try again.")}finally{l(!1)}},y=b=>typeof b=="string"?b:b&&typeof b=="object"?`${b.street}, ${b.city}, ${b.state} ${b.zipCode}, ${b.country}`:"Address not available",v=b=>{if(!b)return r.jsx(Zt,{className:"w-4 h-4 text-gray-400"});switch(b.status){case"approved":return r.jsx(it,{className:"w-4 h-4 text-green-500"});case"rejected":return r.jsx(Kt,{className:"w-4 h-4 text-red-500"});case"pending":return r.jsx(Zt,{className:"w-4 h-4 text-yellow-500"});default:return r.jsx(Zt,{className:"w-4 h-4 text-gray-400"})}},B=b=>{if(!b)return"bg-gray-100 text-gray-800";switch(b.status){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},x=(b,g,k)=>{d({url:b,type:g,name:k}),p(!0)},N=()=>{p(!1),d(null)};return t?r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx(ct,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Society Member Details"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Complete member information and KYC status"})]})]}),r.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(jt,{className:"w-6 h-6 text-gray-600"})})]}),r.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)]",children:i?r.jsx("div",{className:"flex items-center justify-center p-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Loading member details..."})]})}):o?r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[r.jsx(Kt,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),r.jsx("p",{className:"text-red-700",children:o}),r.jsx("button",{onClick:m,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):n?r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(ct,{className:"w-5 h-5 mr-2 text-green-600"}),"Basic Information"]}),r.jsxs("button",{className:"flex items-center space-x-2 px-3 py-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[r.jsx(ai,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Edit"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[n.firstName," ",n.lastName]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Member ID"}),r.jsx("p",{className:"text-lg font-semibold text-green-600",children:n.memberId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(hf,{className:"w-4 h-4 text-gray-400"}),r.jsx("p",{className:"text-gray-800",children:n.email})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Du,{className:"w-4 h-4 text-gray-400"}),r.jsx("p",{className:"text-gray-800",children:n.phoneNumber||n.phone})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Mt,{className:"w-4 h-4 text-gray-400"}),r.jsx("p",{className:"text-gray-800",children:n.dateOfBirth?new Date(n.dateOfBirth).toLocaleDateString():"Not provided"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Address"}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(Hl,{className:"w-4 h-4 text-gray-400 mt-1"}),r.jsx("p",{className:"text-gray-800",children:y(n.address)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Login"}),r.jsx("p",{className:"text-gray-800",children:n.lastLogin?new Date(n.lastLogin).toLocaleString():"Never"})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[r.jsx(Jr,{className:"w-5 h-5 mr-2 text-green-600"}),"Society Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Society Name"}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n.societyName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Position"}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n.position})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Contribution"}),r.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["",n.totalContribution?n.totalContribution.toLocaleString():"0"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Membership Date"}),r.jsx("p",{className:"text-gray-800",children:n.membershipDate?new Date(n.membershipDate).toLocaleDateString():"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),r.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${n.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.isActive?"Active":"Inactive"})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[r.jsx(ba,{className:"w-5 h-5 mr-2 text-green-600"}),"KYC Information"]}),n.kyc?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[v(n.kyc),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800",children:"KYC Status"}),r.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${B(n.kyc)}`,children:n.kyc.status.toUpperCase()})]})]}),n.kyc.status==="approved"&&n.kyc.approvedBy&&r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Approved by"}),r.jsxs("p",{className:"font-semibold text-gray-800",children:[n.kyc.approvedBy.firstName," ",n.kyc.approvedBy.lastName]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[n.kyc.submittedAt&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Submitted At"}),r.jsx("p",{className:"text-gray-800",children:n.kyc.submittedAt?new Date(n.kyc.submittedAt).toLocaleString():"Not available"})]}),n.kyc.approvedAt&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Approved At"}),r.jsx("p",{className:"text-gray-800",children:n.kyc.approvedAt?new Date(n.kyc.approvedAt).toLocaleString():"Not available"})]}),n.kyc.rejectionReason&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Rejection Reason"}),r.jsx("p",{className:"text-red-600",children:n.kyc.rejectionReason})]})]}),r.jsxs("div",{className:"space-y-4",children:[n.kyc.aadharNumber&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Aadhar Number"}),r.jsx("p",{className:"text-gray-800 font-mono",children:n.kyc.aadharNumber})]}),n.kyc.panNumber&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"PAN Number"}),r.jsx("p",{className:"text-gray-800 font-mono",children:n.kyc.panNumber})]}),r.jsxs("div",{className:"space-y-4",children:[n.kyc.aadharCardImage&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Aadhar Card"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(Dn,{className:"w-4 h-4 text-gray-400"}),r.jsxs("button",{onClick:()=>{var b;return((b=n.kyc)==null?void 0:b.aadharCardImage)&&x(n.kyc.aadharCardImage,"Aadhar Card",`${n.firstName}_${n.lastName}_Aadhar.jpg`)},className:"text-green-600 hover:text-green-800 flex items-center space-x-1 mr-3",children:[r.jsx(_r,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Preview"})]}),r.jsxs("button",{onClick:()=>{var b;if((b=n.kyc)!=null&&b.aadharCardImage){const g=document.createElement("a");g.href=n.kyc.aadharCardImage,g.download=`${n.firstName}_${n.lastName}_Aadhar.jpg`,g.target="_blank",document.body.appendChild(g),g.click(),document.body.removeChild(g)}},className:"text-green-600 hover:text-green-800 flex items-center space-x-1",children:[r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Download"})]})]})]}),n.kyc.panCardImage&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"PAN Card"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(Dn,{className:"w-4 h-4 text-gray-400"}),r.jsxs("button",{onClick:()=>{var b;return((b=n.kyc)==null?void 0:b.panCardImage)&&x(n.kyc.panCardImage,"PAN Card",`${n.firstName}_${n.lastName}_PAN.jpg`)},className:"text-green-600 hover:text-green-800 flex items-center space-x-1 mr-3",children:[r.jsx(_r,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Preview"})]}),r.jsxs("button",{onClick:()=>{var b;if((b=n.kyc)!=null&&b.panCardImage){const g=document.createElement("a");g.href=n.kyc.panCardImage,g.download=`${n.firstName}_${n.lastName}_PAN.jpg`,g.target="_blank",document.body.appendChild(g),g.click(),document.body.removeChild(g)}},className:"text-green-600 hover:text-green-800 flex items-center space-x-1",children:[r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Download"})]})]})]})]})]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ba,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No KYC information available"})]})]}),(n.skills||n.responsibilities||n.achievements||n.eventsOrganized)&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[r.jsx(k1,{className:"w-5 h-5 mr-2 text-green-600"}),"Additional Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.skills&&n.skills.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Skills"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.skills.map((b,g)=>r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:b},g))})]}),n.responsibilities&&n.responsibilities.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Responsibilities"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.responsibilities.map((b,g)=>r.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-sm rounded-full",children:b},g))})]}),n.achievements&&n.achievements.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Achievements"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.achievements.map((b,g)=>r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:b},g))})]}),n.eventsOrganized&&n.eventsOrganized.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Events Organized"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.eventsOrganized.map((b,g)=>r.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-sm rounded-full",children:b},g))})]})]})]}),n.paymentHistory&&n.paymentHistory.length>0&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[r.jsx(Xt,{className:"w-5 h-5 mr-2 text-green-600"}),"Recent Payment History"]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:n.paymentHistory.slice(0,5).map((b,g)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:b.date?new Date(b.date).toLocaleDateString():"N/A"}),r.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:b.type||"N/A"}),r.jsxs("td",{className:"px-4 py-2 text-sm font-semibold text-green-600",children:["",b.amount?b.amount.toLocaleString():"0"]}),r.jsx("td",{className:"px-4 py-2",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${b.status==="completed"?"bg-green-100 text-green-800":b.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:b.status||"Unknown"})})]},g))})]})})]})]}):null}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[r.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Close"}),r.jsx("button",{className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Edit Member"})]})]}),c&&r.jsx(yc,{isOpen:h,onClose:N,documentUrl:c.url,documentType:c.type,documentName:c.name})]}):null},eQ=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l]=C.useState({}),[o,A]=C.useState(""),[c,d]=C.useState("all"),[h,p]=C.useState("all"),[m,y]=C.useState("all"),[v,B]=C.useState(1),[x,N]=C.useState(1),[b,g]=C.useState(0),[k,_]=C.useState(!1),[I,U]=C.useState(!1),[S,G]=C.useState(null),[L,P]=C.useState(!1),F=async(X=1)=>{n(!0),i(null);try{const se={...l,search:o||void 0,isActive:c==="all"?void 0:c==="active",societyName:h==="all"?void 0:h,kycStatus:m==="all"?void 0:m};Object.keys(se).forEach(Q=>{se[Q]===void 0&&delete se[Q]});const re=await si.getAllSocietyMembers(X,10,se,"firstName","asc");t(re.societyMembers),N(re.pagination.totalPages),g(re.pagination.totalItems),_(re.pagination.hasNextPage),U(re.pagination.hasPrevPage),B(re.pagination.currentPage)}catch(se){console.error("Error loading members:",se),i("Failed to load society members. Please try again.")}finally{n(!1)}};C.useEffect(()=>{F(1)},[o,c,h,m]);const M=X=>{B(X),F(X)},Z=async()=>{try{const X={...l,search:o||void 0,isActive:c==="all"?void 0:c==="active",societyName:h==="all"?void 0:h,kycStatus:m==="all"?void 0:m};await si.exportUsers("society-members",X,"excel")}catch(X){console.error("Error exporting members:",X),i("Failed to export members. Please try again.")}},te=()=>{F(v)},le=X=>{G(X),P(!0)},R=()=>{P(!1),G(null)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ct,{className:"w-8 h-8 text-green-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Society Members"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:te,disabled:s,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:`w-4 h-4 ${s?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]}),r.jsxs("button",{onClick:Z,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Export"})]}),r.jsxs("button",{className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(bs,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Member"})]})]})]}),a&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[r.jsx(Nt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700",children:a}),r.jsx("button",{onClick:()=>i(null),className:"ml-auto text-red-500 hover:text-red-700",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:b})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(ct,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Members"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(X=>X.isActive).length})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-bold text-lg",children:""})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"KYC Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(X=>X.kycStatus==="pending").length})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-yellow-600 font-bold text-lg",children:""})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Verified"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(X=>X.isVerified).length})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-purple-600 font-bold text-lg",children:""})})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search by name, email, or member ID...",value:o,onChange:X=>A(X.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(rs,{className:"w-5 h-5 text-gray-500"}),r.jsxs("select",{value:c,onChange:X=>d(X.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]}),r.jsxs("select",{value:h,onChange:X=>p(X.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Societies"}),r.jsx("option",{value:"tech-club",children:"Tech Club"}),r.jsx("option",{value:"sports-club",children:"Sports Club"}),r.jsx("option",{value:"cultural-society",children:"Cultural Society"})]}),r.jsxs("select",{value:m,onChange:X=>y(X.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All KYC Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Members List (",e.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Society"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Join Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"KYC Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-green-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"ml-3 text-gray-500",children:"Loading members..."})]})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(ct,{className:"w-12 h-12 text-gray-300 mb-2"}),r.jsx("p",{children:"No members found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})}):e.map(X=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[X.firstName.charAt(0),X.lastName.charAt(0)]})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[X.firstName," ",X.lastName]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",X.memberId]})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:X.email}),r.jsx("div",{className:"text-sm text-gray-500",children:X.phoneNumber||X.phone})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.societyName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.position}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X.membershipDate?new Date(X.membershipDate).toLocaleDateString():"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${X.kycStatus==="approved"?"bg-green-100 text-green-800":X.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:X.kycStatus})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${X.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:X.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>le(X.id||X._id),className:"text-green-600 hover:text-green-900",title:"View Details",children:r.jsx(_r,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Edit",children:r.jsx(ai,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete",children:r.jsx(ia,{className:"w-4 h-4"})})]})})]},X.id))})]})}),e.length>0&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",b," members"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>M(v-1),disabled:!I,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",v," of ",x]}),r.jsx("button",{onClick:()=>M(v+1),disabled:!k,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),S&&r.jsx(ZU,{memberId:S,isOpen:L,onClose:R})]})},tQ=()=>{const[e,t]=C.useState("monthly"),s=[{id:1,member:"John Doe",amount:500,type:"Membership Fee",date:"2024-01-15",status:"Completed",method:"Credit Card"},{id:2,member:"Jane Smith",amount:250,type:"Event Fee",date:"2024-01-14",status:"Pending",method:"Bank Transfer"},{id:3,member:"Mike Johnson",amount:750,type:"Annual Fee",date:"2024-01-13",status:"Completed",method:"PayPal"},{id:4,member:"Sarah Wilson",amount:300,type:"Workshop Fee",date:"2024-01-12",status:"Failed",method:"Credit Card"},{id:5,member:"David Brown",amount:450,type:"Membership Fee",date:"2024-01-11",status:"Completed",method:"Cash"}],n=s.filter(i=>i.status==="Completed").reduce((i,l)=>i+(l.amount||0),0),a=s.filter(i=>i.status==="Pending").reduce((i,l)=>i+(l.amount||0),0);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(xn,{className:"w-8 h-8 text-sky-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Payments"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Export"})]}),r.jsxs("button",{className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(bs,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Payment"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",n.toLocaleString()]})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(us,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Payments"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",a.toLocaleString()]})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(xn,{className:"w-6 h-6 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.filter(i=>i.status==="Completed").length})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 font-bold text-lg",children:""})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.filter(i=>i.status==="Failed").length})]}),r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-red-600 font-bold text-lg",children:""})})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(rs,{className:"w-5 h-5 text-gray-500"}),r.jsxs("select",{value:e,onChange:i=>t(i.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[r.jsx("option",{value:"weekly",children:"This Week"}),r.jsx("option",{value:"monthly",children:"This Month"}),r.jsx("option",{value:"quarterly",children:"This Quarter"}),r.jsx("option",{value:"yearly",children:"This Year"})]}),r.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[r.jsx("option",{children:"All Status"}),r.jsx("option",{children:"Completed"}),r.jsx("option",{children:"Pending"}),r.jsx("option",{children:"Failed"})]}),r.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[r.jsx("option",{children:"All Methods"}),r.jsx("option",{children:"Credit Card"}),r.jsx("option",{children:"Bank Transfer"}),r.jsx("option",{children:"PayPal"}),r.jsx("option",{children:"Cash"})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Payments"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(i=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",i.id.toString().padStart(4,"0")]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.member}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.type}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:["$",i.amount]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.method}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.date?new Date(i.date).toLocaleDateString():"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i.status==="Completed"?"bg-green-100 text-green-800":i.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:i.status})})]},i.id))})]})})]})]})},rQ=()=>{const e=[{id:1,member:"John Doe",amount:1e4,purpose:"Education",interestRate:5.5,term:24,status:"Active",nextDue:"2024-02-15",remainingBalance:8500},{id:2,member:"Jane Smith",amount:15e3,purpose:"Business",interestRate:6,term:36,status:"Pending",nextDue:null,remainingBalance:15e3},{id:3,member:"Mike Johnson",amount:5e3,purpose:"Emergency",interestRate:4.5,term:12,status:"Completed",nextDue:null,remainingBalance:0},{id:4,member:"Sarah Wilson",amount:8e3,purpose:"Home Improvement",interestRate:5,term:18,status:"Overdue",nextDue:"2024-01-10",remainingBalance:6200},{id:5,member:"David Brown",amount:12e3,purpose:"Vehicle",interestRate:7,term:30,status:"Active",nextDue:"2024-02-20",remainingBalance:9800}],t=e.reduce((a,i)=>a+(i.amount||0),0),s=e.reduce((a,i)=>a+(i.remainingBalance||0),0),n=e.filter(a=>a.status==="Active").length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(_g,{className:"w-8 h-8 text-sky-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Loans"})]}),r.jsxs("button",{className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(bs,{className:"w-5 h-5"}),r.jsx("span",{children:"New Loan"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Loaned"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",t.toLocaleString()]})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(_g,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Outstanding"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",s.toLocaleString()]})]}),r.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx(Zt,{className:"w-6 h-6 text-orange-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Loans"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(it,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(a=>a.status==="Overdue").length})]}),r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Kt,{className:"w-6 h-6 text-red-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Loan Applications"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loan ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purpose"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interest Rate"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remaining"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Next Due"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(a=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#L",a.id.toString().padStart(4,"0")]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-sky-500 rounded-full flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-white text-xs font-semibold",children:a.member.split(" ").map(i=>i[0]).join("")})}),r.jsx("span",{className:"text-sm text-gray-900",children:a.member})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.purpose}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:["$",a.amount?a.amount.toLocaleString():"0"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[a.interestRate,"%"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:["$",a.remainingBalance?a.remainingBalance.toLocaleString():"0"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.nextDue?new Date(a.nextDue).toLocaleDateString():"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a.status==="Active"?"bg-green-100 text-green-800":a.status==="Pending"?"bg-yellow-100 text-yellow-800":a.status==="Completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:a.status})})]},a.id))})]})})]})]})},sQ=()=>{const e=[{id:1,member:"John Doe",type:"Late Payment",amount:50,reason:"Membership fee overdue by 15 days",date:"2024-01-10",dueDate:"2024-01-25",status:"Unpaid"},{id:2,member:"Jane Smith",type:"Violation",amount:100,reason:"Facility misuse",date:"2024-01-08",dueDate:"2024-01-23",status:"Paid"},{id:3,member:"Mike Johnson",type:"Late Return",amount:25,reason:"Book returned 5 days late",date:"2024-01-05",dueDate:"2024-01-20",status:"Unpaid"},{id:4,member:"Sarah Wilson",type:"Damage",amount:200,reason:"Equipment damage during event",date:"2024-01-03",dueDate:"2024-01-18",status:"Disputed"},{id:5,member:"David Brown",type:"Late Payment",amount:75,reason:"Course fee overdue by 10 days",date:"2024-01-01",dueDate:"2024-01-16",status:"Unpaid"}],t=e.reduce((a,i)=>a+i.amount,0),s=e.filter(a=>a.status==="Unpaid").reduce((a,i)=>a+i.amount,0),n=e.filter(a=>a.status==="Disputed").length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Qr,{className:"w-8 h-8 text-sky-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Penalties"})]}),r.jsxs("button",{className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(bs,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Penalty"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Penalties"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",t]})]}),r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Qr,{className:"w-6 h-6 text-red-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Unpaid Amount"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",s]})]}),r.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx(br,{className:"w-6 h-6 text-orange-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Mt,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Disputed"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-yellow-600 font-bold text-lg",children:"?"})})]})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-red-500 hover:bg-red-50 transition-all",children:[r.jsx(Qr,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Issue Penalty"})]}),r.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all",children:[r.jsx(br,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Record Payment"})]}),r.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all",children:[r.jsx(Mt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Send Reminder"})]}),r.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all",children:[r.jsx("span",{className:"text-2xl text-gray-400 mx-auto mb-2 block",children:""}),r.jsx("span",{className:"text-sm text-gray-600",children:"Generate Report"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Penalties"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Penalty ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(a=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#P",a.id.toString().padStart(4,"0")]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-sky-500 rounded-full flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-white text-xs font-semibold",children:a.member.split(" ").map(i=>i[0]).join("")})}),r.jsx("span",{className:"text-sm text-gray-900",children:a.member})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a.type==="Late Payment"?"bg-orange-100 text-orange-800":a.type==="Violation"?"bg-red-100 text-red-800":a.type==="Damage"?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800"}`,children:a.type})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:a.reason}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:["$",a.amount]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.dueDate?new Date(a.dueDate).toLocaleDateString():"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a.status==="Paid"?"bg-green-100 text-green-800":a.status==="Disputed"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.status})})]},a.id))})]})})]})]})},nQ=({studentId:e,isOpen:t,onClose:s})=>{const[n,a]=C.useState(null),[i,l]=C.useState(!1),[o,A]=C.useState(null),[c,d]=C.useState(null),[h,p]=C.useState(!1);C.useEffect(()=>{t&&e&&m()},[t,e]);const m=async()=>{l(!0),A(null);try{const b=await si.getStudentById(e);a(b)}catch(b){console.error("Error loading student details:",b),A("Failed to load student details. Please try again.")}finally{l(!1)}},y=b=>typeof b=="string"?b:b&&typeof b=="object"?`${b.street}, ${b.city}, ${b.state} ${b.zipCode}, ${b.country}`:"Address not available",v=b=>{if(!b)return r.jsx(Zt,{className:"w-4 h-4 text-gray-400"});switch(b.status){case"approved":return r.jsx(it,{className:"w-4 h-4 text-green-500"});case"rejected":return r.jsx(Kt,{className:"w-4 h-4 text-red-500"});case"pending":return r.jsx(Zt,{className:"w-4 h-4 text-yellow-500"});default:return r.jsx(Zt,{className:"w-4 h-4 text-gray-400"})}},B=b=>{if(!b)return"bg-gray-100 text-gray-800";switch(b.status){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},x=(b,g,k)=>{d({url:b,type:g,name:k}),p(!0)},N=()=>{p(!1),d(null)};return t?r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-sky-50 to-blue-50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-sky-500 rounded-full flex items-center justify-center",children:r.jsx(dr,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Student Details"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Complete student information and KYC status"})]})]}),r.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(jt,{className:"w-6 h-6 text-gray-600"})})]}),r.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)]",children:i?r.jsx("div",{className:"flex items-center justify-center p-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-sky-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Loading student details..."})]})}):o?r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[r.jsx(Kt,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),r.jsx("p",{className:"text-red-700",children:o}),r.jsx("button",{onClick:m,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):n?r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(dr,{className:"w-5 h-5 mr-2 text-sky-600"}),"Basic Information"]}),r.jsxs("button",{className:"flex items-center space-x-2 px-3 py-1 bg-sky-100 text-sky-700 rounded-lg hover:bg-sky-200 transition-colors",children:[r.jsx(ai,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Edit"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[n.firstName," ",n.lastName]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Student ID"}),r.jsx("p",{className:"text-lg font-semibold text-sky-600",children:n.studentId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(hf,{className:"w-4 h-4 text-gray-400"}),r.jsx("p",{className:"text-gray-800",children:n.email})]})]}),n.originalPassword&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Original Password"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(r4,{className:"w-4 h-4 text-gray-400"}),r.jsx("p",{className:"text-gray-800 font-mono bg-gray-100 px-2 py-1 rounded text-sm",children:n.originalPassword})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Du,{className:"w-4 h-4 text-gray-400"}),r.jsx("p",{className:"text-gray-800",children:n.phoneNumber||n.phone})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Mt,{className:"w-4 h-4 text-gray-400"}),r.jsx("p",{className:"text-gray-800",children:new Date(n.dateOfBirth).toLocaleDateString()})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Address"}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(Hl,{className:"w-4 h-4 text-gray-400 mt-1"}),r.jsx("p",{className:"text-gray-800",children:y(n.address)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Login"}),r.jsx("p",{className:"text-gray-800",children:n.lastLogin?new Date(n.lastLogin).toLocaleString():"Never"})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[r.jsx(Ur,{className:"w-5 h-5 mr-2 text-sky-600"}),"Academic Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Department"}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n.department})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Course"}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n.courseName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Year"}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n.year||n.academicYear})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Batch"}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n.batchName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Enrollment Date"}),r.jsx("p",{className:"text-gray-800",children:new Date(n.enrollmentDate).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),r.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${n.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.isActive?"Active":"Inactive"})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[r.jsx(ba,{className:"w-5 h-5 mr-2 text-sky-600"}),"KYC Information"]}),n.kyc?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[v(n.kyc),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800",children:"KYC Status"}),r.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${B(n.kyc)}`,children:n.kyc.status.toUpperCase()})]})]}),n.kyc.status==="approved"&&n.kyc.approvedBy&&r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Approved by"}),r.jsxs("p",{className:"font-semibold text-gray-800",children:[n.kyc.approvedBy.firstName," ",n.kyc.approvedBy.lastName]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[n.kyc.submittedAt&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Submitted At"}),r.jsx("p",{className:"text-gray-800",children:new Date(n.kyc.submittedAt).toLocaleString()})]}),n.kyc.approvedAt&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Approved At"}),r.jsx("p",{className:"text-gray-800",children:new Date(n.kyc.approvedAt).toLocaleString()})]}),n.kyc.rejectionReason&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Rejection Reason"}),r.jsx("p",{className:"text-red-600",children:n.kyc.rejectionReason})]})]}),r.jsxs("div",{className:"space-y-4",children:[n.kyc.aadharNumber&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Aadhar Number"}),r.jsx("p",{className:"text-gray-800 font-mono",children:n.kyc.aadharNumber})]}),n.kyc.aadharCardImage&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Aadhar Card"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(Dn,{className:"w-4 h-4 text-gray-400"}),r.jsxs("button",{onClick:()=>{var b;return((b=n.kyc)==null?void 0:b.aadharCardImage)&&x(n.kyc.aadharCardImage,"Aadhar Card",`${n.firstName}_${n.lastName}_Aadhar.jpg`)},className:"text-sky-600 hover:text-sky-800 flex items-center space-x-1 mr-3",children:[r.jsx(_r,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Preview"})]}),r.jsxs("button",{onClick:()=>{var b;if((b=n.kyc)!=null&&b.aadharCardImage){const g=document.createElement("a");g.href=n.kyc.aadharCardImage,g.download=`${n.firstName}_${n.lastName}_Aadhar.jpg`,g.target="_blank",document.body.appendChild(g),g.click(),document.body.removeChild(g)}},className:"text-sky-600 hover:text-sky-800 flex items-center space-x-1",children:[r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Download"})]})]})]})]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ba,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No KYC information available"})]})]}),(n.interests||n.achievements||n.registeredSocieties)&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center mb-4",children:[r.jsx(Xt,{className:"w-5 h-5 mr-2 text-sky-600"}),"Additional Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.interests&&n.interests.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Interests"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.interests.map((b,g)=>r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:b},g))})]}),n.achievements&&n.achievements.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Achievements"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.achievements.map((b,g)=>r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:b},g))})]}),n.registeredSocieties&&n.registeredSocieties.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Registered Societies"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.registeredSocieties.map((b,g)=>r.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-sm rounded-full",children:b},g))})]})]})]})]}):null}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[r.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Close"}),r.jsx("button",{className:"px-6 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors",children:"Edit Student"})]})]}),c&&r.jsx(yc,{isOpen:h,onClose:N,documentUrl:c.url,documentType:c.type,documentName:c.name})]}):null},aQ=({isOpen:e,onClose:t,student:s})=>{const[n,a]=C.useState([]),[i,l]=C.useState(!1),[o,A]=C.useState(null);C.useEffect(()=>{e&&s&&c()},[e,s]);const c=async()=>{if(s){l(!0),A(null);try{const p=await Rt.getEnrollmentsByStudentId(s._id);if(p.success&&p.data)a(p.data.enrollments);else throw new Error(p.message||"Failed to load enrollments")}catch(p){console.error("Error loading enrollments:",p),A(p instanceof Error?p.message:"An unknown error occurred")}finally{l(!1)}}},d=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),h=p=>new Date(p).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return!e||!s?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(dr,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Student Enrollments"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[s.firstName," ",s.lastName," (",s.studentId,")"]})]})]}),r.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Close",children:r.jsx(jt,{size:20})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-3 text-gray-600",children:"Loading enrollments..."})]}):o?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Nt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("p",{className:"text-red-600 font-medium",children:"Error loading enrollments"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:o}),r.jsx("button",{onClick:c,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):n.length===0?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ur,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"No enrollments found"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"This student hasn't enrolled in any courses yet."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Department:"}),r.jsx("p",{className:"text-gray-900",children:s.department})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Year:"}),r.jsx("p",{className:"text-gray-900",children:s.year})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Total Enrollments:"}),r.jsx("p",{className:"text-gray-900",children:n.length})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[r.jsx(es,{className:"w-5 h-5 text-blue-600 mr-2"}),"Course Enrollments"]}),n.map(p=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:p.courseId.title}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium text-gray-600 w-20",children:"Category:"}),r.jsx("span",{className:"text-gray-900",children:p.courseId.category})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium text-gray-600 w-20",children:"Type:"}),r.jsx("span",{className:"text-gray-900 capitalize",children:p.courseId.type})]})]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Batch Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium text-gray-600 w-20",children:"Batch:"}),r.jsx("span",{className:"text-gray-900",children:p.batchId.name})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Mt,{className:"w-4 h-4 text-gray-500 mr-2"}),r.jsxs("span",{className:"text-gray-900",children:[d(p.batchId.startDate)," - ",d(p.batchId.endDate)]})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Enrollment Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-gray-600",children:"Status:"}),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Rt.getEnrollmentStatusColor(p.status)}`,children:p.status})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-gray-600",children:"Payment:"}),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Rt.getPaymentStatusColor(p.paymentStatus)}`,children:p.paymentStatus})]}),p.paymentAmount&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-gray-600",children:"Amount:"}),r.jsxs("span",{className:"text-gray-900",children:["",p.paymentAmount]})]})]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Timeline"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zt,{className:"w-4 h-4 text-gray-500 mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Enrolled:"}),r.jsx("span",{className:"text-gray-900 ml-2",children:h(p.enrollmentDate)})]}),p.paymentDate&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(br,{className:"w-4 h-4 text-gray-500 mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Paid:"}),r.jsx("span",{className:"text-gray-900 ml-2",children:h(p.paymentDate)})]}),p.completionDate&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(it,{className:"w-4 h-4 text-gray-500 mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Completed:"}),r.jsx("span",{className:"text-gray-900 ml-2",children:h(p.completionDate)})]})]})]}),(p.grade||p.certificateIssued)&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Results"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[p.grade&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-gray-600",children:"Grade:"}),r.jsx("span",{className:"text-gray-900",children:p.grade})]}),p.certificateIssued&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-gray-600",children:"Certificate:"}),r.jsx("span",{className:"text-green-600 font-medium",children:"Issued"})]})]})]})]})]})},p._id))]})]})}),r.jsx("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:r.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})})},iQ=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l]=C.useState({}),[o,A]=C.useState(""),[c,d]=C.useState("all"),[h,p]=C.useState("all"),[m,y]=C.useState("all"),[v,B]=C.useState(1),[x,N]=C.useState(1),[b,g]=C.useState(0),[k,_]=C.useState(!1),[I,U]=C.useState(!1),[S,G]=C.useState(null),[L,P]=C.useState(!1),[F,M]=C.useState(null),[Z,te]=C.useState(!1),le=async(V=1)=>{n(!0),i(null);try{const ne={...l,search:o||void 0,isActive:c==="all"?void 0:c==="active",department:h==="all"?void 0:h,kycStatus:m==="all"?void 0:m};Object.keys(ne).forEach(xe=>{ne[xe]===void 0&&delete ne[xe]});const de=await si.getAllStudents(V,10,ne,"firstName","asc");t(de.students),N(de.pagination.totalPages),g(de.pagination.totalItems),_(de.pagination.hasNextPage),U(de.pagination.hasPrevPage),B(de.pagination.currentPage)}catch(ne){console.error("Error loading students:",ne),i("Failed to load students. Please try again.")}finally{n(!1)}};C.useEffect(()=>{le(1)},[o,c,h,m]);const R=V=>{B(V),le(V)},X=async()=>{try{const V={...l,search:o||void 0,isActive:c==="all"?void 0:c==="active",department:h==="all"?void 0:h,kycStatus:m==="all"?void 0:m};await si.exportUsers("students",V,"excel")}catch(V){console.error("Error exporting students:",V),i("Failed to export students. Please try again.")}},se=()=>{le(v)},re=V=>{G(V),P(!0)},Q=()=>{P(!1),G(null)},z=V=>{M(V),te(!0)},$=()=>{te(!1),M(null)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ur,{className:"w-8 h-8 text-sky-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Students"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:se,disabled:s,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:`w-4 h-4 ${s?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]}),r.jsxs("button",{onClick:X,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Export"})]}),r.jsxs("button",{className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(bs,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Student"})]})]})]}),a&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[r.jsx(Nt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700",children:a}),r.jsx("button",{onClick:()=>i(null),className:"ml-auto text-red-500 hover:text-red-700",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:b})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Ur,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Students"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(V=>V.isActive).length})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 font-bold text-lg",children:""})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"KYC Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(V=>V.kycStatus==="pending").length})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-yellow-600 font-bold text-lg",children:""})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Verified"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(V=>V.isVerified).length})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-purple-600 font-bold text-lg",children:""})})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search by name, email, or student ID...",value:o,onChange:V=>A(V.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(rs,{className:"w-5 h-5 text-gray-500"}),r.jsxs("select",{value:c,onChange:V=>d(V.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]}),r.jsxs("select",{value:h,onChange:V=>p(V.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Departments"}),r.jsx("option",{value:"computer-science",children:"Computer Science"}),r.jsx("option",{value:"engineering",children:"Engineering"}),r.jsx("option",{value:"business",children:"Business"}),r.jsx("option",{value:"mathematics",children:"Mathematics"})]}),r.jsxs("select",{value:m,onChange:V=>y(V.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All KYC Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Student List (",e.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"KYC Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-sky-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"ml-3 text-gray-500",children:"Loading students..."})]})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Ur,{className:"w-12 h-12 text-gray-300 mb-2"}),r.jsx("p",{children:"No students found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})}):e.map(V=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-sky-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[V.firstName.charAt(0),V.lastName.charAt(0)]})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[V.firstName," ",V.lastName]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",V.studentId]})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:V.email}),r.jsx("div",{className:"text-sm text-gray-500",children:V.phone})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:V.department}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:V.courseName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(V.enrollmentDate).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${V.kycStatus==="approved"?"bg-green-100 text-green-800":V.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:V.kycStatus})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${V.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:V.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>re(V.id||V._id),className:"text-sky-600 hover:text-sky-900",title:"View Student Details",children:r.jsx(_r,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>z(V),className:"text-blue-600 hover:text-blue-900",title:"View Enrollments",children:r.jsx(es,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Edit",children:r.jsx(ai,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete",children:r.jsx(ia,{className:"w-4 h-4"})})]})})]},V.id))})]})}),e.length>0&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",b," students"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>R(v-1),disabled:!I,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",v," of ",x]}),r.jsx("button",{onClick:()=>R(v+1),disabled:!k,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),S&&r.jsx(nQ,{studentId:S,isOpen:L,onClose:Q}),r.jsx(aQ,{isOpen:Z,onClose:$,student:F})]})},lQ=()=>{const e=[{id:1,name:"2024-A",course:"Computer Science",instructor:"Dr. Smith",students:25,startDate:"2024-01-15",endDate:"2024-05-15",status:"Active"},{id:2,name:"2024-B",course:"Mathematics",instructor:"Prof. Johnson",students:20,startDate:"2024-02-01",endDate:"2024-06-01",status:"Active"},{id:3,name:"2024-C",course:"Physics",instructor:"Dr. Wilson",students:18,startDate:"2024-03-01",endDate:"2024-07-01",status:"Upcoming"},{id:4,name:"2023-D",course:"Chemistry",instructor:"Prof. Brown",students:22,startDate:"2023-09-01",endDate:"2024-01-01",status:"Completed"},{id:5,name:"2024-E",course:"Biology",instructor:"Dr. Davis",students:30,startDate:"2024-04-01",endDate:"2024-08-01",status:"Upcoming"}],t=e.reduce((a,i)=>a+i.students,0),s=e.filter(a=>a.status==="Active").length,n=e.filter(a=>a.status==="Upcoming").length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(es,{className:"w-8 h-8 text-sky-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Course Batches"})]}),r.jsxs("button",{className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(bs,{className:"w-5 h-5"}),r.jsx("span",{children:"New Batch"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Batches"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(es,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Batches"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 font-bold text-lg",children:""})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:t})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(ct,{className:"w-6 h-6 text-purple-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Mt,{className:"w-6 h-6 text-yellow-600"})})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(a=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:a.name}),r.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${a.status==="Active"?"bg-green-100 text-green-800":a.status==="Upcoming"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:a.status})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(es,{className:"w-4 h-4 mr-2"}),a.course]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(ct,{className:"w-4 h-4 mr-2"}),a.students," Students"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("strong",{children:"Instructor:"})," ",a.instructor]}),r.jsx("div",{className:"text-sm text-gray-600",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Mt,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:[new Date(a.startDate).toLocaleDateString()," - ",new Date(a.endDate).toLocaleDateString()]})]})})]}),r.jsxs("div",{className:"mt-6 flex space-x-3",children:[r.jsx("button",{className:"flex-1 bg-sky-50 hover:bg-sky-100 text-sky-700 py-2 px-4 rounded-lg transition-colors text-sm font-medium",children:"View Details"}),r.jsx("button",{className:"flex-1 bg-gray-50 hover:bg-gray-100 text-gray-700 py-2 px-4 rounded-lg transition-colors text-sm font-medium",children:"Manage"})]})]})},a.id))}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-sky-500 hover:bg-sky-50 transition-all",children:[r.jsx(es,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Create Batch"})]}),r.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all",children:[r.jsx(ct,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Assign Students"})]}),r.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all",children:[r.jsx(Mt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Schedule Classes"})]}),r.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-all",children:[r.jsx("span",{className:"text-2xl text-gray-400 mx-auto mb-2 block",children:""}),r.jsx("span",{className:"text-sm text-gray-600",children:"View Reports"})]})]})]})]})},oQ=()=>{const e=[{id:1,student:"Alice Johnson",course:"Computer Science",batch:"2024-A",issueDate:"2024-01-20",type:"Course Completion",status:"Issued",grade:"A+"},{id:2,student:"Bob Smith",course:"Mathematics",batch:"2024-B",issueDate:"2024-01-18",type:"Excellence Award",status:"Pending",grade:"A"},{id:3,student:"Eva Brown",course:"Biology",batch:"2023-D",issueDate:"2024-01-15",type:"Course Completion",status:"Issued",grade:"A+"},{id:4,student:"Carol Davis",course:"Physics",batch:"2024-A",issueDate:"2024-01-12",type:"Participation",status:"Draft",grade:"B+"},{id:5,student:"David Wilson",course:"Chemistry",batch:"2024-C",issueDate:"2024-01-10",type:"Course Completion",status:"Issued",grade:"A-"}],t=e.filter(a=>a.status==="Issued").length,s=e.filter(a=>a.status==="Pending").length,n=e.filter(a=>a.status==="Draft").length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Jr,{className:"w-8 h-8 text-sky-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Certificates"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Export All"})]}),r.jsxs("button",{className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(bs,{className:"w-5 h-5"}),r.jsx("span",{children:"Issue Certificate"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Jr,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Issued"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:t})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 font-bold text-lg",children:""})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s})]}),r.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-orange-600 font-bold text-lg",children:""})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Draft"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n})]}),r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-gray-600 font-bold text-lg",children:""})})]})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Certificate Templates"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"border-2 border-dashed border-sky-300 rounded-lg p-6 text-center hover:border-sky-500 hover:bg-sky-50 transition-all cursor-pointer",children:[r.jsx(Jr,{className:"w-12 h-12 text-sky-500 mx-auto mb-3"}),r.jsx("h3",{className:"font-semibold text-gray-800",children:"Course Completion"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Standard completion certificate"})]}),r.jsxs("div",{className:"border-2 border-dashed border-purple-300 rounded-lg p-6 text-center hover:border-purple-500 hover:bg-purple-50 transition-all cursor-pointer",children:[r.jsx("span",{className:"text-4xl mb-3 block",children:""}),r.jsx("h3",{className:"font-semibold text-gray-800",children:"Excellence Award"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"For outstanding performance"})]}),r.jsxs("div",{className:"border-2 border-dashed border-green-300 rounded-lg p-6 text-center hover:border-green-500 hover:bg-green-50 transition-all cursor-pointer",children:[r.jsx("span",{className:"text-4xl mb-3 block",children:""}),r.jsx("h3",{className:"font-semibold text-gray-800",children:"Graduation"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Degree completion certificate"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Certificates"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Certificate ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issue Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(a=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#C",a.id.toString().padStart(4,"0")]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-sky-500 rounded-full flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-white text-xs font-semibold",children:a.student.split(" ").map(i=>i[0]).join("")})}),r.jsx("span",{className:"text-sm text-gray-900",children:a.student})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:a.course}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Batch: ",a.batch]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a.type==="Course Completion"?"bg-blue-100 text-blue-800":a.type==="Excellence Award"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:a.type})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`text-sm font-semibold ${a.grade.startsWith("A")?"text-green-600":a.grade.startsWith("B")?"text-blue-600":"text-orange-600"}`,children:a.grade})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(a.issueDate).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a.status==="Issued"?"bg-green-100 text-green-800":a.status==="Pending"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:a.status})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[r.jsx("button",{className:"text-sky-600 hover:text-sky-900",title:"View",children:r.jsx(_r,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Download",children:r.jsx(hs,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"Send",children:r.jsx(KU,{className:"w-4 h-4"})})]})]},a.id))})]})})]})]})};class AQ{async generateCertificateFromMarksheet(t,s){try{const n=await je.post(`/admin/student-documents/certificates/generate-from-marksheet/${t}`,s||{});if(n.success&&n.data)return n.data.data;throw new Error(n.message||"Failed to generate certificate")}catch(n){throw console.error("Generate certificate error:",n),n}}async getCertificate(t){try{const s=await je.get(`/admin/student-documents/certificates/${t}`);if(s.success&&s.data)return s.data.data;throw new Error(s.message||"Failed to fetch certificate")}catch(s){throw console.error("Get certificate error:",s),s}}async getStudentCertificateData(t,s=1,n=10,a){try{const i={page:s,limit:n,includeDetails:!0};a&&Object.entries(a).forEach(([o,A])=>{A!=null&&A!==""&&(i[o]=A)});const l=await je.get(`/admin/student-documents/students/${t}/certificate-data`,{params:i});if(l.success&&l.data)return l.data;throw new Error(l.message||"Failed to fetch student certificate data")}catch(i){throw console.error("Get student certificate data error:",i),i}}async getStudentCertificates(t,s=1,n=10){try{const a=await je.get(`/admin/student-documents/students/${t}/certificates`,{params:{page:s,limit:n}});if(a.success&&a.data)return a.data.data;throw new Error(a.message||"Failed to fetch student certificates")}catch(a){throw console.error("Get student certificates error:",a),a}}}const U1=new AQ,cQ="modulepreload",dQ=function(e){return"/"+e},Nb={},Rd=function(t,s,n){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(s.map(A=>{if(A=dQ(A),A in Nb)return;Nb[A]=!0;const c=A.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":cQ,c||(h.as="script"),h.crossOrigin="",h.href=A,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${A}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function $t(e){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(e)}var Sa=Uint8Array,_n=Uint16Array,Q1=Int32Array,_1=new Sa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),L1=new Sa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jb=new Sa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),n4=function(e,t){for(var s=new _n(31),n=0;n<31;++n)s[n]=t+=1<<e[n-1];for(var a=new Q1(s[30]),n=1;n<30;++n)for(var i=s[n];i<s[n+1];++i)a[i]=i-s[n]<<5|n;return{b:s,r:a}},a4=n4(_1,2),uQ=a4.b,Pg=a4.r;uQ[28]=258,Pg[258]=28;var hQ=n4(L1,0),Bb=hQ.r,Dg=new _n(32768);for(var pr=0;pr<32768;++pr){var ol=(pr&43690)>>1|(pr&21845)<<1;ol=(ol&52428)>>2|(ol&13107)<<2,ol=(ol&61680)>>4|(ol&3855)<<4,Dg[pr]=((ol&65280)>>8|(ol&255)<<8)>>1}var Md=function(e,t,s){for(var n=e.length,a=0,i=new _n(t);a<n;++a)e[a]&&++i[e[a]-1];var l=new _n(t);for(a=1;a<t;++a)l[a]=l[a-1]+i[a-1]<<1;var o;if(s){o=new _n(1<<t);var A=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],d=t-e[a],h=l[e[a]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)o[Dg[h]>>A]=c}else for(o=new _n(n),a=0;a<n;++a)e[a]&&(o[a]=Dg[l[e[a]-1]++]>>15-e[a]);return o},Ro=new Sa(288);for(var pr=0;pr<144;++pr)Ro[pr]=8;for(var pr=144;pr<256;++pr)Ro[pr]=9;for(var pr=256;pr<280;++pr)Ro[pr]=7;for(var pr=280;pr<288;++pr)Ro[pr]=8;var j0=new Sa(32);for(var pr=0;pr<32;++pr)j0[pr]=5;var mQ=Md(Ro,9,0),fQ=Md(j0,5,0),i4=function(e){return(e+7)/8|0},pQ=function(e,t,s){return(s==null||s>e.length)&&(s=e.length),new Sa(e.subarray(t,s))},ji=function(e,t,s){s<<=t&7;var n=t/8|0;e[n]|=s,e[n+1]|=s>>8},Ad=function(e,t,s){s<<=t&7;var n=t/8|0;e[n]|=s,e[n+1]|=s>>8,e[n+2]|=s>>16},Rp=function(e,t){for(var s=[],n=0;n<e.length;++n)e[n]&&s.push({s:n,f:e[n]});var a=s.length,i=s.slice();if(!a)return{t:o4,l:0};if(a==1){var l=new Sa(s[0].s+1);return l[s[0].s]=1,{t:l,l:1}}s.sort(function(k,_){return k.f-_.f}),s.push({s:-1,f:25001});var o=s[0],A=s[1],c=0,d=1,h=2;for(s[0]={s:-1,f:o.f+A.f,l:o,r:A};d!=a-1;)o=s[s[c].f<s[h].f?c++:h++],A=s[c!=d&&s[c].f<s[h].f?c++:h++],s[d++]={s:-1,f:o.f+A.f,l:o,r:A};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var m=new _n(p+1),y=Tg(s[d-1],m,0);if(y>t){var n=0,v=0,B=y-t,x=1<<B;for(i.sort(function(_,I){return m[I.s]-m[_.s]||_.f-I.f});n<a;++n){var N=i[n].s;if(m[N]>t)v+=x-(1<<y-m[N]),m[N]=t;else break}for(v>>=B;v>0;){var b=i[n].s;m[b]<t?v-=1<<t-m[b]++-1:++n}for(;n>=0&&v;--n){var g=i[n].s;m[g]==t&&(--m[g],++v)}y=t}return{t:new Sa(m),l:y}},Tg=function(e,t,s){return e.s==-1?Math.max(Tg(e.l,t,s+1),Tg(e.r,t,s+1)):t[e.s]=s},Cb=function(e){for(var t=e.length;t&&!e[--t];);for(var s=new _n(++t),n=0,a=e[0],i=1,l=function(A){s[n++]=A},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=e[o]}return{c:s.subarray(0,n),n:t}},cd=function(e,t){for(var s=0,n=0;n<t.length;++n)s+=e[n]*t[n];return s},l4=function(e,t,s){var n=s.length,a=i4(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=s[i];return(a+4+n)*8},Sb=function(e,t,s,n,a,i,l,o,A,c,d){ji(t,d++,s),++a[256];for(var h=Rp(a,15),p=h.t,m=h.l,y=Rp(i,15),v=y.t,B=y.l,x=Cb(p),N=x.c,b=x.n,g=Cb(v),k=g.c,_=g.n,I=new _n(19),U=0;U<N.length;++U)++I[N[U]&31];for(var U=0;U<k.length;++U)++I[k[U]&31];for(var S=Rp(I,7),G=S.t,L=S.l,P=19;P>4&&!G[jb[P-1]];--P);var F=c+5<<3,M=cd(a,Ro)+cd(i,j0)+l,Z=cd(a,p)+cd(i,v)+l+14+3*P+cd(I,G)+2*I[16]+3*I[17]+7*I[18];if(A>=0&&F<=M&&F<=Z)return l4(t,d,e.subarray(A,A+c));var te,le,R,X;if(ji(t,d,1+(Z<M)),d+=2,Z<M){te=Md(p,m,0),le=p,R=Md(v,B,0),X=v;var se=Md(G,L,0);ji(t,d,b-257),ji(t,d+5,_-1),ji(t,d+10,P-4),d+=14;for(var U=0;U<P;++U)ji(t,d+3*U,G[jb[U]]);d+=3*P;for(var re=[N,k],Q=0;Q<2;++Q)for(var z=re[Q],U=0;U<z.length;++U){var $=z[U]&31;ji(t,d,se[$]),d+=G[$],$>15&&(ji(t,d,z[U]>>5&127),d+=z[U]>>12)}}else te=mQ,le=Ro,R=fQ,X=j0;for(var U=0;U<o;++U){var V=n[U];if(V>255){var $=V>>18&31;Ad(t,d,te[$+257]),d+=le[$+257],$>7&&(ji(t,d,V>>23&31),d+=_1[$]);var ne=V&31;Ad(t,d,R[ne]),d+=X[ne],ne>3&&(Ad(t,d,V>>5&8191),d+=L1[ne])}else Ad(t,d,te[V]),d+=le[V]}return Ad(t,d,te[256]),d+le[256]},xQ=new Q1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),o4=new Sa(0),gQ=function(e,t,s,n,a,i){var l=i.z||e.length,o=new Sa(n+l+5*(1+Math.ceil(l/7e3))+a),A=o.subarray(n,o.length-a),c=i.l,d=(i.r||0)&7;if(t){d&&(A[0]=i.r>>3);for(var h=xQ[t-1],p=h>>13,m=h&8191,y=(1<<s)-1,v=i.p||new _n(32768),B=i.h||new _n(y+1),x=Math.ceil(s/3),N=2*x,b=function(ye){return(e[ye]^e[ye+1]<<x^e[ye+2]<<N)&y},g=new Q1(25e3),k=new _n(288),_=new _n(32),I=0,U=0,S=i.i||0,G=0,L=i.w||0,P=0;S+2<l;++S){var F=b(S),M=S&32767,Z=B[F];if(v[M]=Z,B[F]=M,L<=S){var te=l-S;if((I>7e3||G>24576)&&(te>423||!c)){d=Sb(e,A,0,g,k,_,U,G,P,S-P,d),G=I=U=0,P=S;for(var le=0;le<286;++le)k[le]=0;for(var le=0;le<30;++le)_[le]=0}var R=2,X=0,se=m,re=M-Z&32767;if(te>2&&F==b(S-re))for(var Q=Math.min(p,te)-1,z=Math.min(32767,S),$=Math.min(258,te);re<=z&&--se&&M!=Z;){if(e[S+R]==e[S+R-re]){for(var V=0;V<$&&e[S+V]==e[S+V-re];++V);if(V>R){if(R=V,X=re,V>Q)break;for(var ne=Math.min(re,V-2),de=0,le=0;le<ne;++le){var xe=S-re+le&32767,ie=v[xe],Ae=xe-ie&32767;Ae>de&&(de=Ae,Z=xe)}}}M=Z,Z=v[M],re+=M-Z&32767}if(X){g[G++]=268435456|Pg[R]<<18|Bb[X];var ge=Pg[R]&31,Se=Bb[X]&31;U+=_1[ge]+L1[Se],++k[257+ge],++_[Se],L=S+R,++I}else g[G++]=e[S],++k[e[S]]}}for(S=Math.max(S,L);S<l;++S)g[G++]=e[S],++k[e[S]];d=Sb(e,A,c,g,k,_,U,G,P,S-P,d),c||(i.r=d&7|A[d/8|0]<<3,d-=7,i.h=B,i.p=v,i.i=S,i.w=L)}else{for(var S=i.w||0;S<l+c;S+=65535){var Qe=S+65535;Qe>=l&&(A[d/8|0]=c,Qe=l),d=l4(A,d+1,e.subarray(S,Qe))}i.i=l}return pQ(o,0,n+i4(d)+a)},A4=function(){var e=1,t=0;return{p:function(s){for(var n=e,a=t,i=s.length|0,l=0;l!=i;){for(var o=Math.min(l+2655,i);l<o;++l)a+=n+=s[l];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},yQ=function(e,t,s,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new Sa(i.length+e.length);l.set(i),l.set(e,i.length),e=l,a.w=i.length}return gQ(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,s,n,a)},c4=function(e,t,s){for(;s;++t)e[t]=s,s>>>=8},wQ=function(e,t){var s=t.level,n=s==0?0:s<6?1:s==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=A4();a.p(t.dictionary),c4(e,2,a.d())}};function Rg(e,t){t||(t={});var s=A4();s.p(e);var n=yQ(e,t,t.dictionary?6:2,4);return wQ(n,t),c4(n,n.length-4,s.d()),n}var vQ=typeof TextDecoder<"u"&&new TextDecoder,bQ=0;try{vQ.decode(o4,{stream:!0}),bQ=1}catch{}function NQ(e){if(Array.isArray(e))return e}function jQ(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var n,a,i,l,o=[],A=!0,c=!1;try{if(i=(s=s.call(e)).next,t!==0)for(;!(A=(n=i.call(s)).done)&&(o.push(n.value),o.length!==t);A=!0);}catch(d){c=!0,a=d}finally{try{if(!A&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(c)throw a}}return o}}function Eb(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}function BQ(e,t){if(e){if(typeof e=="string")return Eb(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Eb(e,t):void 0}}function CQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fb(e,t){return NQ(e)||jQ(e,t)||BQ(e,t)||CQ()}function Ib(e,t="utf8"){return new TextDecoder(t).decode(e)}const SQ=new TextEncoder;function EQ(e){return SQ.encode(e)}const FQ=1024*8,IQ=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Mp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class P1{constructor(t=FQ,s={}){Gt(this,"buffer");Gt(this,"byteLength");Gt(this,"byteOffset");Gt(this,"length");Gt(this,"offset");Gt(this,"lastWrittenByte");Gt(this,"littleEndian");Gt(this,"_data");Gt(this,"_mark");Gt(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=s.offset?s.offset>>>0:0,i=t.byteLength-a;let l=a;(ArrayBuffer.isView(t)||t instanceof P1)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,s){const n=Mp[s].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===IQ&&s!=="uint8"&&s!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const A=new Mp[s](o.buffer);return this.offset+=n,A.reverse(),A}const l=new Mp[s](i);return this.offset+=n,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let s="";for(let n=0;n<t;n++)s+=this.readChar();return s}readUtf8(t=1){return Ib(this.readBytes(t))}decodeText(t=1,s="utf8"){return Ib(this.readBytes(t),s)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let s=0;s<t.length;s++)this._data.setUint8(this.offset++,t[s]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let s=0;s<t.length;s++)this.writeUint8(t.charCodeAt(s));return this}writeUtf8(t){return this.writeBytes(EQ(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const kQ=4,kb=0,Ub=1,UQ=2;function wc(e){let t=e.length;for(;--t>=0;)e[t]=0}const QQ=0,d4=1,_Q=2,LQ=3,PQ=258,D1=29,Tu=256,mu=Tu+1+D1,$A=30,T1=19,u4=2*mu+1,No=15,Hp=16,DQ=7,R1=256,h4=16,m4=17,f4=18,Mg=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Mm=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),TQ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),p4=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RQ=512,Ii=new Array((mu+2)*2);wc(Ii);const Hd=new Array($A*2);wc(Hd);const fu=new Array(RQ);wc(fu);const pu=new Array(PQ-LQ+1);wc(pu);const M1=new Array(D1);wc(M1);const B0=new Array($A);wc(B0);function Op(e,t,s,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=s,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}let x4,g4,y4;function Kp(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const w4=e=>e<256?fu[e]:fu[256+(e>>>7)],xu=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},dn=(e,t,s)=>{e.bi_valid>Hp-s?(e.bi_buf|=t<<e.bi_valid&65535,xu(e,e.bi_buf),e.bi_buf=t>>Hp-e.bi_valid,e.bi_valid+=s-Hp):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=s)},Wa=(e,t,s)=>{dn(e,s[t*2],s[t*2+1])},v4=(e,t)=>{let s=0;do s|=e&1,e>>>=1,s<<=1;while(--t>0);return s>>>1},MQ=e=>{e.bi_valid===16?(xu(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},HQ=(e,t)=>{const s=t.dyn_tree,n=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,l=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,A=t.stat_desc.max_length;let c,d,h,p,m,y,v=0;for(p=0;p<=No;p++)e.bl_count[p]=0;for(s[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<u4;c++)d=e.heap[c],p=s[s[d*2+1]*2+1]+1,p>A&&(p=A,v++),s[d*2+1]=p,!(d>n)&&(e.bl_count[p]++,m=0,d>=o&&(m=l[d-o]),y=s[d*2],e.opt_len+=y*(p+m),i&&(e.static_len+=y*(a[d*2+1]+m)));if(v!==0){do{for(p=A-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[A]--,v-=2}while(v>0);for(p=A;p!==0;p--)for(d=e.bl_count[p];d!==0;)h=e.heap[--c],!(h>n)&&(s[h*2+1]!==p&&(e.opt_len+=(p-s[h*2+1])*s[h*2],s[h*2+1]=p),d--)}},b4=(e,t,s)=>{const n=new Array(No+1);let a=0,i,l;for(i=1;i<=No;i++)a=a+s[i-1]<<1,n[i]=a;for(l=0;l<=t;l++){let o=e[l*2+1];o!==0&&(e[l*2]=v4(n[o]++,o))}},OQ=()=>{let e,t,s,n,a;const i=new Array(No+1);for(s=0,n=0;n<D1-1;n++)for(M1[n]=s,e=0;e<1<<Mg[n];e++)pu[s++]=n;for(pu[s-1]=n,a=0,n=0;n<16;n++)for(B0[n]=a,e=0;e<1<<Mm[n];e++)fu[a++]=n;for(a>>=7;n<$A;n++)for(B0[n]=a<<7,e=0;e<1<<Mm[n]-7;e++)fu[256+a++]=n;for(t=0;t<=No;t++)i[t]=0;for(e=0;e<=143;)Ii[e*2+1]=8,e++,i[8]++;for(;e<=255;)Ii[e*2+1]=9,e++,i[9]++;for(;e<=279;)Ii[e*2+1]=7,e++,i[7]++;for(;e<=287;)Ii[e*2+1]=8,e++,i[8]++;for(b4(Ii,mu+1,i),e=0;e<$A;e++)Hd[e*2+1]=5,Hd[e*2]=v4(e,5);x4=new Op(Ii,Mg,Tu+1,mu,No),g4=new Op(Hd,Mm,0,$A,No),y4=new Op(new Array(0),TQ,0,T1,DQ)},N4=e=>{let t;for(t=0;t<mu;t++)e.dyn_ltree[t*2]=0;for(t=0;t<$A;t++)e.dyn_dtree[t*2]=0;for(t=0;t<T1;t++)e.bl_tree[t*2]=0;e.dyn_ltree[R1*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},j4=e=>{e.bi_valid>8?xu(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Qb=(e,t,s,n)=>{const a=t*2,i=s*2;return e[a]<e[i]||e[a]===e[i]&&n[t]<=n[s]},zp=(e,t,s)=>{const n=e.heap[s];let a=s<<1;for(;a<=e.heap_len&&(a<e.heap_len&&Qb(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Qb(t,n,e.heap[a],e.depth));)e.heap[s]=e.heap[a],s=a,a<<=1;e.heap[s]=n},_b=(e,t,s)=>{let n,a,i=0,l,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,a=e.pending_buf[e.sym_buf+i++],n===0?Wa(e,a,t):(l=pu[a],Wa(e,l+Tu+1,t),o=Mg[l],o!==0&&(a-=M1[l],dn(e,a,o)),n--,l=w4(n),Wa(e,l,s),o=Mm[l],o!==0&&(n-=B0[l],dn(e,n,o)));while(i<e.sym_next);Wa(e,R1,t)},Hg=(e,t)=>{const s=t.dyn_tree,n=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let l,o,A=-1,c;for(e.heap_len=0,e.heap_max=u4,l=0;l<i;l++)s[l*2]!==0?(e.heap[++e.heap_len]=A=l,e.depth[l]=0):s[l*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=A<2?++A:0,s[c*2]=1,e.depth[c]=0,e.opt_len--,a&&(e.static_len-=n[c*2+1]);for(t.max_code=A,l=e.heap_len>>1;l>=1;l--)zp(e,s,l);c=i;do l=e.heap[1],e.heap[1]=e.heap[e.heap_len--],zp(e,s,1),o=e.heap[1],e.heap[--e.heap_max]=l,e.heap[--e.heap_max]=o,s[c*2]=s[l*2]+s[o*2],e.depth[c]=(e.depth[l]>=e.depth[o]?e.depth[l]:e.depth[o])+1,s[l*2+1]=s[o*2+1]=c,e.heap[1]=c++,zp(e,s,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],HQ(e,t),b4(s,A,e.bl_count)},Lb=(e,t,s)=>{let n,a=-1,i,l=t[0*2+1],o=0,A=7,c=4;for(l===0&&(A=138,c=3),t[(s+1)*2+1]=65535,n=0;n<=s;n++)i=l,l=t[(n+1)*2+1],!(++o<A&&i===l)&&(o<c?e.bl_tree[i*2]+=o:i!==0?(i!==a&&e.bl_tree[i*2]++,e.bl_tree[h4*2]++):o<=10?e.bl_tree[m4*2]++:e.bl_tree[f4*2]++,o=0,a=i,l===0?(A=138,c=3):i===l?(A=6,c=3):(A=7,c=4))},Pb=(e,t,s)=>{let n,a=-1,i,l=t[0*2+1],o=0,A=7,c=4;for(l===0&&(A=138,c=3),n=0;n<=s;n++)if(i=l,l=t[(n+1)*2+1],!(++o<A&&i===l)){if(o<c)do Wa(e,i,e.bl_tree);while(--o!==0);else i!==0?(i!==a&&(Wa(e,i,e.bl_tree),o--),Wa(e,h4,e.bl_tree),dn(e,o-3,2)):o<=10?(Wa(e,m4,e.bl_tree),dn(e,o-3,3)):(Wa(e,f4,e.bl_tree),dn(e,o-11,7));o=0,a=i,l===0?(A=138,c=3):i===l?(A=6,c=3):(A=7,c=4)}},KQ=e=>{let t;for(Lb(e,e.dyn_ltree,e.l_desc.max_code),Lb(e,e.dyn_dtree,e.d_desc.max_code),Hg(e,e.bl_desc),t=T1-1;t>=3&&e.bl_tree[p4[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},zQ=(e,t,s,n)=>{let a;for(dn(e,t-257,5),dn(e,s-1,5),dn(e,n-4,4),a=0;a<n;a++)dn(e,e.bl_tree[p4[a]*2+1],3);Pb(e,e.dyn_ltree,t-1),Pb(e,e.dyn_dtree,s-1)},VQ=e=>{let t=4093624447,s;for(s=0;s<=31;s++,t>>>=1)if(t&1&&e.dyn_ltree[s*2]!==0)return kb;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Ub;for(s=32;s<Tu;s++)if(e.dyn_ltree[s*2]!==0)return Ub;return kb};let Db=!1;const GQ=e=>{Db||(OQ(),Db=!0),e.l_desc=new Kp(e.dyn_ltree,x4),e.d_desc=new Kp(e.dyn_dtree,g4),e.bl_desc=new Kp(e.bl_tree,y4),e.bi_buf=0,e.bi_valid=0,N4(e)},B4=(e,t,s,n)=>{dn(e,(QQ<<1)+(n?1:0),3),j4(e),xu(e,s),xu(e,~s),s&&e.pending_buf.set(e.window.subarray(t,t+s),e.pending),e.pending+=s},$Q=e=>{dn(e,d4<<1,3),Wa(e,R1,Ii),MQ(e)},qQ=(e,t,s,n)=>{let a,i,l=0;e.level>0?(e.strm.data_type===UQ&&(e.strm.data_type=VQ(e)),Hg(e,e.l_desc),Hg(e,e.d_desc),l=KQ(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=s+5,s+4<=a&&t!==-1?B4(e,t,s,n):e.strategy===kQ||i===a?(dn(e,(d4<<1)+(n?1:0),3),_b(e,Ii,Hd)):(dn(e,(_Q<<1)+(n?1:0),3),zQ(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),_b(e,e.dyn_ltree,e.dyn_dtree)),N4(e),n&&j4(e)},YQ=(e,t,s)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=s,t===0?e.dyn_ltree[s*2]++:(e.matches++,t--,e.dyn_ltree[(pu[s]+Tu+1)*2]++,e.dyn_dtree[w4(t)*2]++),e.sym_next===e.sym_end);var WQ=GQ,JQ=B4,XQ=qQ,ZQ=YQ,e_=$Q,t_={_tr_init:WQ,_tr_stored_block:JQ,_tr_flush_block:XQ,_tr_tally:ZQ,_tr_align:e_};const r_=(e,t,s,n)=>{let a=e&65535|0,i=e>>>16&65535|0,l=0;for(;s!==0;){l=s>2e3?2e3:s,s-=l;do a=a+t[n++]|0,i=i+a|0;while(--l);a%=65521,i%=65521}return a|i<<16|0};var gu=r_;const s_=()=>{let e,t=[];for(var s=0;s<256;s++){e=s;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[s]=e}return t},n_=new Uint32Array(s_()),a_=(e,t,s,n)=>{const a=n_,i=n+s;e^=-1;for(let l=n;l<i;l++)e=e>>>8^a[(e^t[l])&255];return e^-1};var gs=a_,lc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ru={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:i_,_tr_stored_block:Og,_tr_flush_block:l_,_tr_tally:_l,_tr_align:o_}=t_,{Z_NO_FLUSH:Ll,Z_PARTIAL_FLUSH:A_,Z_FULL_FLUSH:c_,Z_FINISH:Zn,Z_BLOCK:Tb,Z_OK:Fs,Z_STREAM_END:Rb,Z_STREAM_ERROR:ti,Z_DATA_ERROR:d_,Z_BUF_ERROR:Vp,Z_DEFAULT_COMPRESSION:u_,Z_FILTERED:h_,Z_HUFFMAN_ONLY:Hh,Z_RLE:m_,Z_FIXED:f_,Z_DEFAULT_STRATEGY:p_,Z_UNKNOWN:x_,Z_DEFLATED:mf}=Ru,g_=9,y_=15,w_=8,v_=29,b_=256,Kg=b_+1+v_,N_=30,j_=19,B_=2*Kg+1,C_=15,It=3,vl=258,ri=vl+It+1,S_=32,oc=42,H1=57,zg=69,Vg=73,Gg=91,$g=103,jo=113,wd=666,Zs=1,vc=2,Mo=3,bc=4,E_=3,Bo=(e,t)=>(e.msg=lc[t],t),Mb=e=>e*2-(e>4?9:0),gl=e=>{let t=e.length;for(;--t>=0;)e[t]=0},F_=e=>{let t,s,n,a=e.w_size;t=e.hash_size,n=t;do s=e.head[--n],e.head[n]=s>=a?s-a:0;while(--t);t=a,n=t;do s=e.prev[--n],e.prev[n]=s>=a?s-a:0;while(--t)};let I_=(e,t,s)=>(t<<e.hash_shift^s)&e.hash_mask,Pl=I_;const Fn=e=>{const t=e.state;let s=t.pending;s>e.avail_out&&(s=e.avail_out),s!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+s),e.next_out),e.next_out+=s,t.pending_out+=s,e.total_out+=s,e.avail_out-=s,t.pending-=s,t.pending===0&&(t.pending_out=0))},Ln=(e,t)=>{l_(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Fn(e.strm)},Tt=(e,t)=>{e.pending_buf[e.pending++]=t},dd=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},qg=(e,t,s,n)=>{let a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),s),e.state.wrap===1?e.adler=gu(e.adler,t,a,s):e.state.wrap===2&&(e.adler=gs(e.adler,t,a,s)),e.next_in+=a,e.total_in+=a,a)},C4=(e,t)=>{let s=e.max_chain_length,n=e.strstart,a,i,l=e.prev_length,o=e.nice_match;const A=e.strstart>e.w_size-ri?e.strstart-(e.w_size-ri):0,c=e.window,d=e.w_mask,h=e.prev,p=e.strstart+vl;let m=c[n+l-1],y=c[n+l];e.prev_length>=e.good_match&&(s>>=2),o>e.lookahead&&(o=e.lookahead);do if(a=t,!(c[a+l]!==y||c[a+l-1]!==m||c[a]!==c[n]||c[++a]!==c[n+1])){n+=2,a++;do;while(c[++n]===c[++a]&&c[++n]===c[++a]&&c[++n]===c[++a]&&c[++n]===c[++a]&&c[++n]===c[++a]&&c[++n]===c[++a]&&c[++n]===c[++a]&&c[++n]===c[++a]&&n<p);if(i=vl-(p-n),n=p-vl,i>l){if(e.match_start=t,l=i,i>=o)break;m=c[n+l-1],y=c[n+l]}}while((t=h[t&d])>A&&--s!==0);return l<=e.lookahead?l:e.lookahead},Ac=e=>{const t=e.w_size;let s,n,a;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ri)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),F_(e),n+=t),e.strm.avail_in===0)break;if(s=qg(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=s,e.lookahead+e.insert>=It)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Pl(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Pl(e,e.ins_h,e.window[a+It-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<It)););}while(e.lookahead<ri&&e.strm.avail_in!==0)},S4=(e,t)=>{let s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,a,i,l=0,o=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,a=e.strstart-e.block_start,n>a+e.strm.avail_in&&(n=a+e.strm.avail_in),n>i&&(n=i),n<s&&(n===0&&t!==Zn||t===Ll||n!==a+e.strm.avail_in)))break;l=t===Zn&&n===a+e.strm.avail_in?1:0,Og(e,0,0,l),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Fn(e.strm),a&&(a>n&&(a=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,n-=a),n&&(qg(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(l===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),l?bc:t!==Ll&&t!==Zn&&e.strm.avail_in===0&&e.strstart===e.block_start?vc:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(qg(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,s=i>e.w_size?e.w_size:i,a=e.strstart-e.block_start,(a>=s||(a||t===Zn)&&t!==Ll&&e.strm.avail_in===0&&a<=i)&&(n=a>i?i:a,l=t===Zn&&e.strm.avail_in===0&&n===a?1:0,Og(e,e.block_start,n,l),e.block_start+=n,Fn(e.strm)),l?Mo:Zs)},Gp=(e,t)=>{let s,n;for(;;){if(e.lookahead<ri){if(Ac(e),e.lookahead<ri&&t===Ll)return Zs;if(e.lookahead===0)break}if(s=0,e.lookahead>=It&&(e.ins_h=Pl(e,e.ins_h,e.window[e.strstart+It-1]),s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),s!==0&&e.strstart-s<=e.w_size-ri&&(e.match_length=C4(e,s)),e.match_length>=It)if(n=_l(e,e.strstart-e.match_start,e.match_length-It),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=It){e.match_length--;do e.strstart++,e.ins_h=Pl(e,e.ins_h,e.window[e.strstart+It-1]),s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Pl(e,e.ins_h,e.window[e.strstart+1]);else n=_l(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Ln(e,!1),e.strm.avail_out===0))return Zs}return e.insert=e.strstart<It-1?e.strstart:It-1,t===Zn?(Ln(e,!0),e.strm.avail_out===0?Mo:bc):e.sym_next&&(Ln(e,!1),e.strm.avail_out===0)?Zs:vc},cA=(e,t)=>{let s,n,a;for(;;){if(e.lookahead<ri){if(Ac(e),e.lookahead<ri&&t===Ll)return Zs;if(e.lookahead===0)break}if(s=0,e.lookahead>=It&&(e.ins_h=Pl(e,e.ins_h,e.window[e.strstart+It-1]),s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=It-1,s!==0&&e.prev_length<e.max_lazy_match&&e.strstart-s<=e.w_size-ri&&(e.match_length=C4(e,s),e.match_length<=5&&(e.strategy===h_||e.match_length===It&&e.strstart-e.match_start>4096)&&(e.match_length=It-1)),e.prev_length>=It&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-It,n=_l(e,e.strstart-1-e.prev_match,e.prev_length-It),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=Pl(e,e.ins_h,e.window[e.strstart+It-1]),s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=It-1,e.strstart++,n&&(Ln(e,!1),e.strm.avail_out===0))return Zs}else if(e.match_available){if(n=_l(e,0,e.window[e.strstart-1]),n&&Ln(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Zs}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=_l(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<It-1?e.strstart:It-1,t===Zn?(Ln(e,!0),e.strm.avail_out===0?Mo:bc):e.sym_next&&(Ln(e,!1),e.strm.avail_out===0)?Zs:vc},k_=(e,t)=>{let s,n,a,i;const l=e.window;for(;;){if(e.lookahead<=vl){if(Ac(e),e.lookahead<=vl&&t===Ll)return Zs;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=It&&e.strstart>0&&(a=e.strstart-1,n=l[a],n===l[++a]&&n===l[++a]&&n===l[++a])){i=e.strstart+vl;do;while(n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&a<i);e.match_length=vl-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=It?(s=_l(e,1,e.match_length-It),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(s=_l(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),s&&(Ln(e,!1),e.strm.avail_out===0))return Zs}return e.insert=0,t===Zn?(Ln(e,!0),e.strm.avail_out===0?Mo:bc):e.sym_next&&(Ln(e,!1),e.strm.avail_out===0)?Zs:vc},U_=(e,t)=>{let s;for(;;){if(e.lookahead===0&&(Ac(e),e.lookahead===0)){if(t===Ll)return Zs;break}if(e.match_length=0,s=_l(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,s&&(Ln(e,!1),e.strm.avail_out===0))return Zs}return e.insert=0,t===Zn?(Ln(e,!0),e.strm.avail_out===0?Mo:bc):e.sym_next&&(Ln(e,!1),e.strm.avail_out===0)?Zs:vc};function Va(e,t,s,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=s,this.max_chain=n,this.func=a}const vd=[new Va(0,0,0,0,S4),new Va(4,4,8,4,Gp),new Va(4,5,16,8,Gp),new Va(4,6,32,32,Gp),new Va(4,4,16,16,cA),new Va(8,16,32,32,cA),new Va(8,16,128,128,cA),new Va(8,32,128,256,cA),new Va(32,128,258,1024,cA),new Va(32,258,258,4096,cA)],Q_=e=>{e.window_size=2*e.w_size,gl(e.head),e.max_lazy_match=vd[e.level].max_lazy,e.good_match=vd[e.level].good_length,e.nice_match=vd[e.level].nice_length,e.max_chain_length=vd[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=It-1,e.match_available=0,e.ins_h=0};function __(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=mf,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(B_*2),this.dyn_dtree=new Uint16Array((2*N_+1)*2),this.bl_tree=new Uint16Array((2*j_+1)*2),gl(this.dyn_ltree),gl(this.dyn_dtree),gl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(C_+1),this.heap=new Uint16Array(2*Kg+1),gl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Kg+1),gl(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Mu=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==oc&&t.status!==H1&&t.status!==zg&&t.status!==Vg&&t.status!==Gg&&t.status!==$g&&t.status!==jo&&t.status!==wd?1:0},E4=e=>{if(Mu(e))return Bo(e,ti);e.total_in=e.total_out=0,e.data_type=x_;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?H1:t.wrap?oc:jo,e.adler=t.wrap===2?0:1,t.last_flush=-2,i_(t),Fs},F4=e=>{const t=E4(e);return t===Fs&&Q_(e.state),t},L_=(e,t)=>Mu(e)||e.state.wrap!==2?ti:(e.state.gzhead=t,Fs),I4=(e,t,s,n,a,i)=>{if(!e)return ti;let l=1;if(t===u_&&(t=6),n<0?(l=0,n=-n):n>15&&(l=2,n-=16),a<1||a>g_||s!==mf||n<8||n>15||t<0||t>9||i<0||i>f_||n===8&&l!==1)return Bo(e,ti);n===8&&(n=9);const o=new __;return e.state=o,o.strm=e,o.status=oc,o.wrap=l,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+It-1)/It),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=i,o.method=s,F4(e)},P_=(e,t)=>I4(e,t,mf,y_,w_,p_),D_=(e,t)=>{if(Mu(e)||t>Tb||t<0)return e?Bo(e,ti):ti;const s=e.state;if(!e.output||e.avail_in!==0&&!e.input||s.status===wd&&t!==Zn)return Bo(e,e.avail_out===0?Vp:ti);const n=s.last_flush;if(s.last_flush=t,s.pending!==0){if(Fn(e),e.avail_out===0)return s.last_flush=-1,Fs}else if(e.avail_in===0&&Mb(t)<=Mb(n)&&t!==Zn)return Bo(e,Vp);if(s.status===wd&&e.avail_in!==0)return Bo(e,Vp);if(s.status===oc&&s.wrap===0&&(s.status=jo),s.status===oc){let a=mf+(s.w_bits-8<<4)<<8,i=-1;if(s.strategy>=Hh||s.level<2?i=0:s.level<6?i=1:s.level===6?i=2:i=3,a|=i<<6,s.strstart!==0&&(a|=S_),a+=31-a%31,dd(s,a),s.strstart!==0&&(dd(s,e.adler>>>16),dd(s,e.adler&65535)),e.adler=1,s.status=jo,Fn(e),s.pending!==0)return s.last_flush=-1,Fs}if(s.status===H1){if(e.adler=0,Tt(s,31),Tt(s,139),Tt(s,8),s.gzhead)Tt(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),Tt(s,s.gzhead.time&255),Tt(s,s.gzhead.time>>8&255),Tt(s,s.gzhead.time>>16&255),Tt(s,s.gzhead.time>>24&255),Tt(s,s.level===9?2:s.strategy>=Hh||s.level<2?4:0),Tt(s,s.gzhead.os&255),s.gzhead.extra&&s.gzhead.extra.length&&(Tt(s,s.gzhead.extra.length&255),Tt(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=gs(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=zg;else if(Tt(s,0),Tt(s,0),Tt(s,0),Tt(s,0),Tt(s,0),Tt(s,s.level===9?2:s.strategy>=Hh||s.level<2?4:0),Tt(s,E_),s.status=jo,Fn(e),s.pending!==0)return s.last_flush=-1,Fs}if(s.status===zg){if(s.gzhead.extra){let a=s.pending,i=(s.gzhead.extra.length&65535)-s.gzindex;for(;s.pending+i>s.pending_buf_size;){let o=s.pending_buf_size-s.pending;if(s.pending_buf.set(s.gzhead.extra.subarray(s.gzindex,s.gzindex+o),s.pending),s.pending=s.pending_buf_size,s.gzhead.hcrc&&s.pending>a&&(e.adler=gs(e.adler,s.pending_buf,s.pending-a,a)),s.gzindex+=o,Fn(e),s.pending!==0)return s.last_flush=-1,Fs;a=0,i-=o}let l=new Uint8Array(s.gzhead.extra);s.pending_buf.set(l.subarray(s.gzindex,s.gzindex+i),s.pending),s.pending+=i,s.gzhead.hcrc&&s.pending>a&&(e.adler=gs(e.adler,s.pending_buf,s.pending-a,a)),s.gzindex=0}s.status=Vg}if(s.status===Vg){if(s.gzhead.name){let a=s.pending,i;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>a&&(e.adler=gs(e.adler,s.pending_buf,s.pending-a,a)),Fn(e),s.pending!==0)return s.last_flush=-1,Fs;a=0}s.gzindex<s.gzhead.name.length?i=s.gzhead.name.charCodeAt(s.gzindex++)&255:i=0,Tt(s,i)}while(i!==0);s.gzhead.hcrc&&s.pending>a&&(e.adler=gs(e.adler,s.pending_buf,s.pending-a,a)),s.gzindex=0}s.status=Gg}if(s.status===Gg){if(s.gzhead.comment){let a=s.pending,i;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>a&&(e.adler=gs(e.adler,s.pending_buf,s.pending-a,a)),Fn(e),s.pending!==0)return s.last_flush=-1,Fs;a=0}s.gzindex<s.gzhead.comment.length?i=s.gzhead.comment.charCodeAt(s.gzindex++)&255:i=0,Tt(s,i)}while(i!==0);s.gzhead.hcrc&&s.pending>a&&(e.adler=gs(e.adler,s.pending_buf,s.pending-a,a))}s.status=$g}if(s.status===$g){if(s.gzhead.hcrc){if(s.pending+2>s.pending_buf_size&&(Fn(e),s.pending!==0))return s.last_flush=-1,Fs;Tt(s,e.adler&255),Tt(s,e.adler>>8&255),e.adler=0}if(s.status=jo,Fn(e),s.pending!==0)return s.last_flush=-1,Fs}if(e.avail_in!==0||s.lookahead!==0||t!==Ll&&s.status!==wd){let a=s.level===0?S4(s,t):s.strategy===Hh?U_(s,t):s.strategy===m_?k_(s,t):vd[s.level].func(s,t);if((a===Mo||a===bc)&&(s.status=wd),a===Zs||a===Mo)return e.avail_out===0&&(s.last_flush=-1),Fs;if(a===vc&&(t===A_?o_(s):t!==Tb&&(Og(s,0,0,!1),t===c_&&(gl(s.head),s.lookahead===0&&(s.strstart=0,s.block_start=0,s.insert=0))),Fn(e),e.avail_out===0))return s.last_flush=-1,Fs}return t!==Zn?Fs:s.wrap<=0?Rb:(s.wrap===2?(Tt(s,e.adler&255),Tt(s,e.adler>>8&255),Tt(s,e.adler>>16&255),Tt(s,e.adler>>24&255),Tt(s,e.total_in&255),Tt(s,e.total_in>>8&255),Tt(s,e.total_in>>16&255),Tt(s,e.total_in>>24&255)):(dd(s,e.adler>>>16),dd(s,e.adler&65535)),Fn(e),s.wrap>0&&(s.wrap=-s.wrap),s.pending!==0?Fs:Rb)},T_=e=>{if(Mu(e))return ti;const t=e.state.status;return e.state=null,t===jo?Bo(e,d_):Fs},R_=(e,t)=>{let s=t.length;if(Mu(e))return ti;const n=e.state,a=n.wrap;if(a===2||a===1&&n.status!==oc||n.lookahead)return ti;if(a===1&&(e.adler=gu(e.adler,t,s,0)),n.wrap=0,s>=n.w_size){a===0&&(gl(n.head),n.strstart=0,n.block_start=0,n.insert=0);let A=new Uint8Array(n.w_size);A.set(t.subarray(s-n.w_size,s),0),t=A,s=n.w_size}const i=e.avail_in,l=e.next_in,o=e.input;for(e.avail_in=s,e.next_in=0,e.input=t,Ac(n);n.lookahead>=It;){let A=n.strstart,c=n.lookahead-(It-1);do n.ins_h=Pl(n,n.ins_h,n.window[A+It-1]),n.prev[A&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=A,A++;while(--c);n.strstart=A,n.lookahead=It-1,Ac(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=It-1,n.match_available=0,e.next_in=l,e.input=o,e.avail_in=i,n.wrap=a,Fs};var M_=P_,H_=I4,O_=F4,K_=E4,z_=L_,V_=D_,G_=T_,$_=R_,q_="pako deflate (from Nodeca project)",Od={deflateInit:M_,deflateInit2:H_,deflateReset:O_,deflateResetKeep:K_,deflateSetHeader:z_,deflate:V_,deflateEnd:G_,deflateSetDictionary:$_,deflateInfo:q_};const Y_=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var W_=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const s=t.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(const n in s)Y_(s,n)&&(e[n]=s[n])}}return e},J_=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const s=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let l=e[n];s.set(l,a),a+=l.length}return s},ff={assign:W_,flattenChunks:J_};let k4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{k4=!1}const yu=new Uint8Array(256);for(let e=0;e<256;e++)yu[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;yu[254]=yu[254]=1;var X_=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,s,n,a,i,l=e.length,o=0;for(a=0;a<l;a++)s=e.charCodeAt(a),(s&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(s=65536+(s-55296<<10)+(n-56320),a++)),o+=s<128?1:s<2048?2:s<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)s=e.charCodeAt(a),(s&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(s=65536+(s-55296<<10)+(n-56320),a++)),s<128?t[i++]=s:s<2048?(t[i++]=192|s>>>6,t[i++]=128|s&63):s<65536?(t[i++]=224|s>>>12,t[i++]=128|s>>>6&63,t[i++]=128|s&63):(t[i++]=240|s>>>18,t[i++]=128|s>>>12&63,t[i++]=128|s>>>6&63,t[i++]=128|s&63);return t};const Z_=(e,t)=>{if(t<65534&&e.subarray&&k4)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let s="";for(let n=0;n<t;n++)s+=String.fromCharCode(e[n]);return s};var e8=(e,t)=>{const s=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(s*2);for(a=0,n=0;n<s;){let l=e[n++];if(l<128){i[a++]=l;continue}let o=yu[l];if(o>4){i[a++]=65533,n+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&n<s;)l=l<<6|e[n++]&63,o--;if(o>1){i[a++]=65533;continue}l<65536?i[a++]=l:(l-=65536,i[a++]=55296|l>>10&1023,i[a++]=56320|l&1023)}return Z_(i,a)},t8=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let s=t-1;for(;s>=0&&(e[s]&192)===128;)s--;return s<0||s===0?t:s+yu[e[s]]>t?s:t},wu={string2buf:X_,buf2string:e8,utf8border:t8};function r8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var U4=r8;const Q4=Object.prototype.toString,{Z_NO_FLUSH:s8,Z_SYNC_FLUSH:n8,Z_FULL_FLUSH:a8,Z_FINISH:i8,Z_OK:C0,Z_STREAM_END:l8,Z_DEFAULT_COMPRESSION:o8,Z_DEFAULT_STRATEGY:A8,Z_DEFLATED:c8}=Ru;function O1(e){this.options=ff.assign({level:o8,method:c8,chunkSize:16384,windowBits:15,memLevel:8,strategy:A8},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new U4,this.strm.avail_out=0;let s=Od.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(s!==C0)throw new Error(lc[s]);if(t.header&&Od.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=wu.string2buf(t.dictionary):Q4.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,s=Od.deflateSetDictionary(this.strm,n),s!==C0)throw new Error(lc[s]);this._dict_set=!0}}O1.prototype.push=function(e,t){const s=this.strm,n=this.options.chunkSize;let a,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?i8:s8,typeof e=="string"?s.input=wu.string2buf(e):Q4.call(e)==="[object ArrayBuffer]"?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;;){if(s.avail_out===0&&(s.output=new Uint8Array(n),s.next_out=0,s.avail_out=n),(i===n8||i===a8)&&s.avail_out<=6){this.onData(s.output.subarray(0,s.next_out)),s.avail_out=0;continue}if(a=Od.deflate(s,i),a===l8)return s.next_out>0&&this.onData(s.output.subarray(0,s.next_out)),a=Od.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===C0;if(s.avail_out===0){this.onData(s.output);continue}if(i>0&&s.next_out>0){this.onData(s.output.subarray(0,s.next_out)),s.avail_out=0;continue}if(s.avail_in===0)break}return!0};O1.prototype.onData=function(e){this.chunks.push(e)};O1.prototype.onEnd=function(e){e===C0&&(this.result=ff.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const Oh=16209,d8=16191;var u8=function(t,s){let n,a,i,l,o,A,c,d,h,p,m,y,v,B,x,N,b,g,k,_,I,U,S,G;const L=t.state;n=t.next_in,S=t.input,a=n+(t.avail_in-5),i=t.next_out,G=t.output,l=i-(s-t.avail_out),o=i+(t.avail_out-257),A=L.dmax,c=L.wsize,d=L.whave,h=L.wnext,p=L.window,m=L.hold,y=L.bits,v=L.lencode,B=L.distcode,x=(1<<L.lenbits)-1,N=(1<<L.distbits)-1;e:do{y<15&&(m+=S[n++]<<y,y+=8,m+=S[n++]<<y,y+=8),b=v[m&x];t:for(;;){if(g=b>>>24,m>>>=g,y-=g,g=b>>>16&255,g===0)G[i++]=b&65535;else if(g&16){k=b&65535,g&=15,g&&(y<g&&(m+=S[n++]<<y,y+=8),k+=m&(1<<g)-1,m>>>=g,y-=g),y<15&&(m+=S[n++]<<y,y+=8,m+=S[n++]<<y,y+=8),b=B[m&N];r:for(;;){if(g=b>>>24,m>>>=g,y-=g,g=b>>>16&255,g&16){if(_=b&65535,g&=15,y<g&&(m+=S[n++]<<y,y+=8,y<g&&(m+=S[n++]<<y,y+=8)),_+=m&(1<<g)-1,_>A){t.msg="invalid distance too far back",L.mode=Oh;break e}if(m>>>=g,y-=g,g=i-l,_>g){if(g=_-g,g>d&&L.sane){t.msg="invalid distance too far back",L.mode=Oh;break e}if(I=0,U=p,h===0){if(I+=c-g,g<k){k-=g;do G[i++]=p[I++];while(--g);I=i-_,U=G}}else if(h<g){if(I+=c+h-g,g-=h,g<k){k-=g;do G[i++]=p[I++];while(--g);if(I=0,h<k){g=h,k-=g;do G[i++]=p[I++];while(--g);I=i-_,U=G}}}else if(I+=h-g,g<k){k-=g;do G[i++]=p[I++];while(--g);I=i-_,U=G}for(;k>2;)G[i++]=U[I++],G[i++]=U[I++],G[i++]=U[I++],k-=3;k&&(G[i++]=U[I++],k>1&&(G[i++]=U[I++]))}else{I=i-_;do G[i++]=G[I++],G[i++]=G[I++],G[i++]=G[I++],k-=3;while(k>2);k&&(G[i++]=G[I++],k>1&&(G[i++]=G[I++]))}}else if(g&64){t.msg="invalid distance code",L.mode=Oh;break e}else{b=B[(b&65535)+(m&(1<<g)-1)];continue r}break}}else if(g&64)if(g&32){L.mode=d8;break e}else{t.msg="invalid literal/length code",L.mode=Oh;break e}else{b=v[(b&65535)+(m&(1<<g)-1)];continue t}break}}while(n<a&&i<o);k=y>>3,n-=k,y-=k<<3,m&=(1<<y)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<o?257+(o-i):257-(i-o),L.hold=m,L.bits=y};const dA=15,Hb=852,Ob=592,Kb=0,$p=1,zb=2,h8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),m8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),f8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),p8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),x8=(e,t,s,n,a,i,l,o)=>{const A=o.bits;let c=0,d=0,h=0,p=0,m=0,y=0,v=0,B=0,x=0,N=0,b,g,k,_,I,U=null,S;const G=new Uint16Array(dA+1),L=new Uint16Array(dA+1);let P=null,F,M,Z;for(c=0;c<=dA;c++)G[c]=0;for(d=0;d<n;d++)G[t[s+d]]++;for(m=A,p=dA;p>=1&&G[p]===0;p--);if(m>p&&(m=p),p===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<p&&G[h]===0;h++);for(m<h&&(m=h),B=1,c=1;c<=dA;c++)if(B<<=1,B-=G[c],B<0)return-1;if(B>0&&(e===Kb||p!==1))return-1;for(L[1]=0,c=1;c<dA;c++)L[c+1]=L[c]+G[c];for(d=0;d<n;d++)t[s+d]!==0&&(l[L[t[s+d]]++]=d);if(e===Kb?(U=P=l,S=20):e===$p?(U=h8,P=m8,S=257):(U=f8,P=p8,S=0),N=0,d=0,c=h,I=i,y=m,v=0,k=-1,x=1<<m,_=x-1,e===$p&&x>Hb||e===zb&&x>Ob)return 1;for(;;){F=c-v,l[d]+1<S?(M=0,Z=l[d]):l[d]>=S?(M=P[l[d]-S],Z=U[l[d]-S]):(M=96,Z=0),b=1<<c-v,g=1<<y,h=g;do g-=b,a[I+(N>>v)+g]=F<<24|M<<16|Z|0;while(g!==0);for(b=1<<c-1;N&b;)b>>=1;if(b!==0?(N&=b-1,N+=b):N=0,d++,--G[c]===0){if(c===p)break;c=t[s+l[d]]}if(c>m&&(N&_)!==k){for(v===0&&(v=m),I+=h,y=c-v,B=1<<y;y+v<p&&(B-=G[y+v],!(B<=0));)y++,B<<=1;if(x+=1<<y,e===$p&&x>Hb||e===zb&&x>Ob)return 1;k=N&_,a[k]=m<<24|y<<16|I-i|0}}return N!==0&&(a[I+N]=c-v<<24|64<<16|0),o.bits=m,0};var Kd=x8;const g8=0,_4=1,L4=2,{Z_FINISH:Vb,Z_BLOCK:y8,Z_TREES:Kh,Z_OK:Ho,Z_STREAM_END:w8,Z_NEED_DICT:v8,Z_STREAM_ERROR:la,Z_DATA_ERROR:P4,Z_MEM_ERROR:D4,Z_BUF_ERROR:b8,Z_DEFLATED:Gb}=Ru,pf=16180,$b=16181,qb=16182,Yb=16183,Wb=16184,Jb=16185,Xb=16186,Zb=16187,e2=16188,t2=16189,S0=16190,Bi=16191,qp=16192,r2=16193,Yp=16194,s2=16195,n2=16196,a2=16197,i2=16198,zh=16199,Vh=16200,l2=16201,o2=16202,A2=16203,c2=16204,d2=16205,Wp=16206,u2=16207,h2=16208,gr=16209,T4=16210,R4=16211,N8=852,j8=592,B8=15,C8=B8,m2=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function S8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zo=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<pf||t.mode>R4?1:0},M4=e=>{if(zo(e))return la;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=pf,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(N8),t.distcode=t.distdyn=new Int32Array(j8),t.sane=1,t.back=-1,Ho},H4=e=>{if(zo(e))return la;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,M4(e)},O4=(e,t)=>{let s;if(zo(e))return la;const n=e.state;return t<0?(s=0,t=-t):(s=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?la:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=s,n.wbits=t,H4(e))},K4=(e,t)=>{if(!e)return la;const s=new S8;e.state=s,s.strm=e,s.window=null,s.mode=pf;const n=O4(e,t);return n!==Ho&&(e.state=null),n},E8=e=>K4(e,C8);let f2=!0,Jp,Xp;const F8=e=>{if(f2){Jp=new Int32Array(512),Xp=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Kd(_4,e.lens,0,288,Jp,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Kd(L4,e.lens,0,32,Xp,0,e.work,{bits:5}),f2=!1}e.lencode=Jp,e.lenbits=9,e.distcode=Xp,e.distbits=5},z4=(e,t,s,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(s-i.wsize,s),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(s-n,s-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(s-n,s),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},I8=(e,t)=>{let s,n,a,i,l,o,A,c,d,h,p,m,y,v,B=0,x,N,b,g,k,_,I,U;const S=new Uint8Array(4);let G,L;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zo(e)||!e.output||!e.input&&e.avail_in!==0)return la;s=e.state,s.mode===Bi&&(s.mode=qp),l=e.next_out,a=e.output,A=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,c=s.hold,d=s.bits,h=o,p=A,U=Ho;e:for(;;)switch(s.mode){case pf:if(s.wrap===0){s.mode=qp;break}for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(s.wrap&2&&c===35615){s.wbits===0&&(s.wbits=15),s.check=0,S[0]=c&255,S[1]=c>>>8&255,s.check=gs(s.check,S,2,0),c=0,d=0,s.mode=$b;break}if(s.head&&(s.head.done=!1),!(s.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",s.mode=gr;break}if((c&15)!==Gb){e.msg="unknown compression method",s.mode=gr;break}if(c>>>=4,d-=4,I=(c&15)+8,s.wbits===0&&(s.wbits=I),I>15||I>s.wbits){e.msg="invalid window size",s.mode=gr;break}s.dmax=1<<s.wbits,s.flags=0,e.adler=s.check=1,s.mode=c&512?t2:Bi,c=0,d=0;break;case $b:for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(s.flags=c,(s.flags&255)!==Gb){e.msg="unknown compression method",s.mode=gr;break}if(s.flags&57344){e.msg="unknown header flags set",s.mode=gr;break}s.head&&(s.head.text=c>>8&1),s.flags&512&&s.wrap&4&&(S[0]=c&255,S[1]=c>>>8&255,s.check=gs(s.check,S,2,0)),c=0,d=0,s.mode=qb;case qb:for(;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}s.head&&(s.head.time=c),s.flags&512&&s.wrap&4&&(S[0]=c&255,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,s.check=gs(s.check,S,4,0)),c=0,d=0,s.mode=Yb;case Yb:for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}s.head&&(s.head.xflags=c&255,s.head.os=c>>8),s.flags&512&&s.wrap&4&&(S[0]=c&255,S[1]=c>>>8&255,s.check=gs(s.check,S,2,0)),c=0,d=0,s.mode=Wb;case Wb:if(s.flags&1024){for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}s.length=c,s.head&&(s.head.extra_len=c),s.flags&512&&s.wrap&4&&(S[0]=c&255,S[1]=c>>>8&255,s.check=gs(s.check,S,2,0)),c=0,d=0}else s.head&&(s.head.extra=null);s.mode=Jb;case Jb:if(s.flags&1024&&(m=s.length,m>o&&(m=o),m&&(s.head&&(I=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Uint8Array(s.head.extra_len)),s.head.extra.set(n.subarray(i,i+m),I)),s.flags&512&&s.wrap&4&&(s.check=gs(s.check,n,m,i)),o-=m,i+=m,s.length-=m),s.length))break e;s.length=0,s.mode=Xb;case Xb:if(s.flags&2048){if(o===0)break e;m=0;do I=n[i+m++],s.head&&I&&s.length<65536&&(s.head.name+=String.fromCharCode(I));while(I&&m<o);if(s.flags&512&&s.wrap&4&&(s.check=gs(s.check,n,m,i)),o-=m,i+=m,I)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=Zb;case Zb:if(s.flags&4096){if(o===0)break e;m=0;do I=n[i+m++],s.head&&I&&s.length<65536&&(s.head.comment+=String.fromCharCode(I));while(I&&m<o);if(s.flags&512&&s.wrap&4&&(s.check=gs(s.check,n,m,i)),o-=m,i+=m,I)break e}else s.head&&(s.head.comment=null);s.mode=e2;case e2:if(s.flags&512){for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(s.wrap&4&&c!==(s.check&65535)){e.msg="header crc mismatch",s.mode=gr;break}c=0,d=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),e.adler=s.check=0,s.mode=Bi;break;case t2:for(;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}e.adler=s.check=m2(c),c=0,d=0,s.mode=S0;case S0:if(s.havedict===0)return e.next_out=l,e.avail_out=A,e.next_in=i,e.avail_in=o,s.hold=c,s.bits=d,v8;e.adler=s.check=1,s.mode=Bi;case Bi:if(t===y8||t===Kh)break e;case qp:if(s.last){c>>>=d&7,d-=d&7,s.mode=Wp;break}for(;d<3;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}switch(s.last=c&1,c>>>=1,d-=1,c&3){case 0:s.mode=r2;break;case 1:if(F8(s),s.mode=zh,t===Kh){c>>>=2,d-=2;break e}break;case 2:s.mode=n2;break;case 3:e.msg="invalid block type",s.mode=gr}c>>>=2,d-=2;break;case r2:for(c>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",s.mode=gr;break}if(s.length=c&65535,c=0,d=0,s.mode=Yp,t===Kh)break e;case Yp:s.mode=s2;case s2:if(m=s.length,m){if(m>o&&(m=o),m>A&&(m=A),m===0)break e;a.set(n.subarray(i,i+m),l),o-=m,i+=m,A-=m,l+=m,s.length-=m;break}s.mode=Bi;break;case n2:for(;d<14;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(s.nlen=(c&31)+257,c>>>=5,d-=5,s.ndist=(c&31)+1,c>>>=5,d-=5,s.ncode=(c&15)+4,c>>>=4,d-=4,s.nlen>286||s.ndist>30){e.msg="too many length or distance symbols",s.mode=gr;break}s.have=0,s.mode=a2;case a2:for(;s.have<s.ncode;){for(;d<3;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}s.lens[P[s.have++]]=c&7,c>>>=3,d-=3}for(;s.have<19;)s.lens[P[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,G={bits:s.lenbits},U=Kd(g8,s.lens,0,19,s.lencode,0,s.work,G),s.lenbits=G.bits,U){e.msg="invalid code lengths set",s.mode=gr;break}s.have=0,s.mode=i2;case i2:for(;s.have<s.nlen+s.ndist;){for(;B=s.lencode[c&(1<<s.lenbits)-1],x=B>>>24,N=B>>>16&255,b=B&65535,!(x<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(b<16)c>>>=x,d-=x,s.lens[s.have++]=b;else{if(b===16){for(L=x+2;d<L;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(c>>>=x,d-=x,s.have===0){e.msg="invalid bit length repeat",s.mode=gr;break}I=s.lens[s.have-1],m=3+(c&3),c>>>=2,d-=2}else if(b===17){for(L=x+3;d<L;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=x,d-=x,I=0,m=3+(c&7),c>>>=3,d-=3}else{for(L=x+7;d<L;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=x,d-=x,I=0,m=11+(c&127),c>>>=7,d-=7}if(s.have+m>s.nlen+s.ndist){e.msg="invalid bit length repeat",s.mode=gr;break}for(;m--;)s.lens[s.have++]=I}}if(s.mode===gr)break;if(s.lens[256]===0){e.msg="invalid code -- missing end-of-block",s.mode=gr;break}if(s.lenbits=9,G={bits:s.lenbits},U=Kd(_4,s.lens,0,s.nlen,s.lencode,0,s.work,G),s.lenbits=G.bits,U){e.msg="invalid literal/lengths set",s.mode=gr;break}if(s.distbits=6,s.distcode=s.distdyn,G={bits:s.distbits},U=Kd(L4,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,G),s.distbits=G.bits,U){e.msg="invalid distances set",s.mode=gr;break}if(s.mode=zh,t===Kh)break e;case zh:s.mode=Vh;case Vh:if(o>=6&&A>=258){e.next_out=l,e.avail_out=A,e.next_in=i,e.avail_in=o,s.hold=c,s.bits=d,u8(e,p),l=e.next_out,a=e.output,A=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,c=s.hold,d=s.bits,s.mode===Bi&&(s.back=-1);break}for(s.back=0;B=s.lencode[c&(1<<s.lenbits)-1],x=B>>>24,N=B>>>16&255,b=B&65535,!(x<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(N&&!(N&240)){for(g=x,k=N,_=b;B=s.lencode[_+((c&(1<<g+k)-1)>>g)],x=B>>>24,N=B>>>16&255,b=B&65535,!(g+x<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=g,d-=g,s.back+=g}if(c>>>=x,d-=x,s.back+=x,s.length=b,N===0){s.mode=d2;break}if(N&32){s.back=-1,s.mode=Bi;break}if(N&64){e.msg="invalid literal/length code",s.mode=gr;break}s.extra=N&15,s.mode=l2;case l2:if(s.extra){for(L=s.extra;d<L;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}s.length+=c&(1<<s.extra)-1,c>>>=s.extra,d-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=o2;case o2:for(;B=s.distcode[c&(1<<s.distbits)-1],x=B>>>24,N=B>>>16&255,b=B&65535,!(x<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(!(N&240)){for(g=x,k=N,_=b;B=s.distcode[_+((c&(1<<g+k)-1)>>g)],x=B>>>24,N=B>>>16&255,b=B&65535,!(g+x<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=g,d-=g,s.back+=g}if(c>>>=x,d-=x,s.back+=x,N&64){e.msg="invalid distance code",s.mode=gr;break}s.offset=b,s.extra=N&15,s.mode=A2;case A2:if(s.extra){for(L=s.extra;d<L;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}s.offset+=c&(1<<s.extra)-1,c>>>=s.extra,d-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){e.msg="invalid distance too far back",s.mode=gr;break}s.mode=c2;case c2:if(A===0)break e;if(m=p-A,s.offset>m){if(m=s.offset-m,m>s.whave&&s.sane){e.msg="invalid distance too far back",s.mode=gr;break}m>s.wnext?(m-=s.wnext,y=s.wsize-m):y=s.wnext-m,m>s.length&&(m=s.length),v=s.window}else v=a,y=l-s.offset,m=s.length;m>A&&(m=A),A-=m,s.length-=m;do a[l++]=v[y++];while(--m);s.length===0&&(s.mode=Vh);break;case d2:if(A===0)break e;a[l++]=s.length,A--,s.mode=Vh;break;case Wp:if(s.wrap){for(;d<32;){if(o===0)break e;o--,c|=n[i++]<<d,d+=8}if(p-=A,e.total_out+=p,s.total+=p,s.wrap&4&&p&&(e.adler=s.check=s.flags?gs(s.check,a,p,l-p):gu(s.check,a,p,l-p)),p=A,s.wrap&4&&(s.flags?c:m2(c))!==s.check){e.msg="incorrect data check",s.mode=gr;break}c=0,d=0}s.mode=u2;case u2:if(s.wrap&&s.flags){for(;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(s.wrap&4&&c!==(s.total&4294967295)){e.msg="incorrect length check",s.mode=gr;break}c=0,d=0}s.mode=h2;case h2:U=w8;break e;case gr:U=P4;break e;case T4:return D4;case R4:default:return la}return e.next_out=l,e.avail_out=A,e.next_in=i,e.avail_in=o,s.hold=c,s.bits=d,(s.wsize||p!==e.avail_out&&s.mode<gr&&(s.mode<Wp||t!==Vb))&&z4(e,e.output,e.next_out,p-e.avail_out),h-=e.avail_in,p-=e.avail_out,e.total_in+=h,e.total_out+=p,s.total+=p,s.wrap&4&&p&&(e.adler=s.check=s.flags?gs(s.check,a,p,e.next_out-p):gu(s.check,a,p,e.next_out-p)),e.data_type=s.bits+(s.last?64:0)+(s.mode===Bi?128:0)+(s.mode===zh||s.mode===Yp?256:0),(h===0&&p===0||t===Vb)&&U===Ho&&(U=b8),U},k8=e=>{if(zo(e))return la;let t=e.state;return t.window&&(t.window=null),e.state=null,Ho},U8=(e,t)=>{if(zo(e))return la;const s=e.state;return s.wrap&2?(s.head=t,t.done=!1,Ho):la},Q8=(e,t)=>{const s=t.length;let n,a,i;return zo(e)||(n=e.state,n.wrap!==0&&n.mode!==S0)?la:n.mode===S0&&(a=1,a=gu(a,t,s,0),a!==n.check)?P4:(i=z4(e,t,s,s),i?(n.mode=T4,D4):(n.havedict=1,Ho))};var _8=H4,L8=O4,P8=M4,D8=E8,T8=K4,R8=I8,M8=k8,H8=U8,O8=Q8,K8="pako inflate (from Nodeca project)",ki={inflateReset:_8,inflateReset2:L8,inflateResetKeep:P8,inflateInit:D8,inflateInit2:T8,inflate:R8,inflateEnd:M8,inflateGetHeader:H8,inflateSetDictionary:O8,inflateInfo:K8};function z8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var V8=z8;const V4=Object.prototype.toString,{Z_NO_FLUSH:G8,Z_FINISH:$8,Z_OK:vu,Z_STREAM_END:Zp,Z_NEED_DICT:ex,Z_STREAM_ERROR:q8,Z_DATA_ERROR:p2,Z_MEM_ERROR:Y8}=Ru;function Hu(e){this.options=ff.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new U4,this.strm.avail_out=0;let s=ki.inflateInit2(this.strm,t.windowBits);if(s!==vu)throw new Error(lc[s]);if(this.header=new V8,ki.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=wu.string2buf(t.dictionary):V4.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(s=ki.inflateSetDictionary(this.strm,t.dictionary),s!==vu)))throw new Error(lc[s])}Hu.prototype.push=function(e,t){const s=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?$8:G8,V4.call(e)==="[object ArrayBuffer]"?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;;){for(s.avail_out===0&&(s.output=new Uint8Array(n),s.next_out=0,s.avail_out=n),i=ki.inflate(s,l),i===ex&&a&&(i=ki.inflateSetDictionary(s,a),i===vu?i=ki.inflate(s,l):i===p2&&(i=ex));s.avail_in>0&&i===Zp&&s.state.wrap>0&&e[s.next_in]!==0;)ki.inflateReset(s),i=ki.inflate(s,l);switch(i){case q8:case p2:case ex:case Y8:return this.onEnd(i),this.ended=!0,!1}if(o=s.avail_out,s.next_out&&(s.avail_out===0||i===Zp))if(this.options.to==="string"){let A=wu.utf8border(s.output,s.next_out),c=s.next_out-A,d=wu.buf2string(s.output,A);s.next_out=c,s.avail_out=n-c,c&&s.output.set(s.output.subarray(A,A+c),0),this.onData(d)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(!(i===vu&&o===0)){if(i===Zp)return i=ki.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(s.avail_in===0)break}}return!0};Hu.prototype.onData=function(e){this.chunks.push(e)};Hu.prototype.onEnd=function(e){e===vu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ff.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function K1(e,t){const s=new Hu(t);if(s.push(e),s.err)throw s.msg||lc[s.err];return s.result}function W8(e,t){return t=t||{},t.raw=!0,K1(e,t)}var J8=Hu,X8=K1,Z8=W8,eL=K1,tL=Ru,rL={Inflate:J8,inflate:X8,inflateRaw:Z8,ungzip:eL,constants:tL};const{Inflate:sL,inflate:nL,inflateRaw:BH,ungzip:CH}=rL;var x2=sL,aL=nL;const G4=[];for(let e=0;e<256;e++){let t=e;for(let s=0;s<8;s++)t&1?t=3988292384^t>>>1:t=t>>>1;G4[e]=t}const g2=4294967295;function iL(e,t,s){let n=e;for(let a=0;a<s;a++)n=G4[(n^t[a])&255]^n>>>8;return n}function lL(e,t){return(iL(g2,e,t)^g2)>>>0}function y2(e,t,s){const n=e.readUint32(),a=lL(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${s}. Expected ${n}, found ${a}`)}function $4(e,t,s){for(let n=0;n<s;n++)t[n]=e[n]}function q4(e,t,s,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<s;a++)t[a]=e[a]+t[a-n]&255}function Y4(e,t,s,n){let a=0;if(s.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+s[a]&255}function W4(e,t,s,n,a){let i=0;if(s.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(s[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+s[i]>>1)&255}}function J4(e,t,s,n,a){let i=0;if(s.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+s[i]&255;for(;i<n;i++)t[i]=e[i]+oL(t[i-a],s[i],s[i-a])&255}}function oL(e,t,s){const n=e+t-s,a=Math.abs(n-e),i=Math.abs(n-t),l=Math.abs(n-s);return a<=i&&a<=l?e:i<=l?t:s}function AL(e,t,s,n,a,i){switch(e){case 0:$4(t,s,a);break;case 1:q4(t,s,a,i);break;case 2:Y4(t,s,n,a);break;case 3:W4(t,s,n,a,i);break;case 4:J4(t,s,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const cL=new Uint16Array([255]),dL=new Uint8Array(cL.buffer),uL=dL[0]===255;function hL(e){const{data:t,width:s,height:n,channels:a,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,A=new Uint8Array(n*s*o);let c=0;for(let d=0;d<7;d++){const h=l[d],p=Math.ceil((s-h.x)/h.xStep),m=Math.ceil((n-h.y)/h.yStep);if(p<=0||m<=0)continue;const y=p*o,v=new Uint8Array(y);for(let B=0;B<m;B++){const x=t[c++],N=t.subarray(c,c+y);c+=y;const b=new Uint8Array(y);AL(x,N,b,v,y,o),v.set(b);for(let g=0;g<p;g++){const k=h.x+g*h.xStep,_=h.y+B*h.yStep;if(!(k>=s||_>=n))for(let I=0;I<o;I++)A[(_*s+k)*o+I]=b[g*o+I]}}}if(i===16){const d=new Uint16Array(A.buffer);if(uL)for(let h=0;h<d.length;h++)d[h]=mL(d[h]);return d}else return A}function mL(e){return(e&255)<<8|e>>8&255}const fL=new Uint16Array([255]),pL=new Uint8Array(fL.buffer),xL=pL[0]===255,gL=new Uint8Array(0);function w2(e){const{data:t,width:s,height:n,channels:a,depth:i}=e,l=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*s),A=new Uint8Array(n*o);let c=gL,d=0,h,p;for(let m=0;m<n;m++){switch(h=t.subarray(d+1,d+1+o),p=A.subarray(m*o,(m+1)*o),t[d]){case 0:$4(h,p,o);break;case 1:q4(h,p,o,l);break;case 2:Y4(h,p,c,o);break;case 3:W4(h,p,c,o,l);break;case 4:J4(h,p,c,o,l);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}c=p,d+=o+1}if(i===16){const m=new Uint16Array(A.buffer);if(xL)for(let y=0;y<m.length;y++)m[y]=yL(m[y]);return m}else return A}function yL(e){return(e&255)<<8|e>>8&255}const Hm=Uint8Array.of(137,80,78,71,13,10,26,10);function v2(e){if(!wL(e.readBytes(Hm.length)))throw new Error("wrong PNG signature")}function wL(e){if(e.length<Hm.length)return!1;for(let t=0;t<Hm.length;t++)if(e[t]!==Hm[t])return!1;return!0}const vL="tEXt",bL=0,X4=new TextDecoder("latin1");function NL(e){if(BL(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const jL=/^[\u0000-\u00FF]*$/;function BL(e){if(!jL.test(e))throw new Error("invalid latin1 text")}function CL(e,t,s){const n=Z4(t);e[n]=SL(t,s-n.length-1)}function Z4(e){for(e.mark();e.readByte()!==bL;);const t=e.offset;e.reset();const s=X4.decode(e.readBytes(t-e.offset-1));return e.skip(1),NL(s),s}function SL(e,t){return X4.decode(e.readBytes(t))}const Sn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},tx={UNKNOWN:-1,DEFLATE:0},b2={UNKNOWN:-1,ADAPTIVE:0},rx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Gh={NONE:0,BACKGROUND:1,PREVIOUS:2},sx={SOURCE:0,OVER:1};class EL extends P1{constructor(s,n={}){super(s);Gt(this,"_checkCrc");Gt(this,"_inflator");Gt(this,"_png");Gt(this,"_apng");Gt(this,"_end");Gt(this,"_hasPalette");Gt(this,"_palette");Gt(this,"_hasTransparency");Gt(this,"_transparency");Gt(this,"_compressionMethod");Gt(this,"_filterMethod");Gt(this,"_interlaceMethod");Gt(this,"_colorType");Gt(this,"_isAnimated");Gt(this,"_numberOfFrames");Gt(this,"_numberOfPlays");Gt(this,"_frames");Gt(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new x2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=tx.UNKNOWN,this._filterMethod=b2.UNKNOWN,this._interlaceMethod=rx.UNKNOWN,this._colorType=Sn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(v2(this);!this._end;){const s=this.readUint32(),n=this.readChars(4);this.decodeChunk(s,n)}return this.decodeImage(),this._png}decodeApng(){for(v2(this);!this._end;){const s=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(s,n)}return this.decodeApngImage(),this._apng}decodeChunk(s,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(s);break;case"IDAT":this.decodeIDAT(s);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(s);break;case"iCCP":this.decodeiCCP(s);break;case vL:CL(this._png.text,this,s);break;case"pHYs":this.decodepHYs();break;default:this.skip(s);break}if(this.offset-a!==s)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?y2(this,s+4,n):this.skip(4)}decodeApngChunk(s,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(s);break;default:this.decodeChunk(s,n),this.offset=a+s;break}if(this.offset-a!==s)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?y2(this,s+4,n):this.skip(4)}decodeIHDR(){const s=this._png;s.width=this.readUint32(),s.height=this.readUint32(),s.depth=FL(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Sn.GREYSCALE:a=1;break;case Sn.TRUECOLOUR:a=3;break;case Sn.INDEXED_COLOUR:a=1;break;case Sn.GREYSCALE_ALPHA:a=2;break;case Sn.TRUECOLOUR_ALPHA:a=4;break;case Sn.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==tx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const s={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(s)}decodePLTE(s){if(s%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${s}`);const n=s/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(s){this._writingDataChunks=!0;const n=s,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(s)}decodeFDAT(s){this._writingDataChunks=!0;let n=s,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(s)}decodetRNS(s){switch(this._colorType){case Sn.GREYSCALE:case Sn.TRUECOLOUR:{if(s%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${s}`);if(s/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${s/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(s/2);for(let n=0;n<s/2;n++)this._transparency[n]=this.readUint16();break}case Sn.INDEXED_COLOUR:{if(s>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${s} vs ${this._palette.length})`);let n=0;for(;n<s;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Sn.UNKNOWN:case Sn.GREYSCALE_ALPHA:case Sn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(s){const n=Z4(this),a=this.readUint8();if(a!==tx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(s-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:aL(i)}}decodepHYs(){const s=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:s,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let s=0;s<this._numberOfFrames;s++){const n={sequenceNumber:this._frames[s].sequenceNumber,delayNumber:this._frames[s].delayNumber,delayDenominator:this._frames[s].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(s);if(a){if(a.data=w2({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),s===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(s-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(s,n,a){switch(s.disposeOp){case Gh.NONE:break;case Gh.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let l=0;l<this._png.width;l++){const o=(i*s.width+l)*this._png.channels;for(let A=0;A<this._png.channels;A++)a.data[o+A]=0}break;case Gh.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(s,n){const a=1<<this._png.depth,i=(l,o)=>{const A=((l+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(l*n.width+o)*this._png.channels;return{index:A,frameIndex:c}};switch(n.blendOp){case sx.SOURCE:for(let l=0;l<n.height;l++)for(let o=0;o<n.width;o++){const{index:A,frameIndex:c}=i(l,o);for(let d=0;d<this._png.channels;d++)s.data[A+d]=n.data[c+d]}break;case sx.OVER:for(let l=0;l<n.height;l++)for(let o=0;o<n.width;o++){const{index:A,frameIndex:c}=i(l,o);for(let d=0;d<this._png.channels;d++){const h=n.data[c+this._png.channels-1]/a,p=d%(this._png.channels-1)===0?1:n.data[c+d],m=Math.floor(h*p+(1-h)*s.data[A+d]);s.data[A+d]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const s=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==b2.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===rx.NO_INTERLACE)this._png.data=w2({data:s,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===rx.ADAM7)this._png.data=hL({data:s,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const s=this._inflator.result,n=this._frames.at(-1);n?n.data=s:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Gh.NONE,blendOp:sx.SOURCE,data:s}),this._inflator=new x2,this._writingDataChunks=!1}}function FL(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var N2;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(N2||(N2={}));function IL(e,t){return new EL(e,t).decode()}var at=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function nx(){at.console&&typeof at.console.log=="function"&&at.console.log.apply(at.console,arguments)}var nr={log:nx,warn:function(e){at.console&&(typeof at.console.warn=="function"?at.console.warn.apply(at.console,arguments):nx.call(null,arguments))},error:function(e){at.console&&(typeof at.console.error=="function"?at.console.error.apply(at.console,arguments):nx(e))}};function ax(e,t,s){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){fo(n.response,t,s)},n.onerror=function(){nr.error("could not download file")},n.send()}function j2(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function $h(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var fo=at.saveAs||((typeof window>"u"?"undefined":$t(window))!=="object"||window!==at?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,s){var n=at.URL||at.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?j2(a.href)?ax(e,t,s):$h(a,a.target="_blank"):$h(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){$h(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,s){if(t=t||e.name||"download",typeof e=="string")if(j2(e))ax(e,t,s);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){$h(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:$t(i)!=="object"&&(nr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,s),t)}:function(e,t,s,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return ax(e,t,s);var a=e.type==="application/octet-stream",i=/constructor/i.test(at.HTMLElement)||at.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&i)&&(typeof FileReader>"u"?"undefined":$t(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=l?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var A=at.URL||at.webkitURL,c=A.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){A.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function eC(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<s.length;n++){var a=s[n].re,i=s[n].process,l=a.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),A=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),A.length==1&&(A="0"+A),c.length==1&&(c="0"+c),"#"+o+A+c}}var Om=at.atob.bind(at),B2=at.btoa.bind(at);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ix(e,t){var s=e[0],n=e[1],a=e[2],i=e[3];s=Ts(s,n,a,i,t[0],7,-680876936),i=Ts(i,s,n,a,t[1],12,-389564586),a=Ts(a,i,s,n,t[2],17,606105819),n=Ts(n,a,i,s,t[3],22,-1044525330),s=Ts(s,n,a,i,t[4],7,-176418897),i=Ts(i,s,n,a,t[5],12,1200080426),a=Ts(a,i,s,n,t[6],17,-1473231341),n=Ts(n,a,i,s,t[7],22,-45705983),s=Ts(s,n,a,i,t[8],7,1770035416),i=Ts(i,s,n,a,t[9],12,-1958414417),a=Ts(a,i,s,n,t[10],17,-42063),n=Ts(n,a,i,s,t[11],22,-1990404162),s=Ts(s,n,a,i,t[12],7,1804603682),i=Ts(i,s,n,a,t[13],12,-40341101),a=Ts(a,i,s,n,t[14],17,-1502002290),s=Rs(s,n=Ts(n,a,i,s,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Rs(i,s,n,a,t[6],9,-1069501632),a=Rs(a,i,s,n,t[11],14,643717713),n=Rs(n,a,i,s,t[0],20,-373897302),s=Rs(s,n,a,i,t[5],5,-701558691),i=Rs(i,s,n,a,t[10],9,38016083),a=Rs(a,i,s,n,t[15],14,-660478335),n=Rs(n,a,i,s,t[4],20,-405537848),s=Rs(s,n,a,i,t[9],5,568446438),i=Rs(i,s,n,a,t[14],9,-1019803690),a=Rs(a,i,s,n,t[3],14,-187363961),n=Rs(n,a,i,s,t[8],20,1163531501),s=Rs(s,n,a,i,t[13],5,-1444681467),i=Rs(i,s,n,a,t[2],9,-51403784),a=Rs(a,i,s,n,t[7],14,1735328473),s=Ms(s,n=Rs(n,a,i,s,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Ms(i,s,n,a,t[8],11,-2022574463),a=Ms(a,i,s,n,t[11],16,1839030562),n=Ms(n,a,i,s,t[14],23,-35309556),s=Ms(s,n,a,i,t[1],4,-1530992060),i=Ms(i,s,n,a,t[4],11,1272893353),a=Ms(a,i,s,n,t[7],16,-155497632),n=Ms(n,a,i,s,t[10],23,-1094730640),s=Ms(s,n,a,i,t[13],4,681279174),i=Ms(i,s,n,a,t[0],11,-358537222),a=Ms(a,i,s,n,t[3],16,-722521979),n=Ms(n,a,i,s,t[6],23,76029189),s=Ms(s,n,a,i,t[9],4,-640364487),i=Ms(i,s,n,a,t[12],11,-421815835),a=Ms(a,i,s,n,t[15],16,530742520),s=Hs(s,n=Ms(n,a,i,s,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Hs(i,s,n,a,t[7],10,1126891415),a=Hs(a,i,s,n,t[14],15,-1416354905),n=Hs(n,a,i,s,t[5],21,-57434055),s=Hs(s,n,a,i,t[12],6,1700485571),i=Hs(i,s,n,a,t[3],10,-1894986606),a=Hs(a,i,s,n,t[10],15,-1051523),n=Hs(n,a,i,s,t[1],21,-2054922799),s=Hs(s,n,a,i,t[8],6,1873313359),i=Hs(i,s,n,a,t[15],10,-30611744),a=Hs(a,i,s,n,t[6],15,-1560198380),n=Hs(n,a,i,s,t[13],21,1309151649),s=Hs(s,n,a,i,t[4],6,-145523070),i=Hs(i,s,n,a,t[11],10,-1120210379),a=Hs(a,i,s,n,t[2],15,718787259),n=Hs(n,a,i,s,t[9],21,-343485551),e[0]=bl(s,e[0]),e[1]=bl(n,e[1]),e[2]=bl(a,e[2]),e[3]=bl(i,e[3])}function xf(e,t,s,n,a,i){return t=bl(bl(t,e),bl(n,i)),bl(t<<a|t>>>32-a,s)}function Ts(e,t,s,n,a,i,l){return xf(t&s|~t&n,e,t,a,i,l)}function Rs(e,t,s,n,a,i,l){return xf(t&n|s&~n,e,t,a,i,l)}function Ms(e,t,s,n,a,i,l){return xf(t^s^n,e,t,a,i,l)}function Hs(e,t,s,n,a,i,l){return xf(s^(t|~n),e,t,a,i,l)}function tC(e){var t,s=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)ix(n,kL(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(ix(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*s,ix(n,a),n}function kL(e){var t,s=[];for(t=0;t<64;t+=4)s[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return s}var C2="0123456789abcdef".split("");function UL(e){for(var t="",s=0;s<4;s++)t+=C2[e>>8*s+4&15]+C2[e>>8*s&15];return t}function QL(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Yg(e){return tC(e).map(QL).join("")}var _L=function(e){for(var t=0;t<e.length;t++)e[t]=UL(e[t]);return e.join("")}(tC("hello"))!="5d41402abc4b2a76b9719d911017c592";function bl(e,t){if(_L){var s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Wg(e,t){var s,n,a,i;if(e!==s){for(var l=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),o=[],A=0;A<256;A++)o[A]=A;var c=0;for(A=0;A<256;A++){var d=o[A];c=(c+d+l.charCodeAt(A))%256,o[A]=o[c],o[c]=d}s=e,n=o}else o=n;var h=t.length,p=0,m=0,y="";for(A=0;A<h;A++)m=(m+(d=o[p=(p+1)%256]))%256,o[p]=o[m],o[m]=d,l=o[(o[p]+o[m])%256],y+=String.fromCharCode(t.charCodeAt(A)^l);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var S2={print:4,modify:8,copy:16,"annot-forms":32};function wA(e,t,s,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(S2.perm!==void 0)throw new Error("Invalid permission: "+o);a+=S2[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^a)),this.encryptionKey=Yg(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Wg(this.encryptionKey,this.padding)}function vA(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",s=e.length,n=0;n<s;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function E2(e){if($t(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(s,n,a){if(a=a||!1,typeof s!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(s)||(t[s]={});var i=Math.random().toString(35);return t[s][i]=[n,!!a],i},this.unsubscribe=function(s){for(var n in t)if(t[n][s])return delete t[n][s],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(s){if(t.hasOwnProperty(s)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[s]){var l=t[s][i];try{l[0].apply(e,n)}catch(o){at.console&&nr.error("jsPDF PubSub Error",o.message,o)}l[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function E0(e){if(!(this instanceof E0))return new E0(e);var t="opacity,stroke-opacity".split(",");for(var s in e)e.hasOwnProperty(s)&&t.indexOf(s)>=0&&(this[s]=e[s]);this.id="",this.objectNumber=-1}function rC(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function po(e,t,s,n,a){if(!(this instanceof po))return new po(e,t,s,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=s,rC.call(this,n,a)}function TA(e,t,s,n,a){if(!(this instanceof TA))return new TA(e,t,s,n,a);this.boundingBox=e,this.xStep=t,this.yStep=s,this.stream="",this.cloneIndex=0,rC.call(this,n,a)}function $e(e){var t,s=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],l=[],o=1,A=16,c="S",d=null;$t(e=e||{})==="object"&&(s=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(A=e.floatPrecision),c=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),n=n||"mm",s=(""+(s||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=E2;var y="1.3",v=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(w){y=w};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return B};var x=m.__private__.getPageFormat=function(w){return B[w]};a=a||"a4";var N="compat",b="advanced",g=N;function k(){this.saveGraphicsState(),ee(new rt(st,0,0,-st,0,yn()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),c="n",g=b}function _(){this.restoreGraphicsState(),c="S",g=N}var I=m.__private__.combineFontStyleAndFontWeight=function(w,T){if(w=="bold"&&T=="normal"||w=="bold"&&T==400||w=="normal"&&T=="italic"||w=="bold"&&T=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return T&&(w=T==400||T==="normal"?w==="italic"?"italic":"normal":T!=700&&T!=="bold"||w!=="normal"?(T==700?"bold":T)+""+w:"bold"),w};m.advancedAPI=function(w){var T=g===N;return T&&k.call(this),typeof w!="function"||(w(this),T&&_.call(this)),this},m.compatAPI=function(w){var T=g===b;return T&&_.call(this),typeof w!="function"||(w(this),T&&k.call(this)),this},m.isAdvancedAPI=function(){return g===b};var U,S=function(w){if(g!==b)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=m.roundToPrecision=m.__private__.roundToPrecision=function(w,T){var J=t||T;if(isNaN(w)||isNaN(J))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(J).replace(/0+$/,"")};U=m.hpf=m.__private__.hpf=typeof A=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return G(w,A)}:A==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return G(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return G(w,16)};var L=m.f2=m.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return G(w,2)},P=m.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return G(w,3)},F=m.scale=m.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return g===N?w*st:g===b?w:void 0},M=function(w){return F(function(T){return g===N?yn()-T:g===b?T:void 0}(w))};m.__private__.setPrecision=m.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(t=parseInt(w,10))};var Z,te="00000000000000000000000000000000",le=m.__private__.getFileId=function(){return te},R=m.__private__.setFileId=function(w){return te=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Pr=new wA(d.userPermissions,d.userPassword,d.ownerPassword,te)),te};m.setFileId=function(w){return R(w),this},m.getFileId=function(){return le()};var X=m.__private__.convertDateToPDFDate=function(w){var T=w.getTimezoneOffset(),J=T<0?"+":"-",ae=Math.floor(Math.abs(T/60)),ue=Math.abs(T%60),be=[J,$(ae),"'",$(ue),"'"].join("");return["D:",w.getFullYear(),$(w.getMonth()+1),$(w.getDate()),$(w.getHours()),$(w.getMinutes()),$(w.getSeconds()),be].join("")},se=m.__private__.convertPDFDateToDate=function(w){var T=parseInt(w.substr(2,4),10),J=parseInt(w.substr(6,2),10)-1,ae=parseInt(w.substr(8,2),10),ue=parseInt(w.substr(10,2),10),be=parseInt(w.substr(12,2),10),Ce=parseInt(w.substr(14,2),10);return new Date(T,J,ae,ue,be,Ce,0)},re=m.__private__.setCreationDate=function(w){var T;if(w===void 0&&(w=new Date),w instanceof Date)T=X(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");T=w}return Z=T},Q=m.__private__.getCreationDate=function(w){var T=Z;return w==="jsDate"&&(T=se(Z)),T};m.setCreationDate=function(w){return re(w),this},m.getCreationDate=function(w){return Q(w)};var z,$=m.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},V=m.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ne=0,de=[],xe=[],ie=0,Ae=[],ge=[],Se=!1,Qe=xe;m.__private__.setCustomOutputDestination=function(w){Se=!0,Qe=w};var ye=function(w){Se||(Qe=w)};m.__private__.resetCustomOutputDestination=function(){Se=!1,Qe=xe};var ee=m.__private__.out=function(w){return w=w.toString(),ie+=w.length+1,Qe.push(w),Qe},Ct=m.__private__.write=function(w){return ee(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},pt=m.__private__.getArrayBuffer=function(w){for(var T=w.length,J=new ArrayBuffer(T),ae=new Uint8Array(J);T--;)ae[T]=w.charCodeAt(T);return J},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ze};var Fe=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(w){return Fe=g===b?w/st:w,this};var qe,_e=m.__private__.getFontSize=m.getFontSize=function(){return g===N?Fe:Fe*st},xt=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(w){return xt=w,this},m.__private__.getR2L=m.getR2L=function(){return xt};var Xe,Lt=m.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))qe=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');qe=w}else qe=parseInt(w,10)};m.__private__.getZoomMode=function(){return qe};var dt,ut=m.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');Xe=w};m.__private__.getPageMode=function(){return Xe};var Yt=m.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');dt=w};m.__private__.getLayoutMode=function(){return dt},m.__private__.setDisplayMode=m.setDisplayMode=function(w,T,J){return Lt(w),Yt(T),ut(J),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(w){if(Object.keys(gt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[w]},m.__private__.getDocumentProperties=function(){return gt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(w){for(var T in gt)gt.hasOwnProperty(T)&&w[T]&&(gt[T]=w[T]);return this},m.__private__.setDocumentProperty=function(w,T){if(Object.keys(gt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[w]=T};var We,st,Je,ar,Pt,Ve={},ht={},er=[],tt={},Et={},mt={},Lr={},ss=null,tr=0,lt=[],Ht=new E2(m),ql=e.hotfixes||[],_s={},Ai={},Qa=[],rt=function w(T,J,ae,ue,be,Ce){if(!(this instanceof w))return new w(T,J,ae,ue,be,Ce);isNaN(T)&&(T=1),isNaN(J)&&(J=0),isNaN(ae)&&(ae=0),isNaN(ue)&&(ue=1),isNaN(be)&&(be=0),isNaN(Ce)&&(Ce=0),this._matrix=[T,J,ae,ue,be,Ce]};Object.defineProperty(rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),rt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(w)},rt.prototype.multiply=function(w){var T=w.sx*this.sx+w.shy*this.shx,J=w.sx*this.shy+w.shy*this.sy,ae=w.shx*this.sx+w.sy*this.shx,ue=w.shx*this.shy+w.sy*this.sy,be=w.tx*this.sx+w.ty*this.shx+this.tx,Ce=w.tx*this.shy+w.ty*this.sy+this.ty;return new rt(T,J,ae,ue,be,Ce)},rt.prototype.decompose=function(){var w=this.sx,T=this.shy,J=this.shx,ae=this.sy,ue=this.tx,be=this.ty,Ce=Math.sqrt(w*w+T*T),Me=(w/=Ce)*J+(T/=Ce)*ae;J-=w*Me,ae-=T*Me;var ze=Math.sqrt(J*J+ae*ae);return Me/=ze,w*(ae/=ze)<T*(J/=ze)&&(w=-w,T=-T,Me=-Me,Ce=-Ce),{scale:new rt(Ce,0,0,ze,0,0),translate:new rt(1,0,0,1,ue,be),rotate:new rt(w,T,-T,w,0,0),skew:new rt(1,0,Me,1,0,0)}},rt.prototype.toString=function(w){return this.join(" ")},rt.prototype.inversed=function(){var w=this.sx,T=this.shy,J=this.shx,ae=this.sy,ue=this.tx,be=this.ty,Ce=1/(w*ae-T*J),Me=ae*Ce,ze=-T*Ce,nt=-J*Ce,yt=w*Ce;return new rt(Me,ze,nt,yt,-Me*ue-nt*be,-ze*ue-yt*be)},rt.prototype.applyToPoint=function(w){var T=w.x*this.sx+w.y*this.shx+this.tx,J=w.x*this.shy+w.y*this.sy+this.ty;return new no(T,J)},rt.prototype.applyToRectangle=function(w){var T=this.applyToPoint(w),J=this.applyToPoint(new no(w.x+w.w,w.y+w.h));return new _c(T.x,T.y,J.x-T.x,J.y-T.y)},rt.prototype.clone=function(){var w=this.sx,T=this.shy,J=this.shx,ae=this.sy,ue=this.tx,be=this.ty;return new rt(w,T,J,ae,ue,be)},m.Matrix=rt;var ci=m.matrixMult=function(w,T){return T.multiply(w)},di=new rt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=di;var Hn=function(w,T){if(!Et[w]){var J=(T instanceof po?"Sh":"P")+(Object.keys(tt).length+1).toString(10);T.id=J,Et[w]=J,tt[J]=T,Ht.publish("addPattern",T)}};m.ShadingPattern=po,m.TilingPattern=TA,m.addShadingPattern=function(w,T){return S("addShadingPattern()"),Hn(w,T),this},m.beginTilingPattern=function(w){S("beginTilingPattern()"),Lc(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},m.endTilingPattern=function(w,T){S("endTilingPattern()"),T.stream=ge[z].join(`
`),Hn(w,T),Ht.publish("endTilingPattern",T),Qa.pop().restore()};var On,Sr=m.__private__.newObject=function(){var w=fs();return Ns(w,!0),w},fs=m.__private__.newObjectDeferred=function(){return ne++,de[ne]=function(){return ie},ne},Ns=function(w,T){return T=typeof T=="boolean"&&T,de[w]=ie,T&&ee(w+" 0 obj"),w},Yl=m.__private__.newAdditionalObject=function(){var w={objId:fs(),content:""};return Ae.push(w),w},Gi=fs(),oa=fs(),_a=m.__private__.decodeColorString=function(w){var T=w.split(" ");if(T.length!==2||T[1]!=="g"&&T[1]!=="G")T.length!==5||T[4]!=="k"&&T[4]!=="K"||(T=[(1-T[0])*(1-T[3]),(1-T[1])*(1-T[3]),(1-T[2])*(1-T[3]),"r"]);else{var J=parseFloat(T[0]);T=[J,J,J,"r"]}for(var ae="#",ue=0;ue<3;ue++)ae+=("0"+Math.floor(255*parseFloat(T[ue])).toString(16)).slice(-2);return ae},Aa=m.__private__.encodeColorString=function(w){var T;typeof w=="string"&&(w={ch1:w});var J=w.ch1,ae=w.ch2,ue=w.ch3,be=w.ch4,Ce=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof J=="string"&&J.charAt(0)!=="#"){var Me=new eC(J);if(Me.ok)J=Me.toHex();else if(!/^\d*\.?\d*$/.test(J))throw new Error('Invalid color "'+J+'" passed to jsPDF.encodeColorString.')}if(typeof J=="string"&&/^#[0-9A-Fa-f]{3}$/.test(J)&&(J="#"+J[1]+J[1]+J[2]+J[2]+J[3]+J[3]),typeof J=="string"&&/^#[0-9A-Fa-f]{6}$/.test(J)){var ze=parseInt(J.substr(1),16);J=ze>>16&255,ae=ze>>8&255,ue=255&ze}if(ae===void 0||be===void 0&&J===ae&&ae===ue)T=typeof J=="string"?J+" "+Ce[0]:w.precision===2?L(J/255)+" "+Ce[0]:P(J/255)+" "+Ce[0];else if(be===void 0||$t(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return["1.","1.","1.",Ce[1]].join(" ");T=typeof J=="string"?[J,ae,ue,Ce[1]].join(" "):w.precision===2?[L(J/255),L(ae/255),L(ue/255),Ce[1]].join(" "):[P(J/255),P(ae/255),P(ue/255),Ce[1]].join(" ")}else T=typeof J=="string"?[J,ae,ue,be,Ce[2]].join(" "):w.precision===2?[L(J),L(ae),L(ue),L(be),Ce[2]].join(" "):[P(J),P(ae),P(ue),P(be),Ce[2]].join(" ");return T},ca=m.__private__.getFilters=function(){return l},Kn=m.__private__.putStream=function(w){var T=(w=w||{}).data||"",J=w.filters||ca(),ae=w.alreadyAppliedFilters||[],ue=w.addLength1||!1,be=T.length,Ce=w.objectId,Me=function(ns){return ns};if(d!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Me=Pr.encryptor(Ce,0));var ze={};J===!0&&(J=["FlateEncode"]);var nt=w.additionalKeyValues||[],yt=(ze=$e.API.processDataByFilters!==void 0?$e.API.processDataByFilters(T,J):{data:T,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(ze.data.length!==0&&(nt.push({key:"Length",value:ze.data.length}),ue===!0&&nt.push({key:"Length1",value:be})),yt.length!=0)if(yt.split("/").length-1==1)nt.push({key:"Filter",value:yt});else{nt.push({key:"Filter",value:"["+yt+"]"});for(var Dt=0;Dt<nt.length;Dt+=1)if(nt[Dt].key==="DecodeParms"){for(var Nr=[],Yr=0;Yr<ze.reverseChain.split("/").length-1;Yr+=1)Nr.push("null");Nr.push(nt[Dt].value),nt[Dt].value="["+Nr.join(" ")+"]"}}ee("<<");for(var Wt=0;Wt<nt.length;Wt++)ee("/"+nt[Wt].key+" "+nt[Wt].value);ee(">>"),ze.data.length!==0&&(ee("stream"),ee(Me(ze.data)),ee("endstream"))},Wl=m.__private__.putPage=function(w){var T=w.number,J=w.data,ae=w.objId,ue=w.contentsObjId;Ns(ae,!0),ee("<</Type /Page"),ee("/Parent "+w.rootDictionaryObjId+" 0 R"),ee("/Resources "+w.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(U(w.mediaBox.bottomLeftX))+" "+parseFloat(U(w.mediaBox.bottomLeftY))+" "+U(w.mediaBox.topRightX)+" "+U(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&ee("/CropBox ["+U(w.cropBox.bottomLeftX)+" "+U(w.cropBox.bottomLeftY)+" "+U(w.cropBox.topRightX)+" "+U(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&ee("/BleedBox ["+U(w.bleedBox.bottomLeftX)+" "+U(w.bleedBox.bottomLeftY)+" "+U(w.bleedBox.topRightX)+" "+U(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&ee("/TrimBox ["+U(w.trimBox.bottomLeftX)+" "+U(w.trimBox.bottomLeftY)+" "+U(w.trimBox.topRightX)+" "+U(w.trimBox.topRightY)+"]"),w.artBox!==null&&ee("/ArtBox ["+U(w.artBox.bottomLeftX)+" "+U(w.artBox.bottomLeftY)+" "+U(w.artBox.topRightX)+" "+U(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&ee("/UserUnit "+w.userUnit),Ht.publish("putPage",{objId:ae,pageContext:lt[T],pageNumber:T,page:J}),ee("/Contents "+ue+" 0 R"),ee(">>"),ee("endobj");var be=J.join(`
`);return g===b&&(be+=`
Q`),Ns(ue,!0),Kn({data:be,filters:ca(),objectId:ue}),ee("endobj"),ae},La=m.__private__.putPages=function(){var w,T,J=[];for(w=1;w<=tr;w++)lt[w].objId=fs(),lt[w].contentsObjId=fs();for(w=1;w<=tr;w++)J.push(Wl({number:w,data:ge[w],objId:lt[w].objId,contentsObjId:lt[w].contentsObjId,mediaBox:lt[w].mediaBox,cropBox:lt[w].cropBox,bleedBox:lt[w].bleedBox,trimBox:lt[w].trimBox,artBox:lt[w].artBox,userUnit:lt[w].userUnit,rootDictionaryObjId:Gi,resourceDictionaryObjId:oa}));Ns(Gi,!0),ee("<</Type /Pages");var ae="/Kids [";for(T=0;T<tr;T++)ae+=J[T]+" 0 R ";ee(ae+"]"),ee("/Count "+tr),ee(">>"),ee("endobj"),Ht.publish("postPutPages")},Jl=function(w){Ht.publish("putFont",{font:w,out:ee,newObject:Sr,putStream:Kn}),w.isAlreadyPutted!==!0&&(w.objectNumber=Sr(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+vA(w.postScriptName)),ee("/Subtype /Type1"),typeof w.encoding=="string"&&ee("/Encoding /"+w.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Go=function(w){w.objectNumber=Sr();var T=[];T.push({key:"Type",value:"/XObject"}),T.push({key:"Subtype",value:"/Form"}),T.push({key:"BBox",value:"["+[U(w.x),U(w.y),U(w.x+w.width),U(w.y+w.height)].join(" ")+"]"}),T.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var J=w.pages[1].join(`
`);Kn({data:J,additionalKeyValues:T,objectId:w.objectNumber}),ee("endobj")},$o=function(w,T){T||(T=21);var J=Sr(),ae=function(Ce,Me){var ze,nt=[],yt=1/(Me-1);for(ze=0;ze<1;ze+=yt)nt.push(ze);if(nt.push(1),Ce[0].offset!=0){var Dt={offset:0,color:Ce[0].color};Ce.unshift(Dt)}if(Ce[Ce.length-1].offset!=1){var Nr={offset:1,color:Ce[Ce.length-1].color};Ce.push(Nr)}for(var Yr="",Wt=0,ns=0;ns<nt.length;ns++){for(ze=nt[ns];ze>Ce[Wt+1].offset;)Wt++;var Wr=Ce[Wt].offset,js=(ze-Wr)/(Ce[Wt+1].offset-Wr),fi=Ce[Wt].color,Yi=Ce[Wt+1].color;Yr+=V(Math.round((1-js)*fi[0]+js*Yi[0]).toString(16))+V(Math.round((1-js)*fi[1]+js*Yi[1]).toString(16))+V(Math.round((1-js)*fi[2]+js*Yi[2]).toString(16))}return Yr.trim()}(w.colors,T),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+T+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Kn({data:ae,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:J}),ee("endobj"),w.objectNumber=Sr(),ee("<< /ShadingType "+w.type),ee("/ColorSpace /DeviceRGB");var be="/Coords ["+U(parseFloat(w.coords[0]))+" "+U(parseFloat(w.coords[1]))+" ";w.type===2?be+=U(parseFloat(w.coords[2]))+" "+U(parseFloat(w.coords[3])):be+=U(parseFloat(w.coords[2]))+" "+U(parseFloat(w.coords[3]))+" "+U(parseFloat(w.coords[4]))+" "+U(parseFloat(w.coords[5])),ee(be+="]"),w.matrix&&ee("/Matrix ["+w.matrix.toString()+"]"),ee("/Function "+J+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},qo=function(w,T){var J=fs(),ae=Sr();T.push({resourcesOid:J,objectOid:ae}),w.objectNumber=ae;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+w.boundingBox.map(U).join(" ")+"]"}),ue.push({key:"XStep",value:U(w.xStep)}),ue.push({key:"YStep",value:U(w.yStep)}),ue.push({key:"Resources",value:J+" 0 R"}),w.matrix&&ue.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),Kn({data:w.stream,additionalKeyValues:ue,objectId:w.objectNumber}),ee("endobj")},Ef=function(w){for(var T in w.objectNumber=Sr(),ee("<<"),w)switch(T){case"opacity":ee("/ca "+L(w[T]));break;case"stroke-opacity":ee("/CA "+L(w[T]))}ee(">>"),ee("endobj")},jc=function(w){Ns(w.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var T in ee("/Font <<"),Ve)Ve.hasOwnProperty(T)&&(h===!1||h===!0&&p.hasOwnProperty(T))&&ee("/"+T+" "+Ve[T].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(tt).length>0){for(var T in ee("/Shading <<"),tt)tt.hasOwnProperty(T)&&tt[T]instanceof po&&tt[T].objectNumber>=0&&ee("/"+T+" "+tt[T].objectNumber+" 0 R");Ht.publish("putShadingPatternDict"),ee(">>")}}(),function(T){if(Object.keys(tt).length>0){for(var J in ee("/Pattern <<"),tt)tt.hasOwnProperty(J)&&tt[J]instanceof m.TilingPattern&&tt[J].objectNumber>=0&&tt[J].objectNumber<T&&ee("/"+J+" "+tt[J].objectNumber+" 0 R");Ht.publish("putTilingPatternDict"),ee(">>")}}(w.objectOid),function(){if(Object.keys(mt).length>0){var T;for(T in ee("/ExtGState <<"),mt)mt.hasOwnProperty(T)&&mt[T].objectNumber>=0&&ee("/"+T+" "+mt[T].objectNumber+" 0 R");Ht.publish("putGStateDict"),ee(">>")}}(),function(){for(var T in ee("/XObject <<"),_s)_s.hasOwnProperty(T)&&_s[T].objectNumber>=0&&ee("/"+T+" "+_s[T].objectNumber+" 0 R");Ht.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},zu=function(w){ht[w.fontName]=ht[w.fontName]||{},ht[w.fontName][w.fontStyle]=w.id},Vu=function(w,T,J,ae,ue){var be={id:"F"+(Object.keys(Ve).length+1).toString(10),postScriptName:w,fontName:T,fontStyle:J,encoding:ae,isStandardFont:ue||!1,metadata:{}};return Ht.publish("addFont",{font:be,instance:this}),Ve[be.id]=be,zu(be),be.id},zn=m.__private__.pdfEscape=m.pdfEscape=function(w,T){return function(J,ae){var ue,be,Ce,Me,ze,nt,yt,Dt,Nr;if(Ce=(ae=ae||{}).sourceEncoding||"Unicode",ze=ae.outputEncoding,(ae.autoencode||ze)&&Ve[We].metadata&&Ve[We].metadata[Ce]&&Ve[We].metadata[Ce].encoding&&(Me=Ve[We].metadata[Ce].encoding,!ze&&Ve[We].encoding&&(ze=Ve[We].encoding),!ze&&Me.codePages&&(ze=Me.codePages[0]),typeof ze=="string"&&(ze=Me[ze]),ze)){for(yt=!1,nt=[],ue=0,be=J.length;ue<be;ue++)(Dt=ze[J.charCodeAt(ue)])?nt.push(String.fromCharCode(Dt)):nt.push(J[ue]),nt[ue].charCodeAt(0)>>8&&(yt=!0);J=nt.join("")}for(ue=J.length;yt===void 0&&ue!==0;)J.charCodeAt(ue-1)>>8&&(yt=!0),ue--;if(!yt)return J;for(nt=ae.noBOM?[]:[254,255],ue=0,be=J.length;ue<be;ue++){if((Nr=(Dt=J.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+J+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");nt.push(Nr),nt.push(Dt-(Nr<<8))}return String.fromCharCode.apply(void 0,nt)}(w,T).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bc=m.__private__.beginPage=function(w){ge[++tr]=[],lt[tr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},$u(tr),ye(ge[z])},Gu=function(w,T){var J,ae,ue;switch(s=T||s,typeof w=="string"&&(J=x(w.toLowerCase()),Array.isArray(J)&&(ae=J[0],ue=J[1])),Array.isArray(w)&&(ae=w[0]*st,ue=w[1]*st),isNaN(ae)&&(ae=a[0],ue=a[1]),(ae>14400||ue>14400)&&(nr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),ue=Math.min(14400,ue)),a=[ae,ue],s.substr(0,1)){case"l":ue>ae&&(a=[ue,ae]);break;case"p":ae>ue&&(a=[ue,ae])}Bc(a),Df(Ic),ee(Wo),Uc!==0&&ee(Uc+" J"),Qc!==0&&ee(Qc+" j"),Ht.publish("addPage",{pageNumber:tr})},Cc=function(w){w>0&&w<=tr&&(ge.splice(w,1),lt.splice(w,1),tr--,z>tr&&(z=tr),this.setPage(z))},$u=function(w){w>0&&w<=tr&&(z=w)},qu=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return ge.length-1},Yu=function(w,T,J){var ae,ue=void 0;return J=J||{},w=w!==void 0?w:Ve[We].fontName,T=T!==void 0?T:Ve[We].fontStyle,ae=w.toLowerCase(),ht[ae]!==void 0&&ht[ae][T]!==void 0?ue=ht[ae][T]:ht[w]!==void 0&&ht[w][T]!==void 0?ue=ht[w][T]:J.disableWarning===!1&&nr.warn("Unable to look up font label for font '"+w+"', '"+T+"'. Refer to getFontList() for available fonts."),ue||J.noFallback||(ue=ht.times[T])==null&&(ue=ht.times.normal),ue},Yo=m.__private__.putInfo=function(){var w=Sr(),T=function(ae){return ae};for(var J in d!==null&&(T=Pr.encryptor(w,0)),ee("<<"),ee("/Producer ("+zn(T("jsPDF "+$e.version))+")"),gt)gt.hasOwnProperty(J)&&gt[J]&&ee("/"+J.substr(0,1).toUpperCase()+J.substr(1)+" ("+zn(T(gt[J]))+")");ee("/CreationDate ("+zn(T(Z))+")"),ee(">>"),ee("endobj")},Ff=m.__private__.putCatalog=function(w){var T=(w=w||{}).rootDictionaryObjId||Gi;switch(Sr(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+T+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var J=""+qe;J.substr(J.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+L(qe)+"]")}switch(dt||(dt="continuous"),dt){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Xe&&ee("/PageMode /"+Xe),Ht.publish("putCatalog"),ee(">>"),ee("endobj")},qr=m.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(ne+1)),ee("/Root "+ne+" 0 R"),ee("/Info "+(ne-1)+" 0 R"),d!==null&&ee("/Encrypt "+Pr.oid+" 0 R"),ee("/ID [ <"+te+"> <"+te+"> ]"),ee(">>")},Wu=m.__private__.putHeader=function(){ee("%PDF-"+y),ee("%")},Ju=m.__private__.putXRef=function(){var w="0000000000";ee("xref"),ee("0 "+(ne+1)),ee("0000000000 65535 f ");for(var T=1;T<=ne;T++)typeof de[T]=="function"?ee((w+de[T]()).slice(-10)+" 00000 n "):de[T]!==void 0?ee((w+de[T]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},ui=m.__private__.buildDocument=function(){var w;ne=0,ie=0,xe=[],de=[],Ae=[],Gi=fs(),oa=fs(),ye(xe),Ht.publish("buildDocument"),Wu(),La(),function(){Ht.publish("putAdditionalObjects");for(var J=0;J<Ae.length;J++){var ae=Ae[J];Ns(ae.objId,!0),ee(ae.content),ee("endobj")}Ht.publish("postPutAdditionalObjects")}(),w=[],function(){for(var J in Ve)Ve.hasOwnProperty(J)&&(h===!1||h===!0&&p.hasOwnProperty(J))&&Jl(Ve[J])}(),function(){var J;for(J in mt)mt.hasOwnProperty(J)&&Ef(mt[J])}(),function(){for(var J in _s)_s.hasOwnProperty(J)&&Go(_s[J])}(),function(J){var ae;for(ae in tt)tt.hasOwnProperty(ae)&&(tt[ae]instanceof po?$o(tt[ae]):tt[ae]instanceof TA&&qo(tt[ae],J))}(w),Ht.publish("putResources"),w.forEach(jc),jc({resourcesOid:oa,objectOid:Number.MAX_SAFE_INTEGER}),Ht.publish("postPutResources"),d!==null&&(Pr.oid=Sr(),ee("<<"),ee("/Filter /Standard"),ee("/V "+Pr.v),ee("/R "+Pr.r),ee("/U <"+Pr.toHexString(Pr.U)+">"),ee("/O <"+Pr.toHexString(Pr.O)+">"),ee("/P "+Pr.P),ee(">>"),ee("endobj")),Yo(),Ff();var T=ie;return Ju(),qr(),ee("startxref"),ee(""+T),ee("%%EOF"),ye(ge[z]),xe.join(`
`)},Xl=m.__private__.getBlob=function(w){return new Blob([pt(w)],{type:"application/pdf"})},da=m.output=m.__private__.output=(On=function(w,T){switch(typeof(T=T||{})=="string"?T={filename:T}:T.filename=T.filename||"generated.pdf",w){case void 0:return ui();case"save":m.save(T.filename);break;case"arraybuffer":return pt(ui());case"blob":return Xl(ui());case"bloburi":case"bloburl":if(at.URL!==void 0&&typeof at.URL.createObjectURL=="function")return at.URL&&at.URL.createObjectURL(Xl(ui()))||void 0;nr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var J="",ae=ui();try{J=B2(ae)}catch{J=B2(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+T.filename+";base64,"+J;case"pdfobjectnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';T.pdfObjectUrl&&(ue=T.pdfObjectUrl,be="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(T)+");<\/script></body></html>",Me=at.open();return Me!==null&&Me.document.write(Ce),Me}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(T.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+T.filename+'" width="500px" height="400px" /></body></html>',nt=at.open();if(nt!==null){nt.document.write(ze);var yt=this;nt.document.documentElement.querySelector("#pdfViewer").onload=function(){nt.document.title=T.filename,nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(yt.output("bloburl"))}}return nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(at)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",T)+'"></iframe></body></html>',Nr=at.open();if(Nr!==null&&(Nr.document.write(Dt),Nr.document.title=T.filename),Nr||typeof safari>"u")return Nr;break;case"datauri":case"dataurl":return at.document.location.href=this.output("datauristring",T);default:return null}},On.foo=function(){try{return On.apply(this,arguments)}catch(J){var w=J.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var T="Error in function "+w.split(`
`)[0].split("<")[0]+": "+J.message;if(!at.console)throw new Error(T);at.console.error(T,J),at.alert&&alert(T)}},On.foo.bar=On,On.foo),Zl=function(w){return Array.isArray(ql)===!0&&ql.indexOf(w)>-1};switch(n){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=Zl("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);st=n}var Pr=null;re(),R();var Sc=m.__private__.getPageInfo=m.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[w].objId,pageNumber:w,pageContext:lt[w]}},If=m.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var T in lt)if(lt[T].objId===w)break;return Sc(T)},kf=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:lt[z].objId,pageNumber:z,pageContext:lt[z]}};m.addPage=function(){return Gu.apply(this,arguments),this},m.setPage=function(){return $u.apply(this,arguments),ye.call(this,ge[z]),this},m.insertPage=function(w){return this.addPage(),this.movePage(z,w),this},m.movePage=function(w,T){var J,ae;if(w>T){J=ge[w],ae=lt[w];for(var ue=w;ue>T;ue--)ge[ue]=ge[ue-1],lt[ue]=lt[ue-1];ge[T]=J,lt[T]=ae,this.setPage(T)}else if(w<T){J=ge[w],ae=lt[w];for(var be=w;be<T;be++)ge[be]=ge[be+1],lt[be]=lt[be+1];ge[T]=J,lt[T]=ae,this.setPage(T)}return this},m.deletePage=function(){return Cc.apply(this,arguments),this},m.__private__.text=m.text=function(w,T,J,ae,ue){var be,Ce,Me,ze,nt,yt,Dt,Nr,Yr,Wt=(ae=ae||{}).scope||this;if(typeof w=="number"&&typeof T=="number"&&(typeof J=="string"||Array.isArray(J))){var ns=J;J=T,T=w,w=ns}if(arguments[3]instanceof rt==0?(Me=arguments[4],ze=arguments[5],$t(Dt=arguments[3])==="object"&&Dt!==null||(typeof Me=="string"&&(ze=Me,Me=null),typeof Dt=="string"&&(ze=Dt,Dt=null),typeof Dt=="number"&&(Me=Dt,Dt=null),ae={flags:Dt,angle:Me,align:ze})):(S("The transform parameter of text() with a Matrix value"),Yr=ue),isNaN(T)||isNaN(J)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return Wt;var Wr,js="",fi=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:to,Yi=Wt.internal.scaleFactor;function zf(ir){return ir=ir.split("	").join(Array(ae.TabLen||9).join(" ")),zn(ir,Dt)}function eh(ir){for(var lr,Tr=ir.concat(),Rr=[],yi=Tr.length;yi--;)typeof(lr=Tr.shift())=="string"?Rr.push(lr):Array.isArray(ir)&&(lr.length===1||lr[1]===void 0&&lr[2]===void 0)?Rr.push(lr[0]):Rr.push([lr[0],lr[1],lr[2]]);return Rr}function io(ir,lr){var Tr;if(typeof ir=="string")Tr=lr(ir)[0];else if(Array.isArray(ir)){for(var Rr,yi,lA=ir.concat(),Oa=[],Vc=lA.length;Vc--;)typeof(Rr=lA.shift())=="string"?Oa.push(lr(Rr)[0]):Array.isArray(Rr)&&typeof Rr[0]=="string"&&(yi=lr(Rr[0],Rr[1],Rr[2]),Oa.push([yi[0],yi[1],yi[2]]));Tr=Oa}return Tr}var ua=!1,Tc=!0;if(typeof w=="string")ua=!0;else if(Array.isArray(w)){var eA=w.concat();Ce=[];for(var Wi,ps=eA.length;ps--;)(typeof(Wi=eA.shift())!="string"||Array.isArray(Wi)&&typeof Wi[0]!="string")&&(Tc=!1);ua=Tc}if(ua===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var pi=Fe/Wt.internal.scaleFactor,xi=pi*(fi-1);switch(ae.baseline){case"bottom":J-=xi;break;case"top":J+=pi-xi;break;case"hanging":J+=pi-2*xi;break;case"middle":J+=pi/2-xi}if((yt=ae.maxWidth||0)>0&&(typeof w=="string"?w=Wt.splitTextToSize(w,yt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(ir,lr){return ir.concat(Wt.splitTextToSize(lr,yt))},[]))),be={text:w,x:T,y:J,options:ae,mutex:{pdfEscape:zn,activeFontKey:We,fonts:Ve,activeFontSize:Fe}},Ht.publish("preProcessText",be),w=be.text,Me=(ae=be.options).angle,Yr instanceof rt==0&&Me&&typeof Me=="number"){Me*=Math.PI/180,ae.rotationDirection===0&&(Me=-Me),g===b&&(Me=-Me);var tA=Math.cos(Me),Rc=Math.sin(Me);Yr=new rt(tA,Rc,-Rc,tA,0,0)}else Me&&Me instanceof rt&&(Yr=Me);g!==b||Yr||(Yr=di),(nt=ae.charSpace||Xo)!==void 0&&(js+=U(F(nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Nr=ae.horizontalScale)!==void 0&&(js+=U(100*Nr)+` Tz
`),ae.lang;var $s=-1,th=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,rA=Wt.internal.getCurrentPageInfo().pageContext;switch(th){case 0:case!1:case"fill":$s=0;break;case 1:case!0:case"stroke":$s=1;break;case 2:case"fillThenStroke":$s=2;break;case 3:case"invisible":$s=3;break;case 4:case"fillAndAddForClipping":$s=4;break;case 5:case"strokeAndAddPathForClipping":$s=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$s=6;break;case 7:case"addToPathForClipping":$s=7}var rh=rA.usedRenderingMode!==void 0?rA.usedRenderingMode:-1;$s!==-1?js+=$s+` Tr
`:rh!==-1&&(js+=`0 Tr
`),$s!==-1&&(rA.usedRenderingMode=$s),ze=ae.align||"left";var as,Vn=Fe*fi,Mc=Wt.internal.pageSize.getWidth(),Hc=Ve[We];nt=ae.charSpace||Xo,yt=ae.maxWidth||0,Dt=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var Ji=[],sA=function(ir){return Wt.getStringUnitWidth(ir,{font:Hc,charSpace:nt,fontSize:Fe,doKerning:!1})*Fe/Yi};if(Object.prototype.toString.call(w)==="[object Array]"){var sn;Ce=eh(w),ze!=="left"&&(as=Ce.map(sA));var nn,lo=0;if(ze==="right"){T-=as[0],w=[],ps=Ce.length;for(var Ta=0;Ta<ps;Ta++)Ta===0?(nn=hi(T),sn=mi(J)):(nn=F(lo-as[Ta]),sn=-Vn),w.push([Ce[Ta],nn,sn]),lo=as[Ta]}else if(ze==="center"){T-=as[0]/2,w=[],ps=Ce.length;for(var Xi=0;Xi<ps;Xi++)Xi===0?(nn=hi(T),sn=mi(J)):(nn=F((lo-as[Xi])/2),sn=-Vn),w.push([Ce[Xi],nn,sn]),lo=as[Xi]}else if(ze==="left"){w=[],ps=Ce.length;for(var Oc=0;Oc<ps;Oc++)w.push(Ce[Oc])}else if(ze==="justify"&&Hc.encoding==="Identity-H"){w=[],ps=Ce.length,yt=yt!==0?yt:Mc;for(var Zi=0,Dr=0;Dr<ps;Dr++)if(sn=Dr===0?mi(J):-Vn,nn=Dr===0?hi(T):Zi,Dr<ps-1){var Vf=F((yt-as[Dr])/(Ce[Dr].split(" ").length-1)),Ra=Ce[Dr].split(" ");w.push([Ra[0]+" ",nn,sn]),Zi=0;for(var Ma=1;Ma<Ra.length;Ma++){var nA=(sA(Ra[Ma-1]+" "+Ra[Ma])-sA(Ra[Ma]))*Yi+Vf;Ma==Ra.length-1?w.push([Ra[Ma],nA,0]):w.push([Ra[Ma]+" ",nA,0]),Zi-=nA}}else w.push([Ce[Dr],nn,sn]);w.push(["",Zi,0])}else{if(ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],ps=Ce.length,yt=yt!==0?yt:Mc,Dr=0;Dr<ps;Dr++)sn=Dr===0?mi(J):-Vn,nn=Dr===0?hi(T):0,Dr<ps-1?Ji.push(U(F((yt-as[Dr])/(Ce[Dr].split(" ").length-1)))):Ji.push(0),w.push([Ce[Dr],nn,sn])}}(typeof ae.R2L=="boolean"?ae.R2L:xt)===!0&&(w=io(w,function(ir,lr,Tr){return[ir.split("").reverse().join(""),lr,Tr]})),be={text:w,x:T,y:J,options:ae,mutex:{pdfEscape:zn,activeFontKey:We,fonts:Ve,activeFontSize:Fe}},Ht.publish("postProcessText",be),w=be.text,Wr=be.mutex.isHex||!1;var Kc=Ve[We].encoding;Kc!=="WinAnsiEncoding"&&Kc!=="StandardEncoding"||(w=io(w,function(ir,lr,Tr){return[zf(ir),lr,Tr]})),Ce=eh(w),w=[];for(var aA,iA,oo,Ao=Array.isArray(Ce[0])?1:0,gi="",zc=function(ir,lr,Tr){var Rr="";return Tr instanceof rt?(Tr=typeof ae.angle=="number"?ci(Tr,new rt(1,0,0,1,ir,lr)):ci(new rt(1,0,0,1,ir,lr),Tr),g===b&&(Tr=ci(new rt(1,0,0,-1,0,0),Tr)),Rr=Tr.join(" ")+` Tm
`):Rr=U(ir)+" "+U(lr)+` Td
`,Rr},wn=0;wn<Ce.length;wn++){switch(gi="",Ao){case 1:oo=(Wr?"<":"(")+Ce[wn][0]+(Wr?">":")"),aA=parseFloat(Ce[wn][1]),iA=parseFloat(Ce[wn][2]);break;case 0:oo=(Wr?"<":"(")+Ce[wn]+(Wr?">":")"),aA=hi(T),iA=mi(J)}Ji!==void 0&&Ji[wn]!==void 0&&(gi=Ji[wn]+` Tw
`),wn===0?w.push(gi+zc(aA,iA,Yr)+oo):Ao===0?w.push(gi+oo):Ao===1&&w.push(gi+zc(aA,iA,Yr)+oo)}w=Ao===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var Ha=`BT
/`;return Ha+=We+" "+Fe+` Tf
`,Ha+=U(Fe*fi)+` TL
`,Ha+=ro+`
`,Ha+=js,Ha+=w,ee(Ha+="ET"),p[We]=!0,Wt};var Uf=m.__private__.clip=m.clip=function(w){return ee(w==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Uf("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ee("n"),this};var Pa=m.__private__.isValidStyle=function(w){var T=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(T=!0),T};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(w){return Pa(w)&&(c=w),this};var Xu=m.__private__.getStyle=m.getStyle=function(w){var T=c;switch(w){case"D":case"S":T="S";break;case"F":T="f";break;case"FD":case"DF":T="B";break;case"f":case"f*":case"B":case"B*":T=w}return T},Zu=m.close=function(){return ee("h"),this};m.stroke=function(){return ee("S"),this},m.fill=function(w){return $i("f",w),this},m.fillEvenOdd=function(w){return $i("f*",w),this},m.fillStroke=function(w){return $i("B",w),this},m.fillStrokeEvenOdd=function(w){return $i("B*",w),this};var $i=function(w,T){$t(T)==="object"?_f(T,w):ee(w)},Ec=function(w){w===null||g===b&&w===void 0||(w=Xu(w),ee(w))};function Qf(w,T,J,ae,ue){var be=new TA(T||this.boundingBox,J||this.xStep,ae||this.yStep,this.gState,ue||this.matrix);be.stream=this.stream;var Ce=w+"$$"+this.cloneIndex+++"$$";return Hn(Ce,be),be}var _f=function(w,T){var J=Et[w.key],ae=tt[J];if(ae instanceof po)ee("q"),ee(Lf(T)),ae.gState&&m.setGState(ae.gState),ee(w.matrix.toString()+" cm"),ee("/"+J+" sh"),ee("Q");else if(ae instanceof TA){var ue=new rt(1,0,0,-1,0,yn());w.matrix&&(ue=ue.multiply(w.matrix||di),J=Qf.call(ae,w.key,w.boundingBox,w.xStep,w.yStep,ue).id),ee("q"),ee("/Pattern cs"),ee("/"+J+" scn"),ae.gState&&m.setGState(ae.gState),ee(T),ee("Q")}},Lf=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Fc=m.moveTo=function(w,T){return ee(U(F(w))+" "+U(M(T))+" m"),this},eo=m.lineTo=function(w,T){return ee(U(F(w))+" "+U(M(T))+" l"),this},qi=m.curveTo=function(w,T,J,ae,ue,be){return ee([U(F(w)),U(M(T)),U(F(J)),U(M(ae)),U(F(ue)),U(M(be)),"c"].join(" ")),this};m.__private__.line=m.line=function(w,T,J,ae,ue){if(isNaN(w)||isNaN(T)||isNaN(J)||isNaN(ae)||!Pa(ue))throw new Error("Invalid arguments passed to jsPDF.line");return g===N?this.lines([[J-w,ae-T]],w,T,[1,1],ue||"S"):this.lines([[J-w,ae-T]],w,T,[1,1]).stroke()},m.__private__.lines=m.lines=function(w,T,J,ae,ue,be){var Ce,Me,ze,nt,yt,Dt,Nr,Yr,Wt,ns,Wr,js;if(typeof w=="number"&&(js=J,J=T,T=w,w=js),ae=ae||[1,1],be=be||!1,isNaN(T)||isNaN(J)||!Array.isArray(w)||!Array.isArray(ae)||!Pa(ue)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Fc(T,J),Ce=ae[0],Me=ae[1],nt=w.length,ns=T,Wr=J,ze=0;ze<nt;ze++)(yt=w[ze]).length===2?(ns=yt[0]*Ce+ns,Wr=yt[1]*Me+Wr,eo(ns,Wr)):(Dt=yt[0]*Ce+ns,Nr=yt[1]*Me+Wr,Yr=yt[2]*Ce+ns,Wt=yt[3]*Me+Wr,ns=yt[4]*Ce+ns,Wr=yt[5]*Me+Wr,qi(Dt,Nr,Yr,Wt,ns,Wr));return be&&Zu(),Ec(ue),this},m.path=function(w){for(var T=0;T<w.length;T++){var J=w[T],ae=J.c;switch(J.op){case"m":Fc(ae[0],ae[1]);break;case"l":eo(ae[0],ae[1]);break;case"c":qi.apply(this,ae);break;case"h":Zu()}}return this},m.__private__.rect=m.rect=function(w,T,J,ae,ue){if(isNaN(w)||isNaN(T)||isNaN(J)||isNaN(ae)||!Pa(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return g===N&&(ae=-ae),ee([U(F(w)),U(M(T)),U(F(J)),U(F(ae)),"re"].join(" ")),Ec(ue),this},m.__private__.triangle=m.triangle=function(w,T,J,ae,ue,be,Ce){if(isNaN(w)||isNaN(T)||isNaN(J)||isNaN(ae)||isNaN(ue)||isNaN(be)||!Pa(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[J-w,ae-T],[ue-J,be-ae],[w-ue,T-be]],w,T,[1,1],Ce,!0),this},m.__private__.roundedRect=m.roundedRect=function(w,T,J,ae,ue,be,Ce){if(isNaN(w)||isNaN(T)||isNaN(J)||isNaN(ae)||isNaN(ue)||isNaN(be)||!Pa(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Me=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*J),be=Math.min(be,.5*ae),this.lines([[J-2*ue,0],[ue*Me,0,ue,be-be*Me,ue,be],[0,ae-2*be],[0,be*Me,-ue*Me,be,-ue,be],[2*ue-J,0],[-ue*Me,0,-ue,-be*Me,-ue,-be],[0,2*be-ae],[0,-be*Me,ue*Me,-be,ue,-be]],w+ue,T,[1,1],Ce,!0),this},m.__private__.ellipse=m.ellipse=function(w,T,J,ae,ue){if(isNaN(w)||isNaN(T)||isNaN(J)||isNaN(ae)||!Pa(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*J,Ce=4/3*(Math.SQRT2-1)*ae;return Fc(w+J,T),qi(w+J,T-Ce,w+be,T-ae,w,T-ae),qi(w-be,T-ae,w-J,T-Ce,w-J,T),qi(w-J,T+Ce,w-be,T+ae,w,T+ae),qi(w+be,T+ae,w+J,T+Ce,w+J,T),Ec(ue),this},m.__private__.circle=m.circle=function(w,T,J,ae){if(isNaN(w)||isNaN(T)||isNaN(J)||!Pa(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,T,J,J,ae)},m.setFont=function(w,T,J){return J&&(T=I(T,J)),We=Yu(w,T,{disableWarning:!1}),this};var Pf=m.__private__.getFont=m.getFont=function(){return Ve[Yu.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var w,T,J={};for(w in ht)if(ht.hasOwnProperty(w))for(T in J[w]=[],ht[w])ht[w].hasOwnProperty(T)&&J[w].push(T);return J},m.addFont=function(w,T,J,ae,ue){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(J=I(J,ae)),Vu.call(this,w,T,J,ue=ue||"Identity-H")};var to,Ic=e.lineWidth||.200025,ot=m.__private__.getLineWidth=m.getLineWidth=function(){return Ic},Df=m.__private__.setLineWidth=m.setLineWidth=function(w){return Ic=w,ee(U(F(w))+" w"),this};m.__private__.setLineDash=$e.API.setLineDash=$e.API.setLineDashPattern=function(w,T){if(w=w||[],T=T||0,isNaN(T)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(J){return U(F(J))}).join(" "),T=U(F(T)),ee("["+w+"] "+T+" d"),this};var Tf=m.__private__.getLineHeight=m.getLineHeight=function(){return Fe*to};m.__private__.getLineHeight=m.getLineHeight=function(){return Fe*to};var Rf=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(to=w),this},Mf=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return to};Rf(e.lineHeight);var hi=m.__private__.getHorizontalCoordinate=function(w){return F(w)},mi=m.__private__.getVerticalCoordinate=function(w){return g===b?w:lt[z].mediaBox.topRightY-lt[z].mediaBox.bottomLeftY-F(w)},Hf=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(w){return U(hi(w))},Of=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(w){return U(mi(w))},Wo=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return _a(Wo)},m.__private__.setStrokeColor=m.setDrawColor=function(w,T,J,ae){return Wo=Aa({ch1:w,ch2:T,ch3:J,ch4:ae,pdfColorType:"draw",precision:2}),ee(Wo),this};var kc=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return _a(kc)},m.__private__.setFillColor=m.setFillColor=function(w,T,J,ae){return kc=Aa({ch1:w,ch2:T,ch3:J,ch4:ae,pdfColorType:"fill",precision:2}),ee(kc),this};var ro=e.textColor||"0 g",Jo=m.__private__.getTextColor=m.getTextColor=function(){return _a(ro)};m.__private__.setTextColor=m.setTextColor=function(w,T,J,ae){return ro=Aa({ch1:w,ch2:T,ch3:J,ch4:ae,pdfColorType:"text",precision:3}),this};var Xo=e.charSpace,Kf=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Xo||0)};m.__private__.setCharSpace=m.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xo=w,this};var Uc=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(w){var T=m.CapJoinStyles[w];if(T===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uc=T,ee(T+" J"),this};var Qc=0;m.__private__.setLineJoin=m.setLineJoin=function(w){var T=m.CapJoinStyles[w];if(T===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qc=T,ee(T+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(U(F(w))+" M"),this},m.GState=E0,m.setGState=function(w){(w=typeof w=="string"?mt[Lr[w]]:so(null,w)).equals(ss)||(ee("/"+w.id+" gs"),ss=w)};var so=function(w,T){if(!w||!Lr[w]){var J=!1;for(var ae in mt)if(mt.hasOwnProperty(ae)&&mt[ae].equals(T)){J=!0;break}if(J)T=mt[ae];else{var ue="GS"+(Object.keys(mt).length+1).toString(10);mt[ue]=T,T.id=ue}return w&&(Lr[w]=T.id),Ht.publish("addGState",T),T}};m.addGState=function(w,T){return so(w,T),this},m.saveGraphicsState=function(){return ee("q"),er.push({key:We,size:Fe,color:ro}),this},m.restoreGraphicsState=function(){ee("Q");var w=er.pop();return We=w.key,Fe=w.size,ro=w.color,ss=null,this},m.setCurrentTransformationMatrix=function(w){return ee(w.toString()+" cm"),this},m.comment=function(w){return ee("#"+w),this};var no=function(w,T){var J=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return J},set:function(be){isNaN(be)||(J=parseFloat(be))}});var ae=T||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(be){isNaN(be)||(ae=parseFloat(be))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(be){ue=be.toString()}}),this},_c=function(w,T,J,ae){no.call(this,w,T),this.type="rect";var ue=J||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Ce){isNaN(Ce)||(ue=parseFloat(Ce))}});var be=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(Ce){isNaN(Ce)||(be=parseFloat(Ce))}}),this},Zo=function(){this.page=tr,this.currentPage=z,this.pages=ge.slice(0),this.pagesContext=lt.slice(0),this.x=Je,this.y=ar,this.matrix=Pt,this.width=Pc(z),this.height=yn(z),this.outputDestination=Qe,this.id="",this.objectNumber=-1};Zo.prototype.restore=function(){tr=this.page,z=this.currentPage,lt=this.pagesContext,ge=this.pages,Je=this.x,ar=this.y,Pt=this.matrix,Dc(z,this.width),Da(z,this.height),Qe=this.outputDestination};var Lc=function(w,T,J,ae,ue){Qa.push(new Zo),tr=z=0,ge=[],Je=w,ar=T,Pt=ue,Bc([J,ae])};for(var ao in m.beginFormObject=function(w,T,J,ae,ue){return Lc(w,T,J,ae,ue),this},m.endFormObject=function(w){return function(T){if(Ai[T])Qa.pop().restore();else{var J=new Zo,ae="Xo"+(Object.keys(_s).length+1).toString(10);J.id=ae,Ai[T]=ae,_s[ae]=J,Ht.publish("addFormObject",J),Qa.pop().restore()}}(w),this},m.doFormObject=function(w,T){var J=_s[Ai[w]];return ee("q"),ee(T.toString()+" cm"),ee("/"+J.id+" Do"),ee("Q"),this},m.getFormObject=function(w){var T=_s[Ai[w]];return{x:T.x,y:T.y,width:T.width,height:T.height,matrix:T.matrix}},m.save=function(w,T){return w=w||"generated.pdf",(T=T||{}).returnPromise=T.returnPromise||!1,T.returnPromise===!1?(fo(Xl(ui()),w),typeof fo.unload=="function"&&at.setTimeout&&setTimeout(fo.unload,911),this):new Promise(function(J,ae){try{var ue=fo(Xl(ui()),w);typeof fo.unload=="function"&&at.setTimeout&&setTimeout(fo.unload,911),J(ue)}catch(be){ae(be.message)}})},$e.API)$e.API.hasOwnProperty(ao)&&(ao==="events"&&$e.API.events.length?function(w,T){var J,ae,ue;for(ue=T.length-1;ue!==-1;ue--)J=T[ue][0],ae=T[ue][1],w.subscribe.apply(w,[J].concat(typeof ae=="function"?[ae]:ae))}(Ht,$e.API.events):m[ao]=$e.API[ao]);var Pc=m.getPageWidth=function(w){return(lt[w=w||z].mediaBox.topRightX-lt[w].mediaBox.bottomLeftX)/st},Dc=m.setPageWidth=function(w,T){lt[w].mediaBox.topRightX=T*st+lt[w].mediaBox.bottomLeftX},yn=m.getPageHeight=function(w){return(lt[w=w||z].mediaBox.topRightY-lt[w].mediaBox.bottomLeftY)/st},Da=m.setPageHeight=function(w,T){lt[w].mediaBox.topRightY=T*st+lt[w].mediaBox.bottomLeftY};return m.internal={pdfEscape:zn,getStyle:Xu,getFont:Pf,getFontSize:_e,getCharSpace:Kf,getTextColor:Jo,getLineHeight:Tf,getLineHeightFactor:Mf,getLineWidth:ot,write:Ct,getHorizontalCoordinate:hi,getVerticalCoordinate:mi,getCoordinateString:Hf,getVerticalCoordinateString:Of,collections:{},newObject:Sr,newAdditionalObject:Yl,newObjectDeferred:fs,newObjectDeferredBegin:Ns,getFilters:ca,putStream:Kn,events:Ht,scaleFactor:st,pageSize:{getWidth:function(){return Pc(z)},setWidth:function(w){Dc(z,w)},getHeight:function(){return yn(z)},setHeight:function(w){Da(z,w)}},encryptionOptions:d,encryption:Pr,getEncryptor:function(w){return d!==null?Pr.encryptor(w,0):function(T){return T}},output:da,getNumberOfPages:qu,pages:ge,out:ee,f2:L,f3:P,getPageInfo:Sc,getPageInfoByObjId:If,getCurrentPageInfo:kf,getPDFVersion:v,Point:no,Rectangle:_c,Matrix:rt,hasHotfix:Zl},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Pc(z)},set:function(w){Dc(z,w)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return yn(z)},set:function(w){Da(z,w)},enumerable:!0,configurable:!0}),(function(w){for(var T=0,J=Ze.length;T<J;T++){var ae=Vu.call(this,w[T][0],w[T][1],w[T][2],Ze[T][3],!0);h===!1&&(p[ae]=!0);var ue=w[T][0].split("-");zu({id:ae,fontName:ue[0],fontStyle:ue[1]||""})}Ht.publish("addFonts",{fonts:Ve,dictionary:ht})}).call(m,Ze),We="F1",Gu(a,s),Ht.publish("initialized"),m}wA.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},wA.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wA.prototype.hexToBytes=function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(String.fromCharCode(parseInt(e.substr(s,2),16)));return t.join("")},wA.prototype.processOwnerPassword=function(e,t){return Wg(Yg(t).substr(0,5),e)},wA.prototype.encryptor=function(e,t){var s=Yg(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Wg(s,n)}},E0.prototype.equals=function(e){var t,s="id,objectNumber,equals";if(!e||$t(e)!==$t(this))return!1;var n=0;for(t in this)if(!(s.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&s.indexOf(t)<0&&n--;return n===0},$e.API={events:[]},$e.version="3.0.2";var Ir=$e.API,z1=1,Vo=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uA=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(e){return e.toFixed(2)},Al=function(e){return e.toFixed(5)};Ir.__acroform__={};var gn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},F2=function(e){return e*z1},$a=function(e){var t=new nC,s=Re.internal.getHeight(e)||0,n=Re.internal.getWidth(e)||0;return t.BBox=[0,0,Number(At(n)),Number(At(s))],t},LL=Ir.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},PL=Ir.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},DL=Ir.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Vr=Ir.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return DL(e,t-1)},Gr=Ir.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return LL(e,t-1)},$r=Ir.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return PL(e,t-1)},TL=Ir.__acroform__.calculateCoordinates=function(e,t){var s=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],l=e[2],o=e[3],A={};return A.lowerLeft_X=s(a)||0,A.lowerLeft_Y=n(i+o)||0,A.upperRight_X=s(a+l)||0,A.upperRight_Y=n(i)||0,[Number(At(A.lowerLeft_X)),Number(At(A.lowerLeft_Y)),Number(At(A.upperRight_X)),Number(At(A.upperRight_Y))]},RL=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],s=e._V||e.DV,n=Jg(e,s),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+At(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=$a(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Jg=function(e,t){var s=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(L){return L.split(`
`)}):a.map(function(L){return[L]});var i=s,l=Re.internal.getHeight(e)||0;l=l<0?-l:l;var o=Re.internal.getWidth(e)||0;o=o<0?-o:o;var A=function(L,P,F){if(L+1<a.length){var M=P+" "+a[L+1][0];return qh(M,e,F).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,d,h=qh("3",e,i).height,p=e.multiline?l-i:(l-h)/2,m=p+=2,y=0,v=0,B=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+qh(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var x="",N=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var g=!1;if(a[b].length!==1&&B!==a[b].length-1){if((h+2)*(N+2)+2>l)continue e;x+=a[b][B],g=!0,v=b,b--}else{x=(x+=a[b][B]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var k=parseInt(b),_=A(k,x,i),I=b>=a.length-1;if(_&&!I){x+=" ",B=0;continue}if(_||I){if(I)v=k;else if(e.multiline&&(h+2)*(N+2)+2>l)continue e}else{if(!e.multiline||(h+2)*(N+2)+2>l)continue e;v=k}}for(var U="",S=y;S<=v;S++){var G=a[S];if(e.multiline){if(S===v){U+=G[B]+" ",B=(B+1)%G.length;continue}if(S===y){U+=G[G.length-1]+" ";continue}}U+=G[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,d=qh(U,e,i).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=At(c)+" "+At(m)+` Td
`,t+="("+Vo(U)+`) Tj
`,t+=-At(c)+` 0 Td
`,m=-(i+2),d=0,y=g?v:v+1,N++,x=""}break}return n.text=t,n.fontSize=i,n},qh=function(e,t,s){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:a}},ML={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},HL=function(e,t){var s={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===s.type&&n.object===s.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(s)},OL=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ia.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ML)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");z1=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new aC,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&HL(i,s)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(s){(function(n,a){var i=!n;for(var l in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var o=n[l],A=[],c=o.Rect;if(o.Rect&&(o.Rect=TL(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Re.createDefaultAppearanceStream(o),$t(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(A=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=RL(o);A.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var h="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var m=o.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var l in m)if(m.hasOwnProperty(l)){var y=m[l];typeof y=="function"&&(y=y.call(a,o)),h+="/"+l+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(a,o)),h+="/"+l+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);h+=">>"}A.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:A,objectId:o.objId}),a.internal.out("endobj")}i&&function(v,B){for(var x in v)if(v.hasOwnProperty(x)){var N=x,b=v[x];B.internal.newObjectDeferredBegin(b.objId,!0),$t(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete v[N]}}(a.internal.acroformPlugin.xForms,a)})(s,e)}),e.internal.acroformPlugin.isInitialized=!0}},sC=Ir.__acroform__.arrayToPdfArray=function(e,t,s){var n=function(l){return l};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),$t(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&s&&(n=s.internal.getEncryptor(t)),a+="("+Vo(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},lx=function(e,t,s){var n=function(a){return a};return t!==void 0&&s&&(n=s.internal.getEncryptor(t)),(e=e||"").toString(),"("+Vo(n(e))+")"},Xa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xa.prototype.toString=function(){return this.objId+" 0 R"},Xa.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Xa.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var s in t)if(Object.getOwnPropertyDescriptor(this,t[s]).configurable===!1){var n=t[s],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:sC(a,this.objId,this.scope)}):a instanceof Xa?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var nC=function(){Xa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){e=s.trim()},get:function(){return e||null}})};gn(nC,Xa);var aC=function(){Xa.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var s=function(n){return n};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+Vo(s(e))+")"}},set:function(s){e=s}})};gn(aC,Xa);var Ia=function e(){Xa.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Vr(t,3)},set:function(x){x?this.F=Gr(t,3):this.F=$r(t,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');s=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof F0)return;i="FieldObject"+e.FieldNum++}var x=function(N){return N};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Vo(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(x){A=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/z1:c},set:function(x){c=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof F0||this instanceof Io))return lx(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ws==0?lx(p,this.objId,this.scope):p},set:function(x){x=x.toString(),p=this instanceof ws==0?x.substr(0,1)==="("?uA(x.substr(1,x.length-2)):uA(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ws==1?uA(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof ws==1?"/"+x:x}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ws==0?lx(m,this.objId,this.scope):m},set:function(x){x=x.toString(),m=this instanceof ws==0?x.substr(0,1)==="("?uA(x.substr(1,x.length-2)):uA(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ws==1?uA(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof ws==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(x){x=!!x,v=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(x){y=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,1)},set:function(x){x?this.Ff=Gr(this.Ff,1):this.Ff=$r(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,2)},set:function(x){x?this.Ff=Gr(this.Ff,2):this.Ff=$r(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,3)},set:function(x){x?this.Ff=Gr(this.Ff,3):this.Ff=$r(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');B=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(B){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:B=2;break;case"center":case 1:B=1;break;default:B=0}}})};gn(Ia,Xa);var qA=function(){Ia.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(s){e=s}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return sC(t,this.objId,this.scope)},set:function(s){var n,a;a=[],typeof(n=s)=="string"&&(a=function(i,l,o){o||(o=1);for(var A,c=[];A=l.exec(i);)c.push(A[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(s){t=s,this.sort&&t.sort()},this.addOption=function(s){s=(s=s||"").toString(),t.push(s),this.sort&&t.sort()},this.removeOption=function(s,n){for(n=n||!1,s=(s=s||"").toString();t.indexOf(s)!==-1&&(t.splice(t.indexOf(s),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,18)},set:function(s){s?this.Ff=Gr(this.Ff,18):this.Ff=$r(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=Gr(this.Ff,19):this.Ff=$r(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,20)},set:function(s){s?(this.Ff=Gr(this.Ff,20),t.sort()):this.Ff=$r(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,22)},set:function(s){s?this.Ff=Gr(this.Ff,22):this.Ff=$r(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,23)},set:function(s){s?this.Ff=Gr(this.Ff,23):this.Ff=$r(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,27)},set:function(s){s?this.Ff=Gr(this.Ff,27):this.Ff=$r(this.Ff,27)}}),this.hasAppearanceStream=!1};gn(qA,Ia);var YA=function(){qA.call(this),this.fontName="helvetica",this.combo=!1};gn(YA,qA);var WA=function(){YA.call(this),this.combo=!0};gn(WA,YA);var Km=function(){WA.call(this),this.edit=!0};gn(Km,WA);var ws=function(){Ia.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,15)},set:function(s){s?this.Ff=Gr(this.Ff,15):this.Ff=$r(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,16)},set:function(s){s?this.Ff=Gr(this.Ff,16):this.Ff=$r(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,17)},set:function(s){s?this.Ff=Gr(this.Ff,17):this.Ff=$r(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,26)},set:function(s){s?this.Ff=Gr(this.Ff,26):this.Ff=$r(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(i){return i};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Vo(s(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(s){$t(s)==="object"&&(t=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(s){typeof s=="string"&&(t.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}})};gn(ws,Ia);var zm=function(){ws.call(this),this.pushButton=!0};gn(zm,ws);var JA=function(){ws.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};gn(JA,ws);var F0=function(){var e,t;Ia.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var s,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),n)l.push("/"+i+" ("+Vo(a(n[i]))+")");return l.push(">>"),l.join(`
`)},set:function(a){$t(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(a){s="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Re.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};gn(F0,Ia),JA.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var s=this.Kids[t];s.appearanceStreamContent=e.createAppearanceStream(s.optionName),s.caption=e.getCA()}},JA.prototype.createOption=function(e){var t=new F0;return t.Parent=this,t.optionName=e,this.Kids.push(t),KL.call(this.scope,t),t};var Vm=function(){ws.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Re.CheckBox.createAppearanceStream()};gn(Vm,ws);var Io=function(){Ia.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,13)},set:function(t){t?this.Ff=Gr(this.Ff,13):this.Ff=$r(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,21)},set:function(t){t?this.Ff=Gr(this.Ff,21):this.Ff=$r(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,23)},set:function(t){t?this.Ff=Gr(this.Ff,23):this.Ff=$r(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,24)},set:function(t){t?this.Ff=Gr(this.Ff,24):this.Ff=$r(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,25)},set:function(t){t?this.Ff=Gr(this.Ff,25):this.Ff=$r(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,26)},set:function(t){t?this.Ff=Gr(this.Ff,26):this.Ff=$r(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};gn(Io,Ia);var Gm=function(){Io.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,14)},set:function(e){e?this.Ff=Gr(this.Ff,14):this.Ff=$r(this.Ff,14)}}),this.password=!0};gn(Gm,Io);var Re={CheckBox:{createAppearanceStream:function(){return{N:{On:Re.CheckBox.YesNormal},D:{On:Re.CheckBox.YesPushDown,Off:Re.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=$a(e);t.scope=e.scope;var s=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=Jg(e,e.caption);return s.push("0.749023 g"),s.push("0 0 "+At(Re.internal.getWidth(e))+" "+At(Re.internal.getHeight(e))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+n+" "+At(i.fontSize)+" Tf "+a),s.push("BT"),s.push(i.text),s.push("ET"),s.push("Q"),s.push("EMC"),t.stream=s.join(`
`),t},YesNormal:function(e){var t=$a(e);t.scope=e.scope;var s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Re.internal.getHeight(e),l=Re.internal.getWidth(e),o=Jg(e,e.caption);return a.push("1 g"),a.push("0 0 "+At(l)+" "+At(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+At(l-1)+" "+At(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+s+" "+At(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=$a(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+At(Re.internal.getWidth(e))+" "+At(Re.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Re.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Re.RadioButton.Circle.YesNormal,t.D[e]=Re.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=$a(e);t.scope=e.scope;var s=[],n=Re.internal.getWidth(e)<=Re.internal.getHeight(e)?Re.internal.getWidth(e)/4:Re.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Re.internal.Bezier_C,i=Number((n*a).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+Al(Re.internal.getWidth(e)/2)+" "+Al(Re.internal.getHeight(e)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),s.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),s.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),s.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=$a(e);t.scope=e.scope;var s=[],n=Re.internal.getWidth(e)<=Re.internal.getHeight(e)?Re.internal.getWidth(e)/4:Re.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Re.internal.Bezier_C).toFixed(5)),l=Number((n*Re.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Al(Re.internal.getWidth(e)/2)+" "+Al(Re.internal.getHeight(e)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),s.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),s.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),s.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+Al(Re.internal.getWidth(e)/2)+" "+Al(Re.internal.getHeight(e)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),s.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),s.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),s.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=$a(e);t.scope=e.scope;var s=[],n=Re.internal.getWidth(e)<=Re.internal.getHeight(e)?Re.internal.getWidth(e)/4:Re.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Re.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Al(Re.internal.getWidth(e)/2)+" "+Al(Re.internal.getHeight(e)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),s.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),s.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),s.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Re.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Re.RadioButton.Cross.YesNormal,t.D[e]=Re.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=$a(e);t.scope=e.scope;var s=[],n=Re.internal.calculateCross(e);return s.push("q"),s.push("1 1 "+At(Re.internal.getWidth(e)-2)+" "+At(Re.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(At(n.x1.x)+" "+At(n.x1.y)+" m"),s.push(At(n.x2.x)+" "+At(n.x2.y)+" l"),s.push(At(n.x4.x)+" "+At(n.x4.y)+" m"),s.push(At(n.x3.x)+" "+At(n.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=$a(e);t.scope=e.scope;var s=Re.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+At(Re.internal.getWidth(e))+" "+At(Re.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+At(Re.internal.getWidth(e)-2)+" "+At(Re.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(At(s.x1.x)+" "+At(s.x1.y)+" m"),n.push(At(s.x2.x)+" "+At(s.x2.y)+" l"),n.push(At(s.x4.x)+" "+At(s.x4.y)+" m"),n.push(At(s.x3.x)+" "+At(s.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=$a(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+At(Re.internal.getWidth(e))+" "+At(Re.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+s}};Re.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Re.internal.getWidth(e),s=Re.internal.getHeight(e),n=Math.min(t,s);return{x1:{x:(t-n)/2,y:(s-n)/2+n},x2:{x:(t-n)/2+n,y:(s-n)/2},x3:{x:(t-n)/2,y:(s-n)/2},x4:{x:(t-n)/2+n,y:(s-n)/2+n}}}},Re.internal.getWidth=function(e){var t=0;return $t(e)==="object"&&(t=F2(e.Rect[2])),t},Re.internal.getHeight=function(e){var t=0;return $t(e)==="object"&&(t=F2(e.Rect[3])),t};var KL=Ir.addField=function(e){if(OL(this,e),!(e instanceof Ia))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ir.AcroFormChoiceField=qA,Ir.AcroFormListBox=YA,Ir.AcroFormComboBox=WA,Ir.AcroFormEditBox=Km,Ir.AcroFormButton=ws,Ir.AcroFormPushButton=zm,Ir.AcroFormRadioButton=JA,Ir.AcroFormCheckBox=Vm,Ir.AcroFormTextField=Io,Ir.AcroFormPasswordField=Gm,Ir.AcroFormAppearance=Re,Ir.AcroForm={ChoiceField:qA,ListBox:YA,ComboBox:WA,EditBox:Km,Button:ws,PushButton:zm,RadioButton:JA,CheckBox:Vm,TextField:Io,PasswordField:Gm,Appearance:Re},$e.AcroForm={ChoiceField:qA,ListBox:YA,ComboBox:WA,EditBox:Km,Button:ws,PushButton:zm,RadioButton:JA,CheckBox:Vm,TextField:Io,PasswordField:Gm,Appearance:Re};function iC(e){return e.reduce(function(t,s,n){return t[s]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var s="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(L,P){var F,M,Z,te,le,R=s;if((P=P||s)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(_(L))for(le in n)for(Z=n[le],F=0;F<Z.length;F+=1){for(te=!0,M=0;M<Z[F].length;M+=1)if(Z[F][M]!==void 0&&Z[F][M]!==L[M]){te=!1;break}if(te===!0){R=le;break}}else for(le in n)for(Z=n[le],F=0;F<Z.length;F+=1){for(te=!0,M=0;M<Z[F].length;M+=1)if(Z[F][M]!==void 0&&Z[F][M]!==L.charCodeAt(M)){te=!1;break}if(te===!0){R=le;break}}return R===s&&P!==s&&(R=P),R},i=function L(P){for(var F=this.internal.write,M=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:P.width}),te.push({key:"Height",value:P.height}),P.colorSpace===x.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===x.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var le="",R=0,X=P.transparency.length;R<X;R++)le+=P.transparency[R]+" "+P.transparency[R]+" ";te.push({key:"Mask",value:"["+le+"]"})}P.sMask!==void 0&&te.push({key:"SMask",value:P.objectId+1+" 0 R"});var se=P.filter!==void 0?["/"+P.filter]:void 0;if(M({data:P.data,additionalKeyValues:te,alreadyAppliedFilters:se,objectId:P.objectId}),F("endobj"),"sMask"in P&&P.sMask!==void 0){var re=(P.predictor!=null?"/Predictor "+P.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+P.width,Q={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:re,data:P.sMask};"filter"in P&&(Q.filter=P.filter),L.call(this,Q)}if(P.colorSpace===x.INDEXED){var z=this.internal.newObject();M({data:U(new Uint8Array(P.palette)),objectId:z}),F("endobj")}},l=function(){var L=this.internal.collections[t+"images"];for(var P in L)i.call(this,L[P])},o=function(){var L,P=this.internal.collections[t+"images"],F=this.internal.write;for(var M in P)F("/I"+(L=P[M]).index,L.objectId,"0","R")},A=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var L=this.internal.collections[t+"images"];return A.call(this),L},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(L){return typeof e["process"+L.toUpperCase()]=="function"},p=function(L){return $t(L)==="object"&&L.nodeType===1},m=function(L,P){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var F=""+L.getAttribute("src");if(F.indexOf("data:image/")===0)return Om(unescape(F).split("base64,").pop());var M=e.loadFile(F,!0);if(M!==void 0)return M}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var Z;switch(P){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;default:Z="image/jpeg"}return Om(L.toDataURL(Z,1).split("base64,").pop())}},y=function(L){var P=this.internal.collections[t+"images"];if(P){for(var F in P)if(L===P[F].alias)return P[F]}},v=function(L,P,F){return L||P||(L=-96,P=-96),L<0&&(L=-1*F.width*72/L/this.internal.scaleFactor),P<0&&(P=-1*F.height*72/P/this.internal.scaleFactor),L===0&&(L=P*F.width/F.height),P===0&&(P=L*F.height/F.width),[L,P]},B=function(L,P,F,M,Z,te){var le=v.call(this,F,M,Z),R=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,se=c.call(this);if(F=le[0],M=le[1],se[Z.index]=Z,te){te*=Math.PI/180;var re=Math.cos(te),Q=Math.sin(te),z=function(V){return V.toFixed(4)},$=[z(re),z(Q),z(-1*Q),z(re),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,R(L),X(P+M),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([R(F),"0","0",R(M),"0","0","cm"].join(" "))):this.internal.write([R(F),"0","0",R(M),R(L),X(P+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(L){var P,F,M=0;if(typeof L=="string")for(F=L.length,P=0;P<F;P++)M=(M<<5)-M+L.charCodeAt(P),M|=0;else if(_(L))for(F=L.byteLength/2,P=0;P<F;P++)M=(M<<5)-M+L[P],M|=0;return M},g=e.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var P=!0;return L.length===0&&(P=!1),L.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(P=!1),P},k=e.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var P=L.indexOf(",");return P<0?null:L.substring(0,P).trim().endsWith("base64")?L.substring(P+1):null};e.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var _=e.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},I=e.__addimage__.binaryStringToUint8Array=function(L){for(var P=L.length,F=new Uint8Array(P),M=0;M<P;M++)F[M]=L.charCodeAt(M);return F},U=e.__addimage__.arrayBufferToBinaryString=function(L){for(var P="",F=_(L)?L:new Uint8Array(L),M=0;M<F.length;M+=8192)P+=String.fromCharCode.apply(null,F.subarray(M,M+8192));return P};e.addImage=function(){var L,P,F,M,Z,te,le,R,X;if(typeof arguments[1]=="number"?(P=s,F=arguments[1],M=arguments[2],Z=arguments[3],te=arguments[4],le=arguments[5],R=arguments[6],X=arguments[7]):(P=arguments[1],F=arguments[2],M=arguments[3],Z=arguments[4],te=arguments[5],le=arguments[6],R=arguments[7],X=arguments[8]),$t(L=arguments[0])==="object"&&!p(L)&&"imageData"in L){var se=L;L=se.imageData,P=se.format||P||s,F=se.x||F||0,M=se.y||M||0,Z=se.w||se.width||Z,te=se.h||se.height||te,le=se.alias||le,R=se.compression||R,X=se.rotation||se.angle||X}var re=this.internal.getFilters();if(R===void 0&&re.indexOf("FlateEncode")!==-1&&(R="SLOW"),isNaN(F)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var Q=S.call(this,L,P,le,R);return B.call(this,F,M,Z,te,Q,X),this};var S=function(L,P,F,M){var Z,te,le;if(typeof L=="string"&&a(L)===s){L=unescape(L);var R=G(L,!1);(R!==""||(R=e.loadFile(L,!0))!==void 0)&&(L=R)}if(p(L)&&(L=m(L,P)),P=a(L,P),!h(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((le=F)==null||le.length===0)&&(F=function(X){return typeof X=="string"||_(X)?b(X):_(X.data)?b(X.data):null}(L)),(Z=y.call(this,F))||(L instanceof Uint8Array||P==="RGBA"||(te=L,L=I(L)),Z=this["process"+P.toUpperCase()](L,d.call(this),F,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in e.image_compression?X:N.NONE}(M),te)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},G=e.__addimage__.convertBase64ToBinaryString=function(L,P){P=typeof P!="boolean"||P;var F,M="";if(typeof L=="string"){var Z;F=(Z=k(L))!==null&&Z!==void 0?Z:L;try{M=Om(F)}catch(te){if(P)throw g(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};e.getImageProperties=function(L){var P,F,M="";if(p(L)&&(L=m(L)),typeof L=="string"&&a(L)===s&&((M=G(L,!1))===""&&(M=e.loadFile(L)||""),L=M),F=a(L),!h(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(L instanceof Uint8Array||(L=I(L)),!(P=this["process"+F.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=F,P}})($e.API),function(e){var t=function(s){if(s!==void 0&&s!="")return!0};$e.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(s){for(var n,a,i,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(s.objId),c=s.pageContext.annotations,d=!1,h=0;h<c.length&&!d;h++)switch((n=c[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(s.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(v.objId),N=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+m(x(n.contents))+")",i+=" /Popup "+B.objId+" 0 R",i+=" /P "+A.objId+" 0 R",i+=" /T ("+m(x(N))+") >>",v.content=i;var b=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",B.content=i,this.internal.write(v.objId,"0 R",B.objId,"0 R");break;case"freetext":a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var g=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(y(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+g+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var _=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+_+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(s){var n=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":n.pageContext.annotations.push(s)}},e.link=function(s,n,a,i,l){var o=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:A(s),y:c(n),w:A(s+a),h:c(n+i)},options:l,type:"link"})},e.textWithLink=function(s,n,a,i){var l,o,A=this.getTextWidth(s),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(s,o).length;l=Math.ceil(c*d)}else o=A,l=c;return this.text(s,n,a,i),a+=.2*c,i.align==="center"&&(n-=A/2),i.align==="right"&&(n-=A),this.link(n,a-c,o,l,i),A},e.getTextWidth=function(s){var n=this.internal.getFontSize();return this.getStringUnitWidth(s)*n/this.internal.scaleFactor}}($e.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=e.__arabicParser__.isArabicEndLetter=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},A=e.__arabicParser__.isArabicAlfLetter=function(v){return l(v)&&a.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(v){var B=0,x=s,N="",b=0;for(B=0;B<v.length;B+=1)x[v.charCodeAt(B)]!==void 0?(b++,typeof(x=x[v.charCodeAt(B)])=="number"&&(N+=String.fromCharCode(x),x=s,b=0),B===v.length-1&&(x=s,N+=v.charAt(B-(b-1)),B-=b-1,b=0)):(x=s,N+=v.charAt(B-b),B-=b,b=0);return N};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(v,B,x){return l(v)?i(v)===!1?-1:!c(v)||!l(B)&&!l(x)||!l(x)&&o(B)||o(v)&&!l(B)||o(v)&&A(B)||o(v)&&o(B)?0:d(v)&&l(B)&&!o(B)&&l(x)&&c(x)?3:o(v)||!l(x)?1:2:-1},m=function(v){var B=0,x=0,N=0,b="",g="",k="",_=(v=v||"").split("\\s+"),I=[];for(B=0;B<_.length;B+=1){for(I.push(""),x=0;x<_[B].length;x+=1)b=_[B][x],g=_[B][x-1],k=_[B][x+1],l(b)?(N=p(b,g,k),I[B]+=N!==-1?String.fromCharCode(t[b.charCodeAt(0)][N]):b):I[B]+=b;I[B]=h(I[B])}return I.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var v,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(B)){var N=0;for(x=[],N=0;N<B.length;N+=1)Array.isArray(B[N])?x.push([m(B[N][0]),B[N][1],B[N][2]]):x.push([m(B[N])]);v=x}else v=m(B);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",y])}($e.API),$e.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(o){s=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(s,n){var a;if((s=s||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}($e.API),function(e){var t={left:0,top:0,bottom:0,right:0},s=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(v){A=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(A){return n.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},e.getTextDimensions=function(A,c){n.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,m=0,y=0,v=0,B=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var x=c.maxWidth;x>0?typeof A=="string"?A=this.splitTextToSize(A,x):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(b,g){return b.concat(B.splitTextToSize(g,x))},[])):A=Array.isArray(A)?A:[A];for(var N=0;N<A.length;N++)m<(v=this.getStringUnitWidth(A[N],{font:h})*d)&&(m=v);return m!==0&&(y=A.length),{w:m/=p,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var A=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var A;A=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===A.lineNumber?(A.x=(c.x||0)+(c.width||0),A.y=c.y||0):c.y+c.height+A.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=h.top,m&&p&&(this.printHeaderRow(A.lineNumber,!0),A.y+=p[0].height)):A.y=c.y+c.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,s===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-d,A.y+d,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+d,{align:"center",baseline:"top",maxWidth:A.width-d-d}):this.text(A.text,A.x+d,A.y+d,{align:"left",baseline:"top",maxWidth:A.width-d-d})),this.internal.__cell__.lastCell=A,this};e.table=function(A,c,d,h,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,y,v,B,x=[],N=[],b=[],g={},k={},_=[],I=[],U=(p=p||{}).autoSize||!1,S=p.printHeaders!==!1,G=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,L=p.margins||Object.assign({width:this.getPageWidth()},t),P=typeof p.padding=="number"?p.padding:3,F=p.headerBackgroundColor||"#c8c8c8",M=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=M,this.setFontSize(G),h==null)N=x=Object.keys(d[0]),b=x.map(function(){return"left"});else if(Array.isArray(h)&&$t(h[0])==="object")for(x=h.map(function(se){return se.name}),N=h.map(function(se){return se.prompt||se.name||""}),b=h.map(function(se){return se.align||"left"}),m=0;m<h.length;m+=1)k[h[m].name]=.7499990551181103*h[m].width;else Array.isArray(h)&&typeof h[0]=="string"&&(N=x=h,b=x.map(function(){return"left"}));if(U||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<x.length;m+=1){for(g[B=x[m]]=d.map(function(se){return se[B]}),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(N[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=g[B],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)_.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[B]=Math.max.apply(null,_)+P+P,_=[]}if(S){var Z={};for(m=0;m<x.length;m+=1)Z[x[m]]={},Z[x[m]].text=N[m],Z[x[m]].align=b[m];var te=o.call(this,Z,k);I=x.map(function(se){return new i(A,c,k[se],te,Z[se].text,void 0,Z[se].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var le=h.reduce(function(se,re){return se[re.name]=re.align,se},{});for(m=0;m<d.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:d[m]},this);var R=o.call(this,d[m],k);for(v=0;v<x.length;v+=1){var X=d[m][x[v]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:v,data:X},this),l.call(this,new i(A,c,k[x[v]],R,X,m+2,le[x[v]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=c,this};var o=function(A,c){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(A).map(function(m){var y=A[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/p+d+d},this).reduce(function(m,y){return Math.max(m,y)},0)};e.setTableHeaderRow=function(A){n.call(this),this.internal.__cell__.tableHeaderRow=A},e.printHeaderRow=function(A,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=A;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,d),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),s=!1}}($e.API);var lC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},oC=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Xg=iC(oC),AC=[100,200,300,400,500,600,700,800,900],zL=iC(AC);function ox(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),s=function(i){return lC[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),a=function(i){return typeof Xg[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:s,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,s,n].join(" ")}}}function I2(e,t,s,n){var a;for(a=s;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=s;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var VL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},k2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function U2(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Q2(e){return e.trimLeft()}function GL(e,t){for(var s=0;s<e.length;){if(e.charAt(s)===t)return[e.substring(0,s),e.substring(s+1)];s+=1}return null}function $L(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Yh,_2,L2,hA,Wh,P2,D2,T2,Ax=["times"];function R2(e,t,s,n){var a=4,i=H2;switch(n){case $e.API.image_compression.FAST:a=1,i=M2;break;case $e.API.image_compression.MEDIUM:a=6,i=O2;break;case $e.API.image_compression.SLOW:a=9,i=K2}e=function(o,A,c,d){for(var h,p=o.length/A,m=new Uint8Array(o.length+p),y=[qL,M2,H2,O2,K2],v=0;v<p;v+=1){var B=v*A,x=o.subarray(B,B+A);if(d)m.set(d(x,c,h),B+v);else{for(var N=y.length,b=[],g=0;g<N;g+=1)b[g]=y[g](x,c,h);var k=WL(b.concat());m.set(b[k],B+v)}h=x}return m}(e,t,s,i);var l=Rg(e,{level:a});return $e.API.__addimage__.arrayBufferToBinaryString(l)}function qL(e){var t=Array.apply([],e);return t.unshift(0),t}function M2(e,t){var s=e.length,n=[];n[0]=1;for(var a=0;a<s;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function H2(e,t,s){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var l=s&&s[i]||0;a[i+1]=e[i]-l+256&255}return a}function O2(e,t,s){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var l=e[i-t]||0,o=s&&s[i]||0;a[i+1]=e[i]+256-(l+o>>>1)&255}return a}function K2(e,t,s){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var l=YL(e[i-t]||0,s&&s[i]||0,s&&s[i-t]||0);a[i+1]=e[i]-l+256&255}return a}function YL(e,t,s){if(e===t&&t===s)return e;var n=Math.abs(t-s),a=Math.abs(e-s),i=Math.abs(e+t-s-s);return n<=a&&n<=i?e:a<=i?t:s}function WL(e){var t=e.map(function(s){return s.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function cx(e,t,s){var n=t*s,a=Math.floor(n/8),i=16-(n-8*a+s),l=(1<<s)-1;return cC(e,a)>>i&l}function z2(e,t,s,n){var a=s*n,i=Math.floor(a/8),l=16-(a-8*i+n),o=(1<<n)-1,A=(t&o)<<l;(function(c,d,h){if(d+1<c.byteLength)c.setUint16(d,h,!1);else{var p=h>>8&255;c.setUint8(d,p)}})(e,i,cC(e,i)&~(o<<l)&65535|A)}function cC(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function JL(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,l=1<<1+(7&a);e[t++],e[t++];var o=null,A=null;i&&(o=t,A=l,t+=3*l);var c=!0,d=[],h=0,p=null,m=0,y=null;for(this.width=s,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],1&v||(p=null),m=v>>2&7,t++;break;case 254:for(;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var B=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,g=e[t++],k=g>>6&1,_=1<<1+(7&g),I=o,U=A,S=!1;g>>7&&(S=!0,I=t,U=_,t+=3*_);var G=t;for(t++;;){var L;if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}d.push({x:B,y:x,width:N,height:b,has_local_palette:S,palette_offset:I,palette_size:U,data_offset:G,data_length:t-G,transparent_index:p,interlaced:!!k,delay:h,disposal:m});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,F){var M=this.frameInfo(P),Z=M.width*M.height,te=new Uint8Array(Z);V2(e,M.data_offset,te,Z);var le=M.palette_offset,R=M.transparent_index;R===null&&(R=256);var X=M.width,se=s-X,re=X,Q=4*(M.y*s+M.x),z=4*((M.y+M.height)*s+M.x),$=Q,V=4*se;M.interlaced===!0&&(V+=4*s*7);for(var ne=8,de=0,xe=te.length;de<xe;++de){var ie=te[de];if(re===0&&(re=X,($+=V)>=z&&(V=4*se+4*s*(ne-1),$=Q+(X+se)*(ne<<1),ne>>=1)),ie===R)$+=4;else{var Ae=e[le+3*ie],ge=e[le+3*ie+1],Se=e[le+3*ie+2];F[$++]=Se,F[$++]=ge,F[$++]=Ae,F[$++]=255}--re}},this.decodeAndBlitFrameRGBA=function(P,F){var M=this.frameInfo(P),Z=M.width*M.height,te=new Uint8Array(Z);V2(e,M.data_offset,te,Z);var le=M.palette_offset,R=M.transparent_index;R===null&&(R=256);var X=M.width,se=s-X,re=X,Q=4*(M.y*s+M.x),z=4*((M.y+M.height)*s+M.x),$=Q,V=4*se;M.interlaced===!0&&(V+=4*s*7);for(var ne=8,de=0,xe=te.length;de<xe;++de){var ie=te[de];if(re===0&&(re=X,($+=V)>=z&&(V=4*se+4*s*(ne-1),$=Q+(X+se)*(ne<<1),ne>>=1)),ie===R)$+=4;else{var Ae=e[le+3*ie],ge=e[le+3*ie+1],Se=e[le+3*ie+2];F[$++]=Ae,F[$++]=ge,F[$++]=Se,F[$++]=255}--re}}}function V2(e,t,s,n){for(var a=e[t++],i=1<<a,l=i+1,o=l+1,A=a+1,c=(1<<A)-1,d=0,h=0,p=0,m=e[t++],y=new Int32Array(4096),v=null;;){for(;d<16&&m!==0;)h|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<A)break;var B=h&c;if(h>>=A,d-=A,B!==i){if(B===l)break;for(var x=B<o?B:v,N=0,b=x;b>i;)b=y[b]>>8,++N;var g=b;if(p+N+(x!==B?1:0)>n)return void nr.log("Warning, gif stream longer than expected.");s[p++]=g;var k=p+=N;for(x!==B&&(s[p++]=g),b=x;N--;)b=y[b],s[--k]=255&b,b>>=8;v!==null&&o<4096&&(y[o++]=v<<8|g,o>=c+1&&A<12&&(++A,c=c<<1|1)),v=B}else o=l+1,c=(1<<(A=a+1))-1,v=null}return p!==n&&nr.log("Warning, gif stream shorter than expected."),s}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function dx(e){var t,s,n,a,i,l=Math.floor,o=new Array(64),A=new Array(64),c=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),m=new Array(64),y=new Array(64),v=[],B=0,x=7,N=new Array(64),b=new Array(64),g=new Array(64),k=new Array(256),_=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(Q,z){for(var $=0,V=0,ne=new Array,de=1;de<=16;de++){for(var xe=1;xe<=Q[de];xe++)ne[z[V]]=[],ne[z[V]][0]=$,ne[z[V]][1]=de,V++,$++;$*=2}return ne}function le(Q){for(var z=Q[0],$=Q[1]-1;$>=0;)z&1<<$&&(B|=1<<x),$--,--x<0&&(B==255?(R(255),R(0)):R(B),x=7,B=0)}function R(Q){v.push(Q)}function X(Q){R(Q>>8&255),R(255&Q)}function se(Q,z,$,V,ne){for(var de,xe=ne[0],ie=ne[240],Ae=function(Fe,qe){var _e,xt,Xe,Lt,dt,ut,Yt,gt,We,st,Je=0;for(We=0;We<8;++We){_e=Fe[Je],xt=Fe[Je+1],Xe=Fe[Je+2],Lt=Fe[Je+3],dt=Fe[Je+4],ut=Fe[Je+5],Yt=Fe[Je+6];var ar=_e+(gt=Fe[Je+7]),Pt=_e-gt,Ve=xt+Yt,ht=xt-Yt,er=Xe+ut,tt=Xe-ut,Et=Lt+dt,mt=Lt-dt,Lr=ar+Et,ss=ar-Et,tr=Ve+er,lt=Ve-er;Fe[Je]=Lr+tr,Fe[Je+4]=Lr-tr;var Ht=.707106781*(lt+ss);Fe[Je+2]=ss+Ht,Fe[Je+6]=ss-Ht;var ql=.382683433*((Lr=mt+tt)-(lt=ht+Pt)),_s=.5411961*Lr+ql,Ai=1.306562965*lt+ql,Qa=.707106781*(tr=tt+ht),rt=Pt+Qa,ci=Pt-Qa;Fe[Je+5]=ci+_s,Fe[Je+3]=ci-_s,Fe[Je+1]=rt+Ai,Fe[Je+7]=rt-Ai,Je+=8}for(Je=0,We=0;We<8;++We){_e=Fe[Je],xt=Fe[Je+8],Xe=Fe[Je+16],Lt=Fe[Je+24],dt=Fe[Je+32],ut=Fe[Je+40],Yt=Fe[Je+48];var di=_e+(gt=Fe[Je+56]),Hn=_e-gt,On=xt+Yt,Sr=xt-Yt,fs=Xe+ut,Ns=Xe-ut,Yl=Lt+dt,Gi=Lt-dt,oa=di+Yl,_a=di-Yl,Aa=On+fs,ca=On-fs;Fe[Je]=oa+Aa,Fe[Je+32]=oa-Aa;var Kn=.707106781*(ca+_a);Fe[Je+16]=_a+Kn,Fe[Je+48]=_a-Kn;var Wl=.382683433*((oa=Gi+Ns)-(ca=Sr+Hn)),La=.5411961*oa+Wl,Jl=1.306562965*ca+Wl,Go=.707106781*(Aa=Ns+Sr),$o=Hn+Go,qo=Hn-Go;Fe[Je+40]=qo+La,Fe[Je+24]=qo-La,Fe[Je+8]=$o+Jl,Fe[Je+56]=$o-Jl,Je++}for(We=0;We<64;++We)st=Fe[We]*qe[We],m[We]=st>0?st+.5|0:st-.5|0;return m}(Q,z),ge=0;ge<64;++ge)y[I[ge]]=Ae[ge];var Se=y[0]-$;$=y[0],Se==0?le(V[0]):(le(V[p[de=32767+Se]]),le(h[de]));for(var Qe=63;Qe>0&&y[Qe]==0;)Qe--;if(Qe==0)return le(xe),$;for(var ye,ee=1;ee<=Qe;){for(var Ct=ee;y[ee]==0&&ee<=Qe;)++ee;var pt=ee-Ct;if(pt>=16){ye=pt>>4;for(var Ze=1;Ze<=ye;++Ze)le(ie);pt&=15}de=32767+y[ee],le(ne[(pt<<4)+p[de]]),le(h[de]),ee++}return Qe!=63&&le(xe),$}function re(Q){Q=Math.min(Math.max(Q,1),100),i!=Q&&(function(z){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var ne=l(($[V]*z+50)/100);ne=Math.min(Math.max(ne,1),255),o[I[V]]=ne}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var ie=l((de[xe]*z+50)/100);ie=Math.min(Math.max(ie,1),255),A[I[xe]]=ie}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,Se=0;Se<8;Se++)for(var Qe=0;Qe<8;Qe++)c[ge]=1/(o[I[ge]]*Ae[Se]*Ae[Qe]*8),d[ge]=1/(A[I[ge]]*Ae[Se]*Ae[Qe]*8),ge++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),i=Q)}this.encode=function(Q,z){z&&re(z),v=new Array,B=0,x=7,X(65496),X(65504),X(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),X(1),X(1),R(0),R(0),function(){X(65499),X(132),R(0);for(var xt=0;xt<64;xt++)R(o[xt]);R(1);for(var Xe=0;Xe<64;Xe++)R(A[Xe])}(),function(xt,Xe){X(65472),X(17),R(8),X(Xe),X(xt),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}(Q.width,Q.height),function(){X(65476),X(418),R(0);for(var xt=0;xt<16;xt++)R(U[xt+1]);for(var Xe=0;Xe<=11;Xe++)R(S[Xe]);R(16);for(var Lt=0;Lt<16;Lt++)R(G[Lt+1]);for(var dt=0;dt<=161;dt++)R(L[dt]);R(1);for(var ut=0;ut<16;ut++)R(P[ut+1]);for(var Yt=0;Yt<=11;Yt++)R(F[Yt]);R(17);for(var gt=0;gt<16;gt++)R(M[gt+1]);for(var We=0;We<=161;We++)R(Z[We])}(),X(65498),X(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var $=0,V=0,ne=0;B=0,x=7,this.encode.displayName="_encode_";for(var de,xe,ie,Ae,ge,Se,Qe,ye,ee,Ct=Q.data,pt=Q.width,Ze=Q.height,Fe=4*pt,qe=0;qe<Ze;){for(de=0;de<Fe;){for(ge=Fe*qe+de,Qe=-1,ye=0,ee=0;ee<64;ee++)Se=ge+(ye=ee>>3)*Fe+(Qe=4*(7&ee)),qe+ye>=Ze&&(Se-=Fe*(qe+1+ye-Ze)),de+Qe>=Fe&&(Se-=de+Qe-Fe+4),xe=Ct[Se++],ie=Ct[Se++],Ae=Ct[Se++],N[ee]=(_[xe]+_[ie+256|0]+_[Ae+512|0]>>16)-128,b[ee]=(_[xe+768|0]+_[ie+1024|0]+_[Ae+1280|0]>>16)-128,g[ee]=(_[xe+1280|0]+_[ie+1536|0]+_[Ae+1792|0]>>16)-128;$=se(N,c,$,t,n),V=se(b,d,V,s,a),ne=se(g,d,ne,s,a),de+=32}qe+=8}if(x>=0){var _e=[];_e[1]=x+1,_e[0]=(1<<x+1)-1,le(_e)}return X(65497),new Uint8Array(v)},e=e||50,function(){for(var Q=String.fromCharCode,z=0;z<256;z++)k[z]=Q(z)}(),t=te(U,S),s=te(P,F),n=te(G,L),a=te(M,Z),function(){for(var Q=1,z=2,$=1;$<=15;$++){for(var V=Q;V<z;V++)p[32767+V]=$,h[32767+V]=[],h[32767+V][1]=$,h[32767+V][0]=V;for(var ne=-(z-1);ne<=-Q;ne++)p[32767+ne]=$,h[32767+ne]=[],h[32767+ne][1]=$,h[32767+ne][0]=z-1+ne;Q<<=1,z<<=1}}(),function(){for(var Q=0;Q<256;Q++)_[Q]=19595*Q,_[Q+256|0]=38470*Q,_[Q+512|0]=7471*Q+32768,_[Q+768|0]=-11059*Q,_[Q+1024|0]=-21709*Q,_[Q+1280|0]=32768*Q+8421375,_[Q+1536|0]=-27439*Q,_[Q+1792|0]=-5329*Q}(),re(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function G2(e){function t(S){if(!S)throw Error("assert :P")}function s(S,G,L){for(var P=0;4>P;P++)if(S[G+P]!=L.charCodeAt(P))return!0;return!1}function n(S,G,L,P,F){for(var M=0;M<F;M++)S[G+M]=L[P+M]}function a(S,G,L,P){for(var F=0;F<P;F++)S[G+F]=L}function i(S){return new Int32Array(S)}function l(S,G){for(var L=[],P=0;P<S;P++)L.push(new G);return L}function o(S,G){var L=[];return function P(F,M,Z){for(var te=Z[M],le=0;le<te&&(F.push(Z.length>M+1?[]:new G),!(Z.length<M+1));le++)P(F[le],M+1,Z)}(L,0,S),L}var A=function(){var S=this;function G(u,f){for(var j=1<<f-1>>>0;u&j;)j>>>=1;return j?(u&j-1)+j:u}function L(u,f,j,E,D){t(!(E%j));do u[f+(E-=j)]=D;while(0<E)}function P(u,f,j,E,D){if(t(2328>=D),512>=D)var H=i(512);else if((H=i(D))==null)return 0;return function(O,K,q,Y,oe,fe){var W,ce,he=K,we=1<<q,me=i(16),ve=i(16);for(t(oe!=0),t(Y!=null),t(O!=null),t(0<q),ce=0;ce<oe;++ce){if(15<Y[ce])return 0;++me[Y[ce]]}if(me[0]==oe)return 0;for(ve[1]=0,W=1;15>W;++W){if(me[W]>1<<W)return 0;ve[W+1]=ve[W]+me[W]}for(ce=0;ce<oe;++ce)W=Y[ce],0<Y[ce]&&(fe[ve[W]++]=ce);if(ve[15]==1)return(Y=new F).g=0,Y.value=fe[0],L(O,he,1,we,Y),we;var Ne,Ee=-1,Be=we-1,Ge=0,Te=1,vt=1,He=1<<q;for(ce=0,W=1,oe=2;W<=q;++W,oe<<=1){if(Te+=vt<<=1,0>(vt-=me[W]))return 0;for(;0<me[W];--me[W])(Y=new F).g=W,Y.value=fe[ce++],L(O,he+Ge,oe,He,Y),Ge=G(Ge,W)}for(W=q+1,oe=2;15>=W;++W,oe<<=1){if(Te+=vt<<=1,0>(vt-=me[W]))return 0;for(;0<me[W];--me[W]){if(Y=new F,(Ge&Be)!=Ee){for(he+=He,Ne=1<<(Ee=W)-q;15>Ee&&!(0>=(Ne-=me[Ee]));)++Ee,Ne<<=1;we+=He=1<<(Ne=Ee-q),O[K+(Ee=Ge&Be)].g=Ne+q,O[K+Ee].value=he-K-Ee}Y.g=W-q,Y.value=fe[ce++],L(O,he+(Ge>>q),oe,He,Y),Ge=G(Ge,W)}}return Te!=2*ve[15]-1?0:we}(u,f,j,E,D,H)}function F(){this.value=this.g=0}function M(){this.value=this.g=0}function Z(){this.G=l(5,F),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Ta,M)}function te(u,f,j,E){t(u!=null),t(f!=null),t(2147483648>E),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=j,u.Jd=f,u.Yc=j+E,u.Zc=4<=E?j+E-4+1:j,xe(u)}function le(u,f){for(var j=0;0<f--;)j|=Ae(u,128)<<f;return j}function R(u,f){var j=le(u,f);return ie(u)?-j:j}function X(u,f,j,E){var D,H=0;for(t(u!=null),t(f!=null),t(4294967288>E),u.Sb=E,u.Ra=0,u.u=0,u.h=0,4<E&&(E=4),D=0;D<E;++D)H+=f[j+D]<<8*D;u.Ra=H,u.bb=E,u.oa=f,u.pa=j}function se(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Zi-8>>>0,++u.bb,u.u-=8;V(u)&&(u.h=1,u.u=0)}function re(u,f){if(t(0<=f),!u.h&&f<=Oc){var j=$(u)&Xi[f];return u.u+=f,se(u),j}return u.h=1,u.u=0}function Q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(u){return u.Ra>>>(u.u&Zi-1)>>>0}function V(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Zi}function ne(u,f){u.u=f,u.h=V(u)}function de(u){u.u>=Dr&&(t(u.u>=Dr),se(u))}function xe(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ie(u){return le(u,1)}function Ae(u,f){var j=u.Ca;0>u.b&&xe(u);var E=u.b,D=j*f>>>8,H=(u.I>>>E>D)+0;for(H?(j-=D,u.I-=D+1<<E>>>0):j=D+1,E=j,D=0;256<=E;)D+=8,E>>=8;return E=7^D+Vf[E],u.b-=E,u.Ca=(j<<E)-1,H}function ge(u,f,j){u[f+0]=j>>24&255,u[f+1]=j>>16&255,u[f+2]=j>>8&255,u[f+3]=255&j}function Se(u,f){return u[f+0]|u[f+1]<<8}function Qe(u,f){return Se(u,f)|u[f+2]<<16}function ye(u,f){return Se(u,f)|Se(u,f+2)<<16}function ee(u,f){var j=1<<f;return t(u!=null),t(0<f),u.X=i(j),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function Ct(u,f){t(u!=null),t(f!=null),t(u.Xa==f.Xa),n(f.X,0,u.X,0,1<<f.Xa)}function pt(){this.X=[],this.Xa=this.Mb=0}function Ze(u,f,j,E){t(j!=null),t(E!=null);var D=j[0],H=E[0];return D==0&&(D=(u*H+f/2)/f),H==0&&(H=(f*D+u/2)/u),0>=D||0>=H?0:(j[0]=D,E[0]=H,1)}function Fe(u,f){return u+(1<<f)-1>>>f}function qe(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function _e(u,f){S[f]=function(j,E,D,H,O,K,q){var Y;for(Y=0;Y<O;++Y){var oe=S[u](K[q+Y-1],D,H+Y);K[q+Y]=qe(j[E+Y],oe)}}}function xt(){this.ud=this.hd=this.jd=0}function Xe(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function Lt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function dt(u,f){return Lt(u+(u-f+.5>>1))}function ut(u,f,j){return Math.abs(f-j)-Math.abs(u-j)}function Yt(u,f,j,E,D,H,O){for(E=H[O-1],j=0;j<D;++j)H[O+j]=E=qe(u[f+j],E)}function gt(u,f,j,E,D){var H;for(H=0;H<j;++H){var O=u[f+H],K=O>>8&255,q=16711935&(q=(q=16711935&O)+((K<<16)+K));E[D+H]=(4278255360&O)+q>>>0}}function We(u,f){f.jd=255&u,f.hd=u>>8&255,f.ud=u>>16&255}function st(u,f,j,E,D,H){var O;for(O=0;O<E;++O){var K=f[j+O],q=K>>>8,Y=K,oe=255&(oe=(oe=K>>>16)+((u.jd<<24>>24)*(q<<24>>24)>>>5));Y=255&(Y=(Y+=(u.hd<<24>>24)*(q<<24>>24)>>>5)+((u.ud<<24>>24)*(oe<<24>>24)>>>5)),D[H+O]=(4278255360&K)+(oe<<16)+Y}}function Je(u,f,j,E,D){S[f]=function(H,O,K,q,Y,oe,fe,W,ce){for(q=fe;q<W;++q)for(fe=0;fe<ce;++fe)Y[oe++]=D(K[E(H[O++])])},S[u]=function(H,O,K,q,Y,oe,fe){var W=8>>H.b,ce=H.Ea,he=H.K[0],we=H.w;if(8>W)for(H=(1<<H.b)-1,we=(1<<W)-1;O<K;++O){var me,ve=0;for(me=0;me<ce;++me)me&H||(ve=E(q[Y++])),oe[fe++]=D(he[ve&we]),ve>>=W}else S["VP8LMapColor"+j](q,Y,he,we,oe,fe,O,K,ce)}}function ar(u,f,j,E,D){for(j=f+j;f<j;){var H=u[f++];E[D++]=H>>16&255,E[D++]=H>>8&255,E[D++]=255&H}}function Pt(u,f,j,E,D){for(j=f+j;f<j;){var H=u[f++];E[D++]=H>>16&255,E[D++]=H>>8&255,E[D++]=255&H,E[D++]=H>>24&255}}function Ve(u,f,j,E,D){for(j=f+j;f<j;){var H=(O=u[f++])>>16&240|O>>12&15,O=240&O|O>>28&15;E[D++]=H,E[D++]=O}}function ht(u,f,j,E,D){for(j=f+j;f<j;){var H=(O=u[f++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;E[D++]=H,E[D++]=O}}function er(u,f,j,E,D){for(j=f+j;f<j;){var H=u[f++];E[D++]=255&H,E[D++]=H>>8&255,E[D++]=H>>16&255}}function tt(u,f,j,E,D,H){if(H==0)for(j=f+j;f<j;)ge(E,((H=u[f++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),D+=32;else n(E,D,u,f,j)}function Et(u,f){S[f][0]=S[u+"0"],S[f][1]=S[u+"1"],S[f][2]=S[u+"2"],S[f][3]=S[u+"3"],S[f][4]=S[u+"4"],S[f][5]=S[u+"5"],S[f][6]=S[u+"6"],S[f][7]=S[u+"7"],S[f][8]=S[u+"8"],S[f][9]=S[u+"9"],S[f][10]=S[u+"10"],S[f][11]=S[u+"11"],S[f][12]=S[u+"12"],S[f][13]=S[u+"13"],S[f][14]=S[u+"0"],S[f][15]=S[u+"0"]}function mt(u){return u==qf||u==Yf||u==oh||u==Wf}function Lr(){this.eb=[],this.size=this.A=this.fb=0}function ss(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function tr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Lr,this.f.kb=new ss,this.sd=null}function lt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ql(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function _s(u,f){var j=u.T,E=f.ba.f.RGBA,D=E.eb,H=E.fb+u.ka*E.A,O=$n[f.ba.S],K=u.y,q=u.O,Y=u.f,oe=u.N,fe=u.ea,W=u.W,ce=f.cc,he=f.dc,we=f.Mc,me=f.Nc,ve=u.ka,Ne=u.ka+u.T,Ee=u.U,Be=Ee+1>>1;for(ve==0?O(K,q,null,null,Y,oe,fe,W,Y,oe,fe,W,D,H,null,null,Ee):(O(f.ec,f.fc,K,q,ce,he,we,me,Y,oe,fe,W,D,H-E.A,D,H,Ee),++j);ve+2<Ne;ve+=2)ce=Y,he=oe,we=fe,me=W,oe+=u.Rc,W+=u.Rc,H+=2*E.A,O(K,(q+=2*u.fa)-u.fa,K,q,ce,he,we,me,Y,oe,fe,W,D,H-E.A,D,H,Ee);return q+=u.fa,u.j+Ne<u.o?(n(f.ec,f.fc,K,q,Ee),n(f.cc,f.dc,Y,oe,Be),n(f.Mc,f.Nc,fe,W,Be),j--):1&Ne||O(K,q,null,null,Y,oe,fe,W,Y,oe,fe,W,D,H+E.A,null,null,Ee),j}function Ai(u,f,j){var E=u.F,D=[u.J];if(E!=null){var H=u.U,O=f.ba.S,K=O==lh||O==oh;f=f.ba.f.RGBA;var q=[0],Y=u.ka;q[0]=u.T,u.Kb&&(Y==0?--q[0]:(--Y,D[0]-=u.width),u.j+u.ka+u.T==u.o&&(q[0]=u.o-u.j-Y));var oe=f.eb;Y=f.fb+Y*f.A,u=hw(E,D[0],u.width,H,q,oe,Y+(K?0:3),f.A),t(j==q),u&&mt(O)&&Gc(oe,Y,K,H,q,f.A)}return 0}function Qa(u){var f=u.ma,j=f.ba.S,E=11>j,D=j==ah||j==ih||j==lh||j==$f||j==12||mt(j);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!sn(f.Oa,u,D?11:12))return 0;if(D&&mt(j)&&Tc(),u.da)alert("todo:use_scaling");else{if(E){if(f.Ib=ql,u.Kb){if(j=u.U+1>>1,f.memory=i(u.U+2*j),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+j,f.Ib=_s,Tc()}}else alert("todo:EmitYUV");D&&(f.Jb=Ai,E&&io())}if(E&&!Iw){for(u=0;256>u;++u)M3[u]=89858*(u-128)+ch>>Ah,K3[u]=-22014*(u-128)+ch,O3[u]=-45773*(u-128),H3[u]=113618*(u-128)+ch>>Ah;for(u=qc;u<Zf;++u)f=76283*(u-16)+ch>>Ah,z3[u-qc]=as(f,255),V3[u-qc]=as(f+8>>4,15);Iw=1}return 1}function rt(u){var f=u.ma,j=u.U,E=u.T;return t(!(1&u.ka)),0>=j||0>=E?0:(j=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,j),f.Dc+=j,1)}function ci(u){u.ma.memory=null}function di(u,f,j,E){return re(u,8)!=47?0:(f[0]=re(u,14)+1,j[0]=re(u,14)+1,E[0]=re(u,1),re(u,3)!=0?0:!u.h)}function Hn(u,f){if(4>u)return u+1;var j=u-2>>1;return(2+(1&u)<<j)+re(f,j)+1}function On(u,f){return 120<f?f-120:1<=(j=((j=C3[f-1])>>4)*u+(8-(15&j)))?j:1;var j}function Sr(u,f,j){var E=$(j),D=u[f+=255&E].g-8;return 0<D&&(ne(j,j.u+8),E=$(j),f+=u[f].value,f+=E&(1<<D)-1),ne(j,j.u+u[f].g),u[f].value}function fs(u,f,j){return j.g+=u.g,j.value+=u.value<<f>>>0,t(8>=j.g),u.g}function Ns(u,f,j){var E=u.xc;return t((f=E==0?0:u.vc[u.md*(j>>E)+(f>>E)])<u.Wb),u.Ya[f]}function Yl(u,f,j,E){var D=u.ab,H=u.c*f,O=u.C;f=O+f;var K=j,q=E;for(E=u.Ta,j=u.Ua;0<D--;){var Y=u.gc[D],oe=O,fe=f,W=K,ce=q,he=(q=E,K=j,Y.Ea);switch(t(oe<fe),t(fe<=Y.nc),Y.hc){case 2:nA(W,ce,(fe-oe)*he,q,K);break;case 0:var we=oe,me=fe,ve=q,Ne=K,Ee=(He=Y).Ea;we==0&&(Ra(W,ce,null,null,1,ve,Ne),Yt(W,ce+1,0,0,Ee-1,ve,Ne+1),ce+=Ee,Ne+=Ee,++we);for(var Be=1<<He.b,Ge=Be-1,Te=Fe(Ee,He.b),vt=He.K,He=He.w+(we>>He.b)*Te;we<me;){var Ft=vt,is=He,bt=1;for(Ma(W,ce,ve,Ne-Ee,1,ve,Ne);bt<Ee;){var Oe=(bt&~Ge)+Be;Oe>Ee&&(Oe=Ee),(0,Ao[Ft[is++]>>8&15])(W,ce+ +bt,ve,Ne+bt-Ee,Oe-bt,ve,Ne+bt),bt=Oe}ce+=Ee,Ne+=Ee,++we&Ge||(He+=Te)}fe!=Y.nc&&n(q,K-he,q,K+(fe-oe-1)*he,he);break;case 1:for(he=W,me=ce,Ee=(W=Y.Ea)-(Ne=W&~(ve=(ce=1<<Y.b)-1)),we=Fe(W,Y.b),Be=Y.K,Y=Y.w+(oe>>Y.b)*we;oe<fe;){for(Ge=Be,Te=Y,vt=new xt,He=me+Ne,Ft=me+W;me<He;)We(Ge[Te++],vt),gi(vt,he,me,ce,q,K),me+=ce,K+=ce;me<Ft&&(We(Ge[Te++],vt),gi(vt,he,me,Ee,q,K),me+=Ee,K+=Ee),++oe&ve||(Y+=we)}break;case 3:if(W==q&&ce==K&&0<Y.b){for(me=q,W=he=K+(fe-oe)*he-(Ne=(fe-oe)*Fe(Y.Ea,Y.b)),ce=q,ve=K,we=[],Ne=(Ee=Ne)-1;0<=Ne;--Ne)we[Ne]=ce[ve+Ne];for(Ne=Ee-1;0<=Ne;--Ne)me[W+Ne]=we[Ne];Kc(Y,oe,fe,q,he,q,K)}else Kc(Y,oe,fe,W,ce,q,K)}K=E,q=j}q!=j&&n(E,j,K,q,H)}function Gi(u,f){var j=u.V,E=u.Ba+u.c*u.C,D=f-u.C;if(t(f<=u.l.o),t(16>=D),0<D){var H=u.l,O=u.Ta,K=u.Ua,q=H.width;if(Yl(u,D,j,E),D=K=[K],t((j=u.C)<(E=f)),t(H.v<H.va),E>H.o&&(E=H.o),j<H.j){var Y=H.j-j;j=H.j,D[0]+=Y*q}if(j>=E?j=0:(D[0]+=4*H.v,H.ka=j-H.j,H.U=H.va-H.v,H.T=E-j,j=1),j){if(K=K[0],11>(j=u.ca).S){var oe=j.f.RGBA,fe=(E=j.S,D=H.U,H=H.T,Y=oe.eb,oe.A),W=H;for(oe=oe.fb+u.Ma*oe.A;0<W--;){var ce=O,he=K,we=D,me=Y,ve=oe;switch(E){case nh:zc(ce,he,we,me,ve);break;case ah:wn(ce,he,we,me,ve);break;case qf:wn(ce,he,we,me,ve),Gc(me,ve,0,we,1,0);break;case ww:lr(ce,he,we,me,ve);break;case ih:tt(ce,he,we,me,ve,1);break;case Yf:tt(ce,he,we,me,ve,1),Gc(me,ve,0,we,1,0);break;case lh:tt(ce,he,we,me,ve,0);break;case oh:tt(ce,he,we,me,ve,0),Gc(me,ve,1,we,1,0);break;case $f:Ha(ce,he,we,me,ve);break;case Wf:Ha(ce,he,we,me,ve),uw(me,ve,we,1,0);break;case vw:ir(ce,he,we,me,ve);break;default:t(0)}K+=q,oe+=fe}u.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=j.height)}}u.C=f,t(u.C<=u.i)}function oa(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var j=u.Ya[f].G,E=u.Ya[f].H;if(0<j[1][E[1]+0].g||0<j[2][E[2]+0].g||0<j[3][E[3]+0].g)return 0}return 1}function _a(u,f,j,E,D,H){if(u.Z!=0){var O=u.qd,K=u.rd;for(t(tl[u.Z]!=null);f<j;++f)tl[u.Z](O,K,E,D,E,D,H),O=E,K=D,D+=H;u.qd=O,u.rd=K}}function Aa(u,f){var j=u.l.ma,E=j.Z==0||j.Z==1?u.l.j:u.C;if(E=u.C<E?E:u.C,t(f<=u.l.o),f>E){var D=u.l.width,H=j.ca,O=j.tb+D*E,K=u.V,q=u.Ba+u.c*E,Y=u.gc;t(u.ab==1),t(Y[0].hc==3),iA(Y[0],E,f,K,q,H,O),_a(j,E,f,H,O,D)}u.C=u.Ma=f}function ca(u,f,j,E,D,H,O){var K=u.$/E,q=u.$%E,Y=u.m,oe=u.s,fe=j+u.$,W=fe;D=j+E*D;var ce=j+E*H,he=280+oe.ua,we=u.Pb?K:16777216,me=0<oe.ua?oe.Wa:null,ve=oe.wc,Ne=fe<ce?Ns(oe,q,K):null;t(u.C<H),t(ce<=D);var Ee=!1;e:for(;;){for(;Ee||fe<ce;){var Be=0;if(K>=we){var Ge=fe-j;t((we=u).Pb),we.wd=we.m,we.xd=Ge,0<we.s.ua&&Ct(we.s.Wa,we.s.vb),we=K+E3}if(q&ve||(Ne=Ns(oe,q,K)),t(Ne!=null),Ne.Qb&&(f[fe]=Ne.qb,Ee=!0),!Ee)if(de(Y),Ne.jc){Be=Y,Ge=f;var Te=fe,vt=Ne.pd[$(Be)&Ta-1];t(Ne.jc),256>vt.g?(ne(Be,Be.u+vt.g),Ge[Te]=vt.value,Be=0):(ne(Be,Be.u+vt.g-256),t(256<=vt.value),Be=vt.value),Be==0&&(Ee=!0)}else Be=Sr(Ne.G[0],Ne.H[0],Y);if(Y.h)break;if(Ee||256>Be){if(!Ee)if(Ne.nd)f[fe]=(Ne.qb|Be<<8)>>>0;else{if(de(Y),Ee=Sr(Ne.G[1],Ne.H[1],Y),de(Y),Ge=Sr(Ne.G[2],Ne.H[2],Y),Te=Sr(Ne.G[3],Ne.H[3],Y),Y.h)break;f[fe]=(Te<<24|Ee<<16|Be<<8|Ge)>>>0}if(Ee=!1,++fe,++q>=E&&(q=0,++K,O!=null&&K<=H&&!(K%16)&&O(u,K),me!=null))for(;W<fe;)Be=f[W++],me.X[(506832829*Be&4294967295)>>>me.Mb]=Be}else if(280>Be){if(Be=Hn(Be-256,Y),Ge=Sr(Ne.G[4],Ne.H[4],Y),de(Y),Ge=On(E,Ge=Hn(Ge,Y)),Y.h)break;if(fe-j<Ge||D-fe<Be)break e;for(Te=0;Te<Be;++Te)f[fe+Te]=f[fe+Te-Ge];for(fe+=Be,q+=Be;q>=E;)q-=E,++K,O!=null&&K<=H&&!(K%16)&&O(u,K);if(t(fe<=D),q&ve&&(Ne=Ns(oe,q,K)),me!=null)for(;W<fe;)Be=f[W++],me.X[(506832829*Be&4294967295)>>>me.Mb]=Be}else{if(!(Be<he))break e;for(Ee=Be-280,t(me!=null);W<fe;)Be=f[W++],me.X[(506832829*Be&4294967295)>>>me.Mb]=Be;Be=fe,t(!(Ee>>>(Ge=me).Xa)),f[Be]=Ge.X[Ee],Ee=!0}Ee||t(Y.h==V(Y))}if(u.Pb&&Y.h&&fe<D)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Ct(u.s.vb,u.s.Wa);else{if(Y.h)break e;O!=null&&O(u,K>H?H:K),u.a=0,u.$=fe-j}return 1}return u.a=3,0}function Kn(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,t(u!=null)}function Wl(){var u=new Nr;return u==null?null:(u.a=0,u.xb=jw,Et("Predictor","VP8LPredictors"),Et("Predictor","VP8LPredictors_C"),Et("PredictorAdd","VP8LPredictorsAdd"),Et("PredictorAdd","VP8LPredictorsAdd_C"),nA=gt,gi=st,zc=ar,wn=Pt,Ha=Ve,ir=ht,lr=er,S.VP8LMapColor32b=aA,S.VP8LMapColor8b=oo,u)}function La(u,f,j,E,D){var H=1,O=[u],K=[f],q=E.m,Y=E.s,oe=null,fe=0;e:for(;;){if(j)for(;H&&re(q,1);){var W=O,ce=K,he=E,we=1,me=he.m,ve=he.gc[he.ab],Ne=re(me,2);if(he.Oc&1<<Ne)H=0;else{switch(he.Oc|=1<<Ne,ve.hc=Ne,ve.Ea=W[0],ve.nc=ce[0],ve.K=[null],++he.ab,t(4>=he.ab),Ne){case 0:case 1:ve.b=re(me,3)+2,we=La(Fe(ve.Ea,ve.b),Fe(ve.nc,ve.b),0,he,ve.K),ve.K=ve.K[0];break;case 3:var Ee,Be=re(me,8)+1,Ge=16<Be?0:4<Be?1:2<Be?2:3;if(W[0]=Fe(ve.Ea,Ge),ve.b=Ge,Ee=we=La(Be,1,0,he,ve.K)){var Te,vt=Be,He=ve,Ft=1<<(8>>He.b),is=i(Ft);if(is==null)Ee=0;else{var bt=He.K[0],Oe=He.w;for(is[0]=He.K[0][0],Te=1;Te<1*vt;++Te)is[Te]=qe(bt[Oe+Te],is[Te-1]);for(;Te<4*Ft;++Te)is[Te]=0;He.K[0]=null,He.K[0]=is,Ee=1}}we=Ee;break;case 2:break;default:t(0)}H=we}}if(O=O[0],K=K[0],H&&re(q,1)&&!(H=1<=(fe=re(q,4))&&11>=fe)){E.a=3;break e}var ke;if(ke=H)t:{var Mr,ft,kt,ur=E,Bs=O,qs=K,Er=fe,Ls=j,Ys=ur.m,ls=ur.s,Ut=[null],zt=1,Fr=0,Vt=S3[Er];r:for(;;){if(Ls&&re(Ys,1)){var Cs=re(Ys,3)+2,ma=Fe(Bs,Cs),Hr=Fe(qs,Cs),an=ma*Hr;if(!La(ma,Hr,0,ur,Ut))break r;for(Ut=Ut[0],ls.xc=Cs,Mr=0;Mr<an;++Mr){var rr=Ut[Mr]>>8&65535;Ut[Mr]=rr,rr>=zt&&(zt=rr+1)}}if(Ys.h)break r;for(ft=0;5>ft;++ft){var os=bw[ft];!ft&&0<Er&&(os+=1<<Er),Fr<os&&(Fr=os)}var bn=l(zt*Vt,F),Ws=zt,Nn=l(Ws,Z);if(Nn==null)var jn=null;else t(65536>=Ws),jn=Nn;var ln=i(Fr);if(jn==null||ln==null||bn==null){ur.a=1;break r}var Bn=bn;for(Mr=kt=0;Mr<zt;++Mr){var or=jn[Mr],Cn=or.G,fa=or.H,co=0,vi=1,Ss=0;for(ft=0;5>ft;++ft){os=bw[ft],Cn[ft]=Bn,fa[ft]=kt,!ft&&0<Er&&(os+=1<<Er);n:{var uh,ep=os,hh=ur,Yc=ln,q3=Bn,Y3=kt,tp=0,rl=hh.m,W3=re(rl,1);if(a(Yc,0,0,ep),W3){var J3=re(rl,1)+1,X3=re(rl,1),Qw=re(rl,X3==0?1:8);Yc[Qw]=1,J3==2&&(Yc[Qw=re(rl,8)]=1);var mh=1}else{var _w=i(19),Lw=re(rl,4)+4;if(19<Lw){hh.a=3;var fh=0;break n}for(uh=0;uh<Lw;++uh)_w[B3[uh]]=re(rl,3);var rp=void 0,Wc=void 0,Pw=hh,Z3=_w,ph=ep,Dw=Yc,sp=0,sl=Pw.m,Tw=8,Rw=l(128,F);s:for(;P(Rw,0,7,Z3,19);){if(re(sl,1)){var eS=2+2*re(sl,3);if((rp=2+re(sl,eS))>ph)break s}else rp=ph;for(Wc=0;Wc<ph&&rp--;){de(sl);var Mw=Rw[0+(127&$(sl))];ne(sl,sl.u+Mw.g);var oA=Mw.value;if(16>oA)Dw[Wc++]=oA,oA!=0&&(Tw=oA);else{var tS=oA==16,Hw=oA-16,rS=N3[Hw],Ow=re(sl,b3[Hw])+rS;if(Wc+Ow>ph)break s;for(var sS=tS?Tw:0;0<Ow--;)Dw[Wc++]=sS}}sp=1;break s}sp||(Pw.a=3),mh=sp}(mh=mh&&!rl.h)&&(tp=P(q3,Y3,8,Yc,ep)),mh&&tp!=0?fh=tp:(hh.a=3,fh=0)}if(fh==0)break r;if(vi&&j3[ft]==1&&(vi=Bn[kt].g==0),co+=Bn[kt].g,kt+=fh,3>=ft){var Jc,np=ln[0];for(Jc=1;Jc<os;++Jc)ln[Jc]>np&&(np=ln[Jc]);Ss+=np}}if(or.nd=vi,or.Qb=0,vi&&(or.qb=(Cn[3][fa[3]+0].value<<24|Cn[1][fa[1]+0].value<<16|Cn[2][fa[2]+0].value)>>>0,co==0&&256>Cn[0][fa[0]+0].value&&(or.Qb=1,or.qb+=Cn[0][fa[0]+0].value<<8)),or.jc=!or.Qb&&6>Ss,or.jc){var xh,bi=or;for(xh=0;xh<Ta;++xh){var nl=xh,al=bi.pd[nl],gh=bi.G[0][bi.H[0]+nl];256<=gh.value?(al.g=gh.g+256,al.value=gh.value):(al.g=0,al.value=0,nl>>=fs(gh,8,al),nl>>=fs(bi.G[1][bi.H[1]+nl],16,al),nl>>=fs(bi.G[2][bi.H[2]+nl],0,al),fs(bi.G[3][bi.H[3]+nl],24,al))}}}ls.vc=Ut,ls.Wb=zt,ls.Ya=jn,ls.yc=bn,ke=1;break t}ke=0}if(!(H=ke)){E.a=3;break e}if(0<fe){if(Y.ua=1<<fe,!ee(Y.Wa,fe)){E.a=1,H=0;break e}}else Y.ua=0;var ap=E,Kw=O,nS=K,ip=ap.s,lp=ip.xc;if(ap.c=Kw,ap.i=nS,ip.md=Fe(Kw,lp),ip.wc=lp==0?-1:(1<<lp)-1,j){E.xb=L3;break e}if((oe=i(O*K))==null){E.a=1,H=0;break e}H=(H=ca(E,oe,0,O,K,K,null))&&!q.h;break e}return H?(D!=null?D[0]=oe:(t(oe==null),t(j)),E.$=0,j||Kn(Y)):Kn(Y),H}function Jl(u,f){var j=u.c*u.i,E=j+f+16*f;return t(u.c<=f),u.V=i(E),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+j+f,1)}function Go(u,f){var j=u.C,E=f-j,D=u.V,H=u.Ba+u.c*j;for(t(f<=u.l.o);0<E;){var O=16<E?16:E,K=u.l.ma,q=u.l.width,Y=q*O,oe=K.ca,fe=K.tb+q*j,W=u.Ta,ce=u.Ua;Yl(u,O,D,H),mw(W,ce,oe,fe,Y),_a(K,j,j+O,oe,fe,q),E-=O,D+=O*u.c,j+=O}t(j==f),u.C=u.Ma=f}function $o(){this.ub=this.yd=this.td=this.Rb=0}function qo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ef(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function jc(){this.Yb=function(){var u=[];return function f(j,E,D){for(var H=D[E],O=0;O<H&&(j.push(D.length>E+1?[]:0),!(D.length<E+1));O++)f(j[O],E+1,D)}(u,0,[3,11]),u}()}function zu(){this.jb=i(3),this.Wc=o([4,8],jc),this.Xc=o([4,17],jc)}function Vu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function zn(){this.ld=this.La=this.dd=this.tc=0}function Bc(){this.Na=this.la=0}function Gu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Cc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $u(){this.uc=this.M=this.Nb=0,this.wa=Array(new zn),this.Y=0,this.ya=Array(new Cc),this.aa=0,this.l=new Yo}function qu(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Yu(){this.cb=this.a=0,this.sc="",this.m=new Q,this.Od=new $o,this.Kc=new qo,this.ed=new Vu,this.Qa=new Ef,this.Ic=this.$c=this.Aa=0,this.D=new $u,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,Q),this.ia=0,this.pb=l(4,Gu),this.Pa=new zu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qu),this.Hd=0,this.rb=Array(new Bc),this.sb=0,this.wa=Array(new zn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Cc),this.L=this.aa=0,this.gd=o([4,2],zn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ff(){var u=new Yu;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,$c||($c=ui)),u}function qr(u,f,j){return u.a==0&&(u.a=f,u.sc=j,u.cb=0),0}function Wu(u,f,j){return 3<=j&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function Ju(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return qr(u,2,"null VP8Io passed to VP8GetHeaders()");var j=f.data,E=f.w,D=f.ha;if(4>D)return qr(u,7,"Truncated header.");var H=j[E+0]|j[E+1]<<8|j[E+2]<<16,O=u.Od;if(O.Rb=!(1&H),O.td=H>>1&7,O.yd=H>>4&1,O.ub=H>>5,3<O.td)return qr(u,3,"Incorrect keyframe parameters.");if(!O.yd)return qr(u,4,"Frame not displayable.");E+=3,D-=3;var K=u.Kc;if(O.Rb){if(7>D)return qr(u,7,"cannot parse picture header");if(!Wu(j,E,D))return qr(u,3,"Bad code word");K.c=16383&(j[E+4]<<8|j[E+3]),K.Td=j[E+4]>>6,K.i=16383&(j[E+6]<<8|j[E+5]),K.Ud=j[E+6]>>6,E+=7,D-=7,u.za=K.c+15>>4,u.Ub=K.i+15>>4,f.width=K.c,f.height=K.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,a((H=u.Pa).jb,0,255,H.jb.length),t((H=u.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,a(H.Zb,0,0,H.Zb.length),a(H.Lb,0,0,H.Lb)}if(O.ub>D)return qr(u,7,"bad partition length");te(H=u.m,j,E,O.ub),E+=O.ub,D-=O.ub,O.Rb&&(K.Ld=ie(H),K.Kd=ie(H)),K=u.Qa;var q,Y=u.Pa;if(t(H!=null),t(K!=null),K.Cb=ie(H),K.Cb){if(K.Bb=ie(H),ie(H)){for(K.Fb=ie(H),q=0;4>q;++q)K.Zb[q]=ie(H)?R(H,7):0;for(q=0;4>q;++q)K.Lb[q]=ie(H)?R(H,6):0}if(K.Bb)for(q=0;3>q;++q)Y.jb[q]=ie(H)?le(H,8):255}else K.Bb=0;if(H.Ka)return qr(u,3,"cannot parse segment header");if((K=u.ed).zd=ie(H),K.Tb=le(H,6),K.wb=le(H,3),K.Pc=ie(H),K.Pc&&ie(H)){for(Y=0;4>Y;++Y)ie(H)&&(K.vd[Y]=R(H,6));for(Y=0;4>Y;++Y)ie(H)&&(K.od[Y]=R(H,6))}if(u.L=K.Tb==0?0:K.zd?1:2,H.Ka)return qr(u,3,"cannot parse filter header");var oe=D;if(D=q=E,E=q+oe,K=oe,u.Xb=(1<<le(u.m,2))-1,oe<3*(Y=u.Xb))j=7;else{for(q+=3*Y,K-=3*Y,oe=0;oe<Y;++oe){var fe=j[D+0]|j[D+1]<<8|j[D+2]<<16;fe>K&&(fe=K),te(u.Jc[+oe],j,q,fe),q+=fe,K-=fe,D+=3}te(u.Jc[+Y],j,q,K),j=q<E?0:5}if(j!=0)return qr(u,j,"cannot parse partitions");for(j=le(q=u.m,7),D=ie(q)?R(q,4):0,E=ie(q)?R(q,4):0,K=ie(q)?R(q,4):0,Y=ie(q)?R(q,4):0,q=ie(q)?R(q,4):0,oe=u.Qa,fe=0;4>fe;++fe){if(oe.Cb){var W=oe.Zb[fe];oe.Fb||(W+=j)}else{if(0<fe){u.pb[fe]=u.pb[0];continue}W=j}var ce=u.pb[fe];ce.Sc[0]=Jf[as(W+D,127)],ce.Sc[1]=Xf[as(W+0,127)],ce.Eb[0]=2*Jf[as(W+E,127)],ce.Eb[1]=101581*Xf[as(W+K,127)]>>16,8>ce.Eb[1]&&(ce.Eb[1]=8),ce.Qc[0]=Jf[as(W+Y,117)],ce.Qc[1]=Xf[as(W+q,127)],ce.lc=W+q}if(!O.Rb)return qr(u,4,"Not a key frame.");for(ie(H),O=u.Pa,j=0;4>j;++j){for(D=0;8>D;++D)for(E=0;3>E;++E)for(K=0;11>K;++K)Y=Ae(H,Q3[j][D][E][K])?le(H,8):k3[j][D][E][K],O.Wc[j][D].Yb[E][K]=Y;for(D=0;17>D;++D)O.Xc[j][D]=O.Wc[j][_3[D]]}return u.kc=ie(H),u.kc&&(u.Bd=le(H,8)),u.cb=1}function ui(u,f,j,E,D,H,O){var K=f[D].Yb[j];for(j=0;16>D;++D){if(!Ae(u,K[j+0]))return D;for(;!Ae(u,K[j+1]);)if(K=f[++D].Yb[0],j=0,D==16)return 16;var q=f[D+1].Yb;if(Ae(u,K[j+2])){var Y=u,oe=0;if(Ae(Y,(W=K)[(fe=j)+3]))if(Ae(Y,W[fe+6])){for(K=0,fe=2*(oe=Ae(Y,W[fe+8]))+(W=Ae(Y,W[fe+9+oe])),oe=0,W=F3[fe];W[K];++K)oe+=oe+Ae(Y,W[K]);oe+=3+(8<<fe)}else Ae(Y,W[fe+7])?(oe=7+2*Ae(Y,165),oe+=Ae(Y,145)):oe=5+Ae(Y,159);else oe=Ae(Y,W[fe+4])?3+Ae(Y,W[fe+5]):2;K=q[2]}else oe=1,K=q[1];q=O+I3[D],0>(Y=u).b&&xe(Y);var fe,W=Y.b,ce=(fe=Y.Ca>>1)-(Y.I>>W)>>31;--Y.b,Y.Ca+=ce,Y.Ca|=1,Y.I-=(fe+1&ce)<<W,H[q]=((oe^ce)-ce)*E[(0<D)+0]}return 16}function Xl(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,a(u.zc,0,0,u.zc.length),u.ja=0}function da(u,f,j,E,D){D=u[f+j+32*E]+(D>>3),u[f+j+32*E]=-256&D?0>D?0:255:D}function Zl(u,f,j,E,D,H){da(u,f,0,j,E+D),da(u,f,1,j,E+H),da(u,f,2,j,E-H),da(u,f,3,j,E-D)}function Pr(u){return(20091*u>>16)+u}function Sc(u,f,j,E){var D,H=0,O=i(16);for(D=0;4>D;++D){var K=u[f+0]+u[f+8],q=u[f+0]-u[f+8],Y=(35468*u[f+4]>>16)-Pr(u[f+12]),oe=Pr(u[f+4])+(35468*u[f+12]>>16);O[H+0]=K+oe,O[H+1]=q+Y,O[H+2]=q-Y,O[H+3]=K-oe,H+=4,f++}for(D=H=0;4>D;++D)K=(u=O[H+0]+4)+O[H+8],q=u-O[H+8],Y=(35468*O[H+4]>>16)-Pr(O[H+12]),da(j,E,0,0,K+(oe=Pr(O[H+4])+(35468*O[H+12]>>16))),da(j,E,1,0,q+Y),da(j,E,2,0,q-Y),da(j,E,3,0,K-oe),H++,E+=32}function If(u,f,j,E){var D=u[f+0]+4,H=35468*u[f+4]>>16,O=Pr(u[f+4]),K=35468*u[f+1]>>16;Zl(j,E,0,D+O,u=Pr(u[f+1]),K),Zl(j,E,1,D+H,u,K),Zl(j,E,2,D-H,u,K),Zl(j,E,3,D-O,u,K)}function kf(u,f,j,E,D){Sc(u,f,j,E),D&&Sc(u,f+16,j,E+4)}function Uf(u,f,j,E){Rr(u,f+0,j,E,1),Rr(u,f+32,j,E+128,1)}function Pa(u,f,j,E){var D;for(u=u[f+0]+4,D=0;4>D;++D)for(f=0;4>f;++f)da(j,E,f,D,u)}function Xu(u,f,j,E){u[f+0]&&Oa(u,f+0,j,E),u[f+16]&&Oa(u,f+16,j,E+4),u[f+32]&&Oa(u,f+32,j,E+128),u[f+48]&&Oa(u,f+48,j,E+128+4)}function Zu(u,f,j,E){var D,H=i(16);for(D=0;4>D;++D){var O=u[f+0+D]+u[f+12+D],K=u[f+4+D]+u[f+8+D],q=u[f+4+D]-u[f+8+D],Y=u[f+0+D]-u[f+12+D];H[0+D]=O+K,H[8+D]=O-K,H[4+D]=Y+q,H[12+D]=Y-q}for(D=0;4>D;++D)O=(u=H[0+4*D]+3)+H[3+4*D],K=H[1+4*D]+H[2+4*D],q=H[1+4*D]-H[2+4*D],Y=u-H[3+4*D],j[E+0]=O+K>>3,j[E+16]=Y+q>>3,j[E+32]=O-K>>3,j[E+48]=Y-q>>3,E+=64}function $i(u,f,j){var E,D=f-32,H=vn,O=255-u[D-1];for(E=0;E<j;++E){var K,q=H,Y=O+u[f-1];for(K=0;K<j;++K)u[f+K]=q[Y+u[D+K]];f+=32}}function Ec(u,f){$i(u,f,4)}function Qf(u,f){$i(u,f,8)}function _f(u,f){$i(u,f,16)}function Lf(u,f){var j;for(j=0;16>j;++j)n(u,f+32*j,u,f-32,16)}function Fc(u,f){var j;for(j=16;0<j;--j)a(u,f,u[f-1],16),f+=32}function eo(u,f,j){var E;for(E=0;16>E;++E)a(f,j+32*E,u,16)}function qi(u,f){var j,E=16;for(j=0;16>j;++j)E+=u[f-1+32*j]+u[f+j-32];eo(E>>5,u,f)}function Pf(u,f){var j,E=8;for(j=0;16>j;++j)E+=u[f-1+32*j];eo(E>>4,u,f)}function to(u,f){var j,E=8;for(j=0;16>j;++j)E+=u[f+j-32];eo(E>>4,u,f)}function Ic(u,f){eo(128,u,f)}function ot(u,f,j){return u+2*f+j+2>>2}function Df(u,f){var j,E=f-32;for(E=new Uint8Array([ot(u[E-1],u[E+0],u[E+1]),ot(u[E+0],u[E+1],u[E+2]),ot(u[E+1],u[E+2],u[E+3]),ot(u[E+2],u[E+3],u[E+4])]),j=0;4>j;++j)n(u,f+32*j,E,0,E.length)}function Tf(u,f){var j=u[f-1],E=u[f-1+32],D=u[f-1+64],H=u[f-1+96];ge(u,f+0,16843009*ot(u[f-1-32],j,E)),ge(u,f+32,16843009*ot(j,E,D)),ge(u,f+64,16843009*ot(E,D,H)),ge(u,f+96,16843009*ot(D,H,H))}function Rf(u,f){var j,E=4;for(j=0;4>j;++j)E+=u[f+j-32]+u[f-1+32*j];for(E>>=3,j=0;4>j;++j)a(u,f+32*j,E,4)}function Mf(u,f){var j=u[f-1+0],E=u[f-1+32],D=u[f-1+64],H=u[f-1-32],O=u[f+0-32],K=u[f+1-32],q=u[f+2-32],Y=u[f+3-32];u[f+0+96]=ot(E,D,u[f-1+96]),u[f+1+96]=u[f+0+64]=ot(j,E,D),u[f+2+96]=u[f+1+64]=u[f+0+32]=ot(H,j,E),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=ot(O,H,j),u[f+3+64]=u[f+2+32]=u[f+1+0]=ot(K,O,H),u[f+3+32]=u[f+2+0]=ot(q,K,O),u[f+3+0]=ot(Y,q,K)}function hi(u,f){var j=u[f+1-32],E=u[f+2-32],D=u[f+3-32],H=u[f+4-32],O=u[f+5-32],K=u[f+6-32],q=u[f+7-32];u[f+0+0]=ot(u[f+0-32],j,E),u[f+1+0]=u[f+0+32]=ot(j,E,D),u[f+2+0]=u[f+1+32]=u[f+0+64]=ot(E,D,H),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=ot(D,H,O),u[f+3+32]=u[f+2+64]=u[f+1+96]=ot(H,O,K),u[f+3+64]=u[f+2+96]=ot(O,K,q),u[f+3+96]=ot(K,q,q)}function mi(u,f){var j=u[f-1+0],E=u[f-1+32],D=u[f-1+64],H=u[f-1-32],O=u[f+0-32],K=u[f+1-32],q=u[f+2-32],Y=u[f+3-32];u[f+0+0]=u[f+1+64]=H+O+1>>1,u[f+1+0]=u[f+2+64]=O+K+1>>1,u[f+2+0]=u[f+3+64]=K+q+1>>1,u[f+3+0]=q+Y+1>>1,u[f+0+96]=ot(D,E,j),u[f+0+64]=ot(E,j,H),u[f+0+32]=u[f+1+96]=ot(j,H,O),u[f+1+32]=u[f+2+96]=ot(H,O,K),u[f+2+32]=u[f+3+96]=ot(O,K,q),u[f+3+32]=ot(K,q,Y)}function Hf(u,f){var j=u[f+0-32],E=u[f+1-32],D=u[f+2-32],H=u[f+3-32],O=u[f+4-32],K=u[f+5-32],q=u[f+6-32],Y=u[f+7-32];u[f+0+0]=j+E+1>>1,u[f+1+0]=u[f+0+64]=E+D+1>>1,u[f+2+0]=u[f+1+64]=D+H+1>>1,u[f+3+0]=u[f+2+64]=H+O+1>>1,u[f+0+32]=ot(j,E,D),u[f+1+32]=u[f+0+96]=ot(E,D,H),u[f+2+32]=u[f+1+96]=ot(D,H,O),u[f+3+32]=u[f+2+96]=ot(H,O,K),u[f+3+64]=ot(O,K,q),u[f+3+96]=ot(K,q,Y)}function Of(u,f){var j=u[f-1+0],E=u[f-1+32],D=u[f-1+64],H=u[f-1+96];u[f+0+0]=j+E+1>>1,u[f+2+0]=u[f+0+32]=E+D+1>>1,u[f+2+32]=u[f+0+64]=D+H+1>>1,u[f+1+0]=ot(j,E,D),u[f+3+0]=u[f+1+32]=ot(E,D,H),u[f+3+32]=u[f+1+64]=ot(D,H,H),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=H}function Wo(u,f){var j=u[f-1+0],E=u[f-1+32],D=u[f-1+64],H=u[f-1+96],O=u[f-1-32],K=u[f+0-32],q=u[f+1-32],Y=u[f+2-32];u[f+0+0]=u[f+2+32]=j+O+1>>1,u[f+0+32]=u[f+2+64]=E+j+1>>1,u[f+0+64]=u[f+2+96]=D+E+1>>1,u[f+0+96]=H+D+1>>1,u[f+3+0]=ot(K,q,Y),u[f+2+0]=ot(O,K,q),u[f+1+0]=u[f+3+32]=ot(j,O,K),u[f+1+32]=u[f+3+64]=ot(E,j,O),u[f+1+64]=u[f+3+96]=ot(D,E,j),u[f+1+96]=ot(H,D,E)}function kc(u,f){var j;for(j=0;8>j;++j)n(u,f+32*j,u,f-32,8)}function ro(u,f){var j;for(j=0;8>j;++j)a(u,f,u[f-1],8),f+=32}function Jo(u,f,j){var E;for(E=0;8>E;++E)a(f,j+32*E,u,8)}function Xo(u,f){var j,E=8;for(j=0;8>j;++j)E+=u[f+j-32]+u[f-1+32*j];Jo(E>>4,u,f)}function Kf(u,f){var j,E=4;for(j=0;8>j;++j)E+=u[f+j-32];Jo(E>>3,u,f)}function Uc(u,f){var j,E=4;for(j=0;8>j;++j)E+=u[f-1+32*j];Jo(E>>3,u,f)}function Qc(u,f){Jo(128,u,f)}function so(u,f,j){var E=u[f-j],D=u[f+0],H=3*(D-E)+Gf[1020+u[f-2*j]-u[f+j]],O=sh[112+(H+4>>3)];u[f-j]=vn[255+E+sh[112+(H+3>>3)]],u[f+0]=vn[255+D-O]}function no(u,f,j,E){var D=u[f+0],H=u[f+j];return Gn[255+u[f-2*j]-u[f-j]]>E||Gn[255+H-D]>E}function _c(u,f,j,E){return 4*Gn[255+u[f-j]-u[f+0]]+Gn[255+u[f-2*j]-u[f+j]]<=E}function Zo(u,f,j,E,D){var H=u[f-3*j],O=u[f-2*j],K=u[f-j],q=u[f+0],Y=u[f+j],oe=u[f+2*j],fe=u[f+3*j];return 4*Gn[255+K-q]+Gn[255+O-Y]>E?0:Gn[255+u[f-4*j]-H]<=D&&Gn[255+H-O]<=D&&Gn[255+O-K]<=D&&Gn[255+fe-oe]<=D&&Gn[255+oe-Y]<=D&&Gn[255+Y-q]<=D}function Lc(u,f,j,E){var D=2*E+1;for(E=0;16>E;++E)_c(u,f+E,j,D)&&so(u,f+E,j)}function ao(u,f,j,E){var D=2*E+1;for(E=0;16>E;++E)_c(u,f+E*j,1,D)&&so(u,f+E*j,1)}function Pc(u,f,j,E){var D;for(D=3;0<D;--D)Lc(u,f+=4*j,j,E)}function Dc(u,f,j,E){var D;for(D=3;0<D;--D)ao(u,f+=4,j,E)}function yn(u,f,j,E,D,H,O,K){for(H=2*H+1;0<D--;){if(Zo(u,f,j,H,O))if(no(u,f,j,K))so(u,f,j);else{var q=u,Y=f,oe=j,fe=q[Y-2*oe],W=q[Y-oe],ce=q[Y+0],he=q[Y+oe],we=q[Y+2*oe],me=27*(Ne=Gf[1020+3*(ce-W)+Gf[1020+fe-he]])+63>>7,ve=18*Ne+63>>7,Ne=9*Ne+63>>7;q[Y-3*oe]=vn[255+q[Y-3*oe]+Ne],q[Y-2*oe]=vn[255+fe+ve],q[Y-oe]=vn[255+W+me],q[Y+0]=vn[255+ce-me],q[Y+oe]=vn[255+he-ve],q[Y+2*oe]=vn[255+we-Ne]}f+=E}}function Da(u,f,j,E,D,H,O,K){for(H=2*H+1;0<D--;){if(Zo(u,f,j,H,O))if(no(u,f,j,K))so(u,f,j);else{var q=u,Y=f,oe=j,fe=q[Y-oe],W=q[Y+0],ce=q[Y+oe],he=sh[112+(4+(we=3*(W-fe))>>3)],we=sh[112+(we+3>>3)],me=he+1>>1;q[Y-2*oe]=vn[255+q[Y-2*oe]+me],q[Y-oe]=vn[255+fe+we],q[Y+0]=vn[255+W-he],q[Y+oe]=vn[255+ce-me]}f+=E}}function w(u,f,j,E,D,H){yn(u,f,j,1,16,E,D,H)}function T(u,f,j,E,D,H){yn(u,f,1,j,16,E,D,H)}function J(u,f,j,E,D,H){var O;for(O=3;0<O;--O)Da(u,f+=4*j,j,1,16,E,D,H)}function ae(u,f,j,E,D,H){var O;for(O=3;0<O;--O)Da(u,f+=4,1,j,16,E,D,H)}function ue(u,f,j,E,D,H,O,K){yn(u,f,D,1,8,H,O,K),yn(j,E,D,1,8,H,O,K)}function be(u,f,j,E,D,H,O,K){yn(u,f,1,D,8,H,O,K),yn(j,E,1,D,8,H,O,K)}function Ce(u,f,j,E,D,H,O,K){Da(u,f+4*D,D,1,8,H,O,K),Da(j,E+4*D,D,1,8,H,O,K)}function Me(u,f,j,E,D,H,O,K){Da(u,f+4,1,D,8,H,O,K),Da(j,E+4,1,D,8,H,O,K)}function ze(){this.ba=new tr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dt(){this.ua=0,this.Wa=new pt,this.vb=new pt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new F}function Nr(){this.xb=this.a=0,this.l=new Yo,this.ca=new tr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dt,this.ab=0,this.gc=l(4,yt),this.Oc=0}function Yr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Yo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wt(u,f,j,E,D,H,O){for(u=u==null?0:u[f+0],f=0;f<O;++f)D[H+f]=u+j[E+f]&255,u=D[H+f]}function ns(u,f,j,E,D,H,O){var K;if(u==null)Wt(null,null,j,E,D,H,O);else for(K=0;K<O;++K)D[H+K]=u[f+K]+j[E+K]&255}function Wr(u,f,j,E,D,H,O){if(u==null)Wt(null,null,j,E,D,H,O);else{var K,q=u[f+0],Y=q,oe=q;for(K=0;K<O;++K)Y=oe+(q=u[f+K])-Y,oe=j[E+K]+(-256&Y?0>Y?0:255:Y)&255,Y=q,D[H+K]=oe}}function js(u,f,j,E){var D=f.width,H=f.o;if(t(u!=null&&f!=null),0>j||0>=E||j+E>H)return null;if(!u.Cc){if(u.ga==null){var O;if(u.ga=new Yr,(O=u.ga==null)||(O=f.width*f.o,t(u.Gb.length==0),u.Gb=i(O),u.Uc=0,u.Gb==null?O=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,O=1),O=!O),!O){O=u.ga;var K=u.Fa,q=u.P,Y=u.qc,oe=u.mb,fe=u.nb,W=q+1,ce=Y-1,he=O.l;if(t(K!=null&&oe!=null&&f!=null),tl[0]=null,tl[1]=Wt,tl[2]=ns,tl[3]=Wr,O.ca=oe,O.tb=fe,O.c=f.width,O.i=f.height,t(0<O.c&&0<O.i),1>=Y)f=0;else if(O.$a=3&K[q+0],O.Z=K[q+0]>>2&3,O.Lc=K[q+0]>>4&3,q=K[q+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||q)f=0;else if(he.put=rt,he.ac=Qa,he.bc=ci,he.ma=O,he.width=f.width,he.height=f.height,he.Da=f.Da,he.v=f.v,he.va=f.va,he.j=f.j,he.o=f.o,O.$a)e:{t(O.$a==1),f=Wl();t:for(;;){if(f==null){f=0;break e}if(t(O!=null),O.mc=f,f.c=O.c,f.i=O.i,f.l=O.l,f.l.ma=O,f.l.width=O.c,f.l.height=O.i,f.a=0,X(f.m,K,W,ce),!La(O.c,O.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&oa(f.s)?(O.ic=1,K=f.c*f.i,f.Ta=null,f.Ua=0,f.V=i(K),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(O.ic=0,f=Jl(f,O.c)),!f))break t;f=1;break e}O.mc=null,f=0}else f=ce>=O.c*O.i;O=!f}if(O)return null;u.ga.Lc!=1?u.Ga=0:E=H-j}t(u.ga!=null),t(j+E<=H);e:{if(f=(K=u.ga).c,H=K.l.o,K.$a==0){if(W=u.rc,ce=u.Vc,he=u.Fa,q=u.P+1+j*f,Y=u.mb,oe=u.nb+j*f,t(q<=u.P+u.qc),K.Z!=0)for(t(tl[K.Z]!=null),O=0;O<E;++O)tl[K.Z](W,ce,he,q,Y,oe,f),W=Y,ce=oe,oe+=f,q+=f;else for(O=0;O<E;++O)n(Y,oe,he,q,f),W=Y,ce=oe,oe+=f,q+=f;u.rc=W,u.Vc=ce}else{if(t(K.mc!=null),f=j+E,t((O=K.mc)!=null),t(f<=O.i),O.C>=f)f=1;else if(K.ic||io(),K.ic){K=O.V,W=O.Ba,ce=O.c;var we=O.i,me=(he=1,q=O.$/ce,Y=O.$%ce,oe=O.m,fe=O.s,O.$),ve=ce*we,Ne=ce*f,Ee=fe.wc,Be=me<Ne?Ns(fe,Y,q):null;t(me<=ve),t(f<=we),t(oa(fe));t:for(;;){for(;!oe.h&&me<Ne;){if(Y&Ee||(Be=Ns(fe,Y,q)),t(Be!=null),de(oe),256>(we=Sr(Be.G[0],Be.H[0],oe)))K[W+me]=we,++me,++Y>=ce&&(Y=0,++q<=f&&!(q%16)&&Aa(O,q));else{if(!(280>we)){he=0;break t}we=Hn(we-256,oe);var Ge,Te=Sr(Be.G[4],Be.H[4],oe);if(de(oe),!(me>=(Te=On(ce,Te=Hn(Te,oe)))&&ve-me>=we)){he=0;break t}for(Ge=0;Ge<we;++Ge)K[W+me+Ge]=K[W+me+Ge-Te];for(me+=we,Y+=we;Y>=ce;)Y-=ce,++q<=f&&!(q%16)&&Aa(O,q);me<Ne&&Y&Ee&&(Be=Ns(fe,Y,q))}t(oe.h==V(oe))}Aa(O,q>f?f:q);break t}!he||oe.h&&me<ve?(he=0,O.a=oe.h?5:3):O.$=me,f=he}else f=ca(O,O.V,O.Ba,O.c,O.i,f,Go);if(!f){E=0;break e}}j+E>=H&&(u.Cc=1),E=1}if(!E)return null;if(u.Cc&&((E=u.ga)!=null&&(E.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+j*D}function fi(u,f,j,E,D,H){for(;0<D--;){var O,K=u,q=f+(j?1:0),Y=u,oe=f+(j?0:3);for(O=0;O<E;++O){var fe=Y[oe+4*O];fe!=255&&(fe*=32897,K[q+4*O+0]=K[q+4*O+0]*fe>>23,K[q+4*O+1]=K[q+4*O+1]*fe>>23,K[q+4*O+2]=K[q+4*O+2]*fe>>23)}f+=H}}function Yi(u,f,j,E,D){for(;0<E--;){var H;for(H=0;H<j;++H){var O=u[f+2*H+0],K=15&(Y=u[f+2*H+1]),q=4369*K,Y=(240&Y|Y>>4)*q>>16;u[f+2*H+0]=(240&O|O>>4)*q>>16&240|(15&O|O<<4)*q>>16>>4&15,u[f+2*H+1]=240&Y|K}f+=D}}function zf(u,f,j,E,D,H,O,K){var q,Y,oe=255;for(Y=0;Y<D;++Y){for(q=0;q<E;++q){var fe=u[f+q];H[O+4*q]=fe,oe&=fe}f+=j,O+=K}return oe!=255}function eh(u,f,j,E,D){var H;for(H=0;H<D;++H)j[E+H]=u[f+H]>>8}function io(){Gc=fi,uw=Yi,hw=zf,mw=eh}function ua(u,f,j){S[u]=function(E,D,H,O,K,q,Y,oe,fe,W,ce,he,we,me,ve,Ne,Ee){var Be,Ge=Ee-1>>1,Te=K[q+0]|Y[oe+0]<<16,vt=fe[W+0]|ce[he+0]<<16;t(E!=null);var He=3*Te+vt+131074>>2;for(f(E[D+0],255&He,He>>16,we,me),H!=null&&(He=3*vt+Te+131074>>2,f(H[O+0],255&He,He>>16,ve,Ne)),Be=1;Be<=Ge;++Be){var Ft=K[q+Be]|Y[oe+Be]<<16,is=fe[W+Be]|ce[he+Be]<<16,bt=Te+Ft+vt+is+524296,Oe=bt+2*(Ft+vt)>>3;He=Oe+Te>>1,Te=(bt=bt+2*(Te+is)>>3)+Ft>>1,f(E[D+2*Be-1],255&He,He>>16,we,me+(2*Be-1)*j),f(E[D+2*Be-0],255&Te,Te>>16,we,me+(2*Be-0)*j),H!=null&&(He=bt+vt>>1,Te=Oe+is>>1,f(H[O+2*Be-1],255&He,He>>16,ve,Ne+(2*Be-1)*j),f(H[O+2*Be+0],255&Te,Te>>16,ve,Ne+(2*Be+0)*j)),Te=Ft,vt=is}1&Ee||(He=3*Te+vt+131074>>2,f(E[D+Ee-1],255&He,He>>16,we,me+(Ee-1)*j),H!=null&&(He=3*vt+Te+131074>>2,f(H[O+Ee-1],255&He,He>>16,ve,Ne+(Ee-1)*j)))}}function Tc(){$n[nh]=P3,$n[ah]=Bw,$n[ww]=D3,$n[ih]=Cw,$n[lh]=Sw,$n[$f]=Ew,$n[vw]=T3,$n[qf]=Bw,$n[Yf]=Cw,$n[oh]=Sw,$n[Wf]=Ew}function eA(u){return u&~R3?0>u?0:255:u>>Fw}function Wi(u,f){return eA((19077*u>>8)+(26149*f>>8)-14234)}function ps(u,f,j){return eA((19077*u>>8)-(6419*f>>8)-(13320*j>>8)+8708)}function pi(u,f){return eA((19077*u>>8)+(33050*f>>8)-17685)}function xi(u,f,j,E,D){E[D+0]=Wi(u,j),E[D+1]=ps(u,f,j),E[D+2]=pi(u,f)}function tA(u,f,j,E,D){E[D+0]=pi(u,f),E[D+1]=ps(u,f,j),E[D+2]=Wi(u,j)}function Rc(u,f,j,E,D){var H=ps(u,f,j);f=H<<3&224|pi(u,f)>>3,E[D+0]=248&Wi(u,j)|H>>5,E[D+1]=f}function $s(u,f,j,E,D){var H=240&pi(u,f)|15;E[D+0]=240&Wi(u,j)|ps(u,f,j)>>4,E[D+1]=H}function th(u,f,j,E,D){E[D+0]=255,xi(u,f,j,E,D+1)}function rA(u,f,j,E,D){tA(u,f,j,E,D),E[D+3]=255}function rh(u,f,j,E,D){xi(u,f,j,E,D),E[D+3]=255}function as(u,f){return 0>u?0:u>f?f:u}function Vn(u,f,j){S[u]=function(E,D,H,O,K,q,Y,oe,fe){for(var W=oe+(-2&fe)*j;oe!=W;)f(E[D+0],H[O+0],K[q+0],Y,oe),f(E[D+1],H[O+0],K[q+0],Y,oe+j),D+=2,++O,++q,oe+=2*j;1&fe&&f(E[D+0],H[O+0],K[q+0],Y,oe)}}function Mc(u,f,j){return j==0?u==0?f==0?6:5:f==0?4:0:j}function Hc(u,f,j,E,D){switch(u>>>30){case 3:Rr(f,j,E,D,0);break;case 2:yi(f,j,E,D);break;case 1:Oa(f,j,E,D)}}function Ji(u,f){var j,E,D=f.M,H=f.Nb,O=u.oc,K=u.pc+40,q=u.oc,Y=u.pc+584,oe=u.oc,fe=u.pc+600;for(j=0;16>j;++j)O[K+32*j-1]=129;for(j=0;8>j;++j)q[Y+32*j-1]=129,oe[fe+32*j-1]=129;for(0<D?O[K-1-32]=q[Y-1-32]=oe[fe-1-32]=129:(a(O,K-32-1,127,21),a(q,Y-32-1,127,9),a(oe,fe-32-1,127,9)),E=0;E<u.za;++E){var W=f.ya[f.aa+E];if(0<E){for(j=-1;16>j;++j)n(O,K+32*j-4,O,K+32*j+12,4);for(j=-1;8>j;++j)n(q,Y+32*j-4,q,Y+32*j+4,4),n(oe,fe+32*j-4,oe,fe+32*j+4,4)}var ce=u.Gd,he=u.Hd+E,we=W.ad,me=W.Hc;if(0<D&&(n(O,K-32,ce[he].y,0,16),n(q,Y-32,ce[he].f,0,8),n(oe,fe-32,ce[he].ea,0,8)),W.Za){var ve=O,Ne=K-32+16;for(0<D&&(E>=u.za-1?a(ve,Ne,ce[he].y[15],4):n(ve,Ne,ce[he+1].y,0,4)),j=0;4>j;j++)ve[Ne+128+j]=ve[Ne+256+j]=ve[Ne+384+j]=ve[Ne+0+j];for(j=0;16>j;++j,me<<=2)ve=O,Ne=K+kw[j],ha[W.Ob[j]](ve,Ne),Hc(me,we,16*+j,ve,Ne)}else if(ve=Mc(E,D,W.Ob[0]),el[ve](O,K),me!=0)for(j=0;16>j;++j,me<<=2)Hc(me,we,16*+j,O,K+kw[j]);for(j=W.Gc,ve=Mc(E,D,W.Dd),wi[ve](q,Y),wi[ve](oe,fe),me=we,ve=q,Ne=Y,255&(W=0|j)&&(170&W?lA(me,256,ve,Ne):Vc(me,256,ve,Ne)),W=oe,me=fe,255&(j>>=8)&&(170&j?lA(we,320,W,me):Vc(we,320,W,me)),D<u.Ub-1&&(n(ce[he].y,0,O,K+480,16),n(ce[he].f,0,q,Y+224,8),n(ce[he].ea,0,oe,fe+224,8)),j=8*H*u.B,ce=u.sa,he=u.ta+16*E+16*H*u.R,we=u.qa,W=u.ra+8*E+j,me=u.Ha,ve=u.Ia+8*E+j,j=0;16>j;++j)n(ce,he+j*u.R,O,K+32*j,16);for(j=0;8>j;++j)n(we,W+j*u.B,q,Y+32*j,8),n(me,ve+j*u.B,oe,fe+32*j,8)}}function sA(u,f,j,E,D,H,O,K,q){var Y=[0],oe=[0],fe=0,W=q!=null?q.kd:0,ce=q??new nt;if(u==null||12>j)return 7;ce.data=u,ce.w=f,ce.ha=j,f=[f],j=[j],ce.gb=[ce.gb];e:{var he=f,we=j,me=ce.gb;if(t(u!=null),t(we!=null),t(me!=null),me[0]=0,12<=we[0]&&!s(u,he[0],"RIFF")){if(s(u,he[0]+8,"WEBP")){me=3;break e}var ve=ye(u,he[0]+4);if(12>ve||4294967286<ve){me=3;break e}if(W&&ve>we[0]-8){me=7;break e}me[0]=ve,he[0]+=12,we[0]-=12}me=0}if(me!=0)return me;for(ve=0<ce.gb[0],j=j[0];;){e:{var Ne=u;we=f,me=j;var Ee=Y,Be=oe,Ge=he=[0];if((He=fe=[fe])[0]=0,8>me[0])me=7;else{if(!s(Ne,we[0],"VP8X")){if(ye(Ne,we[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var Te=ye(Ne,we[0]+8),vt=1+Qe(Ne,we[0]+12);if(2147483648<=vt*(Ne=1+Qe(Ne,we[0]+15))){me=3;break e}Ge!=null&&(Ge[0]=Te),Ee!=null&&(Ee[0]=vt),Be!=null&&(Be[0]=Ne),we[0]+=18,me[0]-=18,He[0]=1}me=0}}if(fe=fe[0],he=he[0],me!=0)return me;if(we=!!(2&he),!ve&&fe)return 3;if(H!=null&&(H[0]=!!(16&he)),O!=null&&(O[0]=we),K!=null&&(K[0]=0),O=Y[0],he=oe[0],fe&&we&&q==null){me=0;break}if(4>j){me=7;break}if(ve&&fe||!ve&&!fe&&!s(u,f[0],"ALPH")){j=[j],ce.na=[ce.na],ce.P=[ce.P],ce.Sa=[ce.Sa];e:{Te=u,me=f,ve=j;var He=ce.gb;Ee=ce.na,Be=ce.P,Ge=ce.Sa,vt=22,t(Te!=null),t(ve!=null),Ne=me[0];var Ft=ve[0];for(t(Ee!=null),t(Ge!=null),Ee[0]=null,Be[0]=null,Ge[0]=0;;){if(me[0]=Ne,ve[0]=Ft,8>Ft){me=7;break e}var is=ye(Te,Ne+4);if(4294967286<is){me=3;break e}var bt=8+is+1&-2;if(vt+=bt,0<He&&vt>He){me=3;break e}if(!s(Te,Ne,"VP8 ")||!s(Te,Ne,"VP8L")){me=0;break e}if(Ft[0]<bt){me=7;break e}s(Te,Ne,"ALPH")||(Ee[0]=Te,Be[0]=Ne+8,Ge[0]=is),Ne+=bt,Ft-=bt}}if(j=j[0],ce.na=ce.na[0],ce.P=ce.P[0],ce.Sa=ce.Sa[0],me!=0)break}j=[j],ce.Ja=[ce.Ja],ce.xa=[ce.xa];e:if(He=u,me=f,ve=j,Ee=ce.gb[0],Be=ce.Ja,Ge=ce.xa,Te=me[0],Ne=!s(He,Te,"VP8 "),vt=!s(He,Te,"VP8L"),t(He!=null),t(ve!=null),t(Be!=null),t(Ge!=null),8>ve[0])me=7;else{if(Ne||vt){if(He=ye(He,Te+4),12<=Ee&&He>Ee-12){me=3;break e}if(W&&He>ve[0]-8){me=7;break e}Be[0]=He,me[0]+=8,ve[0]-=8,Ge[0]=vt}else Ge[0]=5<=ve[0]&&He[Te+0]==47&&!(He[Te+4]>>5),Be[0]=ve[0];me=0}if(j=j[0],ce.Ja=ce.Ja[0],ce.xa=ce.xa[0],f=f[0],me!=0)break;if(4294967286<ce.Ja)return 3;if(K==null||we||(K[0]=ce.xa?2:1),O=[O],he=[he],ce.xa){if(5>j){me=7;break}K=O,W=he,we=H,u==null||5>j?u=0:5<=j&&u[f+0]==47&&!(u[f+4]>>5)?(ve=[0],He=[0],Ee=[0],X(Be=new z,u,f,j),di(Be,ve,He,Ee)?(K!=null&&(K[0]=ve[0]),W!=null&&(W[0]=He[0]),we!=null&&(we[0]=Ee[0]),u=1):u=0):u=0}else{if(10>j){me=7;break}K=he,u==null||10>j||!Wu(u,f+3,j-3)?u=0:(W=u[f+0]|u[f+1]<<8|u[f+2]<<16,we=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&W||3<(W>>1&7)||!(W>>4&1)||W>>5>=ce.Ja||!we||!u?u=0:(O&&(O[0]=we),K&&(K[0]=u),u=1))}if(!u||(O=O[0],he=he[0],fe&&(Y[0]!=O||oe[0]!=he)))return 3;q!=null&&(q[0]=ce,q.offset=f-q.w,t(4294967286>f-q.w),t(q.offset==q.ha-j));break}return me==0||me==7&&fe&&q==null?(H!=null&&(H[0]|=ce.na!=null&&0<ce.na.length),E!=null&&(E[0]=O),D!=null&&(D[0]=he),0):me}function sn(u,f,j){var E=f.width,D=f.height,H=0,O=0,K=E,q=D;if(f.Da=u!=null&&0<u.Da,f.Da&&(K=u.cd,q=u.bd,H=u.v,O=u.j,11>j||(H&=-2,O&=-2),0>H||0>O||0>=K||0>=q||H+K>E||O+q>D))return 0;if(f.v=H,f.j=O,f.va=H+K,f.o=O+q,f.U=K,f.T=q,f.da=u!=null&&0<u.da,f.da){if(!Ze(K,q,j=[u.ib],H=[u.hb]))return 0;f.ib=j[0],f.hb=H[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*E/4&&f.hb<3*D/4,f.Kb=0),1}function nn(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function lo(u,f,j,E){if(E==null||0>=u||0>=f)return 2;if(j!=null){if(j.Da){var D=j.cd,H=j.bd,O=-2&j.v,K=-2&j.j;if(0>O||0>K||0>=D||0>=H||O+D>u||K+H>f)return 2;u=D,f=H}if(j.da){if(!Ze(u,f,D=[j.ib],H=[j.hb]))return 2;u=D[0],f=H[0]}}E.width=u,E.height=f;e:{var q=E.width,Y=E.height;if(u=E.S,0>=q||0>=Y||!(u>=nh&&13>u))u=2;else{if(0>=E.Rd&&E.sd==null){O=H=D=f=0;var oe=(K=q*Uw[u])*Y;if(11>u||(H=(Y+1)/2*(f=(q+1)/2),u==12&&(O=(D=q)*Y)),(Y=i(oe+2*H+O))==null){u=1;break e}E.sd=Y,11>u?((q=E.f.RGBA).eb=Y,q.fb=0,q.A=K,q.size=oe):((q=E.f.kb).y=Y,q.O=0,q.fa=K,q.Fd=oe,q.f=Y,q.N=0+oe,q.Ab=f,q.Cd=H,q.ea=Y,q.W=0+oe+H,q.Db=f,q.Ed=H,u==12&&(q.F=Y,q.J=0+oe+2*H),q.Tc=O,q.lb=D)}if(f=1,D=E.S,H=E.width,O=E.height,D>=nh&&13>D)if(11>D)u=E.f.RGBA,f&=(K=Math.abs(u.A))*(O-1)+H<=u.size,f&=K>=H*Uw[D],f&=u.eb!=null;else{u=E.f.kb,K=(H+1)/2,oe=(O+1)/2,q=Math.abs(u.fa),Y=Math.abs(u.Ab);var fe=Math.abs(u.Db),W=Math.abs(u.lb),ce=W*(O-1)+H;f&=q*(O-1)+H<=u.Fd,f&=Y*(oe-1)+K<=u.Cd,f=(f&=fe*(oe-1)+K<=u.Ed)&q>=H&Y>=K&fe>=K,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,D==12&&(f&=W>=H,f&=ce<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||j!=null&&j.fd&&(u=nn(E)),u}var Ta=64,Xi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Oc=24,Zi=32,Dr=8,Vf=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_e("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(u){return u},S.Predictor2=function(u,f,j){return f[j+0]},S.Predictor3=function(u,f,j){return f[j+1]},S.Predictor4=function(u,f,j){return f[j-1]},S.Predictor5=function(u,f,j){return Xe(Xe(u,f[j+1]),f[j+0])},S.Predictor6=function(u,f,j){return Xe(u,f[j-1])},S.Predictor7=function(u,f,j){return Xe(u,f[j+0])},S.Predictor8=function(u,f,j){return Xe(f[j-1],f[j+0])},S.Predictor9=function(u,f,j){return Xe(f[j+0],f[j+1])},S.Predictor10=function(u,f,j){return Xe(Xe(u,f[j-1]),Xe(f[j+0],f[j+1]))},S.Predictor11=function(u,f,j){var E=f[j+0];return 0>=ut(E>>24&255,u>>24&255,(f=f[j-1])>>24&255)+ut(E>>16&255,u>>16&255,f>>16&255)+ut(E>>8&255,u>>8&255,f>>8&255)+ut(255&E,255&u,255&f)?E:u},S.Predictor12=function(u,f,j){var E=f[j+0];return(Lt((u>>24&255)+(E>>24&255)-((f=f[j-1])>>24&255))<<24|Lt((u>>16&255)+(E>>16&255)-(f>>16&255))<<16|Lt((u>>8&255)+(E>>8&255)-(f>>8&255))<<8|Lt((255&u)+(255&E)-(255&f)))>>>0},S.Predictor13=function(u,f,j){var E=f[j-1];return(dt((u=Xe(u,f[j+0]))>>24&255,E>>24&255)<<24|dt(u>>16&255,E>>16&255)<<16|dt(u>>8&255,E>>8&255)<<8|dt(255&u,255&E))>>>0};var Ra=S.PredictorAdd0;S.PredictorAdd1=Yt,_e("Predictor2","PredictorAdd2"),_e("Predictor3","PredictorAdd3"),_e("Predictor4","PredictorAdd4"),_e("Predictor5","PredictorAdd5"),_e("Predictor6","PredictorAdd6"),_e("Predictor7","PredictorAdd7"),_e("Predictor8","PredictorAdd8"),_e("Predictor9","PredictorAdd9"),_e("Predictor10","PredictorAdd10"),_e("Predictor11","PredictorAdd11"),_e("Predictor12","PredictorAdd12"),_e("Predictor13","PredictorAdd13");var Ma=S.PredictorAdd2;Je("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Je("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var nA,Kc=S.ColorIndexInverseTransform,aA=S.MapARGB,iA=S.VP8LColorIndexInverseTransformAlpha,oo=S.MapAlpha,Ao=S.VP8LPredictorsAdd=[];Ao.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var gi,zc,wn,Ha,ir,lr,Tr,Rr,yi,lA,Oa,Vc,ew,tw,rw,sw,nw,aw,iw,lw,ow,Aw,cw,dw,Gc,uw,hw,mw,fw=i(511),pw=i(2041),xw=i(225),gw=i(767),yw=0,Gf=pw,sh=xw,vn=gw,Gn=fw,nh=0,ah=1,ww=2,ih=3,lh=4,$f=5,vw=6,qf=7,Yf=8,oh=9,Wf=10,b3=[2,3,7],N3=[3,3,11],bw=[280,256,256,256,40],j3=[0,1,1,1,0],B3=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],C3=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],S3=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],E3=8,Jf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],$c=null,F3=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],I3=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Nw=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],k3=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],U3=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Q3=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_3=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],el=[],ha=[],wi=[],L3=1,jw=2,tl=[],$n=[];ua("UpsampleRgbLinePair",xi,3),ua("UpsampleBgrLinePair",tA,3),ua("UpsampleRgbaLinePair",rh,4),ua("UpsampleBgraLinePair",rA,4),ua("UpsampleArgbLinePair",th,4),ua("UpsampleRgba4444LinePair",$s,2),ua("UpsampleRgb565LinePair",Rc,2);var P3=S.UpsampleRgbLinePair,D3=S.UpsampleBgrLinePair,Bw=S.UpsampleRgbaLinePair,Cw=S.UpsampleBgraLinePair,Sw=S.UpsampleArgbLinePair,Ew=S.UpsampleRgba4444LinePair,T3=S.UpsampleRgb565LinePair,Ah=16,ch=1<<Ah-1,qc=-227,Zf=482,Fw=6,R3=(256<<Fw)-1,Iw=0,M3=i(256),H3=i(256),O3=i(256),K3=i(256),z3=i(Zf-qc),V3=i(Zf-qc);Vn("YuvToRgbRow",xi,3),Vn("YuvToBgrRow",tA,3),Vn("YuvToRgbaRow",rh,4),Vn("YuvToBgraRow",rA,4),Vn("YuvToArgbRow",th,4),Vn("YuvToRgba4444Row",$s,2),Vn("YuvToRgb565Row",Rc,2);var kw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],dh=[0,2,8],G3=[8,7,6,4,4,2,2,2,1,1,1,1],$3=1;this.WebPDecodeRGBA=function(u,f,j,E,D){var H=ah,O=new ze,K=new tr;O.ba=K,K.S=H,K.width=[K.width],K.height=[K.height];var q=K.width,Y=K.height,oe=new lt;if(oe==null||u==null)var fe=2;else t(oe!=null),fe=sA(u,f,j,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(fe!=0?q=0:(q!=null&&(q[0]=oe.width[0]),Y!=null&&(Y[0]=oe.height[0]),q=1),q){K.width=K.width[0],K.height=K.height[0],E!=null&&(E[0]=K.width),D!=null&&(D[0]=K.height);e:{if(E=new Yo,(D=new nt).data=u,D.w=f,D.ha=j,D.kd=1,f=[0],t(D!=null),((u=sA(D.data,D.w,D.ha,null,null,null,f,null,D))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(t(O!=null),E.data=D.data,E.w=D.w+D.offset,E.ha=D.ha-D.offset,E.put=rt,E.ac=Qa,E.bc=ci,E.ma=O,D.xa){if((u=Wl())==null){O=1;break e}if(function(W,ce){var he=[0],we=[0],me=[0];t:for(;;){if(W==null)return 0;if(ce==null)return W.a=2,0;if(W.l=ce,W.a=0,X(W.m,ce.data,ce.w,ce.ha),!di(W.m,he,we,me)){W.a=3;break t}if(W.xb=jw,ce.width=he[0],ce.height=we[0],!La(he[0],we[0],1,W,null))break t;return 1}return t(W.a!=0),0}(u,E)){if(E=(f=lo(E.width,E.height,O.Oa,O.ba))==0){t:{E=u;r:for(;;){if(E==null){E=0;break t}if(t(E.s.yc!=null),t(E.s.Ya!=null),t(0<E.s.Wb),t((j=E.l)!=null),t((D=j.ma)!=null),E.xb!=0){if(E.ca=D.ba,E.tb=D.tb,t(E.ca!=null),!sn(D.Oa,j,ih)){E.a=2;break r}if(!Jl(E,j.width)||j.da)break r;if((j.da||mt(E.ca.S))&&io(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&io()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!ee(E.s.vb,E.s.Wa.Xa)){E.a=1;break r}E.xb=0}if(!ca(E,E.V,E.Ba,E.c,E.i,j.o,Gi))break r;D.Dc=E.Ma,E=1;break t}t(E.a!=0),E=0}E=!E}E&&(f=u.a)}else f=u.a}else{if((u=new Ff)==null){O=1;break e}if(u.Fa=D.na,u.P=D.P,u.qc=D.Sa,Ju(u,E)){if((f=lo(E.width,E.height,O.Oa,O.ba))==0){if(u.Aa=0,j=O.Oa,t((D=u)!=null),j!=null){if(0<(q=0>(q=j.Md)?0:100<q?255:255*q/100)){for(Y=oe=0;4>Y;++Y)12>(fe=D.pb[Y]).lc&&(fe.ia=q*G3[0>fe.lc?0:fe.lc]>>3),oe|=fe.ia;oe&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=j.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}(function(W,ce){if(W==null)return 0;if(ce==null)return qr(W,2,"NULL VP8Io parameter in VP8Decode().");if(!W.cb&&!Ju(W,ce))return 0;if(t(W.cb),ce.ac==null||ce.ac(ce)){ce.ob&&(W.L=0);var he=dh[W.L];if(W.L==2?(W.yb=0,W.zb=0):(W.yb=ce.v-he>>4,W.zb=ce.j-he>>4,0>W.yb&&(W.yb=0),0>W.zb&&(W.zb=0)),W.Va=ce.o+15+he>>4,W.Hb=ce.va+15+he>>4,W.Hb>W.za&&(W.Hb=W.za),W.Va>W.Ub&&(W.Va=W.Ub),0<W.L){var we=W.ed;for(he=0;4>he;++he){var me;if(W.Qa.Cb){var ve=W.Qa.Lb[he];W.Qa.Fb||(ve+=we.Tb)}else ve=we.Tb;for(me=0;1>=me;++me){var Ne=W.gd[he][me],Ee=ve;if(we.Pc&&(Ee+=we.vd[0],me&&(Ee+=we.od[0])),0<(Ee=0>Ee?0:63<Ee?63:Ee)){var Be=Ee;0<we.wb&&(Be=4<we.wb?Be>>2:Be>>1)>9-we.wb&&(Be=9-we.wb),1>Be&&(Be=1),Ne.dd=Be,Ne.tc=2*Ee+Be,Ne.ld=40<=Ee?2:15<=Ee?1:0}else Ne.tc=0;Ne.La=me}}}he=0}else qr(W,6,"Frame setup failed"),he=W.a;if(he=he==0){if(he){W.$c=0,0<W.Aa||(W.Ic=$3);t:{he=W.Ic,we=4*(Be=W.za);var Ge=32*Be,Te=Be+1,vt=0<W.L?Be*(0<W.Aa?2:1):0,He=(W.Aa==2?2:1)*Be;if((Ne=we+832+(me=3*(16*he+dh[W.L])/2*Ge)+(ve=W.Fa!=null&&0<W.Fa.length?W.Kc.c*W.Kc.i:0))!=Ne)he=0;else{if(Ne>W.Vb){if(W.Vb=0,W.Ec=i(Ne),W.Fc=0,W.Ec==null){he=qr(W,1,"no memory during frame initialization.");break t}W.Vb=Ne}Ne=W.Ec,Ee=W.Fc,W.Ac=Ne,W.Bc=Ee,Ee+=we,W.Gd=l(Ge,qu),W.Hd=0,W.rb=l(Te+1,Bc),W.sb=1,W.wa=vt?l(vt,zn):null,W.Y=0,W.D.Nb=0,W.D.wa=W.wa,W.D.Y=W.Y,0<W.Aa&&(W.D.Y+=Be),t(!0),W.oc=Ne,W.pc=Ee,Ee+=832,W.ya=l(He,Cc),W.aa=0,W.D.ya=W.ya,W.D.aa=W.aa,W.Aa==2&&(W.D.aa+=Be),W.R=16*Be,W.B=8*Be,Be=(Ge=dh[W.L])*W.R,Ge=Ge/2*W.B,W.sa=Ne,W.ta=Ee+Be,W.qa=W.sa,W.ra=W.ta+16*he*W.R+Ge,W.Ha=W.qa,W.Ia=W.ra+8*he*W.B+Ge,W.$c=0,Ee+=me,W.mb=ve?Ne:null,W.nb=ve?Ee:null,t(Ee+ve<=W.Fc+W.Vb),Xl(W),a(W.Ac,W.Bc,0,we),he=1}}if(he){if(ce.ka=0,ce.y=W.sa,ce.O=W.ta,ce.f=W.qa,ce.N=W.ra,ce.ea=W.Ha,ce.Vd=W.Ia,ce.fa=W.R,ce.Rc=W.B,ce.F=null,ce.J=0,!yw){for(he=-255;255>=he;++he)fw[255+he]=0>he?-he:he;for(he=-1020;1020>=he;++he)pw[1020+he]=-128>he?-128:127<he?127:he;for(he=-112;112>=he;++he)xw[112+he]=-16>he?-16:15<he?15:he;for(he=-255;510>=he;++he)gw[255+he]=0>he?0:255<he?255:he;yw=1}Tr=Zu,Rr=kf,lA=Uf,Oa=Pa,Vc=Xu,yi=If,ew=w,tw=T,rw=ue,sw=be,nw=J,aw=ae,iw=Ce,lw=Me,ow=Lc,Aw=ao,cw=Pc,dw=Dc,ha[0]=Rf,ha[1]=Ec,ha[2]=Df,ha[3]=Tf,ha[4]=Mf,ha[5]=mi,ha[6]=hi,ha[7]=Hf,ha[8]=Wo,ha[9]=Of,el[0]=qi,el[1]=_f,el[2]=Lf,el[3]=Fc,el[4]=Pf,el[5]=to,el[6]=Ic,wi[0]=Xo,wi[1]=Qf,wi[2]=kc,wi[3]=ro,wi[4]=Uc,wi[5]=Kf,wi[6]=Qc,he=1}else he=0}he&&(he=function(Ft,is){for(Ft.M=0;Ft.M<Ft.Va;++Ft.M){var bt,Oe=Ft.Jc[Ft.M&Ft.Xb],ke=Ft.m,Mr=Ft;for(bt=0;bt<Mr.za;++bt){var ft=ke,kt=Mr,ur=kt.Ac,Bs=kt.Bc+4*bt,qs=kt.zc,Er=kt.ya[kt.aa+bt];if(kt.Qa.Bb?Er.$b=Ae(ft,kt.Pa.jb[0])?2+Ae(ft,kt.Pa.jb[2]):Ae(ft,kt.Pa.jb[1]):Er.$b=0,kt.kc&&(Er.Ad=Ae(ft,kt.Bd)),Er.Za=!Ae(ft,145)+0,Er.Za){var Ls=Er.Ob,Ys=0;for(kt=0;4>kt;++kt){var ls,Ut=qs[0+kt];for(ls=0;4>ls;++ls){Ut=U3[ur[Bs+ls]][Ut];for(var zt=Nw[Ae(ft,Ut[0])];0<zt;)zt=Nw[2*zt+Ae(ft,Ut[zt])];Ut=-zt,ur[Bs+ls]=Ut}n(Ls,Ys,ur,Bs,4),Ys+=4,qs[0+kt]=Ut}}else Ut=Ae(ft,156)?Ae(ft,128)?1:3:Ae(ft,163)?2:0,Er.Ob[0]=Ut,a(ur,Bs,Ut,4),a(qs,0,Ut,4);Er.Dd=Ae(ft,142)?Ae(ft,114)?Ae(ft,183)?1:3:2:0}if(Mr.m.Ka)return qr(Ft,7,"Premature end-of-partition0 encountered.");for(;Ft.ja<Ft.za;++Ft.ja){if(Mr=Oe,ft=(ke=Ft).rb[ke.sb-1],ur=ke.rb[ke.sb+ke.ja],bt=ke.ya[ke.aa+ke.ja],Bs=ke.kc?bt.Ad:0)ft.la=ur.la=0,bt.Za||(ft.Na=ur.Na=0),bt.Hc=0,bt.Gc=0,bt.ia=0;else{var Fr,Vt;if(ft=ur,ur=Mr,Bs=ke.Pa.Xc,qs=ke.ya[ke.aa+ke.ja],Er=ke.pb[qs.$b],kt=qs.ad,Ls=0,Ys=ke.rb[ke.sb-1],Ut=ls=0,a(kt,Ls,0,384),qs.Za)var Cs=0,ma=Bs[3];else{zt=i(16);var Hr=ft.Na+Ys.Na;if(Hr=$c(ur,Bs[1],Hr,Er.Eb,0,zt,0),ft.Na=Ys.Na=(0<Hr)+0,1<Hr)Tr(zt,0,kt,Ls);else{var an=zt[0]+3>>3;for(zt=0;256>zt;zt+=16)kt[Ls+zt]=an}Cs=1,ma=Bs[0]}var rr=15&ft.la,os=15&Ys.la;for(zt=0;4>zt;++zt){var bn=1&os;for(an=Vt=0;4>an;++an)rr=rr>>1|(bn=(Hr=$c(ur,ma,Hr=bn+(1&rr),Er.Sc,Cs,kt,Ls))>Cs)<<7,Vt=Vt<<2|(3<Hr?3:1<Hr?2:kt[Ls+0]!=0),Ls+=16;rr>>=4,os=os>>1|bn<<7,ls=(ls<<8|Vt)>>>0}for(ma=rr,Cs=os>>4,Fr=0;4>Fr;Fr+=2){for(Vt=0,rr=ft.la>>4+Fr,os=Ys.la>>4+Fr,zt=0;2>zt;++zt){for(bn=1&os,an=0;2>an;++an)Hr=bn+(1&rr),rr=rr>>1|(bn=0<(Hr=$c(ur,Bs[2],Hr,Er.Qc,0,kt,Ls)))<<3,Vt=Vt<<2|(3<Hr?3:1<Hr?2:kt[Ls+0]!=0),Ls+=16;rr>>=2,os=os>>1|bn<<5}Ut|=Vt<<4*Fr,ma|=rr<<4<<Fr,Cs|=(240&os)<<Fr}ft.la=ma,Ys.la=Cs,qs.Hc=ls,qs.Gc=Ut,qs.ia=43690&Ut?0:Er.ia,Bs=!(ls|Ut)}if(0<ke.L&&(ke.wa[ke.Y+ke.ja]=ke.gd[bt.$b][bt.Za],ke.wa[ke.Y+ke.ja].La|=!Bs),Mr.Ka)return qr(Ft,7,"Premature end-of-file encountered.")}if(Xl(Ft),ke=is,Mr=1,bt=(Oe=Ft).D,ft=0<Oe.L&&Oe.M>=Oe.zb&&Oe.M<=Oe.Va,Oe.Aa==0)t:{if(bt.M=Oe.M,bt.uc=ft,Ji(Oe,bt),Mr=1,bt=(Vt=Oe.D).Nb,ft=(Ut=dh[Oe.L])*Oe.R,ur=Ut/2*Oe.B,zt=16*bt*Oe.R,an=8*bt*Oe.B,Bs=Oe.sa,qs=Oe.ta-ft+zt,Er=Oe.qa,kt=Oe.ra-ur+an,Ls=Oe.Ha,Ys=Oe.Ia-ur+an,os=(rr=Vt.M)==0,ls=rr>=Oe.Va-1,Oe.Aa==2&&Ji(Oe,Vt),Vt.uc)for(bn=(Hr=Oe).D.M,t(Hr.D.uc),Vt=Hr.yb;Vt<Hr.Hb;++Vt){Cs=Vt,ma=bn;var Ws=(Nn=(Ss=Hr).D).Nb;Fr=Ss.R;var Nn=Nn.wa[Nn.Y+Cs],jn=Ss.sa,ln=Ss.ta+16*Ws*Fr+16*Cs,Bn=Nn.dd,or=Nn.tc;if(or!=0)if(t(3<=or),Ss.L==1)0<Cs&&Aw(jn,ln,Fr,or+4),Nn.La&&dw(jn,ln,Fr,or),0<ma&&ow(jn,ln,Fr,or+4),Nn.La&&cw(jn,ln,Fr,or);else{var Cn=Ss.B,fa=Ss.qa,co=Ss.ra+8*Ws*Cn+8*Cs,vi=Ss.Ha,Ss=Ss.Ia+8*Ws*Cn+8*Cs;Ws=Nn.ld,0<Cs&&(tw(jn,ln,Fr,or+4,Bn,Ws),sw(fa,co,vi,Ss,Cn,or+4,Bn,Ws)),Nn.La&&(aw(jn,ln,Fr,or,Bn,Ws),lw(fa,co,vi,Ss,Cn,or,Bn,Ws)),0<ma&&(ew(jn,ln,Fr,or+4,Bn,Ws),rw(fa,co,vi,Ss,Cn,or+4,Bn,Ws)),Nn.La&&(nw(jn,ln,Fr,or,Bn,Ws),iw(fa,co,vi,Ss,Cn,or,Bn,Ws))}}if(Oe.ia&&alert("todo:DitherRow"),ke.put!=null){if(Vt=16*rr,rr=16*(rr+1),os?(ke.y=Oe.sa,ke.O=Oe.ta+zt,ke.f=Oe.qa,ke.N=Oe.ra+an,ke.ea=Oe.Ha,ke.W=Oe.Ia+an):(Vt-=Ut,ke.y=Bs,ke.O=qs,ke.f=Er,ke.N=kt,ke.ea=Ls,ke.W=Ys),ls||(rr-=Ut),rr>ke.o&&(rr=ke.o),ke.F=null,ke.J=null,Oe.Fa!=null&&0<Oe.Fa.length&&Vt<rr&&(ke.J=js(Oe,ke,Vt,rr-Vt),ke.F=Oe.mb,ke.F==null&&ke.F.length==0)){Mr=qr(Oe,3,"Could not decode alpha data.");break t}Vt<ke.j&&(Ut=ke.j-Vt,Vt=ke.j,t(!(1&Ut)),ke.O+=Oe.R*Ut,ke.N+=Oe.B*(Ut>>1),ke.W+=Oe.B*(Ut>>1),ke.F!=null&&(ke.J+=ke.width*Ut)),Vt<rr&&(ke.O+=ke.v,ke.N+=ke.v>>1,ke.W+=ke.v>>1,ke.F!=null&&(ke.J+=ke.v),ke.ka=Vt-ke.j,ke.U=ke.va-ke.v,ke.T=rr-Vt,Mr=ke.put(ke))}bt+1!=Oe.Ic||ls||(n(Oe.sa,Oe.ta-ft,Bs,qs+16*Oe.R,ft),n(Oe.qa,Oe.ra-ur,Er,kt+8*Oe.B,ur),n(Oe.Ha,Oe.Ia-ur,Ls,Ys+8*Oe.B,ur))}if(!Mr)return qr(Ft,6,"Output aborted.")}return 1}(W,ce)),ce.bc!=null&&ce.bc(ce),he&=1}return he?(W.cb=0,he):0})(u,E)||(f=u.a)}}else f=u.a}f==0&&O.Oa!=null&&O.Oa.fd&&(f=nn(O.ba))}O=f}H=O!=0?null:11>H?K.f.RGBA.eb:K.f.kb.y}else H=null;return H};var Uw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,G){for(var L="",P=0;P<4;P++)L+=String.fromCharCode(S[G++]);return L}function d(S,G){return S[G+0]|S[G+1]<<8}function h(S,G){return(S[G+0]|S[G+1]<<8|S[G+2]<<16)>>>0}function p(S,G){return(S[G+0]|S[G+1]<<8|S[G+2]<<16|S[G+3]<<24)>>>0}new A;var m=[0],y=[0],v=[],B=new A,x=e,N=function(S,G){var L={},P=0,F=!1,M=0,Z=0;if(L.frames=[],!function(Q,z){for(var $=0;$<4;$++)if(Q[z+$]!="RIFF".charCodeAt($))return!0;return!1}(S,G)){for(p(S,G+=4),G+=8;G<S.length;){var te=c(S,G),le=p(S,G+=4);G+=4;var R=le+(1&le);switch(te){case"VP8 ":case"VP8L":L.frames[P]===void 0&&(L.frames[P]={}),(re=L.frames[P]).src_off=F?Z:G-8,re.src_size=M+le+8,P++,F&&(F=!1,M=0,Z=0);break;case"VP8X":(re=L.header={}).feature_flags=S[G];var X=G+4;re.canvas_width=1+h(S,X),X+=3,re.canvas_height=1+h(S,X),X+=3;break;case"ALPH":F=!0,M=R+8,Z=G-8;break;case"ANIM":(re=L.header).bgcolor=p(S,G),X=G+4,re.loop_count=d(S,X),X+=2;break;case"ANMF":var se,re;(re=L.frames[P]={}).offset_x=2*h(S,G),G+=3,re.offset_y=2*h(S,G),G+=3,re.width=1+h(S,G),G+=3,re.height=1+h(S,G),G+=3,re.duration=h(S,G),G+=3,se=S[G++],re.dispose=1&se,re.blend=se>>1&1}te!="ANMF"&&(G+=R)}return L}}(x,0);N.response=x,N.rgbaoutput=!0,N.dataurl=!1;var b=N.header?N.header:null,g=N.frames?N.frames:null;if(b){b.loop_counter=b.loop_count,m=[b.canvas_height],y=[b.canvas_width];for(var k=0;k<g.length&&g[k].blend!=0;k++);}var _=g[0],I=B.WebPDecodeRGBA(x,_.src_off,_.src_size,y,m);_.rgba=I,_.imgwidth=y[0],_.imgheight=m[0];for(var U=0;U<y[0]*m[0]*4;U++)v[U]=I[U];return this.width=y,this.height=m,this.data=v,this}(function(e){var t,s,n,a,i,l,o,A,c,d=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new A,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new l,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new l,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,s=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,A=this.internal.Matrix,c=new d}]);var h=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=Q;Object.defineProperty(this,"pdf",{get:function(){return z}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(ye){$=!!ye}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(ye){V=!!ye}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(ye){isNaN(ye)||(ne=ye)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(ye){isNaN(ye)||(de=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var ee;typeof ye=="number"?ee=[ye,ye,ye,ye]:((ee=new Array(4))[0]=ye[0],ee[1]=ye.length>=2?ye[1]:ee[0],ee[2]=ye.length>=3?ye[2]:ee[0],ee[3]=ye.length>=4?ye[3]:ee[1]),c.margin=ee}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(ye){xe=ye}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(ye){ie=ye}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(ye){Ae=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof d&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(ye){ge=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var ee;ee=p(ye),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var ee=p(ye);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var Se=null,Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(ye){Se=null,Qe=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var ee;if(this.ctx.font=ye,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Ct=ee[1];ee[2];var pt=ee[3],Ze=ee[4];ee[5];var Fe=ee[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ze)[2];Ze=Math.floor(qe==="px"?parseFloat(Ze)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(Ze)*this.pdf.getFontSize():parseFloat(Ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ze);var _e=function(st){var Je,ar,Pt=[],Ve=st.trim();if(Ve==="")return Ax;if(Ve in k2)return[k2[Ve]];for(;Ve!=="";){switch(ar=null,Je=(Ve=Q2(Ve)).charAt(0)){case'"':case"'":ar=GL(Ve.substring(1),Je);break;default:ar=$L(Ve)}if(ar===null||(Pt.push(ar[0]),(Ve=Q2(ar[1]))!==""&&Ve.charAt(0)!==","))return Ax;Ve=Ve.replace(/^,/,"")}return Pt}(Fe);if(this.fontFaces){var xt=function(st,Je){if(Se===null){var ar=function(Pt){var Ve=[];return Object.keys(Pt).forEach(function(ht){Pt[ht].forEach(function(er){var tt=null;switch(er){case"bold":tt={family:ht,weight:"bold"};break;case"italic":tt={family:ht,style:"italic"};break;case"bolditalic":tt={family:ht,weight:"bold",style:"italic"};break;case"":case"normal":tt={family:ht}}tt!==null&&(tt.ref={name:ht,style:er},Ve.push(tt))})}),Ve}(st.getFontList());Se=function(Pt){for(var Ve={},ht=0;ht<Pt.length;++ht){var er=ox(Pt[ht]),tt=er.family,Et=er.stretch,mt=er.style,Lr=er.weight;Ve[tt]=Ve[tt]||{},Ve[tt][Et]=Ve[tt][Et]||{},Ve[tt][Et][mt]=Ve[tt][Et][mt]||{},Ve[tt][Et][mt][Lr]=er}return Ve}(ar.concat(Je))}return Se}(this.pdf,this.fontFaces),Xe=_e.map(function(st){return{family:st,stretch:"normal",weight:pt,style:Ct}}),Lt=function(st,Je,ar){for(var Pt=(ar=ar||{}).defaultFontFamily||"times",Ve=Object.assign({},VL,ar.genericFontFamilies||{}),ht=null,er=null,tt=0;tt<Je.length;++tt)if(Ve[(ht=ox(Je[tt])).family]&&(ht.family=Ve[ht.family]),st.hasOwnProperty(ht.family)){er=st[ht.family];break}if(!(er=er||st[Pt]))throw new Error("Could not find a font-family for the rule '"+U2(ht)+"' and default family '"+Pt+"'.");if(er=function(Et,mt){if(mt[Et])return mt[Et];var Lr=Xg[Et],ss=Lr<=Xg.normal?-1:1,tr=I2(mt,oC,Lr,ss);if(!tr)throw new Error("Could not find a matching font-stretch value for "+Et);return tr}(ht.stretch,er),er=function(Et,mt){if(mt[Et])return mt[Et];for(var Lr=lC[Et],ss=0;ss<Lr.length;++ss)if(mt[Lr[ss]])return mt[Lr[ss]];throw new Error("Could not find a matching font-style for "+Et)}(ht.style,er),!(er=function(Et,mt){if(mt[Et])return mt[Et];if(Et===400&&mt[500])return mt[500];if(Et===500&&mt[400])return mt[400];var Lr=zL[Et],ss=I2(mt,AC,Lr,Et<400?-1:1);if(!ss)throw new Error("Could not find a matching font-weight for value "+Et);return ss}(ht.weight,er)))throw new Error("Failed to resolve a font for the rule '"+U2(ht)+"'.");return er}(xt,Xe);this.pdf.setFont(Lt.ref.name,Lt.ref.style)}else{var dt="";(pt==="bold"||parseInt(pt,10)>=700||Ct==="bold")&&(dt="bold"),Ct==="italic"&&(dt+="italic"),dt.length===0&&(dt="normal");for(var ut="",Yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<_e.length;gt++){if(this.pdf.internal.getFont(_e[gt],dt,{noFallback:!0,disableWarning:!0})!==void 0){ut=_e[gt];break}if(dt==="bolditalic"&&this.pdf.internal.getFont(_e[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=_e[gt],dt="bold";else if(this.pdf.internal.getFont(_e[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=_e[gt],dt="normal";break}}if(ut===""){for(var We=0;We<_e.length;We++)if(Yt[_e[We]]){ut=Yt[_e[We]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};h.prototype.setLineDash=function(Q){this.lineDash=Q},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){g.call(this,"fill",!1)},h.prototype.stroke=function(){g.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(Q,z){if(isNaN(Q)||isNaN(z))throw nr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new l(Q,z));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new l(Q,z)},h.prototype.closePath=function(){var Q=new l(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&$t(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){Q=new l(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(Q.x,Q.y)},h.prototype.lineTo=function(Q,z){if(isNaN(Q)||isNaN(z))throw nr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new l(Q,z));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new l($.x,$.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),g.call(this,null,!0)},h.prototype.quadraticCurveTo=function(Q,z,$,V){if(isNaN($)||isNaN(V)||isNaN(Q)||isNaN(z))throw nr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new l($,V)),de=this.ctx.transform.applyToPoint(new l(Q,z));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new l(ne.x,ne.y)},h.prototype.bezierCurveTo=function(Q,z,$,V,ne,de){if(isNaN(ne)||isNaN(de)||isNaN(Q)||isNaN(z)||isNaN($)||isNaN(V))throw nr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new l(ne,de)),ie=this.ctx.transform.applyToPoint(new l(Q,z)),Ae=this.ctx.transform.applyToPoint(new l($,V));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:Ae.x,y2:Ae.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new l(xe.x,xe.y)},h.prototype.arc=function(Q,z,$,V,ne,de){if(isNaN(Q)||isNaN(z)||isNaN($)||isNaN(V)||isNaN(ne))throw nr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new l(Q,z));Q=xe.x,z=xe.y;var ie=this.ctx.transform.applyToPoint(new l(0,$)),Ae=this.ctx.transform.applyToPoint(new l(0,0));$=Math.sqrt(Math.pow(ie.x-Ae.x,2)+Math.pow(ie.y-Ae.y,2))}Math.abs(ne-V)>=2*Math.PI&&(V=0,ne=2*Math.PI),this.path.push({type:"arc",x:Q,y:z,radius:$,startAngle:V,endAngle:ne,counterclockwise:de})},h.prototype.arcTo=function(Q,z,$,V,ne){throw new Error("arcTo not implemented.")},h.prototype.rect=function(Q,z,$,V){if(isNaN(Q)||isNaN(z)||isNaN($)||isNaN(V))throw nr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,z),this.lineTo(Q+$,z),this.lineTo(Q+$,z+V),this.lineTo(Q,z+V),this.lineTo(Q,z),this.lineTo(Q+$,z),this.lineTo(Q,z)},h.prototype.fillRect=function(Q,z,$,V){if(isNaN(Q)||isNaN(z)||isNaN($)||isNaN(V))throw nr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,z,$,V),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},h.prototype.strokeRect=function(Q,z,$,V){if(isNaN(Q)||isNaN(z)||isNaN($)||isNaN(V))throw nr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(Q,z,$,V),this.stroke())},h.prototype.clearRect=function(Q,z,$,V){if(isNaN(Q)||isNaN(z)||isNaN($)||isNaN(V))throw nr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,z,$,V))},h.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},h.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(z),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(Q){var z,$,V,ne;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))z=0,$=0,V=0,ne=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(de!==null)z=parseInt(de[1]),$=parseInt(de[2]),V=parseInt(de[3]),ne=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)z=parseInt(de[1]),$=parseInt(de[2]),V=parseInt(de[3]),ne=parseFloat(de[4]);else{if(ne=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var xe=new eC(Q);Q=xe.ok?xe.toHex():"#000000"}Q.length===4?(z=Q.substring(1,2),z+=z,$=Q.substring(2,3),$+=$,V=Q.substring(3,4),V+=V):(z=Q.substring(1,3),$=Q.substring(3,5),V=Q.substring(5,7)),z=parseInt(z,16),$=parseInt($,16),V=parseInt(V,16)}}return{r:z,g:$,b:V,a:ne,style:Q}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(Q,z,$,V){if(isNaN(z)||isNaN($)||typeof Q!="string")throw nr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!m.call(this)){var ne=R(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;P.call(this,{text:Q,x:z,y:$,scale:de,angle:ne,align:this.textAlign,maxWidth:V})}},h.prototype.strokeText=function(Q,z,$,V){if(isNaN(z)||isNaN($)||typeof Q!="string")throw nr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){V=isNaN(V)?void 0:V;var ne=R(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;P.call(this,{text:Q,x:z,y:$,scale:de,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:V})}},h.prototype.measureText=function(Q){if(typeof Q!="string")throw nr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,$=this.pdf.internal.scaleFactor,V=z.internal.getFontSize(),ne=z.getStringUnitWidth(Q)*V/z.internal.scaleFactor;return new function(de){var xe=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:ne*=Math.round(96*$/72*1e4)/1e4})},h.prototype.scale=function(Q,z){if(isNaN(Q)||isNaN(z))throw nr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new A(Q,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply($)},h.prototype.rotate=function(Q){if(isNaN(Q))throw nr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new A(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},h.prototype.translate=function(Q,z){if(isNaN(Q)||isNaN(z))throw nr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new A(1,0,0,1,Q,z);this.ctx.transform=this.ctx.transform.multiply($)},h.prototype.transform=function(Q,z,$,V,ne,de){if(isNaN(Q)||isNaN(z)||isNaN($)||isNaN(V)||isNaN(ne)||isNaN(de))throw nr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new A(Q,z,$,V,ne,de);this.ctx.transform=this.ctx.transform.multiply(xe)},h.prototype.setTransform=function(Q,z,$,V,ne,de){Q=isNaN(Q)?1:Q,z=isNaN(z)?0:z,$=isNaN($)?0:$,V=isNaN(V)?1:V,ne=isNaN(ne)?0:ne,de=isNaN(de)?0:de,this.ctx.transform=new A(Q,z,$,V,ne,de)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(Q,z,$,V,ne,de,xe,ie,Ae){var ge=this.pdf.getImageProperties(Q),Se=1,Qe=1,ye=1,ee=1;V!==void 0&&ie!==void 0&&(ye=ie/V,ee=Ae/ne,Se=ge.width/V*ie/V,Qe=ge.height/ne*Ae/ne),de===void 0&&(de=z,xe=$,z=0,$=0),V!==void 0&&ie===void 0&&(ie=V,Ae=ne),V===void 0&&ie===void 0&&(ie=ge.width,Ae=ge.height);for(var Ct,pt=this.ctx.transform.decompose(),Ze=R(pt.rotate.shx),Fe=new A,qe=(Fe=(Fe=(Fe=Fe.multiply(pt.translate)).multiply(pt.skew)).multiply(pt.scale)).applyToRectangle(new o(de-z*ye,xe-$*ee,V*Se,ne*Qe)),_e=B.call(this,qe),xt=[],Xe=0;Xe<_e.length;Xe+=1)xt.indexOf(_e[Xe])===-1&&xt.push(_e[Xe]);if(b(xt),this.autoPaging)for(var Lt=xt[0],dt=xt[xt.length-1],ut=Lt;ut<dt+1;ut++){this.pdf.setPage(ut);var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=ut===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=ut===1?0:We+(ut-2)*st;if(this.ctx.clip_path.length!==0){var ar=this.path;Ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Ct,this.posX+this.margin[3],-Je+gt+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=ar}var Pt=JSON.parse(JSON.stringify(qe));Pt=N([Pt],this.posX+this.margin[3],-Je+gt+this.ctx.prevPageLastElemOffset)[0];var Ve=(ut>Lt||ut<dt)&&v.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,st,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Ze),Ve&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Ze)};var B=function(Q,z,$){var V=[];z=z||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":V.push(Math.floor((Q.y+ne)/$)+1);break;case"arc":V.push(Math.floor((Q.y+ne-Q.radius)/$)+1),V.push(Math.floor((Q.y+ne+Q.radius)/$)+1);break;case"qct":var de=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);V.push(Math.floor((de.y+ne)/$)+1),V.push(Math.floor((de.y+de.h+ne)/$)+1);break;case"bct":var xe=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);V.push(Math.floor((xe.y+ne)/$)+1),V.push(Math.floor((xe.y+xe.h+ne)/$)+1);break;case"rect":V.push(Math.floor((Q.y+ne)/$)+1),V.push(Math.floor((Q.y+Q.h+ne)/$)+1)}for(var ie=0;ie<V.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<V[ie];)x.call(this);return V},x=function(){var Q=this.fillStyle,z=this.strokeStyle,$=this.font,V=this.lineCap,ne=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=z,this.font=$,this.lineCap=V,this.lineWidth=ne,this.lineJoin=de},N=function(Q,z,$){for(var V=0;V<Q.length;V++)switch(Q[V].type){case"bct":Q[V].x2+=z,Q[V].y2+=$;case"qct":Q[V].x1+=z,Q[V].y1+=$;default:Q[V].x+=z,Q[V].y+=$}return Q},b=function(Q){return Q.sort(function(z,$){return z-$})},g=function(Q,z){for(var $,V,ne=this.fillStyle,de=this.strokeStyle,xe=this.lineCap,ie=this.lineWidth,Ae=Math.abs(ie*this.ctx.transform.scaleX),ge=this.lineJoin,Se=JSON.parse(JSON.stringify(this.path)),Qe=JSON.parse(JSON.stringify(this.path)),ye=[],ee=0;ee<Qe.length;ee++)if(Qe[ee].x!==void 0)for(var Ct=B.call(this,Qe[ee]),pt=0;pt<Ct.length;pt+=1)ye.indexOf(Ct[pt])===-1&&ye.push(Ct[pt]);for(var Ze=0;Ze<ye.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<ye[Ze];)x.call(this);if(b(ye),this.autoPaging)for(var Fe=ye[0],qe=ye[ye.length-1],_e=Fe;_e<qe+1;_e++){this.pdf.setPage(_e),this.fillStyle=ne,this.strokeStyle=de,this.lineCap=xe,this.lineWidth=Ae,this.lineJoin=ge;var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=_e===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=_e===1?0:Lt+(_e-2)*dt;if(this.ctx.clip_path.length!==0){var Yt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N($,this.posX+this.margin[3],-ut+Xe+this.ctx.prevPageLastElemOffset),k.call(this,Q,!0),this.path=Yt}if(V=JSON.parse(JSON.stringify(Se)),this.path=N(V,this.posX+this.margin[3],-ut+Xe+this.ctx.prevPageLastElemOffset),z===!1||_e===0){var gt=(_e>Fe||_e<qe)&&v.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,dt,null).clip().discardPath()),k.call(this,Q,z),gt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=Ae,k.call(this,Q,z),this.lineWidth=ie;this.path=Se},k=function(Q,z){if((Q!=="stroke"||z||!y.call(this))&&(Q==="stroke"||z||!m.call(this))){for(var $,V,ne=[],de=this.path,xe=0;xe<de.length;xe++){var ie=de[xe];switch(ie.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:ie,deltas:[],abs:[]});break;case"lt":var Ae=ne.length;if(de[xe-1]&&!isNaN(de[xe-1].x)&&($=[ie.x-de[xe-1].x,ie.y-de[xe-1].y],Ae>0)){for(;Ae>=0;Ae--)if(ne[Ae-1].close!==!0&&ne[Ae-1].begin!==!0){ne[Ae-1].deltas.push($),ne[Ae-1].abs.push(ie);break}}break;case"bct":$=[ie.x1-de[xe-1].x,ie.y1-de[xe-1].y,ie.x2-de[xe-1].x,ie.y2-de[xe-1].y,ie.x-de[xe-1].x,ie.y-de[xe-1].y],ne[ne.length-1].deltas.push($);break;case"qct":var ge=de[xe-1].x+2/3*(ie.x1-de[xe-1].x),Se=de[xe-1].y+2/3*(ie.y1-de[xe-1].y),Qe=ie.x+2/3*(ie.x1-ie.x),ye=ie.y+2/3*(ie.y1-ie.y),ee=ie.x,Ct=ie.y;$=[ge-de[xe-1].x,Se-de[xe-1].y,Qe-de[xe-1].x,ye-de[xe-1].y,ee-de[xe-1].x,Ct-de[xe-1].y],ne[ne.length-1].deltas.push($);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(ie)}}V=z?null:Q==="stroke"?"stroke":"fill";for(var pt=!1,Ze=0;Ze<ne.length;Ze++)if(ne[Ze].arc)for(var Fe=ne[Ze].abs,qe=0;qe<Fe.length;qe++){var _e=Fe[qe];_e.type==="arc"?U.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,z,!pt):F.call(this,_e.x,_e.y),pt=!0}else if(ne[Ze].close===!0)this.pdf.internal.out("h"),pt=!1;else if(ne[Ze].begin!==!0){var xt=ne[Ze].start.x,Xe=ne[Ze].start.y;M.call(this,ne[Ze].deltas,xt,Xe),pt=!0}V&&S.call(this,V),z&&G.call(this)}},_=function(Q){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-$;case"top":return Q+z-$;case"hanging":return Q+z-2*$;case"middle":return Q+z/2-$;default:return Q}},I=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(z,$){this.colorStops.push([z,$])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(Q,z,$,V,ne,de,xe,ie,Ae){for(var ge=te.call(this,$,V,ne,de),Se=0;Se<ge.length;Se++){var Qe=ge[Se];Se===0&&(Ae?L.call(this,Qe.x1+Q,Qe.y1+z):F.call(this,Qe.x1+Q,Qe.y1+z)),Z.call(this,Q,z,Qe.x2,Qe.y2,Qe.x3,Qe.y3,Qe.x4,Qe.y4)}ie?G.call(this):S.call(this,xe)},S=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(Q,z){this.pdf.internal.out(s(Q)+" "+n(z)+" m")},P=function(Q){var z;switch(Q.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var $=this.pdf.getTextDimensions(Q.text),V=_.call(this,Q.y),ne=I.call(this,V)-$.h,de=this.ctx.transform.applyToPoint(new l(Q.x,V)),xe=this.ctx.transform.decompose(),ie=new A;ie=(ie=(ie=ie.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var Ae,ge,Se,Qe=this.ctx.transform.applyToRectangle(new o(Q.x,V,$.w,$.h)),ye=ie.applyToRectangle(new o(Q.x,ne,$.w,$.h)),ee=B.call(this,ye),Ct=[],pt=0;pt<ee.length;pt+=1)Ct.indexOf(ee[pt])===-1&&Ct.push(ee[pt]);if(b(Ct),this.autoPaging)for(var Ze=Ct[0],Fe=Ct[Ct.length-1],qe=Ze;qe<Fe+1;qe++){this.pdf.setPage(qe);var _e=qe===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],Lt=Xe-this.margin[0],dt=this.pdf.internal.pageSize.width-this.margin[1],ut=dt-this.margin[3],Yt=qe===1?0:xt+(qe-2)*Lt;if(this.ctx.clip_path.length!==0){var gt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Ae,this.posX+this.margin[3],-1*Yt+_e),k.call(this,"fill",!0),this.path=gt}var We=N([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-Yt+_e+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*Q.scale),Se=this.lineWidth,this.lineWidth=Se*Q.scale);var st=this.autoPaging!=="text";if(st||We.y+We.h<=Xe){if(st||We.y>=_e&&We.x<=dt){var Je=st?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||dt-We.x)[0],ar=N([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-Yt+_e+this.ctx.prevPageLastElemOffset)[0],Pt=st&&(qe>Ze||qe<Fe)&&v.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Lt,null).clip().discardPath()),this.pdf.text(Je,ar.x,ar.y,{angle:Q.angle,align:z,renderingMode:Q.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else We.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-We.y);Q.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=Se)}else Q.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*Q.scale),Se=this.lineWidth,this.lineWidth=Se*Q.scale),this.pdf.text(Q.text,de.x+this.posX,de.y+this.posY,{angle:Q.angle,align:z,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=Se)},F=function(Q,z,$,V){$=$||0,V=V||0,this.pdf.internal.out(s(Q+$)+" "+n(z+V)+" l")},M=function(Q,z,$){return this.pdf.lines(Q,z,$,null,null)},Z=function(Q,z,$,V,ne,de,xe,ie){this.pdf.internal.out([t(a($+Q)),t(i(V+z)),t(a(ne+Q)),t(i(de+z)),t(a(xe+Q)),t(i(ie+z)),"c"].join(" "))},te=function(Q,z,$,V){for(var ne=2*Math.PI,de=Math.PI/2;z>$;)z-=ne;var xe=Math.abs($-z);xe<ne&&V&&(xe=ne-xe);for(var ie=[],Ae=V?-1:1,ge=z;xe>1e-5;){var Se=ge+Ae*Math.min(xe,de);ie.push(le.call(this,Q,ge,Se)),xe-=Math.abs(Se-ge),ge=Se}return ie},le=function(Q,z,$){var V=($-z)/2,ne=Q*Math.cos(V),de=Q*Math.sin(V),xe=ne,ie=-de,Ae=xe*xe+ie*ie,ge=Ae+xe*ne+ie*de,Se=4/3*(Math.sqrt(2*Ae*ge)-ge)/(xe*de-ie*ne),Qe=xe-Se*ie,ye=ie+Se*xe,ee=Qe,Ct=-ye,pt=V+z,Ze=Math.cos(pt),Fe=Math.sin(pt);return{x1:Q*Math.cos(z),y1:Q*Math.sin(z),x2:Qe*Ze-ye*Fe,y2:Qe*Fe+ye*Ze,x3:ee*Ze-Ct*Fe,y3:ee*Fe+Ct*Ze,x4:Q*Math.cos($),y4:Q*Math.sin($)}},R=function(Q){return 180*Q/Math.PI},X=function(Q,z,$,V,ne,de){var xe=Q+.5*($-Q),ie=z+.5*(V-z),Ae=ne+.5*($-ne),ge=de+.5*(V-de),Se=Math.min(Q,ne,xe,Ae),Qe=Math.max(Q,ne,xe,Ae),ye=Math.min(z,de,ie,ge),ee=Math.max(z,de,ie,ge);return new o(Se,ye,Qe-Se,ee-ye)},se=function(Q,z,$,V,ne,de,xe,ie){var Ae,ge,Se,Qe,ye,ee,Ct,pt,Ze,Fe,qe,_e,xt,Xe,Lt=$-Q,dt=V-z,ut=ne-$,Yt=de-V,gt=xe-ne,We=ie-de;for(ge=0;ge<41;ge++)Ze=(Ct=(Se=Q+(Ae=ge/40)*Lt)+Ae*((ye=$+Ae*ut)-Se))+Ae*(ye+Ae*(ne+Ae*gt-ye)-Ct),Fe=(pt=(Qe=z+Ae*dt)+Ae*((ee=V+Ae*Yt)-Qe))+Ae*(ee+Ae*(de+Ae*We-ee)-pt),ge==0?(qe=Ze,_e=Fe,xt=Ze,Xe=Fe):(qe=Math.min(qe,Ze),_e=Math.min(_e,Fe),xt=Math.max(xt,Ze),Xe=Math.max(Xe,Fe));return new o(Math.round(qe),Math.round(_e),Math.round(xt-qe),Math.round(Xe-_e))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,z,$=(Q=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:z}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})($e.API),function(e){var t=function(l){var o,A,c,d,h,p,m,y,v,B;for(A=[],c=0,d=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;d>c;c+=4)(h=(l.charCodeAt(c)<<24)+(l.charCodeAt(c+1)<<16)+(l.charCodeAt(c+2)<<8)+l.charCodeAt(c+3))!==0?(p=(h=((h=((h=((h=(h-(B=h%85))/85)-(v=h%85))/85)-(y=h%85))/85)-(m=h%85))/85)%85,A.push(p+33,m+33,y+33,v+33,B+33)):A.push(122);return function(x,N){for(var b=N;b>0;b--)x.pop()}(A,o.length),String.fromCharCode.apply(String,A)+"~>"},s=function(l){var o,A,c,d,h,p=String,m="length",y=255,v="charCodeAt",B="slice",x="replace";for(l[B](-2),l=l[B](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],d=0,h=(l+=o="uuuuu"[B](l[m]%5||5))[m];h>d;d+=5)A=52200625*(l[v](d)-33)+614125*(l[v](d+1)-33)+7225*(l[v](d+2)-33)+85*(l[v](d+3)-33)+(l[v](d+4)-33),c.push(y&A>>24,y&A>>16,y&A>>8,y&A);return function(N,b){for(var g=b;g>0;g--)N.pop()}(c,o[m]),p.fromCharCode.apply(p,c)},n=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var A="",c=0;c<l.length;c+=2)A+=String.fromCharCode("0x"+(l[c]+l[c+1]));return A},i=function(l){for(var o=new Uint8Array(l.length),A=l.length;A--;)o[A]=l.charCodeAt(A);return(o=Rg(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(l,o){var A=0,c=l||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),A=0;A<o.length;A+=1)switch(o[A]){case"ASCII85Decode":case"/ASCII85Decode":c=s(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=a(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[A]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}($e.API),function(e){e.loadFile=function(t,s,n){return function(a,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=function(A,c,d){var h=new XMLHttpRequest,p=0,m=function(y){var v=y.length,B=[],x=String.fromCharCode;for(p=0;p<v;p+=1)B.push(x(255&y.charCodeAt(p)));return B.join("")};if(h.open("GET",A,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?d(m(this.responseText)):d(void 0)}),h.send(null),c&&h.status===200)return m(h.responseText)}(a,i,l)}catch{}return o}(t,s,n)},e.loadImageFile=e.loadFile}($e.API),function(e){function t(){return(at.html2canvas?Promise.resolve(at.html2canvas):Rd(()=>Promise.resolve().then(()=>DM),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function s(){return(at.DOMPurify?Promise.resolve(at.DOMPurify):Rd(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var A=$t(o);return A==="undefined"?"undefined":A==="string"||o instanceof String?"string":A==="number"||o instanceof Number?"number":A==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":A==="object"?"object":"unknown"},a=function(o,A){var c=document.createElement(o);for(var d in A.className&&(c.className=A.className),A.innerHTML&&A.dompurify&&(c.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)c.style[d]=A.style[d];return c},i=function o(A,c){for(var d=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),h=A.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(o(h,c));return A.nodeType===1&&(A.nodeName==="CANVAS"?(d.width=A.width,d.height=A.height,d.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(d.value=A.value),d.addEventListener("load",function(){d.scrollTop=A.scrollTop,d.scrollLeft=A.scrollLeft},!0)),d},l=function o(A){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return(d=d.setProgress(1,o,1,[o])).set(A)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,A){return o.__proto__=A||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,A){return this.then(function(){switch(A=A||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),A){case"string":return this.then(s).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(A){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,A(this.prop.container,c)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(A){var c=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var y=d[m],v=y.src.find(function(B){return B.format==="truetype"});v&&c.addFont(v.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),A(this.prop.container,p)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,A,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,A):this.outputPdf(o,A)},l.prototype.outputPdf=function(o,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,A)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(n(o)!=="object")return this;var A=Object.keys(o||{}).map(function(c){if(c in l.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(A)})},l.prototype.get=function(o,A){return this.then(function(){var c=o in l.template.prop?this.prop[o]:this.opt[o];return A?A(c):c})},l.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function A(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||$e.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:A(o.inner.width,o.k),height:A(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,A,c,d){return o!=null&&(this.progress.val=o),A!=null&&(this.progress.state=A),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,A,c,d){return this.setProgress(o?this.progress.val+o:null,A||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},l.prototype.then=function(o,A){var c=this;return this.thenCore(o,A,function(d,h){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,d),p}).then(d,h).then(function(p){return c.updateProgress(1),p})})},l.prototype.thenCore=function(o,A,c){c=c||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),A&&(A=A.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:l.convert(Object.assign({},d),Promise.prototype),p=c.call(h,o,A);return l.convert(p,d.__proto__)},l.prototype.thenExternal=function(o,A){return Promise.prototype.then.call(this,o,A)},l.prototype.thenList=function(o){var A=this;return o.forEach(function(c){A=A.thenCore(c)}),A},l.prototype.catch=function(o){o&&(o=o.bind(this));var A=Promise.prototype.catch.call(this,o);return l.convert(A,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,$e.getPageSize=function(o,A,c){if($t(o)==="object"){var d=o;o=d.orientation,A=d.unit||A,c=d.format||c}A=A||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var h,p=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+A}var y,v=0,B=0;if(m.hasOwnProperty(p))v=m[p][1]/h,B=m[p][0]/h;else try{v=c[1],B=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",B>v&&(y=B,B=v,v=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>B&&(y=B,B=v,v=y)}return{width:B,height:v,unit:A,k:h,orientation:o}},e.html=function(o,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(ox):null;var c=new l(A);return A.worker?c:c.from(o).doCallback()}}($e.API),$e.API.addJS=function(e){return L2=e,this.internal.events.subscribe("postPutResources",function(){Yh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Yh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+L2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Yh!==void 0&&_2!==void 0&&this.internal.out("/Names <</JavaScript "+Yh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var s=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=s.outline.render().split(/\r\n/),i=0;i<a.length;i++){var l=a[i],o=n.exec(l);if(o!=null){var A=o[1];s.internal.newObjectDeferredBegin(A,!1)}s.internal.write(l)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(i=0;i<c;i++){var h=s.internal.newObject();d.push(h);var p=s.internal.getPageInfo(i+1);s.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=s.internal.newObject();for(s.internal.write("<< /Names [ "),i=0;i<d.length;i++)s.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");s.internal.write(" ] >>","endobj"),t=s.internal.newObject(),s.internal.write("<< /Dests "+m+" 0 R"),s.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var s=this;s.outline.root.children.length>0&&(s.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&s.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(n,a,i){var l={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(l),l},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(n){n.id=s.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},s.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},s.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var l=n.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var A=s.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},s.outline.line=function(n){this.ctx.val+=n+`\r
`},s.outline.makeRef=function(n){return n.id+" 0 R"},s.outline.makeString=function(n){return"("+s.internal.pdfEscape(n)+")"},s.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}($e.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(s,n,a,i,l,o){var A,c=this.decode.DCT_DECODE,d=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=l||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,A=function(h){for(var p,m=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,v={width:0,height:0,numcomponents:1},B=4;B<y;B+=2){if(B+=m,t.indexOf(h.charCodeAt(B+1))!==-1){p=256*h.charCodeAt(B+5)+h.charCodeAt(B+6),v={width:256*h.charCodeAt(B+7)+h.charCodeAt(B+8),height:p,numcomponents:h.charCodeAt(B+9)};break}m=256*h.charCodeAt(B+2)+h.charCodeAt(B+3)}return v}(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s),A.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:s,width:A.width,height:A.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return d}}($e.API),$e.API.processPNG=function(e,t,s,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=IL(e,{checkCrc:!0}),l=i.width,o=i.height,A=i.channels,c=i.palette,d=i.depth;a=c&&A===1?function(I){for(var U=I.width,S=I.height,G=I.data,L=I.palette,P=I.depth,F=!1,M=[],Z=[],te=void 0,le=!1,R=0,X=0;X<L.length;X++){var se=Fb(L[X],4),re=se[0],Q=se[1],z=se[2],$=se[3];M.push(re,Q,z),$!=null&&($===0?(R++,Z.length<1&&Z.push(X)):$<255&&(le=!0))}if(le||R>1){F=!0,Z=void 0;var V=U*S;te=new Uint8Array(V);for(var ne=new DataView(G.buffer),de=0;de<V;de++){var xe=cx(ne,de,P),ie=Fb(L[xe],4)[3];te[de]=ie}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:G,alphaBytes:te,needSMask:F,palette:M,mask:Z}}(i):A===2||A===4?function(I){for(var U=I.data,S=I.width,G=I.height,L=I.channels,P=I.depth,F=L===2?"DeviceGray":"DeviceRGB",M=L-1,Z=S*G,te=M,le=Z*te,R=1*Z,X=Math.ceil(le*P/8),se=Math.ceil(R*P/8),re=new Uint8Array(X),Q=new Uint8Array(se),z=new DataView(U.buffer),$=new DataView(re.buffer),V=new DataView(Q.buffer),ne=!1,de=0;de<Z;de++){for(var xe=de*L,ie=0;ie<te;ie++)z2($,cx(z,xe+ie,P),de*te+ie,P);var Ae=cx(z,xe+te,P);Ae<(1<<P)-1&&(ne=!0),z2(V,Ae,1*de,P)}return{colorSpace:F,colorsPerPixel:M,colorBytes:re,alphaBytes:Q,needSMask:ne}}(i):function(I){var U=I.data,S=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:S,colorsPerPixel:S==="DeviceGray"?1:3,colorBytes:U instanceof Uint8Array?U:new Uint8Array(U.buffer),needSMask:!1}}(i);var h,p,m,y=a,v=y.colorSpace,B=y.colorsPerPixel,x=y.colorBytes,N=y.alphaBytes,b=y.needSMask,g=y.palette,k=y.mask,_=null;return n!==$e.API.image_compression.NONE&&typeof Rg=="function"?(_=function(I){var U;switch(I){case $e.API.image_compression.FAST:U=11;break;case $e.API.image_compression.MEDIUM:U=13;break;case $e.API.image_compression.SLOW:U=14;break;default:U=12}return U}(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(_," "),e=R2(x,l*B,B,n),b&&(m=R2(N,l,1,n))):(h=void 0,p="",e=x,b&&(m=N)),p+="/Colors ".concat(B," /BitsPerComponent ").concat(d," /Columns ").concat(l),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:s,data:e,index:t,filter:h,decodeParameters:p,transparency:k,palette:g,sMask:m,predictor:_,width:l,height:o,bitsPerComponent:d,colorSpace:v}}},function(e){e.processGIF89A=function(t,s,n,a){var i=new JL(t),l=i.width,o=i.height,A=[];i.decodeAndBlitFrameRGBA(0,A);var c={data:A,width:l,height:o},d=new dx(100).encode(c,100);return e.processJPEG.call(this,d,s,n,a)},e.processGIF87A=e.processGIF89A}($e.API),xa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:s,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(s){nr.log("bit decode error:"+s)}},xa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),s=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var A=this.palette[i>>7-o&1];this.data[l+4*o]=A.blue,this.data[l+4*o+1]=A.green,this.data[l+4*o+2]=A.red,this.data[l+4*o+3]=255}s!==0&&(this.pos+=4-s)}},xa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*a*4,o=i>>4,A=15&i,c=this.palette[o];if(this.data[l]=c.blue,this.data[l+1]=c.green,this.data[l+2]=c.red,this.data[l+3]=255,2*a+1>=this.width)break;c=this.palette[A],this.data[l+4]=c.blue,this.data[l+4+1]=c.green,this.data[l+4+2]=c.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},xa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=s*this.width*4+4*n;if(a<this.palette.length){var l=this.palette[a];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},xa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,A=(i>>10&t)/t*255|0,c=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=A,this.data[d+1]=o,this.data[d+2]=l,this.data[d+3]=c}this.pos+=e}},xa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),s=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,A=(l>>5&s)/s*255|0,c=(l>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=c,this.data[d+1]=A,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},xa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*s;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},xa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=l}},xa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,s,n,a){var i=new xa(t,!1),l=i.width,o=i.height,A={data:i.getData(),width:l,height:o},c=new dx(100).encode(A,100);return e.processJPEG.call(this,c,s,n,a)}}($e.API),G2.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,s,n,a){var i=new G2(t),l=i.width,o=i.height,A={data:i.getData(),width:l,height:o},c=new dx(100).encode(A,100);return e.processJPEG.call(this,c,s,n,a)}}($e.API),$e.API.processRGBA=function(e,t,s){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),l=new Uint8Array(a/4),o=0,A=0,c=0;c<a;c+=4){var d=n[c],h=n[c+1],p=n[c+2],m=n[c+3];i[o++]=d,i[o++]=h,i[o++]=p,l[A++]=m}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:y,index:t,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},$e.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hA=$e.API,Wh=hA.getCharWidthsArray=function(e,t){var s,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,A=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=c.fof?c.fof:1,h=t.doKerning!==!1,p=0,m=e.length,y=0,v=o[0]||A,B=[];for(s=0;s<m;s++)n=e.charCodeAt(s),typeof a.metadata.widthOfString=="function"?B.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+l*(1e3/i)||0)/1e3):(p=h&&$t(c[n])==="object"&&!isNaN(parseInt(c[n][y],10))?c[n][y]/d:0,B.push((o[n]||v)/A+p)),y=n;return B},P2=hA.getStringUnitWidth=function(e,t){var s=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return hA.processArabic&&(e=hA.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,s,a)/s:Wh.apply(this,arguments).reduce(function(i,l){return i+l},0)},D2=function(e,t,s,n){for(var a=[],i=0,l=e.length,o=0;i!==l&&o+t[i]<s;)o+=t[i],i++;a.push(e.slice(0,i));var A=i;for(o=0;i!==l;)o+t[i]>n&&(a.push(e.slice(A,i)),o=0,A=i),o+=t[i],i++;return A!==i&&a.push(e.slice(A,i)),a},T2=function(e,t,s){s||(s={});var n,a,i,l,o,A,c,d=[],h=[d],p=s.textIndent||0,m=0,y=0,v=e.split(" "),B=Wh.apply(this,[" ",s])[0];if(A=s.lineIndent===-1?v[0].length+2:s.lineIndent||0){var x=Array(A).join(" "),N=[];v.map(function(g){(g=g.split(/\s*\n/)).length>1?N=N.concat(g.map(function(k,_){return(_&&k.length?`
`:"")+k})):N.push(g[0])}),v=N,A=P2.apply(this,[x,s])}for(i=0,l=v.length;i<l;i++){var b=0;if(n=v[i],A&&n[0]==`
`&&(n=n.substr(1),b=1),p+m+(y=(a=Wh.apply(this,[n,s])).reduce(function(g,k){return g+k},0))>t||b){if(y>t){for(o=D2.apply(this,[n,a,t-(p+m),t]),d.push(o.shift()),d=[o.pop()];o.length;)h.push([o.shift()]);y=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(g,k){return g+k},0)}else d=[n];h.push(d),p=y+A,m=B}else d.push(n),p+=m+y,m=B}return c=A?function(g,k){return(k?x:"")+g.join(" ")}:function(g){return g.join(" ")},h.map(c)},hA.splitTextToSize=function(e,t,s){var n,a=(s=s||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,s);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/a;i.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=s.lineIndent;var o,A,c=[];for(o=0,A=n.length;o<A;o++)c=c.concat(T2.apply(this,[n[o],l,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",s="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[s[i]]=t[i],a[t[i]]=s[i];var l=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var m,y,v,B,x=["{"];for(var N in p){if(m=p[N],isNaN(parseInt(N,10))?y="'"+N+"'":(N=parseInt(N,10),y=(y=l(N).slice(2)).slice(0,-1)+a[y.slice(-1)]),typeof m=="number")m<0?(v=l(m).slice(3),B="-"):(v=l(m).slice(2),B=""),v=B+v.slice(0,-1)+a[v.slice(-1)];else{if($t(m)!=="object")throw new Error("Don't know what to do with value type "+$t(m)+".");v=o(m)}x.push(y+v)}return x.push("}"),x.join("")},A=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,y,v,B,x={},N=1,b=x,g=[],k="",_="",I=p.length-1,U=1;U<I;U+=1)(B=p[U])=="'"?m?(v=m.join(""),m=void 0):m=[]:m?m.push(B):B=="{"?(g.push([b,v]),b={},v=void 0):B=="}"?((y=g.pop())[0][y[1]]=b,v=void 0,b=y[0]):B=="-"?N=-1:v===void 0?n.hasOwnProperty(B)?(k+=n[B],v=parseInt(k,16)*N,N=1,k=""):k+=B:n.hasOwnProperty(B)?(_+=n[B],b[v]=parseInt(_,16)*N,N=1,v=void 0,_=""):_+=B;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var m=p.font,y=h.Unicode[m.postScriptName];y&&(m.metadata.Unicode={},m.metadata.Unicode.widths=y.widths,m.metadata.Unicode.kerning=y.kerning);var v=d.Unicode[m.postScriptName];v&&(m.metadata.Unicode.encoding=v,m.encoding=v.codePages[0])}])}($e.API),function(e){var t=function(s){for(var n=s.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=s.charCodeAt(i);return a};e.API.events.push(["addFont",function(s){var n=void 0,a=s.font,i=s.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Om(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,n)}}])}($e),$e.API.addSvgAsImage=function(e,t,s,n,a,i,l,o){if(isNaN(t)||isNaN(s))throw nr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw nr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=n,A.height=a;var c=A.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,A.width,A.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(at.canvg?Promise.resolve(at.canvg):Rd(()=>import("./index.es-DubuDdtE.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){h.addImage(A.toDataURL("image/jpeg",1),t,s,n,a,l,o)})},$e.API.putTotalPages=function(e){var t,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),s=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,s);return this},$e.API.viewerPreferences=function(e,t){var s;e=e||{},t=t||!1;var n,a,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),A=[],c=0,d=0,h=0;function p(y,v){var B,x=!1;for(B=0;B<y.length;B+=1)y[B]===v&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=o.length;for(h=0;h<m;h+=1)s[o[h]].value=s[o[h]].defaultValue,s[o[h]].explicitSet=!1}if($t(e)==="object"){for(a in e)if(i=e[a],p(o,a)&&i!==void 0){if(s[a].type==="boolean"&&typeof i=="boolean")s[a].value=i;else if(s[a].type==="name"&&p(s[a].valueSet,i))s[a].value=i;else if(s[a].type==="integer"&&Number.isInteger(i))s[a].value=i;else if(s[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")A.push(String(i[c]-1));else if(i[c].length>1){for(d=0;d<i[c].length;d+=1)typeof i[c][d]!="number"&&(n=!1);n===!0&&A.push([i[c][0]-1,i[c][1]-1].join(" "))}s[a].value="["+A.join(" ")+"]"}else s[a].value=s[a].defaultValue;s[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,v=[];for(y in s)s[y].explicitSet===!0&&(s[y].type==="name"?v.push("/"+y+" /"+s[y].value):v.push("/"+y+" "+s[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+l.length+o.length+a.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+l+o+A),this.internal.write("endstream"),this.internal.write("endobj")},s=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",s),this.internal.events.subscribe("postPutResources",t)),this}}($e.API),function(e){var t=e.API,s=t.pdfEscape16=function(i,l){for(var o,A=l.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],h=0,p=i.length;h<p;++h){if(o=l.metadata.characterToGlyph(i.charCodeAt(h)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=i.charCodeAt(h),A.indexOf(o)==-1&&(A.push(o),A.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(c[4-o.length],o)}return d.join("")},n=function(i){var l,o,A,c,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],h=0,p=(o=Object.keys(i).sort(function(m,y){return m-y})).length;h<p;h++)l=o[h],A.length>=100&&(d+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(c=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),A.push("<"+l+"><"+c+">"));return A.length&&(d+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var o=l.font,A=l.out,c=l.newObject,d=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",y=0;y<p.length;y++)m+=String.fromCharCode(p[y]);var v=c();d({data:m,addLength1:!0,objectId:v}),A("endobj");var B=c();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:B}),A("endobj");var x=c();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+vA(o.fontName)),A("/FontFile2 "+v+" 0 R"),A("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),A("/Flags "+o.metadata.flags),A("/StemV "+o.metadata.stemV),A("/ItalicAngle "+o.metadata.italicAngle),A("/Ascent "+o.metadata.ascender),A("/Descent "+o.metadata.decender),A("/CapHeight "+o.metadata.capHeight),A(">>"),A("endobj");var N=c();A("<<"),A("/Type /Font"),A("/BaseFont /"+vA(o.fontName)),A("/FontDescriptor "+x+" 0 R"),A("/W "+e.API.PDFObject.convert(h)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+o.encoding+")"),A(">>"),A(">>"),A("endobj"),o.objectNumber=c(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+B+" 0 R"),A("/BaseFont /"+vA(o.fontName)),A("/Encoding /"+o.encoding),A("/DescendantFonts ["+N+" 0 R]"),A(">>"),A("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var o=l.font,A=l.out,c=l.newObject,d=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var y=c();d({data:p,addLength1:!0,objectId:y}),A("endobj");var v=c();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),A("endobj");var B=c();A("<<"),A("/Descent "+o.metadata.decender),A("/CapHeight "+o.metadata.capHeight),A("/StemV "+o.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+y+" 0 R"),A("/Flags 96"),A("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),A("/FontName /"+vA(o.fontName)),A("/ItalicAngle "+o.metadata.italicAngle),A("/Ascent "+o.metadata.ascender),A(">>"),A("endobj"),o.objectNumber=c();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+vA(o.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),A("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var l,o=i.text||"",A=i.x,c=i.y,d=i.options||{},h=i.mutex||{},p=h.pdfEscape,m=h.activeFontKey,y=h.fonts,v=m,B="",x=0,N="",b=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:o,x:A,y:c,options:d,mutex:h};for(N=o,v=m,Array.isArray(o)&&(N=o[0]),x=0;x<N.length;x+=1)y[v].metadata.hasOwnProperty("cmap")&&(l=y[v].metadata.cmap.unicode.codeMap[N[x].charCodeAt(0)]),l||N[x].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?B+=N[x]:B+="";var g="";return parseInt(v.slice(1))<14||b==="WinAnsiEncoding"?g=p(B,v).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(g=s(B,y[v])),h.isHex=!0,{text:g,x:A,y:c,options:d,mutex:h}};t.events.push(["postProcessText",function(i){var l=i.text||"",o=[],A={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var c=0;for(c=0;c<l.length;c+=1)Array.isArray(l[c])&&l[c].length===3?o.push([a(Object.assign({},A,{text:l[c][0]})).text,l[c][1],l[c][2]]):o.push(a(Object.assign({},A,{text:l[c]})).text);i.text=o}else i.text=a(Object.assign({},A,{text:l})).text}])}($e),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0},e.addFileToVFS=function(s,n){return t.call(this),this.internal.vFS[s]=n,this},e.getFileFromVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}}($e.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,l,o,A,c,d,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,b=0;this.__bidiEngine__={};var g=function(L){var P=L.charCodeAt(),F=P>>8,M=v[F];return M!==void 0?h[256*M+(255&P)]:F===252||F===253?"AL":x.test(F)?"L":F===8?"R":"N"},k=function(L){for(var P,F=0;F<L.length;F++){if((P=g(L.charAt(F)))==="L")return!1;if(P==="R")return!0}return!1},_=function(L,P,F,M){var Z,te,le,R,X=P[M];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(X="AN");break;case"AL":N=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":M<1||M+1>=P.length||(Z=F[M-1])!=="EN"&&Z!=="AN"||(te=P[M+1])!=="EN"&&te!=="AN"?X="N":N&&(te="AN"),X=te===Z?te:"N";break;case"ES":X=(Z=M>0?F[M-1]:"B")==="EN"&&M+1<P.length&&P[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&F[M-1]==="EN"){X="EN";break}if(N){X="N";break}for(le=M+1,R=P.length;le<R&&P[le]==="ET";)le++;X=le<R&&P[le]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(R=P.length,le=M+1;le<R&&P[le]==="NSM";)le++;if(le<R){var se=L[M],re=se>=1425&&se<=2303||se===64286;if(Z=P[le],re&&(Z==="R"||Z==="AL")){X="R";break}}}X=M<1||(Z=P[M-1])==="B"?"N":F[M-1];break;case"B":N=!1,a=!0,X=b;break;case"S":i=!0,X="N"}return X},I=function(L,P,F){var M=L.split("");return F&&U(M,F,{hiLevel:b}),M.reverse(),P&&P.reverse(),M.join("")},U=function(L,P,F){var M,Z,te,le,R,X=-1,se=L.length,re=0,Q=[],z=b?m:p,$=[];for(N=!1,a=!1,i=!1,Z=0;Z<se;Z++)$[Z]=g(L[Z]);for(te=0;te<se;te++){if(R=re,Q[te]=_(L,$,Q,te),M=240&(re=z[R][y[Q[te]]]),re&=15,P[te]=le=z[re][5],M>0)if(M===16){for(Z=X;Z<te;Z++)P[Z]=1;X=-1}else X=-1;if(z[re][6])X===-1&&(X=te);else if(X>-1){for(Z=X;Z<te;Z++)P[Z]=le;X=-1}$[te]==="B"&&(P[te]=0),F.hiLevel|=le}i&&function(V,ne,de){for(var xe=0;xe<de;xe++)if(V[xe]==="S"){ne[xe]=b;for(var ie=xe-1;ie>=0&&V[ie]==="WS";ie--)ne[ie]=b}}($,P,se)},S=function(L,P,F,M,Z){if(!(Z.hiLevel<L)){if(L===1&&b===1&&!a)return P.reverse(),void(F&&F.reverse());for(var te,le,R,X,se=P.length,re=0;re<se;){if(M[re]>=L){for(R=re+1;R<se&&M[R]>=L;)R++;for(X=re,le=R-1;X<le;X++,le--)te=P[X],P[X]=P[le],P[le]=te,F&&(te=F[X],F[X]=F[le],F[le]=te);re=R}re++}}},G=function(L,P,F){var M=L.split(""),Z={hiLevel:b};return F||(F=[]),U(M,F,Z),function(te,le,R){if(R.hiLevel!==0&&d)for(var X,se=0;se<te.length;se++)le[se]===1&&(X=B.indexOf(te[se]))>=0&&(te[se]=B[X+1])}(M,F,Z),S(2,M,P,F,Z),S(1,M,P,F,Z),M.join("")};return this.__bidiEngine__.doBidiReorder=function(L,P,F){if(function(Z,te){if(te)for(var le=0;le<Z.length;le++)te[le]=le;o===void 0&&(o=k(Z)),c===void 0&&(c=k(Z))}(L,P),l||!A||c)if(l&&A&&o^c)b=o?1:0,L=I(L,P,F);else if(!l&&A&&c)b=o?1:0,L=G(L,P,F),L=I(L,P);else if(!l||o||A||c){if(l&&!A&&o^c)L=I(L,P),o?(b=0,L=G(L,P,F)):(b=1,L=G(L,P,F),L=I(L,P));else if(l&&o&&!A&&c)b=1,L=G(L,P,F),L=I(L,P);else if(!l&&!A&&o^c){var M=d;o?(b=1,L=G(L,P,F),b=0,d=!1,L=G(L,P,F),d=M):(b=0,L=G(L,P,F),L=I(L,P),b=1,d=!1,L=G(L,P,F),d=M,L=I(L,P))}}else b=0,L=G(L,P,F);else b=o?1:0,L=G(L,P,F);return L},this.__bidiEngine__.setOptions=function(L){L&&(l=L.isInputVisual,A=L.isOutputVisual,o=L.isInputRtl,c=L.isOutputRtl,d=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,s.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(l=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?l.push([s.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):l.push([s.doBidiReorder(a[o])]);n.text=l}else n.text=s.doBidiReorder(a);s.setOptions({isInputVisual:!0})}])}($e),$e.API.TTFFont=function(){function e(t){var s;if(this.rawData=t,s=this.contents=new Ol(t),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new uP(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new XL(this.contents),this.head=new eP(this),this.name=new aP(this),this.cmap=new dC(this),this.toUnicode={},this.hhea=new tP(this),this.maxp=new iP(this),this.hmtx=new lP(this),this.post=new sP(this),this.os2=new rP(this),this.loca=new dP(this),this.glyf=new oP(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,s,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,A,c;for(c=[],l=0,o=(A=this.bbox).length;l<o;l++)t=A[l],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(s=a>>16)&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var s;return((s=this.cmap.unicode)!=null?s.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*s},e.prototype.widthOfString=function(t,s,n){var a,i,l,o;for(l=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/s)||0;return l*(s/1e3)},e.prototype.lineHeight=function(t,s){var n;return s==null&&(s=!1),n=s?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ka,Ol=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var s,n;for(n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n[s]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var s,n,a;for(a=[],s=0,n=t.length;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push(this.writeByte(t.charCodeAt(s)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,s,n,a,i,l,o,A;return t=this.readByte(),s=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),A=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^s)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^l)+256*(255^o)+(255^A)+1):72057594037927940*t+281474976710656*s+1099511627776*n+4294967296*a+16777216*i+65536*l+256*o+A},e.prototype.writeLongLong=function(t){var s,n;return s=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var s,n;for(s=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)s.push(this.readByte());return s},e.prototype.write=function(t){var s,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)s=t[n],i.push(this.writeByte(s));return i},e}(),XL=function(){var e;function t(s){var n,a,i;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(s){var n,a,i,l,o,A,c,d,h,p,m,y,v;for(v in m=Object.keys(s).length,A=Math.log(2),h=16*Math.floor(Math.log(m)/A),l=Math.floor(h/A),d=16*m-h,(a=new Ol).writeInt(this.scalarType),a.writeShort(m),a.writeShort(h),a.writeShort(l),a.writeShort(d),i=16*m,c=a.pos+i,o=null,y=[],s)for(p=s[v],a.writeString(v),a.writeInt(e(p)),a.writeInt(c),a.writeInt(p.length),y=y.concat(p),v==="head"&&(o=c),c+=p.length;c%4;)y.push(0),c++;return a.write(y),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(s){var n,a,i,l;for(s=uC.call(s);s.length%4;)s.push(0);for(i=new Ol(s),a=0,n=0,l=s.length;n<l;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),ZL={}.hasOwnProperty,ii=function(e,t){for(var s in t)ZL.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ka=function(){function e(t){var s;this.file=t,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var eP=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ii(e,ka),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var s;return(s=new Ol).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(t),s.writeShort(this.glyphDataFormat),s.data},e}(),$2=function(){function e(t,s){var n,a,i,l,o,A,c,d,h,p,m,y,v,B,x,N,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=s+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=t.readByte();break;case 4:for(m=t.readUInt16(),p=m/2,t.pos+=6,i=function(){var g,k;for(k=[],A=g=0;0<=p?g<p:g>p;A=0<=p?++g:--g)k.push(t.readUInt16());return k}(),t.pos+=2,v=function(){var g,k;for(k=[],A=g=0;0<=p?g<p:g>p;A=0<=p?++g:--g)k.push(t.readUInt16());return k}(),c=function(){var g,k;for(k=[],A=g=0;0<=p?g<p:g>p;A=0<=p?++g:--g)k.push(t.readUInt16());return k}(),d=function(){var g,k;for(k=[],A=g=0;0<=p?g<p:g>p;A=0<=p?++g:--g)k.push(t.readUInt16());return k}(),a=(this.length-t.pos+this.offset)/2,o=function(){var g,k;for(k=[],A=g=0;0<=a?g<a:g>a;A=0<=a?++g:--g)k.push(t.readUInt16());return k}(),A=x=0,b=i.length;x<b;A=++x)for(B=i[A],n=N=y=v[A];y<=B?N<=B:N>=B;n=y<=B?++N:--N)d[A]===0?l=n+c[A]:(l=o[d[A]/2+(n-y)-(p-A)]||0)!==0&&(l+=c[A]),this.codeMap[n]=65535&l}t.pos=h}return e.encode=function(t,s){var n,a,i,l,o,A,c,d,h,p,m,y,v,B,x,N,b,g,k,_,I,U,S,G,L,P,F,M,Z,te,le,R,X,se,re,Q,z,$,V,ne,de,xe,ie,Ae,ge,Se;switch(M=new Ol,l=Object.keys(t).sort(function(Qe,ye){return Qe-ye}),s){case"macroman":for(v=0,B=function(){var Qe=[];for(y=0;y<256;++y)Qe.push(0);return Qe}(),N={0:0},i={},Z=0,X=l.length;Z<X;Z++)N[ie=t[a=l[Z]]]==null&&(N[ie]=++v),i[a]={old:t[a],new:N[t[a]]},B[a]=N[t[a]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(B),{charMap:i,subtable:M.data,maxGlyphID:v+1};case"unicode":for(P=[],h=[],b=0,N={},n={},x=c=null,te=0,se=l.length;te<se;te++)N[k=t[a=l[te]]]==null&&(N[k]=++b),n[a]={old:k,new:N[k]},o=N[k]-a,x!=null&&o===c||(x&&h.push(x),P.push(a),c=o),x=a;for(x&&h.push(x),h.push(65535),P.push(65535),G=2*(S=P.length),U=2*Math.pow(Math.log(S)/Math.LN2,2),p=Math.log(U/2)/Math.LN2,I=2*S-U,A=[],_=[],m=[],y=le=0,re=P.length;le<re;y=++le){if(L=P[y],d=h[y],L===65535){A.push(0),_.push(0);break}if(L-(F=n[L].new)>=32768)for(A.push(0),_.push(2*(m.length+S-y)),a=R=L;L<=d?R<=d:R>=d;a=L<=d?++R:--R)m.push(n[a].new);else A.push(F-L),_.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*S+2*m.length),M.writeUInt16(0),M.writeUInt16(G),M.writeUInt16(U),M.writeUInt16(p),M.writeUInt16(I),de=0,Q=h.length;de<Q;de++)a=h[de],M.writeUInt16(a);for(M.writeUInt16(0),xe=0,z=P.length;xe<z;xe++)a=P[xe],M.writeUInt16(a);for(Ae=0,$=A.length;Ae<$;Ae++)o=A[Ae],M.writeUInt16(o);for(ge=0,V=_.length;ge<V;ge++)g=_[ge],M.writeUInt16(g);for(Se=0,ne=m.length;Se<ne;Se++)v=m[Se],M.writeUInt16(v);return{charMap:n,subtable:M.data,maxGlyphID:b+1}}},e}(),dC=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ii(e,ka),e.prototype.tag="cmap",e.prototype.parse=function(t){var s,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)s=new $2(t,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},e.encode=function(t,s){var n,a;return s==null&&(s="macroman"),n=$2.encode(t,s),(a=new Ol).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),tP=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ii(e,ka),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),rP=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ii(e,ka),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var s,n;for(n=[],s=0;s<10;++s)n.push(t.readByte());return n}(),this.charRange=function(){var s,n;for(n=[],s=0;s<4;++s)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var s,n;for(n=[],s=0;s<2;s=++s)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),sP=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ii(e,ka),e.prototype.tag="post",e.prototype.parse=function(t){var s,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)s=t.readByte(),a.push(this.names.push(t.readString(s)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var l,o,A;for(A=[],i=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;i=0<=o?++l:--l)A.push(t.readUInt32());return A}).call(this)}},e}(),nP=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},aP=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ii(e,ka),e.prototype.tag="name",e.prototype.parse=function(t){var s,n,a,i,l,o,A,c,d,h,p;for(t.pos=this.offset,t.readShort(),s=t.readShort(),o=t.readShort(),n=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(A={},i=d=0,h=n.length;d<h;i=++d)a=n[i],t.pos=a.offset,c=t.readString(a.length),l=new nP(c,a),A[p=a.nameID]==null&&(A[p]=[]),A[a.nameID].push(l);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},e}(),iP=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ii(e,ka),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),lP=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ii(e,ka),e.prototype.tag="hmtx",e.prototype.parse=function(t){var s,n,a,i,l,o,A;for(t.pos=this.offset,this.metrics=[],s=0,o=this.file.hhea.numberOfMetrics;0<=o?s<o:s>o;s=0<=o?++s:--s)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],s=c=0;0<=a?c<a:c>a;s=0<=a?++c:--c)d.push(t.readInt16());return d}(),this.widths=(function(){var c,d,h,p;for(p=[],c=0,d=(h=this.metrics).length;c<d;c++)i=h[c],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],A=[],s=l=0;0<=a?l<a:l>a;s=0<=a?++l:--l)A.push(this.widths.push(n));return A},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),uC=[].slice,oP=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ii(e,ka),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var s,n,a,i,l,o,A,c,d,h;return t in this.cache?this.cache[t]:(i=this.file.loca,s=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(s.pos=this.offset+n,l=(o=new Ol(s.read(a))).readShort(),c=o.readShort(),h=o.readShort(),A=o.readShort(),d=o.readShort(),this.cache[t]=l===-1?new cP(o,c,h,A,d):new AP(o,l,c,h,A,d),this.cache[t]))},e.prototype.encode=function(t,s,n){var a,i,l,o,A;for(l=[],i=[],o=0,A=s.length;o<A;o++)a=t[s[o]],i.push(l.length),a&&(l=l.concat(a.encode(n)));return i.push(l.length),{table:l,offsets:i}},e}(),AP=function(){function e(t,s,n,a,i,l){this.raw=t,this.numberOfContours=s,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),cP=function(){function e(t,s,n,a,i){var l,o;for(this.raw=t,this.xMin=s,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,s,n;for(s=new Ol(uC.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)s.pos=this.glyphOffsets[t];return s.data},e}(),dP=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ii(e,ka),e.prototype.tag="loca",e.prototype.parse=function(t){var s,n;return t.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,s){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,l=0;l<n.length;++l)if(n[l]=a,i<s.length&&s[i]==l){++i,n[l]=a;var o=this.offsets[l],A=this.offsets[l+1]-o;A>0&&(a+=A)}for(var c=new Array(4*n.length),d=0;d<n.length;++d)c[4*d+3]=255&n[d],c[4*d+2]=(65280&n[d])>>8,c[4*d+1]=(16711680&n[d])>>16,c[4*d]=(4278190080&n[d])>>24;return c},e}(),uP=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,s,n,a,i;for(s in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[s],t[s]=a[n];return t},e.prototype.glyphsFor=function(t){var s,n,a,i,l,o,A;for(a={},l=0,o=t.length;l<o;l++)a[i=t[l]]=this.font.glyf.glyphFor(i);for(i in s=[],a)(n=a[i])!=null&&n.compound&&s.push.apply(s,n.glyphIDs);if(s.length>0)for(i in A=this.glyphsFor(s))n=A[i],a[i]=n;return a},e.prototype.encode=function(t,s){var n,a,i,l,o,A,c,d,h,p,m,y,v,B,x;for(a in n=dC.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),m={0:0},x=n.charMap)m[(A=x[a]).old]=A.new;for(y in p=n.maxGlyphID,l)y in m||(m[y]=p++);return d=function(N){var b,g;for(b in g={},N)g[N[b]]=b;return g}(m),h=Object.keys(d).sort(function(N,b){return N-b}),v=function(){var N,b,g;for(g=[],N=0,b=h.length;N<b;N++)o=h[N],g.push(d[o]);return g}(),i=this.font.glyf.encode(l,v,m),c=this.font.loca.encode(i.offsets,v),B={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},e}();$e.API.PDFObject=function(){var e;function t(){}return e=function(s,n){return(Array(n+1).join("0")+s).slice(-n)},t.convert=function(s){var n,a,i,l;if(Array.isArray(s))return"["+function(){var o,A,c;for(c=[],o=0,A=s.length;o<A;o++)n=s[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s!=null&&s.isString)return"("+s+")";if(s instanceof Date)return"(D:"+e(s.getUTCFullYear(),4)+e(s.getUTCMonth(),2)+e(s.getUTCDate(),2)+e(s.getUTCHours(),2)+e(s.getUTCMinutes(),2)+e(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(a in i=["<<"],s)l=s[a],i.push("/"+a+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+s},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Zg=function(e,t){return Zg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,n){s.__proto__=n}||function(s,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])},Zg(e,t)};function Ua(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Zg(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}var ey=function(){return ey=Object.assign||function(t){for(var s,n=1,a=arguments.length;n<a;n++){s=arguments[n];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},ey.apply(this,arguments)};function Js(e,t,s,n){function a(i){return i instanceof s?i:new s(function(l){l(i)})}return new(s||(s=Promise))(function(i,l){function o(d){try{c(n.next(d))}catch(h){l(h)}}function A(d){try{c(n.throw(d))}catch(h){l(h)}}function c(d){d.done?i(d.value):a(d.value).then(o,A)}c((n=n.apply(e,[])).next())})}function Os(e,t){var s={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,l;return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(c){return function(d){return A([c,d])}}function A(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,a=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){s=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(c[0]===6&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(d){c=[6,d],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Jh(e,t,s){if(arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||t)}var Ki=function(){function e(t,s,n,a){this.left=t,this.top=s,this.width=n,this.height=a}return e.prototype.add=function(t,s,n,a){return new e(this.left+t,this.top+s,this.width+n,this.height+a)},e.fromClientRect=function(t,s){return new e(s.left+t.windowBounds.left,s.top+t.windowBounds.top,s.width,s.height)},e.fromDOMRectList=function(t,s){var n=Array.from(s).find(function(a){return a.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),gf=function(e,t){return Ki.fromClientRect(e,t.getBoundingClientRect())},hP=function(e){var t=e.body,s=e.documentElement;if(!t||!s)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,s.scrollWidth),Math.max(t.offsetWidth,s.offsetWidth),Math.max(t.clientWidth,s.clientWidth)),a=Math.max(Math.max(t.scrollHeight,s.scrollHeight),Math.max(t.offsetHeight,s.offsetHeight),Math.max(t.clientHeight,s.clientHeight));return new Ki(0,0,n,a)},yf=function(e){for(var t=[],s=0,n=e.length;s<n;){var a=e.charCodeAt(s++);if(a>=55296&&a<=56319&&s<n){var i=e.charCodeAt(s++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),s--)}else t.push(a)}return t},Kr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var s=e.length;if(!s)return"";for(var n=[],a=-1,i="";++a<s;){var l=e[a];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(a+1===s||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},q2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mP=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xh=0;Xh<q2.length;Xh++)mP[q2.charCodeAt(Xh)]=Xh;var Y2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zh=0;Zh<Y2.length;Zh++)bd[Y2.charCodeAt(Zh)]=Zh;var fP=function(e){var t=e.length*.75,s=e.length,n,a=0,i,l,o,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<s;n+=4)i=bd[e.charCodeAt(n)],l=bd[e.charCodeAt(n+1)],o=bd[e.charCodeAt(n+2)],A=bd[e.charCodeAt(n+3)],d[a++]=i<<2|l>>4,d[a++]=(l&15)<<4|o>>2,d[a++]=(o&3)<<6|A&63;return c},pP=function(e){for(var t=e.length,s=[],n=0;n<t;n+=2)s.push(e[n+1]<<8|e[n]);return s},xP=function(e){for(var t=e.length,s=[],n=0;n<t;n+=4)s.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return s},ko=5,V1=11,ux=2,gP=V1-ko,hC=65536>>ko,yP=1<<ko,hx=yP-1,wP=1024>>ko,vP=hC+wP,bP=vP,NP=32,jP=bP+NP,BP=65536>>V1,CP=1<<gP,SP=CP-1,W2=function(e,t,s){return e.slice?e.slice(t,s):new Uint16Array(Array.prototype.slice.call(e,t,s))},EP=function(e,t,s){return e.slice?e.slice(t,s):new Uint32Array(Array.prototype.slice.call(e,t,s))},FP=function(e,t){var s=fP(e),n=Array.isArray(s)?xP(s):new Uint32Array(s),a=Array.isArray(s)?pP(s):new Uint16Array(s),i=24,l=W2(a,i/2,n[4]/2),o=n[5]===2?W2(a,(i+n[4])/2):EP(n,Math.ceil((i+n[4])/4));return new IP(n[0],n[1],n[2],n[3],l,o)},IP=function(){function e(t,s,n,a,i,l){this.initialValue=t,this.errorValue=s,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=l}return e.prototype.get=function(t){var s;if(t>=0){if(t<55296||t>56319&&t<=65535)return s=this.index[t>>ko],s=(s<<ux)+(t&hx),this.data[s];if(t<=65535)return s=this.index[hC+(t-55296>>ko)],s=(s<<ux)+(t&hx),this.data[s];if(t<this.highStart)return s=jP-BP+(t>>V1),s=this.index[s],s+=t>>ko&SP,s=this.index[s],s=(s<<ux)+(t&hx),this.data[s];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),J2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kP=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var em=0;em<J2.length;em++)kP[J2.charCodeAt(em)]=em;var UP="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",X2=50,QP=1,mC=2,fC=3,_P=4,LP=5,Z2=7,pC=8,eN=9,Nl=10,ty=11,tN=12,ry=13,PP=14,Nd=15,sy=16,tm=17,ud=18,DP=19,rN=20,ny=21,hd=22,mx=23,mA=24,En=25,jd=26,Bd=27,fA=28,TP=29,xo=30,RP=31,rm=32,sm=33,ay=34,iy=35,ly=36,bu=37,oy=38,$m=39,qm=40,fx=41,xC=42,MP=43,HP=[9001,65288],gC="!",St="",nm="",Ay=FP(UP),Ci=[xo,ly],cy=[QP,mC,fC,LP],yC=[Nl,pC],sN=[Bd,jd],OP=cy.concat(yC),nN=[oy,$m,qm,ay,iy],KP=[Nd,ry],zP=function(e,t){t===void 0&&(t="strict");var s=[],n=[],a=[];return e.forEach(function(i,l){var o=Ay.get(i);if(o>X2?(a.push(!0),o-=X2):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(l),s.push(sy);if(o===_P||o===ty){if(l===0)return n.push(l),s.push(xo);var A=s[l-1];return OP.indexOf(A)===-1?(n.push(n[l-1]),s.push(A)):(n.push(l),s.push(xo))}if(n.push(l),o===RP)return s.push(t==="strict"?ny:bu);if(o===xC||o===TP)return s.push(xo);if(o===MP)return i>=131072&&i<=196605||i>=196608&&i<=262141?s.push(bu):s.push(xo);s.push(o)}),[n,s,a]},px=function(e,t,s,n){var a=n[s];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var i=s;i<=n.length;){i++;var l=n[i];if(l===t)return!0;if(l!==Nl)break}if(a===Nl)for(var i=s;i>0;){i--;var o=n[i];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var A=s;A<=n.length;){A++;var l=n[A];if(l===t)return!0;if(l!==Nl)break}if(o!==Nl)break}return!1},aN=function(e,t){for(var s=e;s>=0;){var n=t[s];if(n===Nl)s--;else return n}return 0},VP=function(e,t,s,n,a){if(s[n]===0)return St;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return St;var l=i-1,o=i+1,A=t[i],c=l>=0?t[l]:0,d=t[o];if(A===mC&&d===fC)return St;if(cy.indexOf(A)!==-1)return gC;if(cy.indexOf(d)!==-1||yC.indexOf(d)!==-1)return St;if(aN(i,t)===pC)return nm;if(Ay.get(e[i])===ty||(A===rm||A===sm)&&Ay.get(e[o])===ty||A===Z2||d===Z2||A===eN||[Nl,ry,Nd].indexOf(A)===-1&&d===eN||[tm,ud,DP,mA,fA].indexOf(d)!==-1||aN(i,t)===hd||px(mx,hd,i,t)||px([tm,ud],ny,i,t)||px(tN,tN,i,t))return St;if(A===Nl)return nm;if(A===mx||d===mx)return St;if(d===sy||A===sy)return nm;if([ry,Nd,ny].indexOf(d)!==-1||A===PP||c===ly&&KP.indexOf(A)!==-1||A===fA&&d===ly||d===rN||Ci.indexOf(d)!==-1&&A===En||Ci.indexOf(A)!==-1&&d===En||A===Bd&&[bu,rm,sm].indexOf(d)!==-1||[bu,rm,sm].indexOf(A)!==-1&&d===jd||Ci.indexOf(A)!==-1&&sN.indexOf(d)!==-1||sN.indexOf(A)!==-1&&Ci.indexOf(d)!==-1||[Bd,jd].indexOf(A)!==-1&&(d===En||[hd,Nd].indexOf(d)!==-1&&t[o+1]===En)||[hd,Nd].indexOf(A)!==-1&&d===En||A===En&&[En,fA,mA].indexOf(d)!==-1)return St;if([En,fA,mA,tm,ud].indexOf(d)!==-1)for(var h=i;h>=0;){var p=t[h];if(p===En)return St;if([fA,mA].indexOf(p)!==-1)h--;else break}if([Bd,jd].indexOf(d)!==-1)for(var h=[tm,ud].indexOf(A)!==-1?l:i;h>=0;){var p=t[h];if(p===En)return St;if([fA,mA].indexOf(p)!==-1)h--;else break}if(oy===A&&[oy,$m,ay,iy].indexOf(d)!==-1||[$m,ay].indexOf(A)!==-1&&[$m,qm].indexOf(d)!==-1||[qm,iy].indexOf(A)!==-1&&d===qm||nN.indexOf(A)!==-1&&[rN,jd].indexOf(d)!==-1||nN.indexOf(d)!==-1&&A===Bd||Ci.indexOf(A)!==-1&&Ci.indexOf(d)!==-1||A===mA&&Ci.indexOf(d)!==-1||Ci.concat(En).indexOf(A)!==-1&&d===hd&&HP.indexOf(e[o])===-1||Ci.concat(En).indexOf(d)!==-1&&A===ud)return St;if(A===fx&&d===fx){for(var m=s[i],y=1;m>0&&(m--,t[m]===fx);)y++;if(y%2!==0)return St}return A===rm&&d===sm?St:nm},GP=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var s=zP(e,t.lineBreak),n=s[0],a=s[1],i=s[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(o){return[En,xo,xC].indexOf(o)!==-1?bu:o}));var l=t.wordBreak==="keep-all"?i.map(function(o,A){return o&&e[A]>=19968&&e[A]<=40959}):void 0;return[n,a,l]},$P=function(){function e(t,s,n,a){this.codePoints=t,this.required=s===gC,this.start=n,this.end=a}return e.prototype.slice=function(){return Kr.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),qP=function(e,t){var s=yf(e),n=GP(s,t),a=n[0],i=n[1],l=n[2],o=s.length,A=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var d=St;c<o&&(d=VP(s,i,a,++c,l))===St;);if(d!==St||c===o){var h=new $P(s,d,A,c);return A=c,{value:h,done:!1}}return{done:!0,value:null}}}},YP=1,WP=2,Ou=4,iN=8,I0=10,lN=47,zd=92,JP=9,XP=32,am=34,md=61,ZP=35,eD=36,tD=37,im=39,lm=40,fd=41,rD=95,on=45,sD=33,nD=60,aD=62,iD=64,lD=91,oD=93,AD=61,cD=123,om=63,dD=125,oN=124,uD=126,hD=128,AN=65533,xx=42,Co=43,mD=44,fD=58,pD=59,Nu=46,xD=0,gD=8,yD=11,wD=14,vD=31,bD=127,Ga=-1,wC=48,vC=97,bC=101,ND=102,jD=117,BD=122,NC=65,jC=69,BC=70,CD=85,SD=90,Ks=function(e){return e>=wC&&e<=57},ED=function(e){return e>=55296&&e<=57343},pA=function(e){return Ks(e)||e>=NC&&e<=BC||e>=vC&&e<=ND},FD=function(e){return e>=vC&&e<=BD},ID=function(e){return e>=NC&&e<=SD},kD=function(e){return FD(e)||ID(e)},UD=function(e){return e>=hD},Am=function(e){return e===I0||e===JP||e===XP},k0=function(e){return kD(e)||UD(e)||e===rD},cN=function(e){return k0(e)||Ks(e)||e===on},QD=function(e){return e>=xD&&e<=gD||e===yD||e>=wD&&e<=vD||e===bD},ml=function(e,t){return e!==zd?!1:t!==I0},cm=function(e,t,s){return e===on?k0(t)||ml(t,s):k0(e)?!0:!!(e===zd&&ml(e,t))},gx=function(e,t,s){return e===Co||e===on?Ks(t)?!0:t===Nu&&Ks(s):Ks(e===Nu?t:e)},_D=function(e){var t=0,s=1;(e[t]===Co||e[t]===on)&&(e[t]===on&&(s=-1),t++);for(var n=[];Ks(e[t]);)n.push(e[t++]);var a=n.length?parseInt(Kr.apply(void 0,n),10):0;e[t]===Nu&&t++;for(var i=[];Ks(e[t]);)i.push(e[t++]);var l=i.length,o=l?parseInt(Kr.apply(void 0,i),10):0;(e[t]===jC||e[t]===bC)&&t++;var A=1;(e[t]===Co||e[t]===on)&&(e[t]===on&&(A=-1),t++);for(var c=[];Ks(e[t]);)c.push(e[t++]);var d=c.length?parseInt(Kr.apply(void 0,c),10):0;return s*(a+o*Math.pow(10,-l))*Math.pow(10,A*d)},LD={type:2},PD={type:3},DD={type:4},TD={type:13},RD={type:8},MD={type:21},HD={type:9},OD={type:10},KD={type:11},zD={type:12},VD={type:14},dm={type:23},GD={type:1},$D={type:25},qD={type:24},YD={type:26},WD={type:27},JD={type:28},XD={type:29},ZD={type:31},dy={type:32},CC=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(yf(t))},e.prototype.read=function(){for(var t=[],s=this.consumeToken();s!==dy;)t.push(s),s=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case am:return this.consumeStringToken(am);case ZP:var s=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(cN(s)||ml(n,a)){var i=cm(s,n,a)?WP:YP,l=this.consumeName();return{type:5,value:l,flags:i}}break;case eD:if(this.peekCodePoint(0)===md)return this.consumeCodePoint(),TD;break;case im:return this.consumeStringToken(im);case lm:return LD;case fd:return PD;case xx:if(this.peekCodePoint(0)===md)return this.consumeCodePoint(),VD;break;case Co:if(gx(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case mD:return DD;case on:var o=t,A=this.peekCodePoint(0),c=this.peekCodePoint(1);if(gx(o,A,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(cm(o,A,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(A===on&&c===aD)return this.consumeCodePoint(),this.consumeCodePoint(),qD;break;case Nu:if(gx(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case lN:if(this.peekCodePoint(0)===xx)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===xx&&(d=this.consumeCodePoint(),d===lN))return this.consumeToken();if(d===Ga)return this.consumeToken()}break;case fD:return YD;case pD:return WD;case nD:if(this.peekCodePoint(0)===sD&&this.peekCodePoint(1)===on&&this.peekCodePoint(2)===on)return this.consumeCodePoint(),this.consumeCodePoint(),$D;break;case iD:var h=this.peekCodePoint(0),p=this.peekCodePoint(1),m=this.peekCodePoint(2);if(cm(h,p,m)){var l=this.consumeName();return{type:7,value:l}}break;case lD:return JD;case zd:if(ml(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case oD:return XD;case AD:if(this.peekCodePoint(0)===md)return this.consumeCodePoint(),RD;break;case cD:return KD;case dD:return zD;case jD:case CD:var y=this.peekCodePoint(0),v=this.peekCodePoint(1);return y===Co&&(pA(v)||v===om)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case oN:if(this.peekCodePoint(0)===md)return this.consumeCodePoint(),HD;if(this.peekCodePoint(0)===oN)return this.consumeCodePoint(),MD;break;case uD:if(this.peekCodePoint(0)===md)return this.consumeCodePoint(),OD;break;case Ga:return dy}return Am(t)?(this.consumeWhiteSpace(),ZD):Ks(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):k0(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Kr(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],s=this.consumeCodePoint();pA(s)&&t.length<6;)t.push(s),s=this.consumeCodePoint();for(var n=!1;s===om&&t.length<6;)t.push(s),s=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(Kr.apply(void 0,t.map(function(A){return A===om?wC:A})),16),i=parseInt(Kr.apply(void 0,t.map(function(A){return A===om?BC:A})),16);return{type:30,start:a,end:i}}var l=parseInt(Kr.apply(void 0,t),16);if(this.peekCodePoint(0)===on&&pA(this.peekCodePoint(1))){this.consumeCodePoint(),s=this.consumeCodePoint();for(var o=[];pA(s)&&o.length<6;)o.push(s),s=this.consumeCodePoint();var i=parseInt(Kr.apply(void 0,o),16);return{type:30,start:l,end:i}}else return{type:30,start:l,end:l}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===lm?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===lm?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ga)return{type:22,value:""};var s=this.peekCodePoint(0);if(s===im||s===am){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ga||this.peekCodePoint(0)===fd)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),dm)}for(;;){var a=this.consumeCodePoint();if(a===Ga||a===fd)return{type:22,value:Kr.apply(void 0,t)};if(Am(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ga||this.peekCodePoint(0)===fd?(this.consumeCodePoint(),{type:22,value:Kr.apply(void 0,t)}):(this.consumeBadUrlRemnants(),dm);if(a===am||a===im||a===lm||QD(a))return this.consumeBadUrlRemnants(),dm;if(a===zd)if(ml(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),dm;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;Am(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===fd||t===Ga)return;ml(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var s=5e4,n="";t>0;){var a=Math.min(s,t);n+=Kr.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var s="",n=0;do{var a=this._value[n];if(a===Ga||a===void 0||a===t)return s+=this.consumeStringSlice(n),{type:0,value:s};if(a===I0)return this._value.splice(0,n),GD;if(a===zd){var i=this._value[n+1];i!==Ga&&i!==void 0&&(i===I0?(s+=this.consumeStringSlice(n),n=-1,this._value.shift()):ml(a,i)&&(s+=this.consumeStringSlice(n),s+=Kr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],s=Ou,n=this.peekCodePoint(0);for((n===Co||n===on)&&t.push(this.consumeCodePoint());Ks(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Nu&&Ks(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),s=iN;Ks(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===jC||n===bC)&&((a===Co||a===on)&&Ks(i)||Ks(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),s=iN;Ks(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[_D(t),s]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),s=t[0],n=t[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),l=this.peekCodePoint(2);if(cm(a,i,l)){var o=this.consumeName();return{type:15,number:s,flags:n,unit:o}}return a===tD?(this.consumeCodePoint(),{type:16,number:s,flags:n}):{type:17,number:s,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(pA(t)){for(var s=Kr(t);pA(this.peekCodePoint(0))&&s.length<6;)s+=Kr(this.consumeCodePoint());Am(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(s,16);return n===0||ED(n)||n>1114111?AN:n}return t===Ga?AN:t},e.prototype.consumeName=function(){for(var t="";;){var s=this.consumeCodePoint();if(cN(s))t+=Kr(s);else if(ml(s,this.peekCodePoint(0)))t+=Kr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(s),t}},e}(),SC=function(){function e(t){this._tokens=t}return e.create=function(t){var s=new CC;return s.write(t),new e(s.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var s=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return s;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var s=this.consumeComponentValue();if(s.type===32)return t;t.push(s),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var s={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||tT(n,t))return s;this.reconsumeToken(n),s.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var s={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return s;this.reconsumeToken(n),s.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?dy:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Ku=function(e){return e.type===15},Nc=function(e){return e.type===17},Jt=function(e){return e.type===20},eT=function(e){return e.type===0},uy=function(e,t){return Jt(e)&&e.value===t},EC=function(e){return e.type!==31},cc=function(e){return e.type!==31&&e.type!==4},li=function(e){var t=[],s=[];return e.forEach(function(n){if(n.type===4){if(s.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(s),s=[];return}n.type!==31&&s.push(n)}),s.length&&t.push(s),t},tT=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Kl=function(e){return e.type===17||e.type===15},Xr=function(e){return e.type===16||Kl(e)},FC=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},ks={type:17,number:0,flags:Ou},G1={type:16,number:50,flags:Ou},jl={type:16,number:100,flags:Ou},Cd=function(e,t,s){var n=e[0],a=e[1];return[Ar(n,t),Ar(typeof a<"u"?a:n,s)]},Ar=function(e,t){if(e.type===16)return e.number/100*t;if(Ku(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},IC="deg",kC="grad",UC="rad",QC="turn",wf={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case IC:return Math.PI*t.number/180;case kC:return Math.PI/200*t.number;case UC:return t.number;case QC:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},_C=function(e){return e.type===15&&(e.unit===IC||e.unit===kC||e.unit===UC||e.unit===QC)},LC=function(e){var t=e.filter(Jt).map(function(s){return s.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ks,ks];case"to top":case"bottom":return ta(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ks,jl];case"to right":case"left":return ta(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[jl,jl];case"to bottom":case"top":return ta(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[jl,ks];case"to left":case"right":return ta(270)}return 0},ta=function(e){return Math.PI*e/180},Dl={name:"color",parse:function(e,t){if(t.type===18){var s=rT[t.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return s(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3);return Bl(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3),l=t.value.substring(3,4);return Bl(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(l+l,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6);return Bl(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6),l=t.value.substring(6,8);return Bl(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(l,16)/255)}}if(t.type===20){var o=Pi[t.value.toUpperCase()];if(typeof o<"u")return o}return Pi.TRANSPARENT}},Tl=function(e){return(255&e)===0},xs=function(e){var t=255&e,s=255&e>>8,n=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+n+","+s+","+t/255+")":"rgb("+a+","+n+","+s+")"},Bl=function(e,t,s,n){return(e<<24|t<<16|s<<8|Math.round(n*255)<<0)>>>0},dN=function(e,t){if(e.type===17)return e.number;if(e.type===16){var s=t===3?1:255;return t===3?e.number/100*s:Math.round(e.number/100*s)}return 0},uN=function(e,t){var s=t.filter(cc);if(s.length===3){var n=s.map(dN),a=n[0],i=n[1],l=n[2];return Bl(a,i,l,1)}if(s.length===4){var o=s.map(dN),a=o[0],i=o[1],l=o[2],A=o[3];return Bl(a,i,l,A)}return 0};function yx(e,t,s){return s<0&&(s+=1),s>=1&&(s-=1),s<1/6?(t-e)*s*6+e:s<1/2?t:s<2/3?(t-e)*6*(2/3-s)+e:e}var hN=function(e,t){var s=t.filter(cc),n=s[0],a=s[1],i=s[2],l=s[3],o=(n.type===17?ta(n.number):wf.parse(e,n))/(Math.PI*2),A=Xr(a)?a.number/100:0,c=Xr(i)?i.number/100:0,d=typeof l<"u"&&Xr(l)?Ar(l,1):1;if(A===0)return Bl(c*255,c*255,c*255,1);var h=c<=.5?c*(A+1):c+A-c*A,p=c*2-h,m=yx(p,h,o+1/3),y=yx(p,h,o),v=yx(p,h,o-1/3);return Bl(m*255,y*255,v*255,d)},rT={hsl:hN,hsla:hN,rgb:uN,rgba:uN},Vd=function(e,t){return Dl.parse(e,SC.create(t).parseComponentValue())},Pi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},sT={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(s){if(Jt(s))switch(s.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},nT={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vf=function(e,t){var s=Dl.parse(e,t[0]),n=t[1];return n&&Xr(n)?{color:s,stop:n}:{color:s,stop:null}},mN=function(e,t){var s=e[0],n=e[e.length-1];s.stop===null&&(s.stop=ks),n.stop===null&&(n.stop=jl);for(var a=[],i=0,l=0;l<e.length;l++){var o=e[l].stop;if(o!==null){var A=Ar(o,t);A>i?a.push(A):a.push(i),i=A}else a.push(null)}for(var c=null,l=0;l<a.length;l++){var d=a[l];if(d===null)c===null&&(c=l);else if(c!==null){for(var h=l-c,p=a[c-1],m=(d-p)/(h+1),y=1;y<=h;y++)a[c+y-1]=m*y;c=null}}return e.map(function(v,B){var x=v.color;return{color:x,stop:Math.max(Math.min(1,a[B]/t),0)}})},aT=function(e,t,s){var n=t/2,a=s/2,i=Ar(e[0],t)-n,l=a-Ar(e[1],s);return(Math.atan2(l,i)+Math.PI*2)%(Math.PI*2)},iT=function(e,t,s){var n=typeof e=="number"?e:aT(e,t,s),a=Math.abs(t*Math.sin(n))+Math.abs(s*Math.cos(n)),i=t/2,l=s/2,o=a/2,A=Math.sin(n-Math.PI/2)*o,c=Math.cos(n-Math.PI/2)*o;return[a,i-c,i+c,l-A,l+A]},ga=function(e,t){return Math.sqrt(e*e+t*t)},fN=function(e,t,s,n,a){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(l,o){var A=o[0],c=o[1],d=ga(s-A,n-c);return(a?d<l.optimumDistance:d>l.optimumDistance)?{optimumCorner:o,optimumDistance:d}:l},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},lT=function(e,t,s,n,a){var i=0,l=0;switch(e.size){case 0:e.shape===0?i=l=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(s),Math.abs(s-a)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-n)),l=Math.min(Math.abs(s),Math.abs(s-a)));break;case 2:if(e.shape===0)i=l=Math.min(ga(t,s),ga(t,s-a),ga(t-n,s),ga(t-n,s-a));else if(e.shape===1){var o=Math.min(Math.abs(s),Math.abs(s-a))/Math.min(Math.abs(t),Math.abs(t-n)),A=fN(n,a,t,s,!0),c=A[0],d=A[1];i=ga(c-t,(d-s)/o),l=o*i}break;case 1:e.shape===0?i=l=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(s),Math.abs(s-a)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-n)),l=Math.max(Math.abs(s),Math.abs(s-a)));break;case 3:if(e.shape===0)i=l=Math.max(ga(t,s),ga(t,s-a),ga(t-n,s),ga(t-n,s-a));else if(e.shape===1){var o=Math.max(Math.abs(s),Math.abs(s-a))/Math.max(Math.abs(t),Math.abs(t-n)),h=fN(n,a,t,s,!1),c=h[0],d=h[1];i=ga(c-t,(d-s)/o),l=o*i}break}return Array.isArray(e.size)&&(i=Ar(e.size[0],n),l=e.size.length===2?Ar(e.size[1],a):i),[i,l]},oT=function(e,t){var s=ta(180),n=[];return li(t).forEach(function(a,i){if(i===0){var l=a[0];if(l.type===20&&l.value==="to"){s=LC(a);return}else if(_C(l)){s=wf.parse(e,l);return}}var o=vf(e,a);n.push(o)}),{angle:s,stops:n,type:1}},um=function(e,t){var s=ta(180),n=[];return li(t).forEach(function(a,i){if(i===0){var l=a[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){s=LC(a);return}else if(_C(l)){s=(wf.parse(e,l)+ta(270))%ta(360);return}}var o=vf(e,a);n.push(o)}),{angle:s,stops:n,type:1}},AT=function(e,t){var s=ta(180),n=[],a=1,i=0,l=3,o=[];return li(t).forEach(function(A,c){var d=A[0];if(c===0){if(Jt(d)&&d.value==="linear"){a=1;return}else if(Jt(d)&&d.value==="radial"){a=2;return}}if(d.type===18){if(d.name==="from"){var h=Dl.parse(e,d.values[0]);n.push({stop:ks,color:h})}else if(d.name==="to"){var h=Dl.parse(e,d.values[0]);n.push({stop:jl,color:h})}else if(d.name==="color-stop"){var p=d.values.filter(cc);if(p.length===2){var h=Dl.parse(e,p[1]),m=p[0];Nc(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:h})}}}}),a===1?{angle:(s+ta(180))%ta(360),stops:n,type:a}:{size:l,shape:i,stops:n,position:o,type:a}},PC="closest-side",DC="farthest-side",TC="closest-corner",RC="farthest-corner",MC="circle",HC="ellipse",OC="cover",KC="contain",cT=function(e,t){var s=0,n=3,a=[],i=[];return li(t).forEach(function(l,o){var A=!0;if(o===0){var c=!1;A=l.reduce(function(h,p){if(c)if(Jt(p))switch(p.value){case"center":return i.push(G1),h;case"top":case"left":return i.push(ks),h;case"right":case"bottom":return i.push(jl),h}else(Xr(p)||Kl(p))&&i.push(p);else if(Jt(p))switch(p.value){case MC:return s=0,!1;case HC:return s=1,!1;case"at":return c=!0,!1;case PC:return n=0,!1;case OC:case DC:return n=1,!1;case KC:case TC:return n=2,!1;case RC:return n=3,!1}else if(Kl(p)||Xr(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return h},A)}if(A){var d=vf(e,l);a.push(d)}}),{size:n,shape:s,stops:a,position:i,type:2}},hm=function(e,t){var s=0,n=3,a=[],i=[];return li(t).forEach(function(l,o){var A=!0;if(o===0?A=l.reduce(function(d,h){if(Jt(h))switch(h.value){case"center":return i.push(G1),!1;case"top":case"left":return i.push(ks),!1;case"right":case"bottom":return i.push(jl),!1}else if(Xr(h)||Kl(h))return i.push(h),!1;return d},A):o===1&&(A=l.reduce(function(d,h){if(Jt(h))switch(h.value){case MC:return s=0,!1;case HC:return s=1,!1;case KC:case PC:return n=0,!1;case DC:return n=1,!1;case TC:return n=2,!1;case OC:case RC:return n=3,!1}else if(Kl(h)||Xr(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return d},A)),A){var c=vf(e,l);a.push(c)}}),{size:n,shape:s,stops:a,position:i,type:2}},dT=function(e){return e.type===1},uT=function(e){return e.type===2},$1={name:"image",parse:function(e,t){if(t.type===22){var s={url:t.value,type:0};return e.cache.addImage(t.value),s}if(t.type===18){var n=zC[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function hT(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!zC[e.name])}var zC={"linear-gradient":oT,"-moz-linear-gradient":um,"-ms-linear-gradient":um,"-o-linear-gradient":um,"-webkit-linear-gradient":um,"radial-gradient":cT,"-moz-radial-gradient":hm,"-ms-radial-gradient":hm,"-o-radial-gradient":hm,"-webkit-radial-gradient":hm,"-webkit-gradient":AT},mT={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var s=t[0];return s.type===20&&s.value==="none"?[]:t.filter(function(n){return cc(n)&&hT(n)}).map(function(n){return $1.parse(e,n)})}},fT={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(s){if(Jt(s))switch(s.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},pT={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return li(t).map(function(s){return s.filter(Xr)}).map(FC)}},xT={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return li(t).map(function(s){return s.filter(Jt).map(function(n){return n.value}).join(" ")}).map(gT)}},gT=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},XA;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(XA||(XA={}));var yT={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return li(t).map(function(s){return s.filter(wT)})}},wT=function(e){return Jt(e)||Xr(e)},bf=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},vT=bf("top"),bT=bf("right"),NT=bf("bottom"),jT=bf("left"),Nf=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,s){return FC(s.filter(Xr))}}},BT=Nf("top-left"),CT=Nf("top-right"),ST=Nf("bottom-right"),ET=Nf("bottom-left"),jf=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,s){switch(s){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},FT=jf("top"),IT=jf("right"),kT=jf("bottom"),UT=jf("left"),Bf=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,s){return Ku(s)?s.number:0}}},QT=Bf("top"),_T=Bf("right"),LT=Bf("bottom"),PT=Bf("left"),DT={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},TT={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},RT={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Jt).reduce(function(s,n){return s|MT(n.value)},0)}},MT=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},HT={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},OT={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},U0;(function(e){e.NORMAL="normal",e.STRICT="strict"})(U0||(U0={}));var KT={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return U0.STRICT;case"normal":default:return U0.NORMAL}}},zT={name:"line-height",initialValue:"normal",prefix:!1,type:4},pN=function(e,t){return Jt(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Xr(e)?Ar(e,t):t},VT={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:$1.parse(e,t)}},GT={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},hy={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Cf=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},$T=Cf("top"),qT=Cf("right"),YT=Cf("bottom"),WT=Cf("left"),JT={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Jt).map(function(s){switch(s.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},XT={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Sf=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},ZT=Sf("top"),e7=Sf("right"),t7=Sf("bottom"),r7=Sf("left"),s7={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},n7={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},a7={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&uy(t[0],"none")?[]:li(t).map(function(s){for(var n={color:Pi.TRANSPARENT,offsetX:ks,offsetY:ks,blur:ks},a=0,i=0;i<s.length;i++){var l=s[i];Kl(l)?(a===0?n.offsetX=l:a===1?n.offsetY=l:n.blur=l,a++):n.color=Dl.parse(e,l)}return n})}},i7={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},l7={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var s=c7[t.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return s(t.values)}return null}},o7=function(e){var t=e.filter(function(s){return s.type===17}).map(function(s){return s.number});return t.length===6?t:null},A7=function(e){var t=e.filter(function(A){return A.type===17}).map(function(A){return A.number}),s=t[0],n=t[1];t[2],t[3];var a=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var l=t[12],o=t[13];return t[14],t[15],t.length===16?[s,n,a,i,l,o]:null},c7={matrix:o7,matrix3d:A7},xN={type:16,number:50,flags:Ou},d7=[xN,xN],u7={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var s=t.filter(Xr);return s.length!==2?d7:[s[0],s[1]]}},h7={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Gd;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Gd||(Gd={}));var m7={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Gd.BREAK_ALL;case"keep-all":return Gd.KEEP_ALL;case"normal":default:return Gd.NORMAL}}},f7={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Nc(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},VC={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},p7={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Nc(t)?t.number:1}},x7={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},g7={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Jt).map(function(s){switch(s.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(s){return s!==0})}},y7={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var s=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:s.push(a.value);break;case 17:s.push(a.number.toString());break;case 4:n.push(s.join(" ")),s.length=0;break}}),s.length&&n.push(s.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},w7={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},v7={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Nc(t))return t.number;if(Jt(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},b7={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Jt).map(function(s){return s.value})}},N7={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},cs=function(e,t){return(e&t)!==0},j7={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var s=t[0];return s.type===20&&s.value==="none"?[]:t}},B7={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var s=t[0];if(s.type===20&&s.value==="none")return null;for(var n=[],a=t.filter(EC),i=0;i<a.length;i++){var l=a[i],o=a[i+1];if(l.type===20){var A=o&&Nc(o)?o.number:1;n.push({counter:l.value,increment:A})}}return n}},C7={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var s=[],n=t.filter(EC),a=0;a<n.length;a++){var i=n[a],l=n[a+1];if(Jt(i)&&i.value!=="none"){var o=l&&Nc(l)?l.number:0;s.push({counter:i.value,reset:o})}}return s}},S7={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Ku).map(function(s){return VC.parse(e,s)})}},E7={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var s=t[0];if(s.type===20&&s.value==="none")return null;var n=[],a=t.filter(eT);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var l=a[i].value,o=a[i+1].value;n.push({open:l,close:o})}return n}},gN=function(e,t,s){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?s?n.open:n.close:""},F7={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&uy(t[0],"none")?[]:li(t).map(function(s){for(var n={color:255,offsetX:ks,offsetY:ks,blur:ks,spread:ks,inset:!1},a=0,i=0;i<s.length;i++){var l=s[i];uy(l,"inset")?n.inset=!0:Kl(l)?(a===0?n.offsetX=l:a===1?n.offsetY=l:a===2?n.blur=l:n.spread=l,a++):n.color=Dl.parse(e,l)}return n})}},I7={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var s=[0,1,2],n=[];return t.filter(Jt).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),s.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},k7={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},U7={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Ku(t)?t.number:0}},Q7=function(){function e(t,s){var n,a;this.animationDuration=Pe(t,S7,s.animationDuration),this.backgroundClip=Pe(t,sT,s.backgroundClip),this.backgroundColor=Pe(t,nT,s.backgroundColor),this.backgroundImage=Pe(t,mT,s.backgroundImage),this.backgroundOrigin=Pe(t,fT,s.backgroundOrigin),this.backgroundPosition=Pe(t,pT,s.backgroundPosition),this.backgroundRepeat=Pe(t,xT,s.backgroundRepeat),this.backgroundSize=Pe(t,yT,s.backgroundSize),this.borderTopColor=Pe(t,vT,s.borderTopColor),this.borderRightColor=Pe(t,bT,s.borderRightColor),this.borderBottomColor=Pe(t,NT,s.borderBottomColor),this.borderLeftColor=Pe(t,jT,s.borderLeftColor),this.borderTopLeftRadius=Pe(t,BT,s.borderTopLeftRadius),this.borderTopRightRadius=Pe(t,CT,s.borderTopRightRadius),this.borderBottomRightRadius=Pe(t,ST,s.borderBottomRightRadius),this.borderBottomLeftRadius=Pe(t,ET,s.borderBottomLeftRadius),this.borderTopStyle=Pe(t,FT,s.borderTopStyle),this.borderRightStyle=Pe(t,IT,s.borderRightStyle),this.borderBottomStyle=Pe(t,kT,s.borderBottomStyle),this.borderLeftStyle=Pe(t,UT,s.borderLeftStyle),this.borderTopWidth=Pe(t,QT,s.borderTopWidth),this.borderRightWidth=Pe(t,_T,s.borderRightWidth),this.borderBottomWidth=Pe(t,LT,s.borderBottomWidth),this.borderLeftWidth=Pe(t,PT,s.borderLeftWidth),this.boxShadow=Pe(t,F7,s.boxShadow),this.color=Pe(t,DT,s.color),this.direction=Pe(t,TT,s.direction),this.display=Pe(t,RT,s.display),this.float=Pe(t,HT,s.cssFloat),this.fontFamily=Pe(t,y7,s.fontFamily),this.fontSize=Pe(t,w7,s.fontSize),this.fontStyle=Pe(t,N7,s.fontStyle),this.fontVariant=Pe(t,b7,s.fontVariant),this.fontWeight=Pe(t,v7,s.fontWeight),this.letterSpacing=Pe(t,OT,s.letterSpacing),this.lineBreak=Pe(t,KT,s.lineBreak),this.lineHeight=Pe(t,zT,s.lineHeight),this.listStyleImage=Pe(t,VT,s.listStyleImage),this.listStylePosition=Pe(t,GT,s.listStylePosition),this.listStyleType=Pe(t,hy,s.listStyleType),this.marginTop=Pe(t,$T,s.marginTop),this.marginRight=Pe(t,qT,s.marginRight),this.marginBottom=Pe(t,YT,s.marginBottom),this.marginLeft=Pe(t,WT,s.marginLeft),this.opacity=Pe(t,p7,s.opacity);var i=Pe(t,JT,s.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Pe(t,XT,s.overflowWrap),this.paddingTop=Pe(t,ZT,s.paddingTop),this.paddingRight=Pe(t,e7,s.paddingRight),this.paddingBottom=Pe(t,t7,s.paddingBottom),this.paddingLeft=Pe(t,r7,s.paddingLeft),this.paintOrder=Pe(t,I7,s.paintOrder),this.position=Pe(t,n7,s.position),this.textAlign=Pe(t,s7,s.textAlign),this.textDecorationColor=Pe(t,x7,(n=s.textDecorationColor)!==null&&n!==void 0?n:s.color),this.textDecorationLine=Pe(t,g7,(a=s.textDecorationLine)!==null&&a!==void 0?a:s.textDecoration),this.textShadow=Pe(t,a7,s.textShadow),this.textTransform=Pe(t,i7,s.textTransform),this.transform=Pe(t,l7,s.transform),this.transformOrigin=Pe(t,u7,s.transformOrigin),this.visibility=Pe(t,h7,s.visibility),this.webkitTextStrokeColor=Pe(t,k7,s.webkitTextStrokeColor),this.webkitTextStrokeWidth=Pe(t,U7,s.webkitTextStrokeWidth),this.wordBreak=Pe(t,m7,s.wordBreak),this.zIndex=Pe(t,f7,s.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Tl(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return cs(this.display,4)||cs(this.display,33554432)||cs(this.display,268435456)||cs(this.display,536870912)||cs(this.display,67108864)||cs(this.display,134217728)},e}(),_7=function(){function e(t,s){this.content=Pe(t,j7,s.content),this.quotes=Pe(t,E7,s.quotes)}return e}(),yN=function(){function e(t,s){this.counterIncrement=Pe(t,B7,s.counterIncrement),this.counterReset=Pe(t,C7,s.counterReset)}return e}(),Pe=function(e,t,s){var n=new CC,a=s!==null&&typeof s<"u"?s.toString():t.initialValue;n.write(a);var i=new SC(n.read());switch(t.type){case 2:var l=i.parseComponentValue();return t.parse(e,Jt(l)?l.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return wf.parse(e,i.parseComponentValue());case"color":return Dl.parse(e,i.parseComponentValue());case"image":return $1.parse(e,i.parseComponentValue());case"length":var o=i.parseComponentValue();return Kl(o)?o:ks;case"length-percentage":var A=i.parseComponentValue();return Xr(A)?A:ks;case"time":return VC.parse(e,i.parseComponentValue())}break}},L7="data-html2canvas-debug",P7=function(e){var t=e.getAttribute(L7);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},my=function(e,t){var s=P7(e);return s===1||t===s},oi=function(){function e(t,s){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,my(s,3))debugger;this.styles=new Q7(t,window.getComputedStyle(s,null)),xy(s)&&(this.styles.animationDuration.some(function(n){return n>0})&&(s.style.animationDuration="0s"),this.styles.transform!==null&&(s.style.transform="none")),this.bounds=gf(this.context,s),my(s,4)&&(this.flags|=16)}return e}(),D7="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",wN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mm=0;mm<wN.length;mm++)Sd[wN.charCodeAt(mm)]=mm;var T7=function(e){var t=e.length*.75,s=e.length,n,a=0,i,l,o,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<s;n+=4)i=Sd[e.charCodeAt(n)],l=Sd[e.charCodeAt(n+1)],o=Sd[e.charCodeAt(n+2)],A=Sd[e.charCodeAt(n+3)],d[a++]=i<<2|l>>4,d[a++]=(l&15)<<4|o>>2,d[a++]=(o&3)<<6|A&63;return c},R7=function(e){for(var t=e.length,s=[],n=0;n<t;n+=2)s.push(e[n+1]<<8|e[n]);return s},M7=function(e){for(var t=e.length,s=[],n=0;n<t;n+=4)s.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return s},Uo=5,q1=11,wx=2,H7=q1-Uo,GC=65536>>Uo,O7=1<<Uo,vx=O7-1,K7=1024>>Uo,z7=GC+K7,V7=z7,G7=32,$7=V7+G7,q7=65536>>q1,Y7=1<<H7,W7=Y7-1,vN=function(e,t,s){return e.slice?e.slice(t,s):new Uint16Array(Array.prototype.slice.call(e,t,s))},J7=function(e,t,s){return e.slice?e.slice(t,s):new Uint32Array(Array.prototype.slice.call(e,t,s))},X7=function(e,t){var s=T7(e),n=Array.isArray(s)?M7(s):new Uint32Array(s),a=Array.isArray(s)?R7(s):new Uint16Array(s),i=24,l=vN(a,i/2,n[4]/2),o=n[5]===2?vN(a,(i+n[4])/2):J7(n,Math.ceil((i+n[4])/4));return new Z7(n[0],n[1],n[2],n[3],l,o)},Z7=function(){function e(t,s,n,a,i,l){this.initialValue=t,this.errorValue=s,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=l}return e.prototype.get=function(t){var s;if(t>=0){if(t<55296||t>56319&&t<=65535)return s=this.index[t>>Uo],s=(s<<wx)+(t&vx),this.data[s];if(t<=65535)return s=this.index[GC+(t-55296>>Uo)],s=(s<<wx)+(t&vx),this.data[s];if(t<this.highStart)return s=$7-q7+(t>>q1),s=this.index[s],s+=t>>Uo&W7,s=this.index[s],s=(s<<wx)+(t&vx),this.data[s];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),bN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eR=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fm=0;fm<bN.length;fm++)eR[bN.charCodeAt(fm)]=fm;var tR=1,bx=2,Nx=3,NN=4,jN=5,rR=7,BN=8,jx=9,Bx=10,CN=11,SN=12,EN=13,FN=14,Cx=15,sR=function(e){for(var t=[],s=0,n=e.length;s<n;){var a=e.charCodeAt(s++);if(a>=55296&&a<=56319&&s<n){var i=e.charCodeAt(s++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),s--)}else t.push(a)}return t},nR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var s=e.length;if(!s)return"";for(var n=[],a=-1,i="";++a<s;){var l=e[a];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(a+1===s||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},aR=X7(D7),qn="",Sx="",iR=function(e){return aR.get(e)},lR=function(e,t,s){var n=s-2,a=t[n],i=t[s-1],l=t[s];if(i===bx&&l===Nx)return qn;if(i===bx||i===Nx||i===NN||l===bx||l===Nx||l===NN)return Sx;if(i===BN&&[BN,jx,CN,SN].indexOf(l)!==-1||(i===CN||i===jx)&&(l===jx||l===Bx)||(i===SN||i===Bx)&&l===Bx||l===EN||l===jN||l===rR||i===tR)return qn;if(i===EN&&l===FN){for(;a===jN;)a=t[--n];if(a===FN)return qn}if(i===Cx&&l===Cx){for(var o=0;a===Cx;)o++,a=t[--n];if(o%2===0)return qn}return Sx},oR=function(e){var t=sR(e),s=t.length,n=0,a=0,i=t.map(iR);return{next:function(){if(n>=s)return{done:!0,value:null};for(var l=qn;n<s&&(l=lR(t,i,++n))===qn;);if(l!==qn||n===s){var o=nR.apply(null,t.slice(a,n));return a=n,{value:o,done:!1}}return{done:!0,value:null}}}},AR=function(e){for(var t=oR(e),s=[],n;!(n=t.next()).done;)n.value&&s.push(n.value.slice());return s},cR=function(e){var t=123;if(e.createRange){var s=e.createRange();if(s.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),s.selectNode(n);var a=s.getBoundingClientRect(),i=Math.round(a.height);if(e.body.removeChild(n),i===t)return!0}}return!1},dR=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var s=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=yf(n.data).map(function(A){return Kr(A)}),i=0,l={},o=a.every(function(A,c){s.setStart(n,i),s.setEnd(n,i+A.length);var d=s.getBoundingClientRect();i+=A.length;var h=d.x>l.x||d.y>l.y;return l=d,c===0?!0:h});return e.body.removeChild(t),o},uR=function(){return typeof new Image().crossOrigin<"u"},hR=function(){return typeof new XMLHttpRequest().responseType=="string"},mR=function(e){var t=new Image,s=e.createElement("canvas"),n=s.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),s.toDataURL()}catch{return!1}return!0},IN=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},fR=function(e){var t=e.createElement("canvas"),s=100;t.width=s,t.height=s;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,s,s);var a=new Image,i=t.toDataURL();a.src=i;var l=fy(s,s,0,0,a);return n.fillStyle="red",n.fillRect(0,0,s,s),kN(l).then(function(o){n.drawImage(o,0,0);var A=n.getImageData(0,0,s,s).data;n.fillStyle="red",n.fillRect(0,0,s,s);var c=e.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=s+"px",IN(A)?kN(fy(s,s,0,0,c)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),IN(n.getImageData(0,0,s,s).data)}).catch(function(){return!1})},fy=function(e,t,s,n,a){var i="http://www.w3.org/2000/svg",l=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return l.setAttributeNS(null,"width",e.toString()),l.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",s.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(o),o.appendChild(a),l},kN=function(e){return new Promise(function(t,s){var n=new Image;n.onload=function(){return t(n)},n.onerror=s,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Is={get SUPPORT_RANGE_BOUNDS(){var e=cR(document);return Object.defineProperty(Is,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Is.SUPPORT_RANGE_BOUNDS&&dR(document);return Object.defineProperty(Is,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=mR(document);return Object.defineProperty(Is,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?fR(document):Promise.resolve(!1);return Object.defineProperty(Is,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=uR();return Object.defineProperty(Is,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=hR();return Object.defineProperty(Is,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Is,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Is,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},$d=function(){function e(t,s){this.text=t,this.bounds=s}return e}(),pR=function(e,t,s,n){var a=yR(t,s),i=[],l=0;return a.forEach(function(o){if(s.textDecorationLine.length||o.trim().length>0)if(Is.SUPPORT_RANGE_BOUNDS){var A=UN(n,l,o.length).getClientRects();if(A.length>1){var c=Y1(o),d=0;c.forEach(function(p){i.push(new $d(p,Ki.fromDOMRectList(e,UN(n,d+l,p.length).getClientRects()))),d+=p.length})}else i.push(new $d(o,Ki.fromDOMRectList(e,A)))}else{var h=n.splitText(o.length);i.push(new $d(o,xR(e,n))),n=h}else Is.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));l+=o.length}),i},xR=function(e,t){var s=t.ownerDocument;if(s){var n=s.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var i=gf(e,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return Ki.EMPTY},UN=function(e,t,s){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(e,t),a.setEnd(e,t+s),a},Y1=function(e){if(Is.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(s){return s.segment})}return AR(e)},gR=function(e,t){if(Is.SUPPORT_NATIVE_TEXT_SEGMENTATION){var s=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(s.segment(e)).map(function(n){return n.segment})}return vR(e,t)},yR=function(e,t){return t.letterSpacing!==0?Y1(e):gR(e,t)},wR=[32,160,4961,65792,65793,4153,4241],vR=function(e,t){for(var s=qP(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,i=function(){if(a.value){var l=a.value.slice(),o=yf(l),A="";o.forEach(function(c){wR.indexOf(c)===-1?A+=Kr(c):(A.length&&n.push(A),n.push(Kr(c)),A="")}),A.length&&n.push(A)}};!(a=s.next()).done;)i();return n},bR=function(){function e(t,s,n){this.text=NR(s.data,n.textTransform),this.textBounds=pR(t,this.text,n,s)}return e}(),NR=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(jR,BR);case 2:return e.toUpperCase();default:return e}},jR=/(^|\s|:|-|\(|\))([a-z])/g,BR=function(e,t,s){return e.length>0?t+s.toUpperCase():e},$C=function(e){Ua(t,e);function t(s,n){var a=e.call(this,s,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t}(oi),qC=function(e){Ua(t,e);function t(s,n){var a=e.call(this,s,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t}(oi),YC=function(e){Ua(t,e);function t(s,n){var a=e.call(this,s,n)||this,i=new XMLSerializer,l=gf(s,n);return n.setAttribute("width",l.width+"px"),n.setAttribute("height",l.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t}(oi),WC=function(e){Ua(t,e);function t(s,n){var a=e.call(this,s,n)||this;return a.value=n.value,a}return t}(oi),py=function(e){Ua(t,e);function t(s,n){var a=e.call(this,s,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t}(oi),CR=[{type:15,flags:0,unit:"px",number:3}],SR=[{type:16,flags:0,number:50}],ER=function(e){return e.width>e.height?new Ki(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Ki(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},FR=function(e){var t=e.type===IR?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},Q0="checkbox",_0="radio",IR="password",QN=707406591,W1=function(e){Ua(t,e);function t(s,n){var a=e.call(this,s,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=FR(n),(a.type===Q0||a.type===_0)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=ER(a.bounds)),a.type){case Q0:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=CR;break;case _0:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=SR;break}return a}return t}(oi),JC=function(e){Ua(t,e);function t(s,n){var a=e.call(this,s,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return t}(oi),XC=function(e){Ua(t,e);function t(s,n){var a=e.call(this,s,n)||this;return a.value=n.value,a}return t}(oi),ZC=function(e){Ua(t,e);function t(s,n){var a=e.call(this,s,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=t3(s,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Vd(s,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Pi.TRANSPARENT,l=n.contentWindow.document.body?Vd(s,getComputedStyle(n.contentWindow.document.body).backgroundColor):Pi.TRANSPARENT;a.backgroundColor=Tl(i)?Tl(l)?a.styles.backgroundColor:l:i}}catch{}return a}return t}(oi),kR=["OL","UL","MENU"],Ym=function(e,t,s,n){for(var a=t.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,r3(a)&&a.data.trim().length>0)s.textNodes.push(new bR(e,a,s.styles));else if(RA(a))if(i3(a)&&a.assignedNodes)a.assignedNodes().forEach(function(o){return Ym(e,o,s,n)});else{var l=e3(e,a);l.styles.isVisible()&&(UR(a,l,n)?l.flags|=4:QR(l.styles)&&(l.flags|=2),kR.indexOf(a.tagName)!==-1&&(l.flags|=8),s.elements.push(l),a.slot,a.shadowRoot?Ym(e,a.shadowRoot,l,n):!L0(a)&&!s3(a)&&!P0(a)&&Ym(e,a,l,n))}},e3=function(e,t){return gy(t)?new $C(e,t):n3(t)?new qC(e,t):s3(t)?new YC(e,t):_R(t)?new WC(e,t):LR(t)?new py(e,t):PR(t)?new W1(e,t):P0(t)?new JC(e,t):L0(t)?new XC(e,t):a3(t)?new ZC(e,t):new oi(e,t)},t3=function(e,t){var s=e3(e,t);return s.flags|=4,Ym(e,t,s,s),s},UR=function(e,t,s){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||J1(e)&&s.styles.isTransparent()},QR=function(e){return e.isPositioned()||e.isFloating()},r3=function(e){return e.nodeType===Node.TEXT_NODE},RA=function(e){return e.nodeType===Node.ELEMENT_NODE},xy=function(e){return RA(e)&&typeof e.style<"u"&&!Wm(e)},Wm=function(e){return typeof e.className=="object"},_R=function(e){return e.tagName==="LI"},LR=function(e){return e.tagName==="OL"},PR=function(e){return e.tagName==="INPUT"},DR=function(e){return e.tagName==="HTML"},s3=function(e){return e.tagName==="svg"},J1=function(e){return e.tagName==="BODY"},n3=function(e){return e.tagName==="CANVAS"},_N=function(e){return e.tagName==="VIDEO"},gy=function(e){return e.tagName==="IMG"},a3=function(e){return e.tagName==="IFRAME"},LN=function(e){return e.tagName==="STYLE"},TR=function(e){return e.tagName==="SCRIPT"},L0=function(e){return e.tagName==="TEXTAREA"},P0=function(e){return e.tagName==="SELECT"},i3=function(e){return e.tagName==="SLOT"},PN=function(e){return e.tagName.indexOf("-")>0},RR=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var s=this.counters[t];return s&&s.length?s[s.length-1]:1},e.prototype.getCounterValues=function(t){var s=this.counters[t];return s||[]},e.prototype.pop=function(t){var s=this;t.forEach(function(n){return s.counters[n].pop()})},e.prototype.parse=function(t){var s=this,n=t.counterIncrement,a=t.counterReset,i=!0;n!==null&&n.forEach(function(o){var A=s.counters[o.counter];A&&o.increment!==0&&(i=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=o.increment)});var l=[];return i&&a.forEach(function(o){var A=s.counters[o.counter];l.push(o.counter),A||(A=s.counters[o.counter]=[]),A.push(o.reset)}),l},e}(),DN={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},TN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},MR={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},HR={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},xA=function(e,t,s,n,a,i){return e<t||e>s?ju(e,a,i.length>0):n.integers.reduce(function(l,o,A){for(;e>=o;)e-=o,l+=n.values[A];return l},"")+i},l3=function(e,t,s,n){var a="";do s||e--,a=n(e)+a,e/=t;while(e*t>=t);return a},Or=function(e,t,s,n,a){var i=s-t+1;return(e<0?"-":"")+(l3(Math.abs(e),i,n,function(l){return Kr(Math.floor(l%i)+t)})+a)},uo=function(e,t,s){s===void 0&&(s=". ");var n=t.length;return l3(Math.abs(e),n,!1,function(a){return t[Math.floor(a%n)]})+s},bA=1,cl=2,dl=4,Ed=8,Si=function(e,t,s,n,a,i){if(e<-9999||e>9999)return ju(e,4,a.length>0);var l=Math.abs(e),o=a;if(l===0)return t[0]+o;for(var A=0;l>0&&A<=4;A++){var c=l%10;c===0&&cs(i,bA)&&o!==""?o=t[c]+o:c>1||c===1&&A===0||c===1&&A===1&&cs(i,cl)||c===1&&A===1&&cs(i,dl)&&e>100||c===1&&A>1&&cs(i,Ed)?o=t[c]+(A>0?s[A-1]:"")+o:c===1&&A>0&&(o=s[A-1]+o),l=Math.floor(l/10)}return(e<0?n:"")+o},RN="",MN="",HN="",Ex="",ju=function(e,t,s){var n=s?". ":"",a=s?"":"",i=s?", ":"",l=s?" ":"";switch(t){case 0:return""+l;case 1:return""+l;case 2:return""+l;case 5:var o=Or(e,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return uo(e,"",a);case 6:return xA(e,1,3999,DN,3,n).toLowerCase();case 7:return xA(e,1,3999,DN,3,n);case 8:return Or(e,945,969,!1,n);case 9:return Or(e,97,122,!1,n);case 10:return Or(e,65,90,!1,n);case 11:return Or(e,1632,1641,!0,n);case 12:case 49:return xA(e,1,9999,TN,3,n);case 35:return xA(e,1,9999,TN,3,n).toLowerCase();case 13:return Or(e,2534,2543,!0,n);case 14:case 30:return Or(e,6112,6121,!0,n);case 15:return uo(e,"",a);case 16:return uo(e,"",a);case 17:case 48:return Si(e,"",RN,"",a,cl|dl|Ed);case 47:return Si(e,"",MN,"",a,bA|cl|dl|Ed);case 42:return Si(e,"",RN,"",a,cl|dl|Ed);case 41:return Si(e,"",MN,"",a,bA|cl|dl|Ed);case 26:return Si(e,"","",HN,a,0);case 25:return Si(e,"","",HN,a,bA|cl|dl);case 31:return Si(e,"","",Ex,i,bA|cl|dl);case 33:return Si(e,"","",Ex,i,0);case 32:return Si(e,"","",Ex,i,bA|cl|dl);case 18:return Or(e,2406,2415,!0,n);case 20:return xA(e,1,19999,HR,3,n);case 21:return Or(e,2790,2799,!0,n);case 22:return Or(e,2662,2671,!0,n);case 22:return xA(e,1,10999,MR,3,n);case 23:return uo(e,"");case 24:return uo(e,"");case 27:return Or(e,3302,3311,!0,n);case 28:return uo(e,"",a);case 29:return uo(e,"",a);case 34:return Or(e,3792,3801,!0,n);case 37:return Or(e,6160,6169,!0,n);case 38:return Or(e,4160,4169,!0,n);case 39:return Or(e,2918,2927,!0,n);case 40:return Or(e,1776,1785,!0,n);case 43:return Or(e,3046,3055,!0,n);case 44:return Or(e,3174,3183,!0,n);case 45:return Or(e,3664,3673,!0,n);case 46:return Or(e,3872,3881,!0,n);case 3:default:return Or(e,48,57,!0,n)}},o3="data-html2canvas-ignore",ON=function(){function e(t,s,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=s,this.counters=new RR,this.quoteDepth=0,!s.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(s.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,s){var n=this,a=OR(t,s);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,l=t.defaultView.pageYOffset,o=a.contentWindow,A=o.document,c=VR(a).then(function(){return Js(n,void 0,void 0,function(){var d,h;return Os(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(YR),o&&(o.scrollTo(s.left,s.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==s.top||o.scrollX!==s.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-s.left,o.scrollY-s.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,zR(A)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(A,h)}).then(function(){return a})]:[2,a]}})})});return A.open(),A.write($R(document.doctype)+"<html></html>"),qR(this.referenceElement.ownerDocument,i,l),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},e.prototype.createElementClone=function(t){if(my(t,2))debugger;if(n3(t))return this.createCanvasClone(t);if(_N(t))return this.createVideoClone(t);if(LN(t))return this.createStyleClone(t);var s=t.cloneNode(!1);return gy(s)&&(gy(t)&&t.currentSrc&&t.currentSrc!==t.src&&(s.src=t.currentSrc,s.srcset=""),s.loading==="lazy"&&(s.loading="eager")),PN(s)?this.createCustomElementClone(s):s},e.prototype.createCustomElementClone=function(t){var s=document.createElement("html2canvascustomelement");return Fx(t.style,s),s},e.prototype.createStyleClone=function(t){try{var s=t.sheet;if(s&&s.cssRules){var n=[].slice.call(s.cssRules,0).reduce(function(i,l){return l&&typeof l.cssText=="string"?i+l.cssText:i},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var s;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var i=t.getContext("2d"),l=a.getContext("2d");if(l)if(!this.options.allowTaint&&i)l.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var o=(s=t.getContext("webgl2"))!==null&&s!==void 0?s:t.getContext("webgl");if(o){var A=o.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}l.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var s=t.ownerDocument.createElement("canvas");s.width=t.offsetWidth,s.height=t.offsetHeight;var n=s.getContext("2d");try{return n&&(n.drawImage(t,0,0,s.width,s.height),this.options.allowTaint||n.getImageData(0,0,s.width,s.height)),s}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,s,n){(!RA(s)||!TR(s)&&!s.hasAttribute(o3)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(s)))&&(!this.options.copyStyles||!RA(s)||!LN(s))&&t.appendChild(this.cloneNode(s,n))},e.prototype.cloneChildNodes=function(t,s,n){for(var a=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(RA(i)&&i3(i)&&typeof i.assignedNodes=="function"){var l=i.assignedNodes();l.length&&l.forEach(function(o){return a.appendChildNode(s,o,n)})}else this.appendChildNode(s,i,n)},e.prototype.cloneNode=function(t,s){if(r3(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&RA(t)&&(xy(t)||Wm(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var i=n.getComputedStyle(t),l=n.getComputedStyle(t,":before"),o=n.getComputedStyle(t,":after");this.referenceElement===t&&xy(a)&&(this.clonedReferenceElement=a),J1(a)&&XR(a);var A=this.counters.parse(new yN(this.context,i)),c=this.resolvePseudoContent(t,a,l,qd.BEFORE);PN(t)&&(s=!0),_N(t)||this.cloneChildNodes(t,a,s),c&&a.insertBefore(c,a.firstChild);var d=this.resolvePseudoContent(t,a,o,qd.AFTER);return d&&a.appendChild(d),this.counters.pop(A),(i&&(this.options.copyStyles||Wm(t))&&!a3(t)||s)&&Fx(i,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(L0(t)||P0(t))&&(L0(a)||P0(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,s,n,a){var i=this;if(n){var l=n.content,o=s.ownerDocument;if(!(!o||!l||l==="none"||l==="-moz-alt-content"||n.display==="none")){this.counters.parse(new yN(this.context,n));var A=new _7(this.context,n),c=o.createElement("html2canvaspseudoelement");Fx(n,c),A.content.forEach(function(h){if(h.type===0)c.appendChild(o.createTextNode(h.value));else if(h.type===22){var p=o.createElement("img");p.src=h.value,p.style.opacity="1",c.appendChild(p)}else if(h.type===18){if(h.name==="attr"){var m=h.values.filter(Jt);m.length&&c.appendChild(o.createTextNode(t.getAttribute(m[0].value)||""))}else if(h.name==="counter"){var y=h.values.filter(cc),v=y[0],B=y[1];if(v&&Jt(v)){var x=i.counters.getCounterValue(v.value),N=B&&Jt(B)?hy.parse(i.context,B.value):3;c.appendChild(o.createTextNode(ju(x,N,!1)))}}else if(h.name==="counters"){var b=h.values.filter(cc),v=b[0],g=b[1],B=b[2];if(v&&Jt(v)){var k=i.counters.getCounterValues(v.value),_=B&&Jt(B)?hy.parse(i.context,B.value):3,I=g&&g.type===0?g.value:"",U=k.map(function(L){return ju(L,_,!1)}).join(I);c.appendChild(o.createTextNode(U))}}}else if(h.type===20)switch(h.value){case"open-quote":c.appendChild(o.createTextNode(gN(A.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(gN(A.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(h.value))}}),c.className=yy+" "+wy;var d=a===qd.BEFORE?" "+yy:" "+wy;return Wm(s)?s.className.baseValue+=d:s.className+=d,c}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),qd;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(qd||(qd={}));var OR=function(e,t){var s=e.createElement("iframe");return s.className="html2canvas-container",s.style.visibility="hidden",s.style.position="fixed",s.style.left="-10000px",s.style.top="0px",s.style.border="0",s.width=t.width.toString(),s.height=t.height.toString(),s.scrolling="no",s.setAttribute(o3,"true"),e.body.appendChild(s),s},KR=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},zR=function(e){return Promise.all([].slice.call(e.images,0).map(KR))},VR=function(e){return new Promise(function(t,s){var n=e.contentWindow;if(!n)return s("No window assigned for iframe");var a=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},GR=["all","d","content"],Fx=function(e,t){for(var s=e.length-1;s>=0;s--){var n=e.item(s);GR.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},$R=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},qR=function(e,t,s){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||s!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,s)},YR=function(e){var t=e[0],s=e[1],n=e[2];t.scrollLeft=s,t.scrollTop=n},WR=":before",JR=":after",yy="___html2canvas___pseudoelement_before",wy="___html2canvas___pseudoelement_after",KN=`{
    content: "" !important;
    display: none !important;
}`,XR=function(e){ZR(e,"."+yy+WR+KN+`
         .`+wy+JR+KN)},ZR=function(e,t){var s=e.ownerDocument;if(s){var n=s.createElement("style");n.textContent=t,e.appendChild(n)}},A3=function(){function e(){}return e.getOrigin=function(t){var s=e._link;return s?(s.href=t,s.href=s.href,s.protocol+s.hostname+s.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),eM=function(){function e(t,s){this.context=t,this._options=s,this._cache={}}return e.prototype.addImage=function(t){var s=Promise.resolve();return this.has(t)||(kx(t)||nM(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),s},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Js(this,void 0,void 0,function(){var s,n,a,i,l=this;return Os(this,function(o){switch(o.label){case 0:return s=A3.isSameOrigin(t),n=!Ix(t)&&this._options.useCORS===!0&&Is.SUPPORT_CORS_IMAGES&&!s,a=!Ix(t)&&!s&&!kx(t)&&typeof this._options.proxy=="string"&&Is.SUPPORT_CORS_XHR&&!n,!s&&this._options.allowTaint===!1&&!Ix(t)&&!kx(t)&&!a&&!n?[2]:(i=t,a?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(A,c){var d=new Image;d.onload=function(){return A(d)},d.onerror=c,(aM(i)||n)&&(d.crossOrigin="anonymous"),d.src=i,d.complete===!0&&setTimeout(function(){return A(d)},500),l._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var s=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(i,l){var o=Is.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(o==="text")i(A.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(p){return l(p)},!1),h.readAsDataURL(A.response)}else l("Failed to proxy resource "+a+" with status code "+A.status)},A.onerror=l;var c=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+c+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=o),s._options.imageTimeout){var d=s._options.imageTimeout;A.timeout=d,A.ontimeout=function(){return l("Timed out ("+d+"ms) proxying "+a)}}A.send()})},e}(),tM=/^data:image\/svg\+xml/i,rM=/^data:image\/.*;base64,/i,sM=/^data:image\/.*/i,nM=function(e){return Is.SUPPORT_SVG_DRAWING||!iM(e)},Ix=function(e){return sM.test(e)},aM=function(e){return rM.test(e)},kx=function(e){return e.substr(0,4)==="blob"},iM=function(e){return e.substr(-3).toLowerCase()==="svg"||tM.test(e)},Le=function(){function e(t,s){this.type=0,this.x=t,this.y=s}return e.prototype.add=function(t,s){return new e(this.x+t,this.y+s)},e}(),gA=function(e,t,s){return new Le(e.x+(t.x-e.x)*s,e.y+(t.y-e.y)*s)},pm=function(){function e(t,s,n,a){this.type=1,this.start=t,this.startControl=s,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,s){var n=gA(this.start,this.startControl,t),a=gA(this.startControl,this.endControl,t),i=gA(this.endControl,this.end,t),l=gA(n,a,t),o=gA(a,i,t),A=gA(l,o,t);return s?new e(this.start,n,l,A):new e(A,o,i,this.end)},e.prototype.add=function(t,s){return new e(this.start.add(t,s),this.startControl.add(t,s),this.endControl.add(t,s),this.end.add(t,s))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Jn=function(e){return e.type===1},lM=function(){function e(t){var s=t.styles,n=t.bounds,a=Cd(s.borderTopLeftRadius,n.width,n.height),i=a[0],l=a[1],o=Cd(s.borderTopRightRadius,n.width,n.height),A=o[0],c=o[1],d=Cd(s.borderBottomRightRadius,n.width,n.height),h=d[0],p=d[1],m=Cd(s.borderBottomLeftRadius,n.width,n.height),y=m[0],v=m[1],B=[];B.push((i+A)/n.width),B.push((y+h)/n.width),B.push((l+v)/n.height),B.push((c+p)/n.height);var x=Math.max.apply(Math,B);x>1&&(i/=x,l/=x,A/=x,c/=x,h/=x,p/=x,y/=x,v/=x);var N=n.width-A,b=n.height-p,g=n.width-h,k=n.height-v,_=s.borderTopWidth,I=s.borderRightWidth,U=s.borderBottomWidth,S=s.borderLeftWidth,G=Ar(s.paddingTop,t.bounds.width),L=Ar(s.paddingRight,t.bounds.width),P=Ar(s.paddingBottom,t.bounds.width),F=Ar(s.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||l>0?yr(n.left+S/3,n.top+_/3,i-S/3,l-_/3,Ot.TOP_LEFT):new Le(n.left+S/3,n.top+_/3),this.topRightBorderDoubleOuterBox=i>0||l>0?yr(n.left+N,n.top+_/3,A-I/3,c-_/3,Ot.TOP_RIGHT):new Le(n.left+n.width-I/3,n.top+_/3),this.bottomRightBorderDoubleOuterBox=h>0||p>0?yr(n.left+g,n.top+b,h-I/3,p-U/3,Ot.BOTTOM_RIGHT):new Le(n.left+n.width-I/3,n.top+n.height-U/3),this.bottomLeftBorderDoubleOuterBox=y>0||v>0?yr(n.left+S/3,n.top+k,y-S/3,v-U/3,Ot.BOTTOM_LEFT):new Le(n.left+S/3,n.top+n.height-U/3),this.topLeftBorderDoubleInnerBox=i>0||l>0?yr(n.left+S*2/3,n.top+_*2/3,i-S*2/3,l-_*2/3,Ot.TOP_LEFT):new Le(n.left+S*2/3,n.top+_*2/3),this.topRightBorderDoubleInnerBox=i>0||l>0?yr(n.left+N,n.top+_*2/3,A-I*2/3,c-_*2/3,Ot.TOP_RIGHT):new Le(n.left+n.width-I*2/3,n.top+_*2/3),this.bottomRightBorderDoubleInnerBox=h>0||p>0?yr(n.left+g,n.top+b,h-I*2/3,p-U*2/3,Ot.BOTTOM_RIGHT):new Le(n.left+n.width-I*2/3,n.top+n.height-U*2/3),this.bottomLeftBorderDoubleInnerBox=y>0||v>0?yr(n.left+S*2/3,n.top+k,y-S*2/3,v-U*2/3,Ot.BOTTOM_LEFT):new Le(n.left+S*2/3,n.top+n.height-U*2/3),this.topLeftBorderStroke=i>0||l>0?yr(n.left+S/2,n.top+_/2,i-S/2,l-_/2,Ot.TOP_LEFT):new Le(n.left+S/2,n.top+_/2),this.topRightBorderStroke=i>0||l>0?yr(n.left+N,n.top+_/2,A-I/2,c-_/2,Ot.TOP_RIGHT):new Le(n.left+n.width-I/2,n.top+_/2),this.bottomRightBorderStroke=h>0||p>0?yr(n.left+g,n.top+b,h-I/2,p-U/2,Ot.BOTTOM_RIGHT):new Le(n.left+n.width-I/2,n.top+n.height-U/2),this.bottomLeftBorderStroke=y>0||v>0?yr(n.left+S/2,n.top+k,y-S/2,v-U/2,Ot.BOTTOM_LEFT):new Le(n.left+S/2,n.top+n.height-U/2),this.topLeftBorderBox=i>0||l>0?yr(n.left,n.top,i,l,Ot.TOP_LEFT):new Le(n.left,n.top),this.topRightBorderBox=A>0||c>0?yr(n.left+N,n.top,A,c,Ot.TOP_RIGHT):new Le(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||p>0?yr(n.left+g,n.top+b,h,p,Ot.BOTTOM_RIGHT):new Le(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=y>0||v>0?yr(n.left,n.top+k,y,v,Ot.BOTTOM_LEFT):new Le(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||l>0?yr(n.left+S,n.top+_,Math.max(0,i-S),Math.max(0,l-_),Ot.TOP_LEFT):new Le(n.left+S,n.top+_),this.topRightPaddingBox=A>0||c>0?yr(n.left+Math.min(N,n.width-I),n.top+_,N>n.width+I?0:Math.max(0,A-I),Math.max(0,c-_),Ot.TOP_RIGHT):new Le(n.left+n.width-I,n.top+_),this.bottomRightPaddingBox=h>0||p>0?yr(n.left+Math.min(g,n.width-S),n.top+Math.min(b,n.height-U),Math.max(0,h-I),Math.max(0,p-U),Ot.BOTTOM_RIGHT):new Le(n.left+n.width-I,n.top+n.height-U),this.bottomLeftPaddingBox=y>0||v>0?yr(n.left+S,n.top+Math.min(k,n.height-U),Math.max(0,y-S),Math.max(0,v-U),Ot.BOTTOM_LEFT):new Le(n.left+S,n.top+n.height-U),this.topLeftContentBox=i>0||l>0?yr(n.left+S+F,n.top+_+G,Math.max(0,i-(S+F)),Math.max(0,l-(_+G)),Ot.TOP_LEFT):new Le(n.left+S+F,n.top+_+G),this.topRightContentBox=A>0||c>0?yr(n.left+Math.min(N,n.width+S+F),n.top+_+G,N>n.width+S+F?0:A-S+F,c-(_+G),Ot.TOP_RIGHT):new Le(n.left+n.width-(I+L),n.top+_+G),this.bottomRightContentBox=h>0||p>0?yr(n.left+Math.min(g,n.width-(S+F)),n.top+Math.min(b,n.height+_+G),Math.max(0,h-(I+L)),p-(U+P),Ot.BOTTOM_RIGHT):new Le(n.left+n.width-(I+L),n.top+n.height-(U+P)),this.bottomLeftContentBox=y>0||v>0?yr(n.left+S+F,n.top+k,Math.max(0,y-(S+F)),v-(U+P),Ot.BOTTOM_LEFT):new Le(n.left+S+F,n.top+n.height-(U+P))}return e}(),Ot;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ot||(Ot={}));var yr=function(e,t,s,n,a){var i=4*((Math.sqrt(2)-1)/3),l=s*i,o=n*i,A=e+s,c=t+n;switch(a){case Ot.TOP_LEFT:return new pm(new Le(e,c),new Le(e,c-o),new Le(A-l,t),new Le(A,t));case Ot.TOP_RIGHT:return new pm(new Le(e,t),new Le(e+l,t),new Le(A,c-o),new Le(A,c));case Ot.BOTTOM_RIGHT:return new pm(new Le(A,t),new Le(A,t+o),new Le(e+l,c),new Le(e,c));case Ot.BOTTOM_LEFT:default:return new pm(new Le(A,c),new Le(A-l,c),new Le(e,t+o),new Le(e,t))}},D0=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},oM=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},T0=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},AM=function(){function e(t,s,n){this.offsetX=t,this.offsetY=s,this.matrix=n,this.type=0,this.target=6}return e}(),xm=function(){function e(t,s){this.path=t,this.target=s,this.type=1}return e}(),cM=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),dM=function(e){return e.type===0},c3=function(e){return e.type===1},uM=function(e){return e.type===2},zN=function(e,t){return e.length===t.length?e.some(function(s,n){return s===t[n]}):!1},hM=function(e,t,s,n,a){return e.map(function(i,l){switch(l){case 0:return i.add(t,s);case 1:return i.add(t+n,s);case 2:return i.add(t+n,s+a);case 3:return i.add(t,s+a)}return i})},d3=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),u3=function(){function e(t,s){if(this.container=t,this.parent=s,this.effects=[],this.curves=new lM(this.container),this.container.styles.opacity<1&&this.effects.push(new cM(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new AM(n,a,i))}if(this.container.styles.overflowX!==0){var l=D0(this.curves),o=T0(this.curves);zN(l,o)?this.effects.push(new xm(l,6)):(this.effects.push(new xm(l,2)),this.effects.push(new xm(o,4)))}}return e.prototype.getEffects=function(t){for(var s=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(A){return!c3(A)});if(s||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),s=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var l=D0(n.curves),o=T0(n.curves);zN(l,o)||a.unshift(new xm(o,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(A){return cs(A.target,t)})},e}(),vy=function(e,t,s,n){e.container.elements.forEach(function(a){var i=cs(a.flags,4),l=cs(a.flags,2),o=new u3(a,e);cs(a.styles.display,2048)&&n.push(o);var A=cs(a.flags,8)?[]:n;if(i||l){var c=i||a.styles.isPositioned()?s:t,d=new d3(o);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var h=a.styles.zIndex.order;if(h<0){var p=0;c.negativeZIndex.some(function(y,v){return h>y.element.container.styles.zIndex.order?(p=v,!1):p>0}),c.negativeZIndex.splice(p,0,d)}else if(h>0){var m=0;c.positiveZIndex.some(function(y,v){return h>=y.element.container.styles.zIndex.order?(m=v+1,!1):m>0}),c.positiveZIndex.splice(m,0,d)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else a.styles.isFloating()?c.nonPositionedFloats.push(d):c.nonPositionedInlineLevel.push(d);vy(o,d,i?d:s,A)}else a.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),vy(o,t,s,A);cs(a.flags,8)&&h3(a,A)})},h3=function(e,t){for(var s=e instanceof py?e.start:1,n=e instanceof py?e.reversed:!1,a=0;a<t.length;a++){var i=t[a];i.container instanceof WC&&typeof i.container.value=="number"&&i.container.value!==0&&(s=i.container.value),i.listValue=ju(s,i.container.styles.listStyleType,!0),s+=n?-1:1}},mM=function(e){var t=new u3(e,null),s=new d3(t),n=[];return vy(t,s,s,n),h3(t.container,n),s},VN=function(e,t){switch(t){case 0:return ra(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ra(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ra(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ra(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},fM=function(e,t){switch(t){case 0:return ra(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ra(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ra(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ra(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},pM=function(e,t){switch(t){case 0:return ra(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ra(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ra(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ra(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},xM=function(e,t){switch(t){case 0:return gm(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return gm(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return gm(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return gm(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},gm=function(e,t){var s=[];return Jn(e)?s.push(e.subdivide(.5,!1)):s.push(e),Jn(t)?s.push(t.subdivide(.5,!0)):s.push(t),s},ra=function(e,t,s,n){var a=[];return Jn(e)?a.push(e.subdivide(.5,!1)):a.push(e),Jn(s)?a.push(s.subdivide(.5,!0)):a.push(s),Jn(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),Jn(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},m3=function(e){var t=e.bounds,s=e.styles;return t.add(s.borderLeftWidth,s.borderTopWidth,-(s.borderRightWidth+s.borderLeftWidth),-(s.borderTopWidth+s.borderBottomWidth))},R0=function(e){var t=e.styles,s=e.bounds,n=Ar(t.paddingLeft,s.width),a=Ar(t.paddingRight,s.width),i=Ar(t.paddingTop,s.width),l=Ar(t.paddingBottom,s.width);return s.add(n+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+i+l))},gM=function(e,t){return e===0?t.bounds:e===2?R0(t):m3(t)},yM=function(e,t){return e===0?t.bounds:e===2?R0(t):m3(t)},Ux=function(e,t,s){var n=gM(NA(e.styles.backgroundOrigin,t),e),a=yM(NA(e.styles.backgroundClip,t),e),i=wM(NA(e.styles.backgroundSize,t),s,n),l=i[0],o=i[1],A=Cd(NA(e.styles.backgroundPosition,t),n.width-l,n.height-o),c=vM(NA(e.styles.backgroundRepeat,t),A,i,n,a),d=Math.round(n.left+A[0]),h=Math.round(n.top+A[1]);return[c,d,h,l,o]},yA=function(e){return Jt(e)&&e.value===XA.AUTO},ym=function(e){return typeof e=="number"},wM=function(e,t,s){var n=t[0],a=t[1],i=t[2],l=e[0],o=e[1];if(!l)return[0,0];if(Xr(l)&&o&&Xr(o))return[Ar(l,s.width),Ar(o,s.height)];var A=ym(i);if(Jt(l)&&(l.value===XA.CONTAIN||l.value===XA.COVER)){if(ym(i)){var c=s.width/s.height;return c<i!=(l.value===XA.COVER)?[s.width,s.width/i]:[s.height*i,s.height]}return[s.width,s.height]}var d=ym(n),h=ym(a),p=d||h;if(yA(l)&&(!o||yA(o))){if(d&&h)return[n,a];if(!A&&!p)return[s.width,s.height];if(p&&A){var m=d?n:a*i,y=h?a:n/i;return[m,y]}var v=d?n:s.width,B=h?a:s.height;return[v,B]}if(A){var x=0,N=0;return Xr(l)?x=Ar(l,s.width):Xr(o)&&(N=Ar(o,s.height)),yA(l)?x=N*i:(!o||yA(o))&&(N=x/i),[x,N]}var b=null,g=null;if(Xr(l)?b=Ar(l,s.width):o&&Xr(o)&&(g=Ar(o,s.height)),b!==null&&(!o||yA(o))&&(g=d&&h?b/n*a:s.height),g!==null&&yA(l)&&(b=d&&h?g/a*n:s.width),b!==null&&g!==null)return[b,g];throw new Error("Unable to calculate background-size for element")},NA=function(e,t){var s=e[t];return typeof s>"u"?e[0]:s},vM=function(e,t,s,n,a){var i=t[0],l=t[1],o=s[0],A=s[1];switch(e){case 2:return[new Le(Math.round(n.left),Math.round(n.top+l)),new Le(Math.round(n.left+n.width),Math.round(n.top+l)),new Le(Math.round(n.left+n.width),Math.round(A+n.top+l)),new Le(Math.round(n.left),Math.round(A+n.top+l))];case 3:return[new Le(Math.round(n.left+i),Math.round(n.top)),new Le(Math.round(n.left+i+o),Math.round(n.top)),new Le(Math.round(n.left+i+o),Math.round(n.height+n.top)),new Le(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Le(Math.round(n.left+i),Math.round(n.top+l)),new Le(Math.round(n.left+i+o),Math.round(n.top+l)),new Le(Math.round(n.left+i+o),Math.round(n.top+l+A)),new Le(Math.round(n.left+i),Math.round(n.top+l+A))];default:return[new Le(Math.round(a.left),Math.round(a.top)),new Le(Math.round(a.left+a.width),Math.round(a.top)),new Le(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Le(Math.round(a.left),Math.round(a.height+a.top))]}},bM="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",GN="Hidden Text",NM=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,s){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),l=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=s,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",l.appendChild(n),a.src=bM,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=s,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(GN)),n.appendChild(i),n.appendChild(a);var o=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(GN)),n.style.lineHeight="normal",a.style.verticalAlign="super";var A=a.offsetTop-n.offsetTop+2;return l.removeChild(n),{baseline:o,middle:A}},e.prototype.getMetrics=function(t,s){var n=t+" "+s;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,s)),this._data[n]},e}(),f3=function(){function e(t,s){this.context=t,this.options=s}return e}(),jM=1e4,BM=function(e){Ua(t,e);function t(s,n){var a=e.call(this,s,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new NM(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(s){for(var n=this;this._activeEffects.length;)this.popEffect();s.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(s){this.ctx.save(),uM(s)&&(this.ctx.globalAlpha=s.opacity),dM(s)&&(this.ctx.translate(s.offsetX,s.offsetY),this.ctx.transform(s.matrix[0],s.matrix[1],s.matrix[2],s.matrix[3],s.matrix[4],s.matrix[5]),this.ctx.translate(-s.offsetX,-s.offsetY)),c3(s)&&(this.path(s.path),this.ctx.clip()),this._activeEffects.push(s)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(s){return Js(this,void 0,void 0,function(){var n;return Os(this,function(a){switch(a.label){case 0:return n=s.element.container.styles,n.isVisible()?[4,this.renderStackContent(s)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(s){return Js(this,void 0,void 0,function(){return Os(this,function(n){switch(n.label){case 0:if(cs(s.container.flags,16))debugger;return s.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(s)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(s)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(s,n,a){var i=this;if(n===0)this.ctx.fillText(s.text,s.bounds.left,s.bounds.top+a);else{var l=Y1(s.text);l.reduce(function(o,A){return i.ctx.fillText(A,o,s.bounds.top+a),o+i.ctx.measureText(A).width},s.bounds.left)}},t.prototype.createFontStyle=function(s){var n=s.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),a=IM(s.fontFamily).join(", "),i=Ku(s.fontSize)?""+s.fontSize.number+s.fontSize.unit:s.fontSize.number+"px";return[[s.fontStyle,n,s.fontWeight,i,a].join(" "),a,i]},t.prototype.renderTextNode=function(s,n){return Js(this,void 0,void 0,function(){var a,i,l,o,A,c,d,h,p=this;return Os(this,function(m){return a=this.createFontStyle(n),i=a[0],l=a[1],o=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(l,o),c=A.baseline,d=A.middle,h=n.paintOrder,s.textBounds.forEach(function(y){h.forEach(function(v){switch(v){case 0:p.ctx.fillStyle=xs(n.color),p.renderTextWithLetterSpacing(y,n.letterSpacing,c);var B=n.textShadow;B.length&&y.text.trim().length&&(B.slice(0).reverse().forEach(function(x){p.ctx.shadowColor=xs(x.color),p.ctx.shadowOffsetX=x.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=x.offsetY.number*p.options.scale,p.ctx.shadowBlur=x.blur.number,p.renderTextWithLetterSpacing(y,n.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=xs(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(x){switch(x){case 1:p.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top+c),y.bounds.width,1);break;case 2:p.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top),y.bounds.width,1);break;case 3:p.ctx.fillRect(y.bounds.left,Math.ceil(y.bounds.top+d),y.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&y.text.trim().length&&(p.ctx.strokeStyle=xs(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(y.text,y.bounds.left,y.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(s,n,a){if(a&&s.intrinsicWidth>0&&s.intrinsicHeight>0){var i=R0(s),l=T0(n);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,s.intrinsicWidth,s.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(s){return Js(this,void 0,void 0,function(){var n,a,i,l,o,A,N,N,c,d,h,p,g,m,y,k,v,B,x,N,b,g,k;return Os(this,function(_){switch(_.label){case 0:this.applyEffects(s.getEffects(4)),n=s.container,a=s.curves,i=n.styles,l=0,o=n.textNodes,_.label=1;case 1:return l<o.length?(A=o[l],[4,this.renderTextNode(A,i)]):[3,4];case 2:_.sent(),_.label=3;case 3:return l++,[3,1];case 4:if(!(n instanceof $C))return[3,8];_.label=5;case 5:return _.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return N=_.sent(),this.renderReplacedElement(n,a,N),[3,8];case 7:return _.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof qC&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof YC))return[3,12];_.label=9;case 9:return _.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return N=_.sent(),this.renderReplacedElement(n,a,N),[3,12];case 11:return _.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof ZC&&n.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:d=_.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),_.label=14;case 14:if(n instanceof W1&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===Q0?n.checked&&(this.ctx.save(),this.path([new Le(n.bounds.left+h*.39363,n.bounds.top+h*.79),new Le(n.bounds.left+h*.16,n.bounds.top+h*.5549),new Le(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new Le(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new Le(n.bounds.left+h*.72983,n.bounds.top+h*.23),new Le(n.bounds.left+h*.84,n.bounds.top+h*.34085),new Le(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=xs(QN),this.ctx.fill(),this.ctx.restore()):n.type===_0&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=xs(QN),this.ctx.fill(),this.ctx.restore())),CM(n)&&n.value.length){switch(p=this.createFontStyle(i),g=p[0],m=p[1],y=this.fontMetrics.getMetrics(g,m).baseline,this.ctx.font=g,this.ctx.fillStyle=xs(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=EM(n.styles.textAlign),k=R0(n),v=0,n.styles.textAlign){case 1:v+=k.width/2;break;case 2:v+=k.width;break}B=k.add(v,0,0,-k.height/2+1),this.ctx.save(),this.path([new Le(k.left,k.top),new Le(k.left+k.width,k.top),new Le(k.left+k.width,k.top+k.height),new Le(k.left,k.top+k.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new $d(n.value,B),i.letterSpacing,y),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!cs(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(x=n.styles.listStyleImage,x.type!==0)return[3,18];N=void 0,b=x.url,_.label=15;case 15:return _.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return N=_.sent(),this.ctx.drawImage(N,n.bounds.left-(N.width+10),n.bounds.top),[3,18];case 17:return _.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:s.listValue&&n.styles.listStyleType!==-1&&(g=this.createFontStyle(i)[0],this.ctx.font=g,this.ctx.fillStyle=xs(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",k=new Ki(n.bounds.left,n.bounds.top+Ar(n.styles.paddingTop,n.bounds.width),n.bounds.width,pN(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new $d(s.listValue,k),i.letterSpacing,pN(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),_.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(s){return Js(this,void 0,void 0,function(){var n,a,x,i,l,x,o,A,x,c,d,x,h,p,x,m,y,x,v,B,x;return Os(this,function(N){switch(N.label){case 0:if(cs(s.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(s.element)];case 1:N.sent(),n=0,a=s.negativeZIndex,N.label=2;case 2:return n<a.length?(x=a[n],[4,this.renderStack(x)]):[3,5];case 3:N.sent(),N.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(s.element)];case 6:N.sent(),i=0,l=s.nonInlineLevel,N.label=7;case 7:return i<l.length?(x=l[i],[4,this.renderNode(x)]):[3,10];case 8:N.sent(),N.label=9;case 9:return i++,[3,7];case 10:o=0,A=s.nonPositionedFloats,N.label=11;case 11:return o<A.length?(x=A[o],[4,this.renderStack(x)]):[3,14];case 12:N.sent(),N.label=13;case 13:return o++,[3,11];case 14:c=0,d=s.nonPositionedInlineLevel,N.label=15;case 15:return c<d.length?(x=d[c],[4,this.renderStack(x)]):[3,18];case 16:N.sent(),N.label=17;case 17:return c++,[3,15];case 18:h=0,p=s.inlineLevel,N.label=19;case 19:return h<p.length?(x=p[h],[4,this.renderNode(x)]):[3,22];case 20:N.sent(),N.label=21;case 21:return h++,[3,19];case 22:m=0,y=s.zeroOrAutoZIndexOrTransformedOrOpacity,N.label=23;case 23:return m<y.length?(x=y[m],[4,this.renderStack(x)]):[3,26];case 24:N.sent(),N.label=25;case 25:return m++,[3,23];case 26:v=0,B=s.positiveZIndex,N.label=27;case 27:return v<B.length?(x=B[v],[4,this.renderStack(x)]):[3,30];case 28:N.sent(),N.label=29;case 29:return v++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(s){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(s.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(s){this.ctx.beginPath(),this.formatPath(s),this.ctx.closePath()},t.prototype.formatPath=function(s){var n=this;s.forEach(function(a,i){var l=Jn(a)?a.start:a;i===0?n.ctx.moveTo(l.x,l.y):n.ctx.lineTo(l.x,l.y),Jn(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(s,n,a,i){this.path(s),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},t.prototype.resizeImage=function(s,n,a){var i;if(s.width===n&&s.height===a)return s;var l=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=l.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,a);var A=o.getContext("2d");return A.drawImage(s,0,0,s.width,s.height,0,0,n,a),o},t.prototype.renderBackgroundImage=function(s){return Js(this,void 0,void 0,function(){var n,a,i,l,o,A;return Os(this,function(c){switch(c.label){case 0:n=s.styles.backgroundImage.length-1,a=function(d){var h,p,m,G,te,le,F,M,U,y,G,te,le,F,M,v,B,x,N,b,g,k,_,I,U,S,G,L,P,F,M,Z,te,le,R,X,se,re,Q,z,$,V;return Os(this,function(ne){switch(ne.label){case 0:if(d.type!==0)return[3,5];h=void 0,p=d.url,ne.label=1;case 1:return ne.trys.push([1,3,,4]),[4,i.context.cache.match(p)];case 2:return h=ne.sent(),[3,4];case 3:return ne.sent(),i.context.logger.error("Error loading background-image "+p),[3,4];case 4:return h&&(m=Ux(s,n,[h.width,h.height,h.width/h.height]),G=m[0],te=m[1],le=m[2],F=m[3],M=m[4],U=i.ctx.createPattern(i.resizeImage(h,F,M),"repeat"),i.renderRepeat(G,U,te,le)),[3,6];case 5:dT(d)?(y=Ux(s,n,[null,null,null]),G=y[0],te=y[1],le=y[2],F=y[3],M=y[4],v=iT(d.angle,F,M),B=v[0],x=v[1],N=v[2],b=v[3],g=v[4],k=document.createElement("canvas"),k.width=F,k.height=M,_=k.getContext("2d"),I=_.createLinearGradient(x,b,N,g),mN(d.stops,B).forEach(function(de){return I.addColorStop(de.stop,xs(de.color))}),_.fillStyle=I,_.fillRect(0,0,F,M),F>0&&M>0&&(U=i.ctx.createPattern(k,"repeat"),i.renderRepeat(G,U,te,le))):uT(d)&&(S=Ux(s,n,[null,null,null]),G=S[0],L=S[1],P=S[2],F=S[3],M=S[4],Z=d.position.length===0?[G1]:d.position,te=Ar(Z[0],F),le=Ar(Z[Z.length-1],M),R=lT(d,te,le,F,M),X=R[0],se=R[1],X>0&&se>0&&(re=i.ctx.createRadialGradient(L+te,P+le,0,L+te,P+le,X),mN(d.stops,X*2).forEach(function(de){return re.addColorStop(de.stop,xs(de.color))}),i.path(G),i.ctx.fillStyle=re,X!==se?(Q=s.bounds.left+.5*s.bounds.width,z=s.bounds.top+.5*s.bounds.height,$=se/X,V=1/$,i.ctx.save(),i.ctx.translate(Q,z),i.ctx.transform(1,0,0,$,0,0),i.ctx.translate(-Q,-z),i.ctx.fillRect(L,V*(P-z)+z,F,M*V),i.ctx.restore()):i.ctx.fill())),ne.label=6;case 6:return n--,[2]}})},i=this,l=0,o=s.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return l<o.length?(A=o[l],[5,a(A)]):[3,4];case 2:c.sent(),c.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(s,n,a){return Js(this,void 0,void 0,function(){return Os(this,function(i){return this.path(VN(a,n)),this.ctx.fillStyle=xs(s),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(s,n,a,i){return Js(this,void 0,void 0,function(){var l,o;return Os(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(s,a,i)]:[3,2];case 1:return A.sent(),[2];case 2:return l=fM(i,a),this.path(l),this.ctx.fillStyle=xs(s),this.ctx.fill(),o=pM(i,a),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(s){return Js(this,void 0,void 0,function(){var n,a,i,l,o,A,c,d,h=this;return Os(this,function(p){switch(p.label){case 0:return this.applyEffects(s.getEffects(2)),n=s.container.styles,a=!Tl(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],l=SM(NA(n.backgroundClip,0),s.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),Tl(n.backgroundColor)||(this.ctx.fillStyle=xs(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(s.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){h.ctx.save();var y=D0(s.curves),v=m.inset?0:jM,B=hM(y,-v+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(h.path(y),h.ctx.clip(),h.mask(B)):(h.mask(y),h.ctx.clip(),h.path(B)),h.ctx.shadowOffsetX=m.offsetX.number+v,h.ctx.shadowOffsetY=m.offsetY.number,h.ctx.shadowColor=xs(m.color),h.ctx.shadowBlur=m.blur.number,h.ctx.fillStyle=m.inset?xs(m.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),p.label=2;case 2:o=0,A=0,c=i,p.label=3;case 3:return A<c.length?(d=c[A],d.style!==0&&!Tl(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,s.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,s.curves,3)];case 6:return p.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,s.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,s.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(s,n,a,i,l){return Js(this,void 0,void 0,function(){var o,A,c,d,h,p,m,y,v,B,x,N,b,g,k,_,k,_;return Os(this,function(I){return this.ctx.save(),o=xM(i,a),A=VN(i,a),l===2&&(this.path(A),this.ctx.clip()),Jn(A[0])?(c=A[0].start.x,d=A[0].start.y):(c=A[0].x,d=A[0].y),Jn(A[1])?(h=A[1].end.x,p=A[1].end.y):(h=A[1].x,p=A[1].y),a===0||a===2?m=Math.abs(c-h):m=Math.abs(d-p),this.ctx.beginPath(),l===3?this.formatPath(o):this.formatPath(A.slice(0,2)),y=n<3?n*3:n*2,v=n<3?n*2:n,l===3&&(y=n,v=n),B=!0,m<=y*2?B=!1:m<=y*2+v?(x=m/(2*y+v),y*=x,v*=x):(N=Math.floor((m+v)/(y+v)),b=(m-N*y)/(N-1),g=(m-(N+1)*y)/N,v=g<=0||Math.abs(v-b)<Math.abs(v-g)?b:g),B&&(l===3?this.ctx.setLineDash([0,y+v]):this.ctx.setLineDash([y,v])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=xs(s),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(Jn(A[0])&&(k=A[3],_=A[0],this.ctx.beginPath(),this.formatPath([new Le(k.end.x,k.end.y),new Le(_.start.x,_.start.y)]),this.ctx.stroke()),Jn(A[1])&&(k=A[1],_=A[2],this.ctx.beginPath(),this.formatPath([new Le(k.end.x,k.end.y),new Le(_.start.x,_.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(s){return Js(this,void 0,void 0,function(){var n;return Os(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=xs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=mM(s),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(f3),CM=function(e){return e instanceof XC||e instanceof JC?!0:e instanceof W1&&e.type!==_0&&e.type!==Q0},SM=function(e,t){switch(e){case 0:return D0(t);case 2:return oM(t);case 1:default:return T0(t)}},EM=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},FM=["-apple-system","system-ui"],IM=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return FM.indexOf(t)===-1}):e},kM=function(e){Ua(t,e);function t(s,n){var a=e.call(this,s,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(s){return Js(this,void 0,void 0,function(){var n,a;return Os(this,function(i){switch(i.label){case 0:return n=fy(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,s),[4,UM(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=xs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(f3),UM=function(e){return new Promise(function(t,s){var n=new Image;n.onload=function(){t(n)},n.onerror=s,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},QM=function(){function e(t){var s=t.id,n=t.enabled;this.id=s,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Jh([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Jh([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Jh([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Jh([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),_M=function(){function e(t,s){var n;this.windowBounds=s,this.instanceName="#"+e.instanceCount++,this.logger=new QM({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new eM(this,t)}return e.instanceCount=1,e}(),X1=function(e,t){return t===void 0&&(t={}),LM(e,t)};typeof window<"u"&&A3.setContext(window);var LM=function(e,t){return Js(void 0,void 0,void 0,function(){var s,n,a,i,l,o,A,c,d,h,p,m,y,v,B,x,N,b,g,k,I,_,I,U,S,G,L,P,F,M,Z,te,le,R,X,se,re,Q,z,$;return Os(this,function(V){switch(V.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(s=e.ownerDocument,!s)throw new Error("Element is not attached to a Document");if(n=s.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(U=t.allowTaint)!==null&&U!==void 0?U:!1,imageTimeout:(S=t.imageTimeout)!==null&&S!==void 0?S:15e3,proxy:t.proxy,useCORS:(G=t.useCORS)!==null&&G!==void 0?G:!1},i=ey({logging:(L=t.logging)!==null&&L!==void 0?L:!0,cache:t.cache},a),l={windowWidth:(P=t.windowWidth)!==null&&P!==void 0?P:n.innerWidth,windowHeight:(F=t.windowHeight)!==null&&F!==void 0?F:n.innerHeight,scrollX:(M=t.scrollX)!==null&&M!==void 0?M:n.pageXOffset,scrollY:(Z=t.scrollY)!==null&&Z!==void 0?Z:n.pageYOffset},o=new Ki(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),A=new _M(i,o),c=(te=t.foreignObjectRendering)!==null&&te!==void 0?te:!1,d={allowTaint:(le=t.allowTaint)!==null&&le!==void 0?le:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:c,copyStyles:c},A.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new ON(A,e,d),p=h.clonedReferenceElement,p?[4,h.toIFrame(s,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=V.sent(),y=J1(p)||DR(p)?hP(p.ownerDocument):gf(A,p),v=y.width,B=y.height,x=y.left,N=y.top,b=PM(A,p,t.backgroundColor),g={canvas:t.canvas,backgroundColor:b,scale:(X=(R=t.scale)!==null&&R!==void 0?R:n.devicePixelRatio)!==null&&X!==void 0?X:1,x:((se=t.x)!==null&&se!==void 0?se:0)+x,y:((re=t.y)!==null&&re!==void 0?re:0)+N,width:(Q=t.width)!==null&&Q!==void 0?Q:Math.ceil(v),height:(z=t.height)!==null&&z!==void 0?z:Math.ceil(B)},c?(A.logger.debug("Document cloned, using foreign object rendering"),I=new kM(A,g),[4,I.render(p)]):[3,3];case 2:return k=V.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+x+","+N+" with size "+v+"x"+B+" using computed rendering"),A.logger.debug("Starting DOM parsing"),_=t3(A,p),b===_.styles.backgroundColor&&(_.styles.backgroundColor=Pi.TRANSPARENT),A.logger.debug("Starting renderer for element at "+g.x+","+g.y+" with size "+g.width+"x"+g.height),I=new BM(A,g),[4,I.render(_)];case 4:k=V.sent(),V.label=5;case 5:return(!(($=t.removeContainer)!==null&&$!==void 0)||$)&&(ON.destroy(m)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,k]}})})},PM=function(e,t,s){var n=t.ownerDocument,a=n.documentElement?Vd(e,getComputedStyle(n.documentElement).backgroundColor):Pi.TRANSPARENT,i=n.body?Vd(e,getComputedStyle(n.body).backgroundColor):Pi.TRANSPARENT,l=typeof s=="string"?Vd(e,s):s===null?Pi.TRANSPARENT:4294967295;return t===n.documentElement?Tl(a)?Tl(i)?l:i:a:l};const DM=Object.freeze(Object.defineProperty({__proto__:null,default:X1},Symbol.toStringTag,{value:"Module"}));let by=null;try{by=require("qrcode")}catch{console.warn("QRCode package not available, using fallback")}const TM=({marksheetData:e})=>{const[t,s]=C.useState("");C.useEffect(()=>{(async()=>{try{if(!by){console.warn("QRCode not available, using fallback"),s("");return}const l={studentId:e.student.studentId,marksheetNumber:e.marksheetNumber,studentName:`${e.student.firstName} ${e.student.lastName}`,course:e.course.title,percentage:e.percentage,grade:e.overallGrade,result:e.result,verificationCode:e.verificationCode,issueDate:e.resultDate},o=JSON.stringify(l),A=await by.toDataURL(o,{width:80,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});s(A)}catch(l){console.error("Error generating QR code:",l),s("")}})()},[e]);const n=i=>new Date(i).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),a=i=>i>=90?"Outstanding":i>=80?"Excellent":i>=70?"Very Good":i>=60?"Good":i>=50?"Satisfactory":"Marginal";return r.jsxs("div",{className:"marksheet-template",children:[r.jsx("div",{className:"decorative-border"}),r.jsx("div",{className:"marksheet-watermark",children:r.jsx("img",{src:"/prdhanlogo.png",alt:"PETF Logo",onLoad:()=>console.log("PETF logo loaded successfully"),onError:i=>{var A;console.error("Failed to load PETF logo:",i);const l=i.target;l.style.display="none";const o=document.createElement("div");o.innerHTML="PETF",o.className="watermark-fallback",(A=l.parentNode)==null||A.appendChild(o)}})}),r.jsxs("div",{className:"marksheet-content",children:[r.jsxs("div",{className:"marksheet-header",children:[r.jsx("h1",{className:"marksheet-title",children:"Phoolmati Devi Educational & Training Foundation"}),r.jsxs("div",{className:"registration-details",children:[r.jsx("div",{children:"MINISTRY OF CORPORATE AFFAIRS (GOVT. OF INDIA) GOVT. REG.NO.: U85500DL2024NPL432240"}),r.jsx("div",{children:"REG. ADDRESS: G-36,A\\5,KH NO. 22/18 & 23 LAXMI PARK, NANGLOI NEW DELHI 110041"})]}),r.jsx("h2",{className:"marksheet-subtitle",children:"Marksheet"})]}),r.jsxs("div",{className:"top-section",children:[r.jsxs("div",{className:"qr-section",children:[r.jsx("div",{className:"qr-container",children:t?r.jsx("img",{src:t,alt:"QR Code",className:"qr-image"}):r.jsxs("div",{className:"qr-fallback",children:[r.jsx("div",{children:"QR CODE"}),r.jsx("div",{className:"qr-student-id",children:e.student.studentId})]})}),r.jsx("div",{className:"qr-label",children:"GOVT. OF INDIA"})]}),r.jsxs("div",{className:"center-section",children:[r.jsx("div",{className:"logo-container",children:r.jsx("img",{src:"/prdhanlogo.png",alt:"PETF Logo",className:"petf-logo",onLoad:()=>console.log("PETF logo loaded successfully in center"),onError:i=>{var A;console.error("Failed to load PETF logo in center:",i);const l=i.target;l.style.display="none";const o=document.createElement("span");o.textContent="PD",o.className="logo-text",(A=l.parentNode)==null||A.appendChild(o)}})}),r.jsx("div",{className:"petf-label",children:"PETF"}),r.jsxs("div",{className:"certificate-number",children:["CERTIFICATE NO.",e.marksheetNumber]})]}),r.jsxs("div",{className:"enrollment-section",children:[r.jsx("div",{className:"enrollment-container",children:r.jsx("span",{className:"enrollment-id",children:e.student.studentId})}),r.jsx("div",{className:"enrollment-label",children:"ENROLL.NO"})]})]}),r.jsxs("div",{className:"marksheet-student-info",children:[r.jsxs("div",{className:"student-info-row",children:[r.jsx("strong",{children:"THIS MARKSHEET IS AWARDED TO :"})," Mr. ",e.student.firstName," ",e.student.lastName]}),e.student.dateOfBirth&&e.student.dateOfBirth.trim()!==""&&r.jsxs("div",{className:"student-info-row",children:[r.jsx("strong",{children:"DATE OF BIRTH :"})," ",n(e.student.dateOfBirth)]}),r.jsxs("div",{className:"student-info-row",children:[r.jsx("strong",{children:"ON SUCCESSFULL COMPLETION OF COURSE :"})," ",e.course.title]}),r.jsxs("div",{className:"student-info-row",children:[r.jsx("strong",{children:"ON DURATION :"})," ",e.course.duration," ",e.course.duration.includes("YEAR")||e.course.duration.includes("MONTH")||e.course.duration.includes("DAY")?"":"DAYS"]})]}),r.jsx("div",{className:"table-section",children:r.jsxs("table",{className:"marksheet-table",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"table-header-main",children:[r.jsx("th",{className:"serial-header",children:"S.No."}),r.jsx("th",{className:"subject-header",children:"SUBJECT OFFERED"}),r.jsx("th",{className:"max-header",children:"MAX MARKS"}),r.jsx("th",{className:"obtained-header",children:"MARKS OBTAINED"}),r.jsx("th",{className:"grade-header",children:"GRADE"})]})}),r.jsxs("tbody",{children:[e.subjects.map((i,l)=>r.jsxs("tr",{className:"subject-row",children:[r.jsx("td",{className:"serial-cell",children:l+1}),r.jsx("td",{className:"subject-cell",children:i.subjectName}),r.jsx("td",{className:"marks-cell",children:i.maxMarks}),r.jsx("td",{className:"marks-cell",children:i.marksObtained}),r.jsx("td",{className:"grade-cell",children:i.grade})]},l)),r.jsxs("tr",{className:"total-row",children:[r.jsx("td",{className:"serial-cell total-label",children:"TOTAL"}),r.jsx("td",{className:"subject-cell"}),r.jsx("td",{className:"marks-cell total-marks",children:e.maxTotalMarks}),r.jsx("td",{className:"marks-cell grand-total",children:e.totalMarks}),r.jsx("td",{className:"grade-cell overall-grade",children:e.overallGrade})]})]})]})}),r.jsxs("div",{className:"marksheet-summary",children:[r.jsxs("div",{className:"summary-left",children:[r.jsxs("div",{className:"summary-item",children:[r.jsx("strong",{children:"Percentage :"})," ",e.percentage.toFixed(0)," %"]}),r.jsxs("div",{className:"summary-item",children:[r.jsx("strong",{children:"Performance indicator :"})," ",a(e.percentage)]}),r.jsxs("div",{className:"summary-item",children:[r.jsx("strong",{children:"Place Of Issue:"})," Delhi"]}),r.jsxs("div",{className:"summary-item",children:[r.jsx("strong",{children:"Date Of Issue:"})," ",n(e.resultDate)]})]}),r.jsxs("div",{className:"summary-right",children:[r.jsxs("div",{className:"grade-display",children:[r.jsx("strong",{children:"Grade :"})," ",e.overallGrade]}),r.jsxs("div",{className:"signatures",children:[r.jsxs("div",{className:"signature-item",children:[r.jsx("div",{className:"signature-line"}),r.jsx("div",{className:"signature-label",children:"Examination Controller"})]}),r.jsxs("div",{className:"signature-item",children:[r.jsx("div",{className:"signature-line"}),r.jsx("div",{className:"signature-label",children:"Signature"})]})]})]})]})]}),r.jsxs("div",{className:"marksheet-footer",children:[r.jsxs("div",{className:"marksheet-gov-logos",children:[r.jsxs("div",{className:"gov-logo-item",children:[r.jsx("div",{className:"gov-title",children:" "}),r.jsx("div",{className:"gov-subtitle",children:"MINISTRY OF CORPORATE AFFAIRS"}),r.jsx("div",{className:"gov-subtitle",children:"GOVERNMENT OF INDIA"})]}),r.jsxs("div",{className:"gov-logo-item",children:[r.jsx("div",{className:"gov-title",children:" "}),r.jsx("div",{className:"gov-subtitle",children:"NGO DARPAN"})]}),r.jsxs("div",{className:"gov-logo-item",children:[r.jsx("div",{className:"gov-title",children:"MSME"}),r.jsx("div",{className:"gov-subtitle",children:"MICRO, SMALL & MEDIUM ENTERPRISES"}),r.jsx("div",{className:"gov-subtitle",children:",    "}),r.jsx("div",{className:"gov-subtitle",children:"Ministry of MSME, Govt. of India"})]}),r.jsxs("div",{className:"gov-logo-item",children:[r.jsx("div",{className:"gov-title",children:"NATIONAL ACADEMIC DEPOSITORY"}),r.jsx("div",{className:"gov-subtitle",children:"Transparency & Transformation Through Digitization"})]})]}),r.jsxs("div",{className:"disclaimer",children:[r.jsx("div",{className:"disclaimer-item",children:" Result must be show on qr code"}),r.jsx("div",{className:"disclaimer-item",children:" To be our site link in address bar"}),r.jsx("div",{className:"disclaimer-item",children:" Note for any of enquiry /verification contact or write at its administrative office only"})]}),r.jsx("div",{className:"marksheet-grade-scale",children:r.jsxs("table",{className:"grade-scale-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Grade"}),r.jsx("th",{children:"Performance Indicator"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{children:"Outstanding"}),r.jsx("td",{children:"Outstanding"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Excellent"}),r.jsx("td",{children:"Excellent"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Very Good"}),r.jsx("td",{children:"Very Good"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Good"}),r.jsx("td",{children:"Good"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Satisfactory"}),r.jsx("td",{children:"Satisfactory"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Marginal"}),r.jsx("td",{children:"Marginal"})]})]})]})})]}),r.jsx("style",{children:`
        .marksheet-template {
          width: 210mm;
          min-height: 297mm;
          margin: 0 auto;
          background: linear-gradient(135deg, #ffffff 0%, #fafafa 100%);
          position: relative;
          font-family: 'Arial', sans-serif;
          font-size: 12px;
          line-height: 1.4;
          color: #333;
          padding: 15mm;
          box-sizing: border-box;
          box-shadow: 0 0 20px rgba(0,0,0,0.1);
          page-break-inside: avoid;
          overflow: visible;
        }

        .decorative-border {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          border: 8px solid;
          border-image: linear-gradient(45deg, #e91e63, #f8bbd9, #e91e63, #f8bbd9) 1;
          pointer-events: none;
          z-index: 0;
        }

        .decorative-border::after {
          content: '';
          position: absolute;
          top: 4px;
          left: 4px;
          right: 4px;
          bottom: 4px;
          border: 2px solid #e91e63;
          border-radius: 4px;
        }

        .marksheet-watermark {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          opacity: 0.05;
          z-index: 1;
          pointer-events: none;
        }

        .marksheet-watermark img {
          width: 350px;
          height: 350px;
          object-fit: contain;
        }

        .watermark-fallback {
          width: 350px;
          height: 350px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 120px;
          font-weight: bold;
          color: rgba(233, 30, 99, 0.1);
        }

        .marksheet-content {
          position: relative;
          z-index: 2;
        }

        .marksheet-header {
          text-align: center;
          margin-bottom: 25px;
          border-bottom: 3px double #e91e63;
          padding-bottom: 15px;
        }

        .marksheet-title {
          font-size: 26px;
          font-weight: bold;
          color: #6a1b9a;
          margin: 0 0 10px 0;
          text-transform: uppercase;
          letter-spacing: 1px;
          text-shadow: 2px 2px 4px rgba(106, 27, 154, 0.1);
        }

        .registration-details {
          font-size: 9px;
          color: #666;
          margin-bottom: 15px;
          line-height: 1.4;
          background: linear-gradient(90deg, #f5f5f5, #ffffff, #f5f5f5);
          padding: 8px;
          border-radius: 4px;
          border: 1px solid #e0e0e0;
        }

        .marksheet-subtitle {
          font-size: 22px;
          font-weight: bold;
          color: #6a1b9a;
          margin: 0;
          text-transform: uppercase;
          letter-spacing: 2px;
        }

        .top-section {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 25px;
          padding: 15px 20px;
          background: linear-gradient(90deg, #fef7ff, #ffffff, #fef7ff);
          border-radius: 8px;
          border: 1px solid #e1bee7;
        }

        .qr-section, .enrollment-section {
          text-align: center;
          flex: 0 0 110px;
        }

        .center-section {
          text-align: center;
          flex: 1;
        }

        .qr-container, .enrollment-container {
          width: 85px;
          height: 85px;
          border: 2px solid #e91e63;
          background: #ffffff;
          display: flex;
          align-items: center;
          justify-content: center;
          margin: 0 auto 8px;
          border-radius: 8px;
          box-shadow: 0 2px 8px rgba(233, 30, 99, 0.2);
        }

        .qr-image {
          width: 100%;
          height: 100%;
          object-fit: contain;
        }

        .qr-fallback {
          font-size: 8px;
          color: #666;
          text-align: center;
        }

        .qr-student-id {
          font-size: 6px;
          margin-top: 2px;
        }

        .enrollment-id {
          font-size: 10px;
          color: #333;
          font-weight: bold;
          word-break: break-all;
        }

         .logo-container {
           width: 85px;
           height: 85px;
           border: 2px solid #e91e63;
           border-radius: 50%;
           background: linear-gradient(135deg, #f8f8f8, #ffffff);
           display: flex;
           align-items: center;
           justify-content: center;
           margin: 0 auto 10px;
           box-shadow: 0 4px 12px rgba(233, 30, 99, 0.2);
           overflow: hidden;
         }

         .petf-logo {
           width: 100%;
           height: 100%;
           object-fit: contain;
           border-radius: 50%;
         }

         .logo-text {
           font-size: 24px;
           font-weight: bold;
           color: #6a1b9a;
           text-shadow: 1px 1px 2px rgba(106, 27, 154, 0.3);
         }

        .qr-label, .enrollment-label, .petf-label {
          font-size: 9px;
          color: #666;
          font-weight: 600;
        }

        .certificate-number {
          font-size: 9px;
          color: #666;
          margin-top: 5px;
        }

        .marksheet-student-info {
          margin-bottom: 20px;
          padding: 15px 20px;
          background: linear-gradient(90deg, #f3e5f5, #ffffff);
          border-left: 4px solid #e91e63;
          border-radius: 4px;
        }

        .student-info-row {
          margin-bottom: 10px;
          font-size: 11px;
        }

        .table-section {
          margin-bottom: 20px;
          overflow: hidden;
          border-radius: 8px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .marksheet-table {
          width: 100%;
          border-collapse: collapse;
          font-size: 10px;
          background: white;
        }

        .table-header-main th {
          background: linear-gradient(135deg, #6a1b9a, #8e24aa);
          color: white;
          font-weight: bold;
          padding: 8px 4px;
          text-align: center;
          border: 1px solid #4a148c;
        }

        .serial-header {
          width: 8%;
        }

        .subject-header {
          width: 45%;
        }

        .max-header, .obtained-header {
          width: 15%;
        }

        .grade-header {
          width: 17%;
        }

        .subject-row {
          transition: background-color 0.3s ease;
        }

        .subject-row:nth-child(even) {
          background: linear-gradient(90deg, #fafafa, #ffffff);
        }

        .subject-row:hover {
          background: linear-gradient(90deg, #f3e5f5, #fce4ec);
        }

        .serial-cell, .marks-cell, .grade-cell {
          text-align: center;
          padding: 6px 4px;
          border: 1px solid #ddd;
          font-size: 10px;
        }

        .subject-cell {
          text-align: left;
          padding: 6px 8px;
          border: 1px solid #ddd;
          font-size: 10px;
          word-wrap: break-word;
          max-width: 200px;
        }

        .total-row {
          background: linear-gradient(135deg, #f5f5f5, #e8e8e8);
          font-weight: bold;
        }

        .total-row .total-label {
          background: #6a1b9a;
          color: white;
        }

        .grand-total {
          background: #e91e63 !important;
          color: white !important;
          font-weight: bold;
        }

        .overall-grade {
          background: #4caf50 !important;
          color: white !important;
          font-weight: bold;
        }

        .marksheet-summary {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 25px;
          padding: 15px 20px;
          background: linear-gradient(135deg, #f8f8f8, #ffffff);
          border-radius: 8px;
          border: 1px solid #e0e0e0;
        }

        .summary-left {
          flex: 1;
          margin-right: 20px;
        }

        .summary-item {
          margin-bottom: 10px;
          font-size: 11px;
        }

        .summary-right {
          flex: 0 0 200px;
          text-align: right;
        }

        .grade-display {
          margin-bottom: 30px;
          font-size: 14px;
          padding: 10px;
          background: linear-gradient(135deg, #e91e63, #f06292);
          color: white;
          border-radius: 6px;
          text-align: center;
        }

        .signatures {
          display: flex;
          justify-content: space-between;
          margin-top: 40px;
        }

        .signature-item {
          text-align: center;
          flex: 1;
          margin: 0 10px;
        }

        .signature-line {
          border-bottom: 2px solid #333;
          width: 80px;
          margin: 0 auto 8px;
        }

        .signature-label {
          font-size: 9px;
          color: #666;
        }

        .marksheet-footer {
          position: relative;
          margin-top: 30px;
          padding-top: 20px;
          border-top: 2px solid #e91e63;
        }

        .marksheet-gov-logos {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 15px;
          padding: 15px 0;
          background: linear-gradient(90deg, #f3e5f5, #ffffff, #f3e5f5);
          border-radius: 6px;
          border: 1px solid #e1bee7;
        }

        .gov-logo-item {
          text-align: center;
          flex: 1;
          padding: 0 10px;
        }

        .gov-title {
          font-size: 10px;
          font-weight: bold;
          margin-bottom: 5px;
          color: #6a1b9a;
        }

        .gov-subtitle {
          font-size: 7px;
          color: #666;
          margin-bottom: 2px;
        }

        .disclaimer {
          margin-bottom: 15px;
          padding: 10px;
          background: #fff3e0;
          border-left: 4px solid #ff9800;
          border-radius: 4px;
        }

        .disclaimer-item {
          font-size: 7px;
          color: #666;
          margin-bottom: 3px;
        }

        .marksheet-grade-scale {
          margin-top: 10px;
        }

        .grade-scale-table {
          width: 100%;
          border-collapse: collapse;
          font-size: 7px;
          border: 2px solid #6a1b9a;
          border-radius: 4px;
          overflow: hidden;
        }

        .grade-scale-table th {
          background: linear-gradient(135deg, #6a1b9a, #8e24aa);
          color: white;
          padding: 5px;
          text-align: center;
          font-weight: bold;
          border: 1px solid #4a148c;
        }

        .grade-scale-table td {
          padding: 4px;
          text-align: center;
          border: 1px solid #ddd;
          background: white;
        }

        .grade-scale-table tbody tr:nth-child(even) td {
          background: #f9f9f9;
        }

        @media print {
          .marksheet-template {
            margin: 0 !important;
            padding: 10mm !important;
            box-shadow: none !important;
            background: white !important;
            page-break-inside: auto;
          }

          .marksheet-header {
            page-break-after: avoid;
          }

          .table-section {
            page-break-inside: avoid;
          }

          .marksheet-summary {
            page-break-before: avoid;
          }

          .marksheet-footer {
            page-break-before: avoid;
          }

          @page {
            size: A4;
            margin: 10mm;
          }
        }

        @media (max-width: 768px) {
          .marksheet-template {
            width: 100% !important;
            min-height: auto !important;
            padding: 15px !important;
          }

          .top-section {
            flex-direction: column;
            gap: 15px;
            align-items: center;
          }

          .marksheet-summary {
            flex-direction: column;
            gap: 20px;
          }

          .marksheet-gov-logos {
            flex-direction: column;
            gap: 15px;
          }

          .signatures {
            flex-direction: column;
            gap: 20px;
            align-items: center;
          }
        }
      `})]})},p3=C.forwardRef(({marksheetData:e,onAfterPrint:t,onBeforePrint:s},n)=>{const a=C.useRef(null),i=async()=>{try{if(console.log("Starting PDF generation..."),s&&await s(),!a.current)throw new Error("Component ref not found");const l=a.current.querySelectorAll("img");await Promise.all(Array.from(l).map(b=>b.complete&&b.naturalWidth>0?Promise.resolve():new Promise(g=>{const k=setTimeout(()=>g(),3e3);b.onload=()=>{clearTimeout(k),g()},b.onerror=()=>{clearTimeout(k),g()}}))),await new Promise(b=>setTimeout(b,1500)),console.log("Component dimensions:",{width:a.current.scrollWidth,height:a.current.scrollHeight,offsetWidth:a.current.offsetWidth,offsetHeight:a.current.offsetHeight});const o=await X1(a.current,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:a.current.scrollWidth,height:a.current.scrollHeight,logging:!0});console.log("Canvas generated:",{width:o.width,height:o.height});const A=210,c=297,h=c-10*2,p=o.height*A/o.width;let m=p,y=1;const v=new $e("p","mm","a4");let B=0;const x=o.toDataURL("image/png");for(v.addImage(x,"PNG",0,B,A,p),m-=h;m>0;)B=m-p,v.addPage(),y++,v.setFontSize(8),v.setTextColor(128,128,128),v.text(`Page ${y}`,A-20,c-5),v.addImage(x,"PNG",0,B,A,p),m-=h;v.setFontSize(8),v.setTextColor(128,128,128),v.text("Page 1",A-20,c-5);const N=`Marksheet_${e.marksheetNumber}_${e.student.studentId}.pdf`;v.save(N),console.log("PDF generated successfully:",N),t&&await t()}catch(l){throw console.error("Error generating PDF:",l),l}};return C.useImperativeHandle(n,()=>({printMarksheet:()=>{console.log("Print marksheet called"),i()},downloadPDF:()=>{console.log("Download PDF called"),console.log("Component ref:",a.current),console.log("Marksheet data:",e),i()}})),r.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",width:"210mm",minHeight:"297mm",backgroundColor:"white",zIndex:-1,overflow:"visible"},children:r.jsx("div",{ref:a,style:{width:"100%",minHeight:"100%",overflow:"visible"},children:r.jsx(TM,{marksheetData:e})})})});p3.displayName="MarksheetPDFGenerator";const x3=({isOpen:e,onClose:t,student:s})=>{const[n,a]=C.useState(!1),[i,l]=C.useState(null),[o,A]=C.useState(1),[c,d]=C.useState({academicYear:"",semester:"",examinationType:"",result:"",status:""}),[h,p]=C.useState(null),[m,y]=C.useState(!1),v=C.useRef(null),B=async()=>{if(s!=null&&s._id){a(!0);try{const S=await Tm.getStudentMarksheets(s._id,o,10,c);S.success&&S.data?l(S.data):Ue.error("Failed to load marksheets")}catch(S){console.error("Error loading marksheets:",S),Ue.error("Error loading marksheets")}finally{a(!1)}}};C.useEffect(()=>{e&&(s!=null&&s._id)&&B()},[e,s==null?void 0:s._id,o,c]);const x=(S,G)=>{d(L=>({...L,[S]:G})),A(1)},N=S=>{p(S),y(!0)},b=()=>{p(null),y(!1)},g=S=>{try{console.log("Download PDF clicked for marksheet:",S.marksheetNumber),p(S),setTimeout(()=>{console.log("PDF generator ref:",v.current),v.current?(console.log("Triggering PDF download..."),v.current.downloadPDF(),Ue.success("PDF download started!")):(console.error("PDF generator ref is null"),Ue.error("PDF generator not ready. Please try again."))},500)}catch(G){console.error("Error downloading PDF:",G),Ue.error("Failed to download PDF")}},k=S=>new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),_=S=>{switch(S.toLowerCase()){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},I=S=>{switch(S.toLowerCase()){case"pass":return"bg-green-100 text-green-800";case"fail":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},U=S=>S.includes("A+")||S.includes("A")?"text-green-600 font-semibold":S.includes("B")?"text-blue-600 font-semibold":S.includes("C")?"text-yellow-600 font-semibold":"text-red-600 font-semibold";return e?r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-7xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-sky-100 rounded-lg",children:r.jsx(Xt,{className:"w-6 h-6 text-sky-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"View Marksheets"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[s.firstName," ",s.lastName," (",s.studentId,")"]})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(jt,{className:"w-5 h-5 text-gray-500"})})]}),(i==null?void 0:i.statistics)&&r.jsx("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xt,{className:"w-5 h-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.statistics.totalMarksheets})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(it,{className:"w-5 h-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Verified"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.statistics.verifiedMarksheets})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Jr,{className:"w-5 h-5 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Published"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.statistics.publishedMarksheets})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dr,{className:"w-5 h-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Passed"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.statistics.passCount})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Kt,{className:"w-5 h-5 text-red-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Failed"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.statistics.failCount})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Jr,{className:"w-5 h-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg %"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[i.statistics.averagePercentage.toFixed(1),"%"]})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Jr,{className:"w-5 h-5 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg CGPA"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.statistics.averageCGPA.toFixed(2)})]})]})})]})}),r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Academic Year"}),r.jsxs("select",{value:c.academicYear,onChange:S=>x("academicYear",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Years"}),r.jsx("option",{value:"2024-25",children:"2024-25"}),r.jsx("option",{value:"2023-24",children:"2023-24"}),r.jsx("option",{value:"2022-23",children:"2022-23"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),r.jsxs("select",{value:c.semester,onChange:S=>x("semester",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Semesters"}),r.jsx("option",{value:"1st",children:"1st Semester"}),r.jsx("option",{value:"2nd",children:"2nd Semester"}),r.jsx("option",{value:"3rd",children:"3rd Semester"}),r.jsx("option",{value:"4th",children:"4th Semester"}),r.jsx("option",{value:"5th",children:"5th Semester"}),r.jsx("option",{value:"6th",children:"6th Semester"}),r.jsx("option",{value:"7th",children:"7th Semester"}),r.jsx("option",{value:"8th",children:"8th Semester"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exam Type"}),r.jsxs("select",{value:c.examinationType,onChange:S=>x("examinationType",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"Regular",children:"Regular"}),r.jsx("option",{value:"Supplementary",children:"Supplementary"}),r.jsx("option",{value:"Backlog",children:"Backlog"}),r.jsx("option",{value:"Improvement",children:"Improvement"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Result"}),r.jsxs("select",{value:c.result,onChange:S=>x("result",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Results"}),r.jsx("option",{value:"PASS",children:"Pass"}),r.jsx("option",{value:"FAIL",children:"Fail"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:c.status,onChange:S=>x("status",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"published",children:"Published"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"pending",children:"Pending"})]})]})]})}),r.jsx("div",{className:"flex-1 overflow-auto",children:n?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-6 h-6 border-2 border-sky-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-gray-600",children:"Loading marksheets..."})]})}):i!=null&&i.marksheets&&i.marksheets.length>0?r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"space-y-4",children:i.marksheets.map(S=>r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.marksheetNumber}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(S.status)}`,children:S.status}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I(S.result)}`,children:S.result}),S.isVerified&&r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Verified"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Course"}),r.jsx("p",{className:"font-medium text-gray-900",children:S.course.title}),r.jsx("p",{className:"text-sm text-gray-500",children:S.course.category})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Batch"}),r.jsx("p",{className:"font-medium text-gray-900",children:S.batch.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[k(S.batch.startDate)," - ",k(S.batch.endDate)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Academic Year & Semester"}),r.jsxs("p",{className:"font-medium text-gray-900",children:[S.academicYear," - ",S.semester]}),r.jsx("p",{className:"text-sm text-gray-500",children:S.examinationType})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Marks"}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[S.totalMarks,"/",S.maxTotalMarks]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Percentage"}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[S.percentage.toFixed(1),"%"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"CGPA"}),r.jsx("p",{className:"font-semibold text-gray-900",children:S.cgpa.toFixed(2)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Grade"}),r.jsx("p",{className:`font-semibold ${U(S.overallGrade)}`,children:S.overallGrade})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Mt,{className:"w-4 h-4"}),r.jsxs("span",{children:["Exam: ",k(S.examinationDate)]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Mt,{className:"w-4 h-4"}),r.jsxs("span",{children:["Result: ",k(S.resultDate)]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(dr,{className:"w-4 h-4"}),r.jsxs("span",{children:["Created by: ",S.createdBy.firstName," ",S.createdBy.lastName]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx("button",{onClick:()=>N(S),className:"p-2 text-sky-600 hover:bg-sky-50 rounded-lg transition-colors",title:"View Details",children:r.jsx(_r,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>g(S),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download PDF",children:r.jsx(hs,{className:"w-5 h-5"})})]})]})},S.marksheetNumber))}),i.pagination.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(o-1)*10+1," to ",Math.min(o*10,i.pagination.totalMarksheets)," of ",i.pagination.totalMarksheets," marksheets"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>A(S=>Math.max(1,S-1)),disabled:!i.pagination.hasPrevPage,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsxs("span",{className:"px-3 py-2 text-sm text-gray-700",children:["Page ",o," of ",i.pagination.totalPages]}),r.jsx("button",{onClick:()=>A(S=>S+1),disabled:!i.pagination.hasNextPage,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Xt,{className:"w-16 h-16 text-gray-300 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No marksheets found"}),r.jsxs("p",{className:"text-gray-500 text-center max-w-md",children:[s.firstName," ",s.lastName," doesn't have any marksheets yet."]})]})}),r.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-200 bg-gray-50",children:r.jsx("button",{onClick:t,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})})]}),m&&h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Marksheet Details - ",h.marksheetNumber]}),r.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(jt,{className:"w-5 h-5 text-gray-500"})})]}),r.jsx("div",{className:"p-6 overflow-auto max-h-[calc(90vh-120px)]",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Student Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),r.jsx("p",{className:"font-medium",children:i==null?void 0:i.student.fullName})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Student ID"}),r.jsx("p",{className:"font-medium",children:i==null?void 0:i.student.studentId})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Department"}),r.jsx("p",{className:"font-medium",children:i==null?void 0:i.student.department})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Year"}),r.jsx("p",{className:"font-medium",children:i==null?void 0:i.student.year})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Course & Batch Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Course"}),r.jsx("p",{className:"font-medium",children:h.course.title}),r.jsx("p",{className:"text-sm text-gray-500",children:h.course.category})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Batch"}),r.jsx("p",{className:"font-medium",children:h.batch.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[k(h.batch.startDate)," - ",k(h.batch.endDate)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Instructor"}),r.jsx("p",{className:"font-medium",children:h.course.instructor})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Duration"}),r.jsx("p",{className:"font-medium",children:h.course.duration})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Academic Information"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Academic Year"}),r.jsx("p",{className:"font-medium",children:h.academicYear})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Semester"}),r.jsx("p",{className:"font-medium",children:h.semester})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Exam Type"}),r.jsx("p",{className:"font-medium",children:h.examinationType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Result"}),r.jsx("p",{className:`font-medium ${h.result==="PASS"?"text-green-600":"text-red-600"}`,children:h.result})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Marks"}),r.jsxs("p",{className:"font-semibold text-lg",children:[h.totalMarks,"/",h.maxTotalMarks]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Percentage"}),r.jsxs("p",{className:"font-semibold text-lg",children:[h.percentage.toFixed(1),"%"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"CGPA"}),r.jsx("p",{className:"font-semibold text-lg",children:h.cgpa.toFixed(2)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Grade"}),r.jsx("p",{className:`font-semibold text-lg ${U(h.overallGrade)}`,children:h.overallGrade})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Subject-wise Performance"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Subject"}),r.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Code"}),r.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Credits"}),r.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Marks"}),r.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Grade"}),r.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Points"})]})}),r.jsx("tbody",{children:h.subjects.map((S,G)=>r.jsxs("tr",{className:"border-b border-gray-100",children:[r.jsx("td",{className:"py-2 text-sm font-medium",children:S.subjectName}),r.jsx("td",{className:"py-2 text-sm text-gray-600",children:S.subjectCode}),r.jsx("td",{className:"py-2 text-sm text-gray-600",children:S.credits}),r.jsxs("td",{className:"py-2 text-sm text-gray-600",children:[S.marksObtained,"/",S.maxMarks]}),r.jsx("td",{className:`py-2 text-sm font-medium ${U(S.grade)}`,children:S.grade}),r.jsx("td",{className:"py-2 text-sm text-gray-600",children:S.gradePoints})]},G))})]})})]}),h.remarks&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Remarks"}),r.jsx("p",{className:"text-gray-700",children:h.remarks})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Verification Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),r.jsx("p",{className:"font-medium",children:h.isVerified?"Verified":"Not Verified"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Verification Code"}),r.jsx("p",{className:"font-medium font-mono text-sm",children:h.verificationCode})]}),h.verifiedBy&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Verified By"}),r.jsxs("p",{className:"font-medium",children:[h.verifiedBy.firstName," ",h.verifiedBy.lastName]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Created"}),r.jsx("p",{className:"font-medium",children:k(h.createdAt)})]})]})]})]})}),r.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-200 bg-gray-50",children:r.jsx("button",{onClick:b,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})})]})}),h&&i&&r.jsx(p3,{ref:v,marksheetData:{marksheetNumber:h.marksheetNumber,student:{firstName:i.student.firstName,lastName:i.student.lastName,studentId:i.student.studentId,dateOfBirth:"",email:i.student.email,department:i.student.department,year:i.student.year},course:{title:h.course.title,category:h.course.category,duration:h.course.duration},batch:{name:h.batch.name,startDate:h.batch.startDate,endDate:h.batch.endDate},academicYear:h.academicYear,semester:h.semester,examinationType:h.examinationType,subjects:h.subjects,totalMarks:h.totalMarks,maxTotalMarks:h.maxTotalMarks,percentage:h.percentage,cgpa:h.cgpa,overallGrade:h.overallGrade,result:h.result,examinationDate:h.examinationDate,resultDate:h.resultDate,remarks:h.remarks,verificationCode:h.verificationCode,isVerified:h.isVerified},onAfterPrint:async()=>{console.log("PDF download completed")},onBeforePrint:async()=>{console.log("PDF download starting"),console.log("Selected marksheet:",h),console.log("Student data:",i.student)}})]}):null},g3=({isOpen:e,onClose:t,student:s,onSuccess:n})=>{const[a,i]=C.useState(!1),[l,o]=C.useState({}),[A,c]=C.useState({studentId:"",courseId:"",batchId:"",academicYear:"",semester:"",examinationType:"Regular",subjects:[{subjectName:"",subjectCode:"",credits:0,marksObtained:0,maxMarks:100,grade:"",gradePoints:0}],examinationDate:"",resultDate:"",remarks:""}),d=()=>s!=null&&s.enrollments?s.enrollments.map(g=>({_id:g.course.id,title:g.course.title,category:g.course.category,type:g.course.type,instructor:{name:g.course.instructor.name,email:g.course.instructor.email,phone:g.course.instructor.phone,bio:g.course.instructor.bio},duration:g.course.duration,durationUnit:g.course.durationUnit,price:g.course.price,currency:g.course.currency})):[],h=g=>s!=null&&s.enrollments?s.enrollments.filter(k=>k.course.id===g).map(k=>({_id:k.batch.id,name:k.batch.name,startDate:k.batch.startDate,endDate:k.batch.endDate,maxStudents:k.batch.maxStudents,price:k.batch.price,currency:k.batch.currency,timeSlots:k.batch.timeSlots})):[];C.useEffect(()=>{if(s&&(c(g=>({...g,studentId:s._id})),s.enrollments&&s.enrollments.length===1)){const g=s.enrollments[0];c(k=>({...k,courseId:g.course.id,batchId:g.batch.id}))}},[s]),C.useEffect(()=>{if(A.courseId){const g=h(A.courseId);g.length===1?c(k=>({...k,batchId:g[0]._id})):c(k=>({...k,batchId:""}))}else c(g=>({...g,batchId:""}))},[A.courseId]);const p=(g,k)=>{c(_=>({..._,[g]:k})),l[g]&&o(_=>({..._,[g]:""}))},m=(g,k,_)=>{const I=[...A.subjects];if(I[g]={...I[g],[k]:_},k==="marksObtained"||k==="maxMarks"){const U=k==="marksObtained"?_:I[g].marksObtained,S=k==="maxMarks"?_:I[g].maxMarks;if(U&&S&&S>0){const G=U/S*100,{grade:L,gradePoints:P}=Tm.calculateGrade(G);I[g].grade=L,I[g].gradePoints=P}}c(U=>({...U,subjects:I}))},y=()=>{c(g=>({...g,subjects:[...g.subjects,{subjectName:"",subjectCode:"",credits:0,marksObtained:0,maxMarks:100,grade:"",gradePoints:0}]}))},v=g=>{A.subjects.length>1&&c(k=>({...k,subjects:k.subjects.filter((_,I)=>I!==g)}))},B=()=>{const g={};return(!(s!=null&&s.enrollments)||s.enrollments.length===0)&&(g.enrollments="Student must have at least one enrollment to generate marksheet"),A.courseId||(g.courseId="Course is required"),A.batchId||(g.batchId="Batch is required"),A.academicYear||(g.academicYear="Academic year is required"),A.semester||(g.semester="Semester is required"),A.examinationDate||(g.examinationDate="Examination date is required"),A.resultDate||(g.resultDate="Result date is required"),A.subjects.forEach((k,_)=>{k.subjectName||(g[`subject_${_}_name`]="Subject name is required"),k.subjectCode||(g[`subject_${_}_code`]="Subject code is required"),k.credits<=0&&(g[`subject_${_}_credits`]="Credits must be greater than 0"),k.marksObtained<0&&(g[`subject_${_}_marks`]="Marks cannot be negative"),k.maxMarks<=0&&(g[`subject_${_}_maxMarks`]="Max marks must be greater than 0"),k.marksObtained>k.maxMarks&&(g[`subject_${_}_marks`]="Marks cannot exceed max marks")}),o(g),Object.keys(g).length===0},x=async g=>{if(g.preventDefault(),!B()){Ue.error("Please fix the errors in the form");return}i(!0);try{const k=await Tm.createMarksheet(A);if(k.success)Ue.success(" Marksheet generated successfully!",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),n==null||n(),t();else throw new Error(k.message||"Failed to generate marksheet")}catch(k){console.error("Error generating marksheet:",k);const _=k instanceof Error?k.message:"An unknown error occurred";Ue.error(` Failed to generate marksheet: ${_}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{i(!1)}},N=async()=>{if(!A.studentId||!A.courseId||!A.batchId){Ue.error("Please fill in the basic information (Student, Course, Batch)");return}i(!0);try{const g={...A,status:"draft"},k=await Tm.createMarksheet(g);if(k.success)Ue.success(" Marksheet saved as draft!",{duration:3e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}}),n==null||n(),t();else throw new Error(k.message||"Failed to save draft")}catch(g){console.error("Error saving draft:",g);const k=g instanceof Error?g.message:"An unknown error occurred";Ue.error(` Failed to save draft: ${k}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{i(!1)}},b=()=>{c({studentId:"",courseId:"",batchId:"",academicYear:"",semester:"",examinationType:"Regular",subjects:[{subjectName:"",subjectCode:"",credits:0,marksObtained:0,maxMarks:100,grade:"",gradePoints:0}],examinationDate:"",resultDate:"",remarks:""}),o({}),t()};return!e||!s?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-sky-100 rounded-lg flex items-center justify-center",children:r.jsx(Xt,{className:"w-5 h-5 text-sky-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Generate Marksheet"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Create marksheet for ",s.firstName," ",s.lastName]})]})]}),r.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(jt,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:x,className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(dr,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Student Information"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student ID"}),r.jsx("p",{className:"text-sm text-gray-900 bg-white px-3 py-2 rounded border",children:s.studentId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsxs("p",{className:"text-sm text-gray-900 bg-white px-3 py-2 rounded border",children:[s.firstName," ",s.lastName]})]})]}),s.enrollments&&s.enrollments.length>0?r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Enrollments for Marksheet Generation"}),r.jsx("div",{className:"space-y-2",children:s.enrollments.map((g,k)=>r.jsx("div",{className:"bg-white p-3 rounded border",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:g.course.title}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Batch: ",g.batch.name]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Status: ",r.jsx("span",{className:`px-2 py-1 rounded text-xs ${g.status==="enrolled"?"bg-green-100 text-green-800":g.status==="completed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:g.status})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Progress: ",g.progress.overallProgress,"%"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Payment: ",r.jsx("span",{className:`px-2 py-1 rounded text-xs ${g.paymentStatus==="paid"?"bg-green-100 text-green-800":g.paymentStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:g.paymentStatus})]})]})]})},k))})]}):r.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Nt,{className:"w-5 h-5 text-yellow-600"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"No Enrollments Found"}),r.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"This student has no course enrollments. Please enroll the student in a course before generating a marksheet."})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Course ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:A.courseId,onChange:g=>p("courseId",g.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.courseId?"border-red-500":"border-gray-300"}`,disabled:!(s!=null&&s.enrollments)||s.enrollments.length===0,children:[r.jsx("option",{value:"",children:"Select Course"}),d().map(g=>r.jsxs("option",{value:g._id,children:[g.title," - ",g.category]},g._id))]}),l.courseId&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx(Nt,{className:"w-4 h-4 mr-1"}),l.courseId]}),(!(s!=null&&s.enrollments)||s.enrollments.length===0)&&r.jsxs("p",{className:"text-yellow-600 text-sm mt-1 flex items-center",children:[r.jsx(Nt,{className:"w-4 h-4 mr-1"}),"No enrollments found for this student"]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Batch ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:A.batchId,onChange:g=>p("batchId",g.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.batchId?"border-red-500":"border-gray-300"}`,disabled:!A.courseId,children:[r.jsx("option",{value:"",children:"Select Batch"}),h(A.courseId).map(g=>r.jsx("option",{value:g._id,children:g.name},g._id))]}),l.batchId&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx(Nt,{className:"w-4 h-4 mr-1"}),l.batchId]}),A.courseId&&h(A.courseId).length===0&&r.jsxs("p",{className:"text-yellow-600 text-sm mt-1 flex items-center",children:[r.jsx(Nt,{className:"w-4 h-4 mr-1"}),"No batches found for the selected course"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Academic Year ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:A.academicYear,onChange:g=>p("academicYear",g.target.value),placeholder:"e.g., 2024-25",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.academicYear?"border-red-500":"border-gray-300"}`}),l.academicYear&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx(Nt,{className:"w-4 h-4 mr-1"}),l.academicYear]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Semester ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:A.semester,onChange:g=>p("semester",g.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.semester?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:"Select Semester"}),r.jsx("option",{value:"1st",children:"1st Semester"}),r.jsx("option",{value:"2nd",children:"2nd Semester"}),r.jsx("option",{value:"3rd",children:"3rd Semester"}),r.jsx("option",{value:"4th",children:"4th Semester"}),r.jsx("option",{value:"5th",children:"5th Semester"}),r.jsx("option",{value:"6th",children:"6th Semester"}),r.jsx("option",{value:"7th",children:"7th Semester"}),r.jsx("option",{value:"8th",children:"8th Semester"})]}),l.semester&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx(Nt,{className:"w-4 h-4 mr-1"}),l.semester]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Examination Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:A.examinationType,onChange:g=>p("examinationType",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Regular",children:"Regular"}),r.jsx("option",{value:"Supplementary",children:"Supplementary"}),r.jsx("option",{value:"Improvement",children:"Improvement"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Examination Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:A.examinationDate,onChange:g=>p("examinationDate",g.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.examinationDate?"border-red-500":"border-gray-300"}`}),l.examinationDate&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx(Nt,{className:"w-4 h-4 mr-1"}),l.examinationDate]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Result Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:A.resultDate,onChange:g=>p("resultDate",g.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.resultDate?"border-red-500":"border-gray-300"}`}),l.resultDate&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx(Nt,{className:"w-4 h-4 mr-1"}),l.resultDate]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(es,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Subjects"})]}),r.jsxs("button",{type:"button",onClick:y,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Subject"})]})]}),r.jsx("div",{className:"space-y-4",children:A.subjects.map((g,k)=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h4",{className:"font-medium text-gray-800",children:["Subject ",k+1]}),A.subjects.length>1&&r.jsx("button",{type:"button",onClick:()=>v(k),className:"text-red-500 hover:text-red-700 transition-colors",children:r.jsx(ia,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Subject Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:g.subjectName,onChange:_=>m(k,"subjectName",_.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l[`subject_${k}_name`]?"border-red-500":"border-gray-300"}`}),l[`subject_${k}_name`]&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:l[`subject_${k}_name`]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Subject Code ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:g.subjectCode,onChange:_=>m(k,"subjectCode",_.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l[`subject_${k}_code`]?"border-red-500":"border-gray-300"}`}),l[`subject_${k}_code`]&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:l[`subject_${k}_code`]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Credits ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",min:"1",value:g.credits,onChange:_=>m(k,"credits",parseInt(_.target.value)||0),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l[`subject_${k}_credits`]?"border-red-500":"border-gray-300"}`}),l[`subject_${k}_credits`]&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:l[`subject_${k}_credits`]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Max Marks ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",min:"1",value:g.maxMarks,onChange:_=>m(k,"maxMarks",parseInt(_.target.value)||0),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l[`subject_${k}_maxMarks`]?"border-red-500":"border-gray-300"}`}),l[`subject_${k}_maxMarks`]&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:l[`subject_${k}_maxMarks`]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Marks Obtained ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",min:"0",max:g.maxMarks,value:g.marksObtained,onChange:_=>m(k,"marksObtained",parseInt(_.target.value)||0),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l[`subject_${k}_marks`]?"border-red-500":"border-gray-300"}`}),l[`subject_${k}_marks`]&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:l[`subject_${k}_marks`]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grade"}),r.jsx("input",{type:"text",value:g.grade,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grade Points"}),r.jsx("input",{type:"number",value:g.gradePoints,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Percentage"}),r.jsx("input",{type:"number",value:g.maxMarks>0?(g.marksObtained/g.maxMarks*100).toFixed(2):0,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]})]})]},k))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),r.jsx("textarea",{value:A.remarks,onChange:g=>p("remarks",g.target.value),rows:3,placeholder:"Enter any remarks or comments...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Marksheet Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Subjects"}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:A.subjects.length})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Marks"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[A.subjects.reduce((g,k)=>g+k.marksObtained,0)," / ",A.subjects.reduce((g,k)=>g+k.maxMarks,0)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Overall Percentage"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[A.subjects.reduce((g,k)=>g+k.maxMarks,0)>0?(A.subjects.reduce((g,k)=>g+k.marksObtained,0)/A.subjects.reduce((g,k)=>g+k.maxMarks,0)*100).toFixed(2):0,"%"]})]})]})]})]}),r.jsxs("div",{className:"fixed bottom-6 right-6 flex flex-col space-y-3 z-10",children:[r.jsxs("button",{type:"button",onClick:N,disabled:a||!(s!=null&&s.enrollments)||s.enrollments.length===0,className:"px-4 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-full shadow-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Save Draft",children:[r.jsx(DA,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Save Draft"})]}),r.jsxs("button",{type:"button",onClick:x,disabled:a||!(s!=null&&s.enrollments)||s.enrollments.length===0,className:"px-4 py-3 bg-sky-500 hover:bg-sky-600 text-white rounded-full shadow-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Generate Marksheet",children:[r.jsx(DA,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Generate"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[r.jsx("button",{type:"button",onClick:N,disabled:a||!(s!=null&&s.enrollments)||s.enrollments.length===0,className:"px-6 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(DA,{className:"w-4 h-4"}),r.jsx("span",{children:"Save Draft"})]})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{type:"button",onClick:b,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",onClick:x,disabled:a||!(s!=null&&s.enrollments)||s.enrollments.length===0,className:"px-6 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Generating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(DA,{className:"w-4 h-4"}),r.jsx("span",{children:"Generate Marksheet"})]})})]})]})]})})},RM=({isOpen:e,onClose:t,student:s,marksheetNumber:n,onSuccess:a})=>{var v,B,x,N,b;const[i,l]=C.useState(!1),[o,A]=C.useState({certificateType:"Completion",certificateTitle:"",description:"",achievements:[],deliveryMethod:"Digital",deliveryAddress:{street:"",city:"",state:"",zipCode:"",country:"India"}}),[c,d]=C.useState({title:"",description:"",date:""}),h=g=>{const{name:k,value:_}=g.target;if(k.startsWith("deliveryAddress.")){const I=k.split(".")[1];A(U=>({...U,deliveryAddress:{...U.deliveryAddress,[I]:_}}))}else A(I=>({...I,[k]:_}))},p=()=>{c.title&&c.description&&c.date&&(A(g=>({...g,achievements:[...g.achievements||[],{...c}]})),d({title:"",description:"",date:""}))},m=g=>{A(k=>{var _;return{...k,achievements:((_=k.achievements)==null?void 0:_.filter((I,U)=>U!==g))||[]}})},y=async g=>{if(g.preventDefault(),!n){fr.error("Marksheet number is required");return}l(!0);try{const k=await U1.generateCertificateFromMarksheet(n,o);k.success?(fr.success("Certificate generated successfully!"),a==null||a(),t()):fr.error(k.message||"Failed to generate certificate")}catch(k){console.error("Error generating certificate:",k),fr.error(k.message||"Failed to generate certificate")}finally{l(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Jr,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Generate Certificate"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Create a certificate from marksheet for ",s.firstName," ",s.lastName]})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(jt,{className:"w-5 h-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(dr,{className:"w-5 h-5"}),"Student Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Name"}),r.jsxs("p",{className:"text-sm text-gray-900",children:[s.firstName," ",s.lastName]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student ID"}),r.jsx("p",{className:"text-sm text-gray-900",children:s.studentId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("p",{className:"text-sm text-gray-900",children:s.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),r.jsx("p",{className:"text-sm text-gray-900",children:s.department||"N/A"})]})]})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Xt,{className:"w-5 h-5"}),"Marksheet Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marksheet Number"}),r.jsx("p",{className:"text-sm text-gray-900 font-mono",children:n})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Ready for Certificate Generation"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[r.jsx(Ur,{className:"w-5 h-5"}),"Certificate Details"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"certificateType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate Type *"}),r.jsxs("select",{id:"certificateType",name:"certificateType",value:o.certificateType,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"Completion",children:"Completion Certificate"}),r.jsx("option",{value:"Achievement",children:"Achievement Certificate"}),r.jsx("option",{value:"Excellence",children:"Excellence Certificate"}),r.jsx("option",{value:"Participation",children:"Participation Certificate"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"deliveryMethod",className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Method *"}),r.jsxs("select",{id:"deliveryMethod",name:"deliveryMethod",value:o.deliveryMethod,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"Digital",children:"Digital"}),r.jsx("option",{value:"Physical",children:"Physical"}),r.jsx("option",{value:"Both",children:"Both"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"certificateTitle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate Title"}),r.jsx("input",{type:"text",id:"certificateTitle",name:"certificateTitle",value:o.certificateTitle,onChange:h,placeholder:"e.g., Completion Certificate - Web Development",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{id:"description",name:"description",value:o.description,onChange:h,rows:3,placeholder:"Additional description for the certificate...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[r.jsx(Jr,{className:"w-5 h-5"}),"Achievements (Optional)"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"achievementTitle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Achievement Title"}),r.jsx("input",{type:"text",id:"achievementTitle",value:c.title,onChange:g=>d(k=>({...k,title:g.target.value})),placeholder:"e.g., Top Performer",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"achievementDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),r.jsx("input",{type:"date",id:"achievementDate",value:c.date,onChange:g=>d(k=>({...k,date:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{type:"button",onClick:p,className:"w-full px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Add Achievement"})})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"achievementDescription",className:"block text-sm font-medium text-gray-700 mb-1",children:"Achievement Description"}),r.jsx("textarea",{id:"achievementDescription",value:c.description,onChange:g=>d(k=>({...k,description:g.target.value})),rows:2,placeholder:"Description of the achievement...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),o.achievements&&o.achievements.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Added Achievements:"}),o.achievements.map((g,k)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:g.title}),r.jsx("p",{className:"text-xs text-gray-500",children:g.description}),r.jsx("p",{className:"text-xs text-gray-400",children:new Date(g.date).toLocaleDateString()})]}),r.jsx("button",{type:"button",onClick:()=>m(k),className:"text-red-500 hover:text-red-700",children:r.jsx(jt,{className:"w-4 h-4"})})]},k))]})]}),o.deliveryMethod==="Physical"||o.deliveryMethod==="Both"?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[r.jsx(Hl,{className:"w-5 h-5"}),"Delivery Address"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),r.jsx("input",{type:"text",id:"street",name:"deliveryAddress.street",value:((v=o.deliveryAddress)==null?void 0:v.street)||"",onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),r.jsx("input",{type:"text",id:"city",name:"deliveryAddress.city",value:((B=o.deliveryAddress)==null?void 0:B.city)||"",onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),r.jsx("input",{type:"text",id:"state",name:"deliveryAddress.state",value:((x=o.deliveryAddress)==null?void 0:x.state)||"",onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code *"}),r.jsx("input",{type:"text",id:"zipCode",name:"deliveryAddress.zipCode",value:((N=o.deliveryAddress)==null?void 0:N.zipCode)||"",onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),r.jsx("input",{type:"text",id:"country",name:"deliveryAddress.country",value:((b=o.deliveryAddress)==null?void 0:b.country)||"",onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}):null,r.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Jr,{className:"w-4 h-4"}),"Generate Certificate"]})})]})]})]})}):null},MM=({isOpen:e,onClose:t,onConfirm:s,studentName:n})=>{const[a,i]=C.useState(""),[l,o]=C.useState(!1),A=async d=>{if(d.preventDefault(),!a.trim()){fr.error("Please enter a marksheet number");return}o(!0);try{await s(a.trim()),i(""),t()}catch(h){console.error("Error in marksheet number confirmation:",h)}finally{o(!1)}},c=()=>{i(""),t()};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Xt,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Enter Marksheet Number"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Generate certificate for ",n]})]})]}),r.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(jt,{className:"w-5 h-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:A,className:"p-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"marksheetNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Marksheet Number *"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(ms,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{type:"text",id:"marksheetNumber",value:a,onChange:d=>i(d.target.value),placeholder:"e.g., MS2412001",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",autoFocus:!0,required:!0})]}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Enter the marksheet number to generate a certificate from"})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Example Format:"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[r.jsx("p",{children:" MS2412001 (Marksheet + Year + Month + Number)"}),r.jsx("p",{children:" MS2024001 (Marksheet + Year + Sequential Number)"}),r.jsx("p",{children:" MS2412001 (Marksheet + Academic Year + Number)"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6",children:[r.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l||!a.trim(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Xt,{className:"w-4 h-4"}),"Continue"]})})]})]})]})}):null},HM=({certificateData:e})=>{const[t,s]=C.useState("");C.useEffect(()=>{(async()=>{try{const l=await Rd(()=>import("./browser-BXdiCFWD.js").then(c=>c.b),[]),o={certificateNumber:e.certificateNumber,studentId:e.student.studentId,studentName:e.student.fullName,course:e.course.title,grade:e.grade,issueDate:e.certificateIssueDate,verificationCode:`CERT${e.certificateNumber}`},A=await l.toDataURL(JSON.stringify(o),{width:100,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});s(A)}catch(l){console.error("Error generating QR code:",l)}})()},[e]);const n=i=>new Date(i).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}),a=i=>`${i} ${i===1?"Day":"Days"}`;return r.jsxs("div",{className:"certificate-template",children:[r.jsx("style",{children:`
        .certificate-template {
          width: 210mm;
          min-height: 297mm;
          background: white;
          position: relative;
          font-family: 'Times New Roman', serif;
          color: #000;
          border: 3px solid #1e40af;
          box-sizing: border-box;
          overflow: visible;
          margin: 0;
          padding: 0;
        }

        .certificate-watermark {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          opacity: 0.1;
          z-index: 1;
          pointer-events: none;
        }

        .watermark-logo {
          width: 200px;
          height: 200px;
          object-fit: contain;
        }

        .certificate-content {
          position: relative;
          z-index: 2;
          padding: 15mm;
          height: 100%;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
        }

        .certificate-header {
          text-align: center;
          margin-bottom: 15px;
          border-bottom: 2px solid #1e40af;
          padding-bottom: 10px;
        }

        .foundation-name {
          font-size: 24px;
          font-weight: bold;
          color: #1e40af;
          margin-bottom: 8px;
          text-transform: uppercase;
        }

        .registration-details {
          font-size: 10px;
          color: #374151;
          line-height: 1.3;
          margin-bottom: 5px;
        }

        .certificate-title {
          text-align: center;
          margin: 20px 0;
        }

        .main-title {
          font-size: 32px;
          font-weight: bold;
          color: #dc2626;
          text-transform: uppercase;
          margin-bottom: 10px;
          letter-spacing: 2px;
        }

        .subtitle {
          font-size: 18px;
          color: #374151;
          font-style: italic;
        }


        .certificate-body {
          flex: 1;
          text-align: center;
          line-height: 1.6;
          max-width: 500px;
          margin: 0 auto;
          display: flex;
          flex-direction: column;
          justify-content: center;
        }

        .certificate-text {
          font-size: 16px;
          margin: 15px 0;
          text-align: center;
        }

        .student-name {
          font-weight: bold;
          text-decoration: underline;
          color: #1e40af;
        }

        .course-details {
          margin: 15px 0;
          font-size: 16px;
        }

        .course-name {
          font-weight: bold;
          text-decoration: underline;
          color: #1e40af;
        }

        .course-info {
          margin: 15px 0;
          font-size: 14px;
        }

        .grade-info {
          font-weight: bold;
          color: #dc2626;
        }

        .motto {
          margin: 20px 0;
          font-size: 16px;
          font-style: italic;
          color: #1e40af;
          text-align: center;
        }

        .certificate-footer {
          display: flex;
          justify-content: space-between;
          align-items: flex-end;
          margin-top: auto;
          padding-top: 15px;
          border-top: 1px solid #d1d5db;
        }

        .logo-section {
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .logo-container {
          width: 80px;
          height: 80px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 10px;
        }

        .logo-image {
          width: 100%;
          height: 100%;
          object-fit: contain;
        }

        .logo-text {
          font-size: 12px;
          font-weight: bold;
          color: #1e40af;
        }

        .certificate-number {
          font-size: 10px;
          color: #6b7280;
          margin-top: 5px;
        }

        .qr-section {
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .qr-code {
          width: 80px;
          height: 80px;
          border: 1px solid #d1d5db;
          margin-bottom: 5px;
        }

        .qr-text {
          font-size: 8px;
          color: #6b7280;
          text-align: center;
        }

        .signature-section {
          text-align: center;
        }

        .signature-line {
          border-bottom: 1px solid #000;
          width: 150px;
          margin: 0 auto 5px;
        }

        .signature-text {
          font-size: 12px;
          color: #374151;
        }

        .government-logos {
          display: flex;
          justify-content: space-between;
          margin-top: 15px;
          padding-top: 10px;
          border-top: 1px solid #d1d5db;
        }

        .gov-logo {
          width: 60px;
          height: 60px;
          border: 1px solid #d1d5db;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 8px;
          color: #6b7280;
          text-align: center;
        }

        @media print {
          .certificate-template {
            margin: 0;
            border: none;
            box-shadow: none;
          }
          
          .certificate-content {
            padding: 15mm;
          }
        }
      `}),r.jsx("div",{className:"certificate-watermark",children:r.jsx("img",{src:"/prdhanlogo.png",alt:"PETF Logo",className:"watermark-logo",onLoad:()=>console.log("Watermark logo loaded"),onError:()=>console.log("Watermark logo failed to load")})}),r.jsxs("div",{className:"certificate-content",children:[r.jsxs("div",{className:"certificate-header",children:[r.jsx("div",{className:"foundation-name",children:"Phoolmati Devi Educational & Training Foundation"}),r.jsxs("div",{className:"registration-details",children:["MINISTRY OF CORPORATE AFFAIRS (GOVT. OF INDIA)",r.jsx("br",{}),"GOVT. REG.U85500DL2024NPL432240",r.jsx("br",{}),"REGD. ADDRESS: G-36,A\\5,KH NO. 22/18 & 23 LAXMI PARK, NANGLOI NEW DELHI 110041"]})]}),r.jsxs("div",{className:"certificate-title",children:[r.jsx("div",{className:"main-title",children:"Certificate of Course Completion"}),r.jsx("div",{className:"subtitle",children:"This is to certify that"})]}),r.jsxs("div",{className:"certificate-body",children:[r.jsxs("div",{className:"certificate-text",children:["This is certified that Mr/Mrs ",r.jsx("span",{className:"student-name",children:e.student.fullName}),r.jsx("br",{}),"Father name Mr. ",r.jsxs("span",{className:"student-name",children:[e.student.firstName," Singh"]}),r.jsx("br",{}),"Mother name Mrs ",r.jsxs("span",{className:"student-name",children:[e.student.lastName," Devi"]}),r.jsx("br",{}),"Has successfully completed the course"]}),r.jsxs("div",{className:"course-details",children:[r.jsx("span",{className:"course-name",children:e.course.title}),r.jsx("br",{}),"from Our foundation / institute."]}),r.jsxs("div",{className:"course-info",children:["Duration of course is ",r.jsx("span",{className:"grade-info",children:a(e.course.duration)}),".",r.jsx("br",{}),"Grade ",r.jsx("span",{className:"grade-info",children:e.grade}),".",r.jsx("br",{}),"Certificate issued year ",r.jsx("span",{className:"grade-info",children:n(e.certificateIssueDate)}),r.jsx("br",{}),"And Enroll No. ",r.jsx("span",{className:"grade-info",children:e.student.studentId})]}),r.jsx("div",{className:"motto",children:"I wish you all the success, happiness and Bright Future."})]}),r.jsxs("div",{className:"certificate-footer",children:[r.jsxs("div",{className:"logo-section",children:[r.jsx("div",{className:"logo-container",children:r.jsx("img",{src:"/prdhanlogo.png",alt:"PETF Logo",className:"logo-image",onLoad:()=>console.log("Logo loaded"),onError:()=>console.log("Logo failed to load")})}),r.jsx("div",{className:"logo-text",children:"PETF"}),r.jsxs("div",{className:"certificate-number",children:["Certificate No. ",e.certificateNumber]})]}),r.jsxs("div",{className:"qr-section",children:[t?r.jsx("img",{src:t,alt:"QR Code",className:"qr-code"}):r.jsx("div",{className:"qr-code",style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px"},children:"QR Code"}),r.jsx("div",{className:"qr-text",children:"Verification Code"})]}),r.jsxs("div",{className:"signature-section",children:[r.jsx("div",{className:"signature-line"}),r.jsx("div",{className:"signature-text",children:"SEAL & SIGN"})]})]}),r.jsxs("div",{className:"government-logos",children:[r.jsxs("div",{className:"gov-logo",children:["Ashoka Chakra",r.jsx("br",{})," ",r.jsx("br",{}),"NGO DARPAN"]}),r.jsxs("div",{className:"gov-logo",children:["M",r.jsx("br",{}),"MINISTRY OF",r.jsx("br",{}),"CORPORATE AFFAIRS",r.jsx("br",{}),"GOVERNMENT OF INDIA"]})]})]})]})},y3=C.forwardRef(({certificateData:e,onBeforePrint:t,onAfterPrint:s},n)=>{const a=C.useRef(null),i=async()=>{if(!a.current||!e){console.error("Component ref or certificate data not available");return}try{t==null||t();const l=a.current.querySelectorAll("img"),o=Array.from(l).map(_=>new Promise(I=>{_.complete?I():(_.onload=()=>I(),_.onerror=()=>I(),setTimeout(()=>I(),3e3))}));await Promise.all(o),await new Promise(_=>setTimeout(_,1e3)),console.log("Component dimensions:",{width:a.current.offsetWidth,height:a.current.offsetHeight});const A=await X1(a.current,{scale:1.5,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!0,width:a.current.offsetWidth,height:a.current.offsetHeight,scrollX:0,scrollY:0});console.log("Canvas dimensions:",{width:A.width,height:A.height});const c=A.toDataURL("image/png"),d=new $e({orientation:"portrait",unit:"mm",format:"a4"}),h=d.internal.pageSize.getWidth(),p=d.internal.pageSize.getHeight(),m=5,y=h-2*m,v=p-2*m,B=y,x=A.height*y/A.width;let N=x,b=m;d.addImage(c,"PNG",m,b,B,x),N-=v;let g=1;for(;N>=0;)b=N-x+m,d.addPage(),g++,d.addImage(c,"PNG",m,b,B,x),N-=v;for(let _=1;_<=g;_++)d.setPage(_),d.setFontSize(8),d.text(`Page ${_}`,h-20,p-10);const k=`Certificate_${e.certificateNumber}_${e.student.studentId}.pdf`;d.save(k),s==null||s(),console.log("PDF generated successfully:",k)}catch(l){console.error("Error generating PDF:",l),s==null||s()}};return C.useImperativeHandle(n,()=>({downloadPDF:i,printCertificate:i})),r.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",zIndex:-1},children:r.jsx("div",{ref:a,style:{width:"210mm",minHeight:"297mm",backgroundColor:"white",overflow:"visible"},children:r.jsx(HM,{certificateData:e})})})});y3.displayName="CertificatePDFGenerator";const OM=({isOpen:e,onClose:t,student:s})=>{const[n,a]=C.useState(null),[i,l]=C.useState(!1),[o,A]=C.useState(null),[c,d]=C.useState(1),[h,p]=C.useState({certificateType:"",academicYear:"",status:""}),[m,y]=C.useState(null),v=C.useRef(null),B=async(U=1)=>{l(!0),A(null);try{const S=await U1.getStudentCertificateData(s._id,U,10,{certificateType:h.certificateType||void 0,academicYear:h.academicYear||void 0,status:h.status||void 0,includeDetails:!0});a(S),d(U)}catch(S){console.error("Error fetching certificates:",S),A(S.message||"Failed to fetch certificates"),fr.error(S.message||"Failed to fetch certificates")}finally{l(!1)}};C.useEffect(()=>{e&&s?B(1):e||(a(null),A(null),d(1))},[e,s]);const x=(U,S)=>{p(G=>({...G,[U]:S}))},N=()=>{B(1)},b=()=>{p({certificateType:"",academicYear:"",status:""}),B(1)},g=U=>{y(U),setTimeout(()=>{v.current&&v.current.downloadPDF()},500)},k=U=>{switch(U.toLowerCase()){case"issued":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";case"delivered":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},_=U=>{switch(U.toLowerCase()){case"issued":return r.jsx(it,{className:"w-4 h-4"});case"draft":return r.jsx(Zt,{className:"w-4 h-4"});case"pending":return r.jsx(Nt,{className:"w-4 h-4"});case"delivered":return r.jsx(Jr,{className:"w-4 h-4"});default:return r.jsx(Xt,{className:"w-4 h-4"})}},I=U=>new Date(U).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"});return e?r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Jr,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Student Certificates"}),r.jsxs("p",{className:"text-sm text-gray-500",children:[s.firstName," ",s.lastName," - ",s.studentId]})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(jt,{className:"w-5 h-5 text-gray-500"})})]}),r.jsx("div",{className:"p-6",children:i&&!n?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading certificates..."})]})}):o?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Nt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error"}),r.jsx("p",{className:"text-gray-600 mb-4",children:o}),r.jsx("button",{onClick:()=>B(c),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Retry"})]}):n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(dr,{className:"w-5 h-5"}),"Student Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),r.jsx("p",{className:"text-sm text-gray-900",children:n.student.fullName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student ID"}),r.jsx("p",{className:"text-sm text-gray-900",children:n.student.studentId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),r.jsx("p",{className:"text-sm text-gray-900",children:n.student.department})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Jr,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Total Certificates"})]}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.statistics.totalCertificates})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(it,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-green-800",children:"Verified"})]}),r.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.statistics.verifiedCertificates})]}),r.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Xt,{className:"w-5 h-5 text-purple-600"}),r.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Issued"})]}),r.jsx("p",{className:"text-2xl font-bold text-purple-900",children:n.statistics.issuedCertificates})]}),r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ur,{className:"w-5 h-5 text-orange-600"}),r.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Avg Grade"})]}),r.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[n.statistics.averageGrade,"%"]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Filters"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate Type"}),r.jsxs("select",{value:h.certificateType,onChange:U=>x("certificateType",U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"Completion",children:"Completion"}),r.jsx("option",{value:"Achievement",children:"Achievement"}),r.jsx("option",{value:"Excellence",children:"Excellence"}),r.jsx("option",{value:"Participation",children:"Participation"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Academic Year"}),r.jsx("input",{type:"text",value:h.academicYear,onChange:U=>x("academicYear",U.target.value),placeholder:"e.g., 2024-25",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:h.status,onChange:U=>x("status",U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"issued",children:"Issued"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"pending",children:"Pending"})]})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("button",{onClick:N,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Apply"}),r.jsx("button",{onClick:b,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Clear"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Certificates (",n.certificates.length,")"]}),n.certificates.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Jr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No Certificates Found"}),r.jsx("p",{className:"text-gray-600",children:"This student doesn't have any certificates matching your criteria."})]}):r.jsx("div",{className:"space-y-4",children:n.certificates.map(U=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Jr,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:U.certificateTitle}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Certificate #",U.certificateNumber]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${k(U.status)}`,children:[_(U.status),U.status]}),U.isVerified&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[r.jsx(it,{className:"w-3 h-3"}),"Verified"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[r.jsxs("div",{children:[r.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[r.jsx(es,{className:"w-4 h-4"}),"Course Information"]}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Title:"})," ",U.course.title]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Category:"})," ",U.course.category]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Instructor:"})," ",U.course.instructor.name]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Duration:"})," ",U.course.duration," days"]})]})]}),r.jsxs("div",{children:[r.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[r.jsx(Ur,{className:"w-4 h-4"}),"Batch Information"]}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Name:"})," ",U.batch.name]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Start Date:"})," ",I(U.batch.startDate)]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"End Date:"})," ",I(U.batch.endDate)]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Max Students:"})," ",U.batch.maxStudents]})]})]}),r.jsxs("div",{children:[r.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[r.jsx(Xt,{className:"w-4 h-4"}),"Performance"]}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Grade:"})," ",U.grade]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Percentage:"})," ",U.percentage,"%"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"CGPA:"})," ",U.cgpa]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Academic Year:"})," ",U.academicYear]})]})]})]}),U.marksheet&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[r.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[r.jsx(Xt,{className:"w-4 h-4"}),"Related Marksheet"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Marksheet #:"})," ",U.marksheet.marksheetNumber]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Semester:"})," ",U.marksheet.semester]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Exam Type:"})," ",U.marksheet.examinationType]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Result:"})," ",U.marksheet.result]})]})]}),(U.description||U.achievements||U.deliveryAddress)&&r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[r.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[r.jsx(Jr,{className:"w-4 h-4"}),"Additional Information"]}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[U.description&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Description:"}),r.jsx("p",{className:"mt-1",children:U.description})]}),U.achievements&&U.achievements.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Achievements:"}),r.jsx("div",{className:"mt-1 space-y-1",children:U.achievements.map(S=>r.jsxs("div",{className:"bg-white p-2 rounded border",children:[r.jsx("p",{className:"font-medium",children:S.title}),r.jsx("p",{className:"text-xs text-gray-500",children:S.description}),r.jsx("p",{className:"text-xs text-gray-400",children:I(S.date)})]},S._id))})]}),U.deliveryAddress&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Delivery Address:"}),r.jsxs("p",{className:"mt-1",children:[U.deliveryAddress.street&&`${U.deliveryAddress.street}, `,U.deliveryAddress.city&&`${U.deliveryAddress.city}, `,U.deliveryAddress.state&&`${U.deliveryAddress.state}, `,U.deliveryAddress.zipCode&&`${U.deliveryAddress.zipCode}, `,U.deliveryAddress.country]})]}),U.deliveryMethod&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Delivery Method:"})," ",U.deliveryMethod]}),U.deliveryStatus&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Delivery Status:"})," ",U.deliveryStatus]})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsxs("p",{children:["Created: ",I(U.createdAt)]}),r.jsxs("p",{children:["Created by: ",U.createdBy.firstName," ",U.createdBy.lastName]}),U.verifiedBy&&r.jsxs("p",{children:["Verified by: ",U.verifiedBy.firstName," ",U.verifiedBy.lastName]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{className:"flex items-center gap-1 px-3 py-1.5 text-blue-600 hover:text-blue-900 text-sm",children:[r.jsx(_r,{className:"w-4 h-4"}),"View Details"]}),r.jsxs("button",{onClick:()=>g(U),className:"flex items-center gap-1 px-3 py-1.5 text-green-600 hover:text-green-900 text-sm",children:[r.jsx(hs,{className:"w-4 h-4"}),"Download"]})]})]})]},U.certificateNumber))})]}),n.pagination.totalPages>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[r.jsx("button",{onClick:()=>B(c-1),disabled:!n.pagination.hasPrevPage,className:"p-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsxs("span",{className:"text-gray-700",children:["Page ",c," of ",n.pagination.totalPages]}),r.jsx("button",{onClick:()=>B(c+1),disabled:!n.pagination.hasNextPage,className:"p-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}):null})]}),m&&r.jsx(y3,{ref:v,certificateData:m,onBeforePrint:()=>console.log("Starting certificate PDF generation..."),onAfterPrint:()=>{console.log("Certificate PDF generation completed"),y(null)}})]}):null},KM=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l,o]=C.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10,hasNextPage:!1,hasPrevPage:!1}),[A,c]=C.useState(""),[d,h]=C.useState(""),[p,m]=C.useState(""),[y,v]=C.useState(""),[B,x]=C.useState(""),[N,b]=C.useState(!1),[g,k]=C.useState(!1),[_,I]=C.useState(!1),[U,S]=C.useState(!1),[G,L]=C.useState(!1),[P,F]=C.useState(null),[M,Z]=C.useState(""),te=async(V=1)=>{try{n(!0),i(null);const ne=await si.getStudents({page:V,limit:10,sortBy:"firstName",sortOrder:"asc",search:A||void 0,department:d||void 0,year:p||void 0,status:y||void 0,kycStatus:B===""?void 0:B});if(ne&&ne.students)t(ne.students),o(ne.pagination);else throw new Error("Failed to fetch students")}catch(ne){console.error("Error fetching students:",ne),i(ne instanceof Error?ne.message:"Failed to fetch students"),Ue.error("Failed to fetch students")}finally{n(!1)}};C.useEffect(()=>{te()},[A,d,p,y,B]),C.useEffect(()=>{const V=setTimeout(()=>{te(1)},500);return()=>clearTimeout(V)},[A]);const le=V=>{F(V),b(!0)},R=V=>{F(V),k(!0)},X=V=>{F(V),L(!0)},se=V=>{F(V),S(!0)},re=async V=>{if(P)try{await U1.generateCertificateFromMarksheet(V,{certificateType:"Completion",deliveryMethod:"Digital"})&&(Ue.success("Certificate generated successfully!"),te(l.currentPage))}catch(ne){console.error("Error generating certificate:",ne),Ue.error(ne.message||"Failed to generate certificate")}},Q=()=>{b(!1),k(!1),I(!1),S(!1),L(!1),F(null),Z("")},z=V=>{switch(V.toLowerCase()){case"active":case"enrolled":case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"inactive":case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},$=V=>{switch(V.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s&&e.length===0?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Jr,{className:"w-8 h-8 text-blue-600"}),"Certificate Management"]}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage student certificates and marksheets"})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.totalItems}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Students"})]})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search students...",value:A,onChange:V=>c(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:d,onChange:V=>h(V.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Departments"}),r.jsx("option",{value:"Computer Science",children:"Computer Science"}),r.jsx("option",{value:"Engineering",children:"Engineering"}),r.jsx("option",{value:"Medicine",children:"Medicine"}),r.jsx("option",{value:"Business",children:"Business"})]}),r.jsxs("select",{value:p,onChange:V=>m(V.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Years"}),r.jsx("option",{value:"1st",children:"1st Year"}),r.jsx("option",{value:"2nd",children:"2nd Year"}),r.jsx("option",{value:"3rd",children:"3rd Year"}),r.jsx("option",{value:"4th",children:"4th Year"})]}),r.jsxs("select",{value:y,onChange:V=>v(V.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]}),r.jsxs("select",{value:B,onChange:V=>x(V.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All KYC Status"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Academic Info"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollments"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(V=>{var ne,de;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx(dr,{className:"h-5 w-5 text-blue-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[V.firstName," ",V.lastName]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",V.studentId]})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[r.jsx(hf,{className:"w-3 h-3"}),V.email]}),r.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(Du,{className:"w-3 h-3"}),V.phoneNumber]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:V.department||"N/A"}),r.jsxs("div",{className:"text-sm text-gray-500",children:[V.year||"N/A"," Year"]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(es,{className:"w-4 h-4 text-blue-500"}),r.jsx("span",{className:"text-sm text-gray-900",children:((ne=V.enrollmentStats)==null?void 0:ne.totalEnrollments)||0})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[((de=V.enrollmentStats)==null?void 0:de.activeEnrollments)||0," active"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${z(V.isActive?"active":"inactive")}`,children:V.isActive?"Active":"Inactive"}),r.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${$(V.kycStatus)}`,children:["KYC: ",V.kycStatus]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>le(V),className:"text-blue-600 hover:text-blue-900 flex items-center gap-1",title:"Generate Marksheet",children:[r.jsx(Xt,{className:"w-4 h-4"}),"Generate"]}),r.jsxs("button",{onClick:()=>R(V),className:"text-green-600 hover:text-green-900 flex items-center gap-1",title:"View Marksheets",children:[r.jsx(_r,{className:"w-4 h-4"}),"View"]}),r.jsxs("button",{onClick:()=>se(V),className:"text-purple-600 hover:text-purple-900 flex items-center gap-1",title:"Generate Certificate",children:[r.jsx(Jr,{className:"w-4 h-4"}),"Certificate"]}),r.jsxs("button",{onClick:()=>X(V),className:"text-orange-600 hover:text-orange-900 flex items-center gap-1",title:"View Certificates",children:[r.jsx(Jr,{className:"w-4 h-4"}),"View Cert"]})]})})]},V._id)})})]})}),r.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>te(l.currentPage-1),disabled:!l.hasPrevPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsx("button",{onClick:()=>te(l.currentPage+1),disabled:!l.hasNextPage,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",r.jsx("span",{className:"font-medium",children:(l.currentPage-1)*10+1})," ","to"," ",r.jsx("span",{className:"font-medium",children:Math.min(l.currentPage*10,l.totalItems)})," ","of"," ",r.jsx("span",{className:"font-medium",children:l.totalItems})," ","results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[r.jsx("button",{onClick:()=>te(l.currentPage-1),disabled:!l.hasPrevPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsx("button",{onClick:()=>te(l.currentPage+1),disabled:!l.hasNextPage,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),a&&r.jsx("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx(Nt,{className:"h-5 w-5 text-red-400"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),r.jsx("div",{className:"mt-2 text-sm text-red-700",children:a})]})]})})]}),P&&r.jsxs(r.Fragment,{children:[r.jsx(g3,{isOpen:N,onClose:Q,student:P}),r.jsx(x3,{isOpen:g,onClose:Q,student:P}),r.jsx(RM,{isOpen:_,onClose:Q,student:P,marksheetNumber:M,onSuccess:()=>{Ue.success("Certificate generated successfully!"),te(l.currentPage)}}),r.jsx(MM,{isOpen:U,onClose:Q,onConfirm:re,studentName:P?`${P.firstName} ${P.lastName}`:""}),r.jsx(OM,{isOpen:G,onClose:Q,student:P})]})]})},zM=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l,o]=C.useState(""),[A,c]=C.useState(""),[d,h]=C.useState(""),[p,m]=C.useState({currentPage:1,totalPages:1,totalStudents:0,hasNextPage:!1,hasPrevPage:!1}),[y,v]=C.useState(!1),[B,x]=C.useState(null),[N,b]=C.useState(""),[g,k]=C.useState(!1),[_,I]=C.useState(null),U=async(re=1)=>{n(!0),i(null);try{const Q=await si.getAllStudents(re,10,{search:l||void 0,department:A||void 0,year:d||void 0},"firstName","asc");t(Q.students),m({currentPage:Q.pagination.currentPage,totalPages:Q.pagination.totalPages,totalStudents:Q.pagination.totalItems,hasNextPage:Q.pagination.hasNextPage,hasPrevPage:Q.pagination.hasPrevPage}),Ue.success(" Students data loaded successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}})}catch(Q){console.error("Error loading students:",Q);const z=Q instanceof Error?Q.message:"An unknown error occurred";i(z),Ue.error(` Failed to load students: ${z}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{n(!1)}};C.useEffect(()=>{U(1)},[A,d]),C.useEffect(()=>{const re=setTimeout(()=>{U(1)},500);return()=>clearTimeout(re)},[l]);const S=()=>{U(p.currentPage)},G=()=>{o(""),c(""),h("")},L=re=>{U(re)},P=re=>{x(re),v(!0)},F=()=>{if(!N){Ue(" Please select a student to generate marksheet",{duration:3e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}});return}const re=e.find(Q=>Q._id===N);re&&(x(re),v(!0))},M=()=>{v(!1),x(null),b("")},Z=re=>{I(re),k(!0)},te=()=>{k(!1),I(null)},le=()=>{Ue.success(" Marksheet generated successfully!",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}})},R=e.filter(re=>re.isActive).length,X=e.filter(re=>re.isVerified).length,se=e.filter(re=>re.kycStatus==="approved").length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Xt,{className:"w-8 h-8 text-sky-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Student Marksheets"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:S,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:"w-4 h-4"}),r.jsx("span",{children:"Refresh"})]}),r.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Export All"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("select",{value:N,onChange:re=>b(re.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[200px]",children:[r.jsx("option",{value:"",children:"Select Student"}),e.map(re=>r.jsxs("option",{value:re._id,children:[re.firstName," ",re.lastName," (",re.studentId,")"]},re._id))]}),r.jsxs("button",{onClick:F,className:"bg-sky-500 hover:bg-sky-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(bs,{className:"w-5 h-5"}),r.jsx("span",{children:"Generate Marksheet"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(rs,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(ms,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:l,onChange:re=>o(re.target.value),placeholder:"Search by name, email, or student ID...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),r.jsxs("select",{value:A,onChange:re=>c(re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Departments"}),r.jsx("option",{value:"Engineering",children:"Engineering"}),r.jsx("option",{value:"Science",children:"Science"}),r.jsx("option",{value:"Arts",children:"Arts"}),r.jsx("option",{value:"Commerce",children:"Commerce"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),r.jsxs("select",{value:d,onChange:re=>h(re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Years"}),r.jsx("option",{value:"1st",children:"1st Year"}),r.jsx("option",{value:"2nd",children:"2nd Year"}),r.jsx("option",{value:"3rd",children:"3rd Year"}),r.jsx("option",{value:"4th",children:"4th Year"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:G,className:"w-full px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Clear Filters"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:p.totalStudents})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(dr,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Students"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:R})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 font-bold text-lg",children:""})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Verified Students"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:X})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-purple-600 font-bold text-lg",children:""})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"KYC Approved"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:se})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-yellow-600 font-bold text-lg",children:""})})]})})]}),s?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(_t,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading students data..."})]})}):a?r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Xt,{className:"w-5 h-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Error Loading Students"}),r.jsx("p",{className:"text-red-600",children:a})]})]})}):e.length===0?r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-12 text-center",children:[r.jsx(Xt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Students Found"}),r.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters to see more students."})]}):r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Students List"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Details"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department & Year"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Info"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"KYC Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(re=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:re.studentId}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-sky-500 rounded-full flex items-center justify-center mr-3",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[re.firstName.charAt(0),re.lastName.charAt(0)]})}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[re.firstName," ",re.lastName]}),r.jsx("div",{className:"text-sm text-gray-500",children:re.email})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:re.department}),r.jsxs("div",{className:"text-sm text-gray-500",children:[re.year," Year"]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-900 mb-1",children:[r.jsx(Du,{className:"w-4 h-4 mr-2 text-gray-400"}),re.phoneNumber]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(Mt,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(re.dateOfBirth).toLocaleDateString()]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${re.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:re.isActive?"Active":"Inactive"}),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${re.isVerified?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:re.isVerified?"Verified":"Unverified"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${re.kycStatus==="approved"?"bg-green-100 text-green-800":re.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":re.kycStatus==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:re.kycStatus})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[r.jsx("button",{className:"text-sky-600 hover:text-sky-900",title:"View Details",children:r.jsx(_r,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Z(re),className:"text-blue-600 hover:text-blue-900",title:"View Marksheets",children:r.jsx(DU,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>P(re),className:"text-green-600 hover:text-green-900",title:"Generate Marksheet",children:r.jsx(Xt,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-purple-600 hover:text-purple-900",title:"Download",children:r.jsx(hs,{className:"w-4 h-4"})})]})]},re._id))})]})}),p.totalPages>1&&r.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>L(p.currentPage-1),disabled:!p.hasPrevPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsx("button",{onClick:()=>L(p.currentPage+1),disabled:!p.hasNextPage,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",r.jsx("span",{className:"font-medium",children:(p.currentPage-1)*10+1})," ","to"," ",r.jsx("span",{className:"font-medium",children:Math.min(p.currentPage*10,p.totalStudents)})," ","of"," ",r.jsx("span",{className:"font-medium",children:p.totalStudents})," ","results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[r.jsx("button",{onClick:()=>L(p.currentPage-1),disabled:!p.hasPrevPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:p.totalPages},(re,Q)=>Q+1).map(re=>r.jsx("button",{onClick:()=>L(re),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${re===p.currentPage?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:re},re)),r.jsx("button",{onClick:()=>L(p.currentPage+1),disabled:!p.hasNextPage,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),r.jsx(g3,{isOpen:y,onClose:M,student:B,onSuccess:le}),_&&r.jsx(x3,{isOpen:g,onClose:te,student:_})]})},VM=()=>{const[e,t]=C.useState(null),[s,n]=C.useState(!0),[a,i]=C.useState(null);C.useEffect(()=>{l()},[]);const l=async()=>{n(!0),i(null);try{const c=await Xn.getPendingKYC();t(c)}catch(c){console.error("Error loading pending KYC:",c),i("Failed to load pending KYC requests. Please try again.")}finally{n(!1)}},o=c=>{switch(c){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},A=c=>{switch(c){case"approved":return r.jsx(it,{className:"w-4 h-4 text-green-600"});case"rejected":return r.jsx(Kt,{className:"w-4 h-4 text-red-600"});case"pending":return r.jsx(Zt,{className:"w-4 h-4 text-yellow-600"});default:return r.jsx(Qr,{className:"w-4 h-4 text-gray-600"})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ba,{className:"w-8 h-8 text-blue-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"KYC Management"})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),a&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[r.jsx(Qr,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700",children:a}),r.jsx("button",{onClick:()=>i(null),className:"ml-auto text-red-500 hover:text-red-700",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s?"...":(e==null?void 0:e.totalPending)||0})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Zt,{className:"w-6 h-6 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Student KYC"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s?"...":(e==null?void 0:e.studentKyc.length)||0})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Ur,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Society Member KYC"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s?"...":(e==null?void 0:e.societyMemberKyc.length)||0})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(ct,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Action Required"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s?"...":(e==null?void 0:e.totalPending)||0})]}),r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Qr,{className:"w-6 h-6 text-red-600"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ur,{className:"w-6 h-6 text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Student KYC"})]}),r.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-semibold rounded-full",children:[(e==null?void 0:e.studentKyc.length)||0," Pending"]})]})}),r.jsx("div",{className:"p-6",children:s?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"ml-3 text-gray-500",children:"Loading..."})]}):(e==null?void 0:e.studentKyc.length)===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(it,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No pending student KYC requests"})]}):r.jsxs("div",{className:"space-y-4",children:[e==null?void 0:e.studentKyc.slice(0,5).map(c=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[c.studentId.firstName.charAt(0),c.studentId.lastName.charAt(0)]})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-gray-800",children:[c.studentId.firstName," ",c.studentId.lastName]}),r.jsx("p",{className:"text-sm text-gray-500",children:c.studentId.studentId})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[A(c.status),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${o(c.status)}`,children:c.status})]})]},c._id)),e&&e.studentKyc.length>5&&r.jsx("div",{className:"text-center pt-4",children:r.jsxs("p",{className:"text-sm text-gray-500",children:["And ",e.studentKyc.length-5," more pending requests"]})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ct,{className:"w-6 h-6 text-green-600"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Society Member KYC"})]}),r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm font-semibold rounded-full",children:[(e==null?void 0:e.societyMemberKyc.length)||0," Pending"]})]})}),r.jsx("div",{className:"p-6",children:s?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"w-8 h-8 border-4 border-green-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"ml-3 text-gray-500",children:"Loading..."})]}):(e==null?void 0:e.societyMemberKyc.length)===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(it,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No pending society member KYC requests"})]}):r.jsxs("div",{className:"space-y-4",children:[e==null?void 0:e.societyMemberKyc.slice(0,5).map(c=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[c.memberId.firstName.charAt(0),c.memberId.lastName.charAt(0)]})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-gray-800",children:[c.memberId.firstName," ",c.memberId.lastName]}),r.jsx("p",{className:"text-sm text-gray-500",children:c.memberId.memberId})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[A(c.status),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${o(c.status)}`,children:c.status})]})]},c._id)),e&&e.societyMemberKyc.length>5&&r.jsx("div",{className:"text-center pt-4",children:r.jsxs("p",{className:"text-sm text-gray-500",children:["And ",e.societyMemberKyc.length-5," more pending requests"]})})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:[r.jsx(Zt,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{className:"text-blue-800 font-medium",children:"Review Pending"})]}),r.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:[r.jsx(it,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{className:"text-green-800 font-medium",children:"View Approved"})]}),r.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-red-50 hover:bg-red-100 rounded-lg transition-colors",children:[r.jsx(Kt,{className:"w-5 h-5 text-red-600"}),r.jsx("span",{className:"text-red-800 font-medium",children:"View Rejected"})]}),r.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(us,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-gray-800 font-medium",children:"KYC Reports"})]})]})]})]})},GM=()=>{const[e,t]=C.useState(null),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l,o]=C.useState(null),[A,c]=C.useState(!1),[d,h]=C.useState(null),[p,m]=C.useState(""),[y,v]=C.useState(""),[B,x]=C.useState(null),[N,b]=C.useState(null),[g,k]=C.useState(null);C.useEffect(()=>{_()},[]);const _=async()=>{n(!0),i(null);try{const F=await Xn.getPendingKYC();t(F)}catch(F){console.error("Error loading pending KYC:",F),i("Failed to load pending KYC requests. Please try again.")}finally{n(!1)}},I=async(F,M)=>{x(F),b(M),k("approve"),m("")},U=async(F,M)=>{x(F),b(M),k("reject"),v(""),m("")},S=async()=>{if(!(!B||!N)){h(B._id);try{N==="student"?await Xn.approveStudentKYC({kycId:B._id,remarks:p||"Documents verified successfully"}):await Xn.approveSocietyMemberKYC({kycId:B._id,remarks:p||"All documents verified successfully"}),k(null),x(null),b(null),m(""),await _()}catch(F){console.error("Error approving KYC:",F),i("Failed to approve KYC. Please try again.")}finally{h(null)}}},G=async()=>{if(!(!B||!N||!y)){h(B._id);try{N==="student"?await Xn.rejectStudentKYC({kycId:B._id,rejectionReason:y,remarks:p||"Please resubmit with correct documents"}):await Xn.rejectSocietyMemberKYC({kycId:B._id,rejectionReason:y,remarks:p||"Please resubmit with correct documents"}),k(null),x(null),b(null),v(""),m(""),await _()}catch(F){console.error("Error rejecting KYC:",F),i("Failed to reject KYC. Please try again.")}finally{h(null)}}},L=(F,M,Z)=>{o({url:F,type:M,name:Z}),c(!0)},P=()=>{c(!1),o(null)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Qr,{className:"w-8 h-8 text-yellow-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Pending KYC Requests"})]}),r.jsxs("button",{onClick:_,disabled:s,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:`w-4 h-4 ${s?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]})]}),a&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[r.jsx(Qr,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700",children:a}),r.jsx("button",{onClick:()=>i(null),className:"ml-auto text-red-500 hover:text-red-700",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s?"...":(e==null?void 0:e.totalPending)||0})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Zt,{className:"w-6 h-6 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Student KYC"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s?"...":(e==null?void 0:e.studentKyc.length)||0})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Ur,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Society Member KYC"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s?"...":(e==null?void 0:e.societyMemberKyc.length)||0})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(ct,{className:"w-6 h-6 text-green-600"})})]})})]}),r.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.studentKyc)&&e.studentKyc.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ur,{className:"w-6 h-6 text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Student KYC Requests"})]}),r.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-semibold rounded-full",children:[e.studentKyc.length," Pending"]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aadhar Number"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.studentKyc.map(F=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[F.studentId.firstName.charAt(0),F.studentId.lastName.charAt(0)]})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[F.studentId.firstName," ",F.studentId.lastName]}),r.jsx("div",{className:"text-sm text-gray-500",children:F.studentId.studentId}),r.jsx("div",{className:"text-sm text-gray-500",children:F.studentId.email})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900 font-mono",children:F.aadharNumber})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(F.submittedAt).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("button",{onClick:()=>L(F.aadharCardImage,"Aadhar Card",`${F.studentId.firstName}_${F.studentId.lastName}_Aadhar.jpg`),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800",children:[r.jsx(Dn,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"View Aadhar"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>I(F,"student"),disabled:d===F._id,className:"text-green-600 hover:text-green-800 disabled:opacity-50 flex items-center space-x-1",children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("span",{children:"Approve"})]}),r.jsxs("button",{onClick:()=>U(F,"student"),disabled:d===F._id,className:"text-red-600 hover:text-red-800 disabled:opacity-50 flex items-center space-x-1",children:[r.jsx(Kt,{className:"w-4 h-4"}),r.jsx("span",{children:"Reject"})]})]})})]},F._id))})]})})]}),(e==null?void 0:e.societyMemberKyc)&&e.societyMemberKyc.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ct,{className:"w-6 h-6 text-green-600"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Society Member KYC Requests"})]}),r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm font-semibold rounded-full",children:[e.societyMemberKyc.length," Pending"]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"View Documents"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.societyMemberKyc.map(F=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[F.memberId.firstName.charAt(0),F.memberId.lastName.charAt(0)]})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[F.memberId.firstName," ",F.memberId.lastName]}),r.jsx("div",{className:"text-sm text-gray-500",children:F.memberId.memberId}),r.jsx("div",{className:"text-sm text-gray-500",children:F.memberId.email}),r.jsx("div",{className:"text-sm text-gray-500",children:F.memberId.societyName})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm text-gray-900 font-mono",children:F.aadharNumber}),F.panNumber&&r.jsx("div",{className:"text-sm text-gray-900 font-mono",children:F.panNumber})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(F.submittedAt).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>L(F.aadharCardImage,"Aadhar Card",`${F.memberId.firstName}_${F.memberId.lastName}_Aadhar.jpg`),className:"flex items-center space-x-1 text-green-600 hover:text-green-800",children:[r.jsx(Dn,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Aadhar"})]}),F.panCardImage&&r.jsxs("button",{onClick:()=>L(F.panCardImage,"PAN Card",`${F.memberId.firstName}_${F.memberId.lastName}_PAN.jpg`),className:"flex items-center space-x-1 text-green-600 hover:text-green-800",children:[r.jsx(Dn,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"PAN"})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>I(F,"society-member"),disabled:d===F._id,className:"text-green-600 hover:text-green-800 disabled:opacity-50 flex items-center space-x-1",children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("span",{children:"Approve"})]}),r.jsxs("button",{onClick:()=>U(F,"society-member"),disabled:d===F._id,className:"text-red-600 hover:text-red-800 disabled:opacity-50 flex items-center space-x-1",children:[r.jsx(Kt,{className:"w-4 h-4"}),r.jsx("span",{children:"Reject"})]})]})})]},F._id))})]})})]}),e&&e.totalPending===0&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(it,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"All Caught Up!"}),r.jsx("p",{className:"text-gray-500",children:"No pending KYC requests at the moment."})]})})]}),g&&B&&N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:g==="approve"?"Approve KYC":"Reject KYC"}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[N==="student"?"Student":"Member",":"]}),r.jsx("p",{className:"font-medium text-gray-800",children:"studentId"in B?`${B.studentId.firstName} ${B.studentId.lastName}`:`${B.memberId.firstName} ${B.memberId.lastName}`}),r.jsx("p",{className:"text-sm text-gray-500",children:"studentId"in B?B.studentId.studentId:B.memberId.memberId})]}),g==="reject"&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason *"}),r.jsx("textarea",{value:y,onChange:F=>v(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Enter reason for rejection...",required:!0})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),r.jsx("textarea",{value:p,onChange:F=>m(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:g==="approve"?"Optional remarks...":"Additional comments..."})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{k(null),x(null),b(null),m(""),v("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:g==="approve"?S:G,disabled:d===B._id||g==="reject"&&!y,className:`px-6 py-2 text-white rounded-lg transition-colors disabled:opacity-50 ${g==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:d===B._id?"Processing...":g==="approve"?"Approve":"Reject"})]})]})})}),l&&r.jsx(yc,{isOpen:A,onClose:P,documentUrl:l.url,documentType:l.type,documentName:l.name})]})},$M=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l,o]=C.useState("pending"),[A,c]=C.useState(""),[d,h]=C.useState(null),[p,m]=C.useState(!1),[y,v]=C.useState(null),[B,x]=C.useState(""),[N,b]=C.useState(""),[g,k]=C.useState(null),[_,I]=C.useState(null);C.useEffect(()=>{U()},[l]);const U=async()=>{n(!0),i(null);try{const R=await Xn.getStudentKYCByStatus(l);t(R)}catch(R){console.error("Error loading student KYC:",R),i("Failed to load student KYC requests. Please try again.")}finally{n(!1)}},S=async R=>{k(R),I("approve"),x("")},G=async R=>{k(R),I("reject"),b(""),x("")},L=async()=>{if(g){v(g._id);try{await Xn.approveStudentKYC({kycId:g._id,remarks:B||"Documents verified successfully"}),I(null),k(null),x(""),await U()}catch(R){console.error("Error approving KYC:",R),i("Failed to approve KYC. Please try again.")}finally{v(null)}}},P=async()=>{if(!(!g||!N)){v(g._id);try{await Xn.rejectStudentKYC({kycId:g._id,rejectionReason:N,remarks:B||"Please resubmit with correct documents"}),I(null),k(null),b(""),x(""),await U()}catch(R){console.error("Error rejecting KYC:",R),i("Failed to reject KYC. Please try again.")}finally{v(null)}}},F=(R,X,se)=>{h({url:R,type:X,name:se}),m(!0)},M=()=>{m(!1),h(null)},Z=R=>{switch(R){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},te=R=>{switch(R){case"approved":return r.jsx(it,{className:"w-4 h-4 text-green-600"});case"rejected":return r.jsx(Kt,{className:"w-4 h-4 text-red-600"});case"pending":return r.jsx(Zt,{className:"w-4 h-4 text-yellow-600"});default:return r.jsx(AlertTriangle,{className:"w-4 h-4 text-gray-600"})}},le=e.filter(R=>R.studentId.firstName.toLowerCase().includes(A.toLowerCase())||R.studentId.lastName.toLowerCase().includes(A.toLowerCase())||R.studentId.studentId.toLowerCase().includes(A.toLowerCase())||R.studentId.email.toLowerCase().includes(A.toLowerCase()));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ur,{className:"w-8 h-8 text-blue-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Student KYC Management"})]}),r.jsxs("button",{onClick:U,disabled:s,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:`w-4 h-4 ${s?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]})]}),a&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[r.jsx(AlertTriangle,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700",children:a}),r.jsx("button",{onClick:()=>i(null),className:"ml-auto text-red-500 hover:text-red-700",children:""})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search by name, student ID, or email...",value:A,onChange:R=>c(R.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(rs,{className:"w-5 h-5 text-gray-500"}),r.jsxs("select",{value:l,onChange:R=>o(R.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Student KYC Requests (",le.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:s?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Loading KYC requests..."})]})}):le.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Ur,{className:"w-12 h-12 text-gray-300 mb-3"}),r.jsxs("p",{className:"text-gray-500",children:["No ",l," KYC requests found"]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Try adjusting your search or filters"})]})}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aadhar Number"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:le.map(R=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[R.studentId.firstName.charAt(0),R.studentId.lastName.charAt(0)]})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[R.studentId.firstName," ",R.studentId.lastName]}),r.jsx("div",{className:"text-sm text-gray-500",children:R.studentId.studentId}),r.jsx("div",{className:"text-sm text-gray-500",children:R.studentId.email})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900 font-mono",children:R.aadharNumber})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.submittedAt).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[te(R.status),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Z(R.status)}`,children:R.status})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("button",{onClick:()=>F(R.aadharCardImage,"Aadhar Card",`${R.studentId.firstName}_${R.studentId.lastName}_Aadhar.jpg`),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800",children:[r.jsx(Dn,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"View"})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[R.status==="pending"&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>S(R),disabled:y===R._id,className:"text-green-600 hover:text-green-800 disabled:opacity-50 flex items-center space-x-1",children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("span",{children:"Approve"})]}),r.jsxs("button",{onClick:()=>G(R),disabled:y===R._id,className:"text-red-600 hover:text-red-800 disabled:opacity-50 flex items-center space-x-1",children:[r.jsx(Kt,{className:"w-4 h-4"}),r.jsx("span",{children:"Reject"})]})]}),R.status!=="pending"&&r.jsx("div",{className:"text-sm text-gray-500",children:R.reviewedAt&&`Reviewed: ${new Date(R.reviewedAt).toLocaleDateString()}`})]})]},R._id))})]})})]}),_&&g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:_==="approve"?"Approve KYC":"Reject KYC"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Student:"}),r.jsxs("p",{className:"font-medium text-gray-800",children:[g.studentId.firstName," ",g.studentId.lastName]}),r.jsx("p",{className:"text-sm text-gray-500",children:g.studentId.studentId})]}),_==="reject"&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason *"}),r.jsx("textarea",{value:N,onChange:R=>b(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Enter reason for rejection...",required:!0})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),r.jsx("textarea",{value:B,onChange:R=>x(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:_==="approve"?"Optional remarks...":"Additional comments..."})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{I(null),k(null),x(""),b("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:_==="approve"?L:P,disabled:y===g._id||_==="reject"&&!N,className:`px-6 py-2 text-white rounded-lg transition-colors disabled:opacity-50 ${_==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:y===g._id?"Processing...":_==="approve"?"Approve":"Reject"})]})]})})}),d&&r.jsx(yc,{isOpen:p,onClose:M,documentUrl:d.url,documentType:d.type,documentName:d.name})]})},qM=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l,o]=C.useState("pending"),[A,c]=C.useState(""),[d,h]=C.useState(null),[p,m]=C.useState(!1),[y,v]=C.useState(null),[B,x]=C.useState(""),[N,b]=C.useState(""),[g,k]=C.useState(null),[_,I]=C.useState(null);C.useEffect(()=>{U()},[l]);const U=async()=>{n(!0),i(null);try{const R=await Xn.getSocietyMemberKYCByStatus(l);t(R)}catch(R){console.error("Error loading society member KYC:",R),i("Failed to load society member KYC requests. Please try again.")}finally{n(!1)}},S=async R=>{k(R),I("approve"),x("")},G=async R=>{k(R),I("reject"),b(""),x("")},L=async()=>{if(g){v(g._id);try{await Xn.approveSocietyMemberKYC({kycId:g._id,remarks:B||"All documents verified successfully"}),I(null),k(null),x(""),await U()}catch(R){console.error("Error approving KYC:",R),i("Failed to approve KYC. Please try again.")}finally{v(null)}}},P=async()=>{if(!(!g||!N)){v(g._id);try{await Xn.rejectSocietyMemberKYC({kycId:g._id,rejectionReason:N,remarks:B||"Please resubmit with correct documents"}),I(null),k(null),b(""),x(""),await U()}catch(R){console.error("Error rejecting KYC:",R),i("Failed to reject KYC. Please try again.")}finally{v(null)}}},F=(R,X,se)=>{h({url:R,type:X,name:se}),m(!0)},M=()=>{m(!1),h(null)},Z=R=>{switch(R){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},te=R=>{switch(R){case"approved":return r.jsx(it,{className:"w-4 h-4 text-green-600"});case"rejected":return r.jsx(Kt,{className:"w-4 h-4 text-red-600"});case"pending":return r.jsx(Zt,{className:"w-4 h-4 text-yellow-600"});default:return r.jsx(Qr,{className:"w-4 h-4 text-gray-600"})}},le=e.filter(R=>R.memberId.firstName.toLowerCase().includes(A.toLowerCase())||R.memberId.lastName.toLowerCase().includes(A.toLowerCase())||R.memberId.memberId.toLowerCase().includes(A.toLowerCase())||R.memberId.email.toLowerCase().includes(A.toLowerCase()));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ct,{className:"w-8 h-8 text-green-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Society Member KYC Management"})]}),r.jsxs("button",{onClick:U,disabled:s,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:`w-4 h-4 ${s?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]})]}),a&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[r.jsx(Qr,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700",children:a}),r.jsx("button",{onClick:()=>i(null),className:"ml-auto text-red-500 hover:text-red-700",children:""})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search by name, member ID, or email...",value:A,onChange:R=>c(R.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(rs,{className:"w-5 h-5 text-gray-500"}),r.jsxs("select",{value:l,onChange:R=>o(R.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Society Member KYC Requests (",le.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:s?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-8 h-8 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Loading KYC requests..."})]})}):le.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(ct,{className:"w-12 h-12 text-gray-300 mb-3"}),r.jsxs("p",{className:"text-gray-500",children:["No ",l," KYC requests found"]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Try adjusting your search or filters"})]})}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"View Documents"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:le.map(R=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[R.memberId.firstName.charAt(0),R.memberId.lastName.charAt(0)]})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[R.memberId.firstName," ",R.memberId.lastName]}),r.jsx("div",{className:"text-sm text-gray-500",children:R.memberId.memberId}),r.jsx("div",{className:"text-sm text-gray-500",children:R.memberId.email}),r.jsx("div",{className:"text-sm text-gray-500",children:R.memberId.societyName})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm text-gray-900 font-mono",children:R.aadharNumber}),R.panNumber&&r.jsx("div",{className:"text-sm text-gray-900 font-mono",children:R.panNumber})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.submittedAt).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[te(R.status),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Z(R.status)}`,children:R.status})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>F(R.aadharCardImage,"Aadhar Card",`${R.memberId.firstName}_${R.memberId.lastName}_Aadhar.jpg`),className:"flex items-center space-x-1 text-green-600 hover:text-green-800",children:[r.jsx(Dn,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Aadhar"})]}),R.panCardImage&&r.jsxs("button",{onClick:()=>F(R.panCardImage,"PAN Card",`${R.memberId.firstName}_${R.memberId.lastName}_PAN.jpg`),className:"flex items-center space-x-1 text-green-600 hover:text-green-800",children:[r.jsx(Dn,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"PAN"})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[R.status==="pending"&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>S(R),disabled:y===R._id,className:"text-green-600 hover:text-green-800 disabled:opacity-50 flex items-center space-x-1",children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("span",{children:"Approve"})]}),r.jsxs("button",{onClick:()=>G(R),disabled:y===R._id,className:"text-red-600 hover:text-red-800 disabled:opacity-50 flex items-center space-x-1",children:[r.jsx(Kt,{className:"w-4 h-4"}),r.jsx("span",{children:"Reject"})]})]}),R.status!=="pending"&&r.jsx("div",{className:"text-sm text-gray-500",children:R.reviewedAt&&`Reviewed: ${new Date(R.reviewedAt).toLocaleDateString()}`})]})]},R._id))})]})})]}),_&&g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:_==="approve"?"Approve KYC":"Reject KYC"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Member:"}),r.jsxs("p",{className:"font-medium text-gray-800",children:[g.memberId.firstName," ",g.memberId.lastName]}),r.jsx("p",{className:"text-sm text-gray-500",children:g.memberId.memberId}),r.jsx("p",{className:"text-sm text-gray-500",children:g.memberId.societyName})]}),_==="reject"&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason *"}),r.jsx("textarea",{value:N,onChange:R=>b(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Enter reason for rejection...",required:!0})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),r.jsx("textarea",{value:B,onChange:R=>x(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:3,placeholder:_==="approve"?"Optional remarks...":"Additional comments..."})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{I(null),k(null),x(""),b("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:_==="approve"?L:P,disabled:y===g._id||_==="reject"&&!N,className:`px-6 py-2 text-white rounded-lg transition-colors disabled:opacity-50 ${_==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:y===g._id?"Processing...":_==="approve"?"Approve":"Reject"})]})]})})}),d&&r.jsx(yc,{isOpen:p,onClose:M,documentUrl:d.url,documentType:d.type,documentName:d.name})]})},YM=()=>{const[e,t]=C.useState([]),[s,n]=C.useState([]),[a,i]=C.useState(!0),[l,o]=C.useState(null),[A,c]=C.useState(""),[d,h]=C.useState("all"),[p,m]=C.useState(null),[y,v]=C.useState(!1);C.useEffect(()=>{B()},[]);const B=async()=>{i(!0),o(null);try{const[_,I]=await Promise.all([si.getApprovedKYCStudents({page:1,limit:100,search:A}),si.getApprovedKYCSocietyMembers({page:1,limit:100,search:A})]);t(_.students),n(I.societyMembers)}catch(_){console.error("Error loading approved KYC:",_),o("Failed to load approved KYC requests. Please try again.")}finally{i(!1)}},x=(_,I,U)=>{m({url:_,type:I,name:U}),v(!0)},N=()=>{v(!1),m(null)},b=e.filter(_=>_.firstName.toLowerCase().includes(A.toLowerCase())||_.lastName.toLowerCase().includes(A.toLowerCase())||_.studentId.toLowerCase().includes(A.toLowerCase())||_.email.toLowerCase().includes(A.toLowerCase())),g=s.filter(_=>_.firstName.toLowerCase().includes(A.toLowerCase())||_.lastName.toLowerCase().includes(A.toLowerCase())||_.memberId.toLowerCase().includes(A.toLowerCase())||_.email.toLowerCase().includes(A.toLowerCase())),k=b.length+g.length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ba,{className:"w-8 h-8 text-green-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Approved KYC Documents"})]}),r.jsxs("button",{onClick:B,disabled:a,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:`w-4 h-4 ${a?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]})]}),l&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[r.jsx(it,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700",children:l}),r.jsx("button",{onClick:()=>o(null),className:"ml-auto text-red-500 hover:text-red-700",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Approved"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:a?"...":k})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(it,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Student KYC"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:a?"...":b.length})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Ur,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Society Member KYC"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:a?"...":g.length})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(ct,{className:"w-6 h-6 text-green-600"})})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search by name, ID, or email...",value:A,onChange:_=>c(_.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(rs,{className:"w-5 h-5 text-gray-500"}),r.jsxs("select",{value:d,onChange:_=>h(_.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"student",children:"Student KYC"}),r.jsx("option",{value:"society-member",children:"Society Member KYC"})]})]})]})}),r.jsxs("div",{className:"space-y-6",children:[(d==="all"||d==="student")&&b.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ur,{className:"w-6 h-6 text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Approved Student KYC"})]}),r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm font-semibold rounded-full",children:[b.length," Approved"]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aadhar Number"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reviewed By"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(_=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[_.firstName.charAt(0),_.lastName.charAt(0)]})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[_.firstName," ",_.lastName]}),r.jsx("div",{className:"text-sm text-gray-500",children:_.studentId}),r.jsx("div",{className:"text-sm text-gray-500",children:_.email})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900 font-mono",children:_.kyc.aadharNumber})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.kyc.reviewedAt?new Date(_.kyc.reviewedAt).toLocaleDateString():"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.kyc.reviewedBy?`${_.kyc.reviewedBy.firstName} ${_.kyc.reviewedBy.lastName}`:"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("button",{onClick:()=>x(_.kyc.aadharCardImage,"Aadhar Card",`${_.firstName}_${_.lastName}_Aadhar.jpg`),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800",children:[r.jsx(Dn,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"View Aadhar"})]})})]},_._id))})]})})]}),(d==="all"||d==="society-member")&&g.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ct,{className:"w-6 h-6 text-green-600"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Approved Society Member KYC"})]}),r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm font-semibold rounded-full",children:[g.length," Approved"]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reviewed By"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"View Documents"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(_=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[_.firstName.charAt(0),_.lastName.charAt(0)]})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[_.firstName," ",_.lastName]}),r.jsx("div",{className:"text-sm text-gray-500",children:_.memberId}),r.jsx("div",{className:"text-sm text-gray-500",children:_.email}),r.jsx("div",{className:"text-sm text-gray-500",children:_.societyName})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm text-gray-900 font-mono",children:_.kyc.aadharNumber}),_.kyc.panNumber&&r.jsx("div",{className:"text-sm text-gray-900 font-mono",children:_.kyc.panNumber})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.kyc.reviewedAt?new Date(_.kyc.reviewedAt).toLocaleDateString():"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.kyc.reviewedBy?`${_.kyc.reviewedBy.firstName} ${_.kyc.reviewedBy.lastName}`:"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>x(_.kyc.aadharCardImage,"Aadhar Card",`${_.firstName}_${_.lastName}_Aadhar.jpg`),className:"flex items-center space-x-1 text-green-600 hover:text-green-800",children:[r.jsx(Dn,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Aadhar"})]}),_.kyc.panCardImage&&r.jsxs("button",{onClick:()=>x(_.kyc.panCardImage,"PAN Card",`${_.firstName}_${_.lastName}_PAN.jpg`),className:"flex items-center space-x-1 text-green-600 hover:text-green-800",children:[r.jsx(Dn,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"PAN"})]})]})})]},_._id))})]})})]}),k===0&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ba,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Approved KYC Found"}),r.jsx("p",{className:"text-gray-500",children:"No approved KYC documents match your search criteria."})]})})]}),p&&r.jsx(yc,{isOpen:y,onClose:N,documentUrl:p.url,documentType:p.type,documentName:p.name})]})},WM=({isOpen:e,onClose:t,onSubmit:s,loading:n=!1})=>{var b,g,k,_;const[a,i]=C.useState({title:"",description:"",category:"",type:"online",status:"draft",price:0,duration:0,maxStudents:0,prerequisites:"",learningObjectives:"",courseContent:"",instructor:{name:"",email:"",bio:"",qualifications:""},address:{street:"",city:"",state:"",zipCode:"",country:""},thumbnail:null,syllabus:null}),[l,o]=C.useState({}),[A,c]=C.useState(null),[d,h]=C.useState(null),[p,m]=C.useState(null),y=I=>{const{name:U,value:S}=I.target;if(U.startsWith("instructor.")){const G=U.split(".")[1];i(L=>({...L,instructor:{...L.instructor,[G]:S}}))}else if(U.startsWith("address.")){const G=U.split(".")[1];i(L=>({...L,address:{...L.address,[G]:S}}))}else i(G=>({...G,[U]:U==="price"||U==="maxStudents"||U==="duration"?Number(S):S}));l[U]&&o(G=>({...G,[U]:""}))},v=(I,U)=>{var G;const S=(G=I.target.files)==null?void 0:G[0];if(S){if(i(L=>({...L,[U]:S})),l[U]&&o(L=>({...L,[U]:""})),U==="thumbnail"&&S.type.startsWith("image/")){const L=new FileReader;L.onload=P=>{var F;c((F=P.target)==null?void 0:F.result)},L.readAsDataURL(S)}U==="syllabus"&&h(S.name)}},B=()=>{var U;const I={};return a.title.trim()||(I.title="Title is required"),a.description.trim()||(I.description="Description is required"),a.category.trim()||(I.category="Category is required"),a.duration<=0&&(I.duration="Duration must be greater than 0"),a.price<=0&&(I.price="Price must be greater than 0"),a.maxStudents<=0&&(I.maxStudents="Max students must be greater than 0"),a.instructor.name.trim()||(I["instructor.name"]="Instructor name is required"),a.instructor.email.trim()||(I["instructor.email"]="Instructor email is required"),a.type==="offline"&&(!a.address||!((U=a.address.street)!=null&&U.trim()))&&(I["address.street"]="Address is required for offline courses"),a.thumbnail||(I.thumbnail="Course thumbnail is required"),o(I),Object.keys(I).length===0},x=async I=>{if(I.preventDefault(),!!B())try{m(null),console.log("Submitting course data:",a),await s(a),N()}catch(U){console.error("Error creating course:",U),m(U.message||"Failed to create course. Please try again.")}},N=()=>{i({title:"",description:"",category:"",type:"online",status:"draft",price:0,duration:0,maxStudents:0,prerequisites:"",learningObjectives:"",courseContent:"",instructor:{name:"",email:"",bio:"",qualifications:""},address:{street:"",city:"",state:"",zipCode:"",country:""},thumbnail:null,syllabus:null}),o({}),c(null),h(null),m(null),t()};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Course"}),r.jsx("button",{onClick:N,className:"text-gray-400 hover:text-gray-600",disabled:n,children:r.jsx(jt,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[p&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),r.jsx("div",{className:"mt-2 text-sm text-red-700",children:r.jsx("p",{children:p})})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx(es,{className:"w-5 h-5 mr-2"}),"Basic Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Title *"}),r.jsx("input",{type:"text",name:"title",value:a.title,onChange:y,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter course title"}),l.title&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),r.jsxs("select",{name:"category",value:a.category,onChange:y,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l.category?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:"Select category"}),r.jsx("option",{value:"Technology",children:"Technology"}),r.jsx("option",{value:"Business",children:"Business"}),r.jsx("option",{value:"Design",children:"Design"}),r.jsx("option",{value:"Marketing",children:"Marketing"}),r.jsx("option",{value:"Language",children:"Language"}),r.jsx("option",{value:"Science",children:"Science"}),r.jsx("option",{value:"Arts",children:"Arts"}),r.jsx("option",{value:"Other",children:"Other"})]}),l.category&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.category})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),r.jsx("textarea",{name:"description",value:a.description,onChange:y,rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter course description"}),l.description&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.description})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Type"}),r.jsxs("select",{name:"type",value:a.type,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"online",children:"Online"}),r.jsx("option",{value:"offline",children:"Offline"}),r.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{name:"status",value:a.status,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"published",children:"Published"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration *"}),r.jsx("input",{type:"number",name:"duration",value:a.duration,onChange:y,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l.duration?"border-red-500":"border-gray-300"}`,placeholder:"e.g., 4 weeks, 30 hours"}),l.duration&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.duration})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx(br,{className:"w-5 h-5 mr-2"}),"Pricing & Capacity"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ()"}),r.jsx("input",{type:"number",name:"price",value:a.price,onChange:y,min:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l.price?"border-red-500":"border-gray-300"}`,placeholder:"0"}),l.price&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.price})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Students *"}),r.jsx("input",{type:"number",name:"maxStudents",value:a.maxStudents,onChange:y,min:"1",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l.maxStudents?"border-red-500":"border-gray-300"}`,placeholder:"50"}),l.maxStudents&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.maxStudents})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx(ct,{className:"w-5 h-5 mr-2"}),"Instructor Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructor Name *"}),r.jsx("input",{type:"text",name:"instructor.name",value:a.instructor.name,onChange:y,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l["instructor.name"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter instructor name"}),l["instructor.name"]&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:l["instructor.name"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructor Email *"}),r.jsx("input",{type:"email",name:"instructor.email",value:a.instructor.email,onChange:y,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l["instructor.email"]?"border-red-500":"border-gray-300"}`,placeholder:"instructor@example.com"}),l["instructor.email"]&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:l["instructor.email"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructor Bio"}),r.jsx("textarea",{name:"instructor.bio",value:a.instructor.bio,onChange:y,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Brief bio about the instructor"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Qualifications"}),r.jsx("textarea",{name:"instructor.qualifications",value:a.instructor.qualifications,onChange:y,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Educational background, certifications, experience"})]})]}),a.type==="offline"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx(Hl,{className:"w-5 h-5 mr-2"}),"Course Location"]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),r.jsx("input",{type:"text",name:"address.street",value:((b=a.address)==null?void 0:b.street)||"",onChange:y,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l["address.street"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter street address"}),l["address.street"]&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:l["address.street"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),r.jsx("input",{type:"text",name:"address.city",value:((g=a.address)==null?void 0:g.city)||"",onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"City"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),r.jsx("input",{type:"text",name:"address.state",value:((k=a.address)==null?void 0:k.state)||"",onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"State"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),r.jsx("input",{type:"text",name:"address.zipCode",value:((_=a.address)==null?void 0:_.zipCode)||"",onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"ZIP Code"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx(Xt,{className:"w-5 h-5 mr-2"}),"Course Content"]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prerequisites"}),r.jsx("textarea",{name:"prerequisites",value:a.prerequisites,onChange:y,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"What students should know before taking this course"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Learning Objectives"}),r.jsx("textarea",{name:"learningObjectives",value:a.learningObjectives,onChange:y,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"What students will learn from this course"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Content"}),r.jsx("textarea",{name:"courseContent",value:a.courseContent,onChange:y,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Detailed course content and curriculum"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx(VU,{className:"w-5 h-5 mr-2"}),"Course Materials"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Thumbnail *"}),r.jsxs("div",{className:`border-2 border-dashed rounded-lg p-4 text-center ${l.thumbnail?"border-red-300 bg-red-50":"border-gray-300"}`,children:[r.jsx("input",{type:"file",accept:"image/*",onChange:I=>v(I,"thumbnail"),className:"hidden",id:"thumbnail-upload"}),r.jsxs("label",{htmlFor:"thumbnail-upload",className:"cursor-pointer flex flex-col items-center",children:[r.jsx(RU,{className:"w-8 h-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:A?"Change thumbnail":"Upload thumbnail"})]}),A&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:A,alt:"Thumbnail preview",className:"w-20 h-20 object-cover rounded mx-auto"})})]}),l.thumbnail&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.thumbnail})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Syllabus (PDF)"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[r.jsx("input",{type:"file",accept:".pdf",onChange:I=>v(I,"syllabus"),className:"hidden",id:"syllabus-upload"}),r.jsxs("label",{htmlFor:"syllabus-upload",className:"cursor-pointer flex flex-col items-center",children:[r.jsx(Xt,{className:"w-8 h-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:d?"Change syllabus":"Upload syllabus"})]}),d&&r.jsx("div",{className:"mt-2",children:r.jsx("p",{className:"text-sm text-gray-600",children:d})})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[r.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",disabled:n,children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:n,children:n?"Creating...":"Create Course"})]})]})]})}):null},JM=({isOpen:e,onClose:t,course:s,onCourseUpdated:n,onCourseDeleted:a})=>{var L,P,F,M,Z;const[i,l]=C.useState(!1),[o,A]=C.useState(!1),[c,d]=C.useState(!1),[h,p]=C.useState(!1),[m,y]=C.useState(null),[v,B]=C.useState({});if(!e||!s)return null;const x=(te,le="INR")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:le}).format(te),N=te=>new Date(te).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=te=>{switch(te){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},g=te=>te==="online"?r.jsx(Lg,{className:"w-5 h-5"}):r.jsx(Hl,{className:"w-5 h-5"}),k=()=>{var te,le,R;l(!0),B({title:s.title,description:s.description,type:s.type,category:s.category,price:s.price,duration:s.duration,status:s.status,isActive:s.isActive,instructor:{name:s.instructor.name,email:s.instructor.email,phone:s.instructor.phone,bio:s.instructor.bio,qualifications:s.instructor.qualifications},address:s.address,tags:(te=s.tags)==null?void 0:te.join(", "),prerequisites:(le=s.prerequisites)==null?void 0:le.join(", "),learningObjectives:(R=s.learningObjectives)==null?void 0:R.join(", "),courseContent:s.courseContent}),y(null)},_=()=>{l(!1),B({}),y(null)},I=te=>{const{name:le,value:R}=te.target;if(le.startsWith("instructor.")){const X=le.split(".")[1];B(se=>({...se,instructor:{...se.instructor,[X]:R}}))}else if(le.startsWith("address.")){const X=le.split(".")[1];B(se=>({...se,address:{...se.address,[X]:R}}))}else B(X=>({...X,[le]:le==="price"||le==="duration"?Number(R):R}))},U=async()=>{try{A(!0),y(null);const te=await GA.updateCourse(s._id,v);if(console.log("Update response:",te),te.success&&te.data){const le=te.data.course||te.data;n==null||n(le),l(!1),B({})}else throw new Error(te.message||"Failed to update course")}catch(te){console.error("Update course error:",te),y(te instanceof Error?te.message:"Failed to update course")}finally{A(!1)}},S=async()=>{try{d(!0),y(null);const te=await GA.deleteCourse(s._id);if(te.success)a==null||a(s._id),t();else throw new Error(te.message||"Failed to delete course")}catch(te){console.error("Delete course error:",te),y(te instanceof Error?te.message:"Failed to delete course")}finally{d(!1),p(!1)}},G=()=>{l(!1),B({}),y(null),p(!1),t()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(es,{className:"w-6 h-6 text-blue-600 mr-3"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i?"Edit Course":"Course Details"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[!i&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:k,className:"flex items-center px-3 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",children:[r.jsx(ai,{className:"w-4 h-4 mr-1"}),"Edit"]}),r.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-3 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors",children:[r.jsx(ia,{className:"w-4 h-4 mr-1"}),"Delete"]})]}),r.jsx("button",{onClick:G,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(jt,{className:"w-6 h-6"})})]})]}),m&&r.jsx("div",{className:"mx-6 mt-4 bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Qr,{className:"h-5 w-5 text-red-400"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),r.jsx("div",{className:"mt-2 text-sm text-red-700",children:r.jsx("p",{children:m})})]})]})}),r.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{className:"w-20 h-20 rounded-lg object-cover",src:s.thumbnail||"/placeholder-course.png",alt:s.title,onError:te=>{te.currentTarget.src="/placeholder-course.png"}})}),r.jsx("div",{className:"flex-1",children:i?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),r.jsx("input",{type:"text",name:"title",value:v.title||"",onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{name:"description",value:v.description||"",onChange:I,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{name:"type",value:v.type||"",onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"online",children:"Online"}),r.jsx("option",{value:"offline",children:"Offline"}),r.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{name:"status",value:v.status||"",onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"published",children:"Published"}),r.jsx("option",{value:"archived",children:"Archived"})]})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.title}),r.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${b(s.status)}`,children:s.status}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[g(s.type),r.jsx("span",{className:"ml-1 capitalize",children:s.type})]})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ()"}),r.jsx("input",{type:"number",name:"price",value:v.price||"",onChange:I,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (hours)"}),r.jsx("input",{type:"number",name:"duration",value:v.duration||"",onChange:I,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(br,{className:"w-5 h-5 text-green-600 mr-2"}),r.jsx("span",{className:"font-medium text-gray-900",children:"Price"})]}),r.jsx("p",{className:"text-lg font-semibold text-green-600",children:x(s.price,s.currency)})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(Zt,{className:"w-5 h-5 text-blue-600 mr-2"}),r.jsx("span",{className:"font-medium text-gray-900",children:"Duration"})]}),r.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:[s.duration," ",s.durationUnit||"hours"]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(ct,{className:"w-5 h-5 text-purple-600 mr-2"}),r.jsx("span",{className:"font-medium text-gray-900",children:"Enrollments"})]}),r.jsx("p",{className:"text-lg font-semibold text-purple-600",children:s.enrollmentCount})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(k1,{className:"w-5 h-5 text-yellow-600 mr-2"}),r.jsx("span",{className:"font-medium text-gray-900",children:"Rating"})]}),r.jsxs("p",{className:"text-lg font-semibold text-yellow-600",children:[s.rating.average.toFixed(1)," (",s.rating.count," reviews)"]})]})]})}),s.prerequisites&&s.prerequisites.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Prerequisites"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:s.prerequisites.map((te,le)=>r.jsx("li",{className:"text-gray-600",children:te},le))})]}),s.learningObjectives&&s.learningObjectives.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Learning Objectives"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:s.learningObjectives.map((te,le)=>r.jsx("li",{className:"text-gray-600",children:te},le))})]}),s.courseContent&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Course Content"}),r.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:s.courseContent})]}),s.type==="offline"&&s.address&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Location"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Hl,{className:"w-5 h-5 text-red-600 mr-2 mt-0.5"}),r.jsxs("div",{children:[s.address.street&&r.jsx("p",{className:"text-gray-900",children:s.address.street}),s.address.city&&r.jsx("p",{className:"text-gray-600",children:s.address.city}),s.address.state&&r.jsx("p",{className:"text-gray-600",children:s.address.state}),s.address.zipCode&&r.jsx("p",{className:"text-gray-600",children:s.address.zipCode}),s.address.country&&r.jsx("p",{className:"text-gray-600",children:s.address.country})]})]})})]}),s.coursePdf&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Course Materials"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xt,{className:"w-5 h-5 text-blue-600"}),r.jsx("a",{href:s.coursePdf,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Download Course PDF"})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[r.jsx(dr,{className:"w-5 h-5 mr-2"}),"Instructor"]}),i?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",name:"instructor.name",value:((L=v.instructor)==null?void 0:L.name)||"",onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",name:"instructor.email",value:((P=v.instructor)==null?void 0:P.email)||"",onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"text",name:"instructor.phone",value:((F=v.instructor)==null?void 0:F.phone)||"",onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),r.jsx("textarea",{name:"instructor.bio",value:((M=v.instructor)==null?void 0:M.bio)||"",onChange:I,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Qualifications"}),r.jsx("textarea",{name:"instructor.qualifications",value:((Z=v.instructor)==null?void 0:Z.qualifications)||"",onChange:I,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium text-gray-900",children:s.instructor.name}),r.jsx("p",{className:"text-sm text-gray-600",children:s.instructor.email}),s.instructor.phone&&r.jsx("p",{className:"text-sm text-gray-600",children:s.instructor.phone}),s.instructor.bio&&r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:s.instructor.bio}),s.instructor.qualifications&&r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[r.jsx("span",{className:"font-medium",children:"Qualifications:"})," ",s.instructor.qualifications]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[r.jsx(Mt,{className:"w-5 h-5 mr-2"}),"Course Information"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Category:"}),r.jsx("span",{className:"font-medium",children:s.category})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Max Students:"}),r.jsx("span",{className:"font-medium",children:s.maxStudents||"Unlimited"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Created:"}),r.jsx("span",{className:"font-medium",children:N(s.createdAt)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Updated:"}),r.jsx("span",{className:"font-medium",children:N(s.updatedAt)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Created By:"}),r.jsxs("span",{className:"font-medium",children:[s.createdBy.firstName," ",s.createdBy.lastName]})]})]})]}),s.tags&&s.tags.length>0&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((te,le)=>r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:te},le))})]})]})]})}),r.jsx("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-white flex-shrink-0",children:i?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:_,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",disabled:o,children:"Cancel"}),r.jsx("button",{onClick:U,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(DA,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]}):r.jsx("button",{onClick:G,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})}),h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Qr,{className:"h-6 w-6 text-red-600"})}),r.jsx("div",{className:"ml-3",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Course"})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:['Are you sure you want to delete "',s.title,'"? This action cannot be undone.']}),r.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Note: This will only work if no active batches exist for this course."})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[r.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",disabled:c,children:"Cancel"}),r.jsx("button",{onClick:S,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:c,children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Deleting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ia,{className:"w-4 h-4 mr-2"}),"Delete Course"]})})]})]})})})]})})},XM=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l,o]=C.useState(""),[A,c]=C.useState("all"),[d,h]=C.useState("all"),[p,m]=C.useState("all"),[y,v]=C.useState(1),[B,x]=C.useState(1),[N,b]=C.useState(0),[g,k]=C.useState({totalCourses:0,onlineCourses:0,offlineCourses:0,publishedCourses:0,draftCourses:0,totalEnrollments:0,averageRating:0}),[_,I]=C.useState(!1),[U,S]=C.useState(!1),[G,L]=C.useState(!1),[P,F]=C.useState(null),M=["Programming","Design","Business","Marketing","Data Science","Other"];C.useEffect(()=>{Z(),te()},[y,l,A,d,p]);const Z=async()=>{var ie,Ae;try{n(!0),i(null);const ge={};l&&(ge.search=l),A!=="all"&&(ge.type=A),d!=="all"&&(ge.status=d),p!=="all"&&(ge.category=p);const Se=await GA.getCoursesWithFilters(y,10,ge);console.log("Courses page - Response from getCoursesWithFilters:",Se),console.log("Courses page - response.courses:",Se==null?void 0:Se.courses),console.log("Courses page - response.pagination:",Se==null?void 0:Se.pagination),Se&&Se.courses?(console.log("Courses page - Setting courses:",Se.courses),t(Se.courses),x(((ie=Se.pagination)==null?void 0:ie.totalPages)||1),b(((Ae=Se.pagination)==null?void 0:Ae.totalCourses)||0)):(console.log("Courses page - No courses found in response, setting empty array"),console.log("Courses page - response type:",typeof Se),console.log("Courses page - response keys:",Se?Object.keys(Se):"response is null/undefined"),t([]),x(1),b(0))}catch(ge){console.error("Load courses error:",ge),i(ge instanceof Error?ge.message:"Failed to load courses"),t([]),x(1),b(0)}finally{n(!1)}},te=async()=>{try{const ie=await GA.getCourseStatistics();ie.data&&k(ie.data)}catch(ie){console.error("Failed to load statistics:",ie),k({totalCourses:0,onlineCourses:0,offlineCourses:0,publishedCourses:0,draftCourses:0,totalEnrollments:0,averageRating:0})}},le=ie=>{v(ie)},R=ie=>{ie.preventDefault(),v(1),Z()},X=()=>{Z(),te()},se=async ie=>{try{S(!0),await GA.createCourse(ie),await Z(),await te(),I(!1)}catch(Ae){throw console.error("Error creating course:",Ae),Ae}finally{S(!1)}},re=()=>{console.log("Export courses")},Q=ie=>{F(ie),L(!0)},z=ie=>{t(Ae=>Ae.map(ge=>ge._id===ie._id?ie:ge)),te()},$=ie=>{t(Ae=>Ae.filter(ge=>ge._id!==ie)),b(Ae=>Ae-1),te()},V=ie=>{switch(ie){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},ne=ie=>ie==="online"?r.jsx(Lg,{className:"w-4 h-4"}):r.jsx(Hl,{className:"w-4 h-4"}),de=(ie,Ae="INR")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:Ae}).format(ie),xe=ie=>new Date(ie).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"});return s&&e.length===0?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(_t,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{children:"Loading courses..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Course Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage and organize educational courses"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:re,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export"]}),r.jsxs("button",{onClick:X,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(_t,{className:"w-4 h-4 mr-2"}),"Refresh"]}),r.jsxs("button",{onClick:()=>I(!0),className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:[r.jsx(bs,{className:"w-4 h-4 mr-2"}),"Create Course"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(es,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Courses"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.totalCourses})]})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Lg,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Online Courses"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.onlineCourses})]})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Hl,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Offline Courses"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.offlineCourses})]})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:r.jsx(ct,{className:"w-6 h-6 text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enrollments"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.totalEnrollments})]})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:r.jsx("form",{onSubmit:R,className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",value:l,onChange:ie=>o(ie.target.value),placeholder:"Search courses...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{value:A,onChange:ie=>c(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"online",children:"Online"}),r.jsx("option",{value:"offline",children:"Offline"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:d,onChange:ie=>h(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"published",children:"Published"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsxs("select",{value:p,onChange:ie=>m(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Categories"}),M.map(ie=>r.jsx("option",{value:ie,children:ie},ie))]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:[r.jsx(rs,{className:"w-4 h-4 mr-2"}),"Apply Filters"]})})]})})}),a&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-5 h-5 text-red-400",children:""})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),r.jsx("div",{className:"mt-2 text-sm text-red-700",children:a})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Courses (",N,")"]})}),s?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(_t,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{children:"Loading..."})]})}):e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(es,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No courses found"}),r.jsx("p",{className:"text-gray-600",children:"Get started by creating your first course."}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Debug: courses.length = ",e.length]})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollments"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(ie=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:r.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:ie.thumbnail||"/placeholder-course.png",alt:ie.title,onError:Ae=>{Ae.currentTarget.src="/placeholder-course.png"}})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.title}),r.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:ie.description})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[ne(ie.type),r.jsx("span",{className:"ml-2 capitalize",children:ie.type})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ie.category}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:de(ie.price,ie.currency)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ie.enrollmentCount}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(k1,{className:"w-4 h-4 text-yellow-400 mr-1"}),r.jsxs("span",{className:"text-sm text-gray-900",children:[ie.rating.average.toFixed(1)," (",ie.rating.count,")"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V(ie.status)}`,children:ie.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:xe(ie.createdAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{onClick:()=>Q(ie),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"View course details",children:r.jsx(_r,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Q(ie),className:"text-indigo-600 hover:text-indigo-900 transition-colors",title:"Edit course",children:r.jsx(ai,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Q(ie),className:"text-red-600 hover:text-red-900 transition-colors",title:"Delete course",children:r.jsx(ia,{className:"w-4 h-4"})})]})})]},ie._id))})]})}),B>1&&r.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",y," of ",B]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>le(y-1),disabled:y===1,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsx("button",{onClick:()=>le(y+1),disabled:y===B,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]}),r.jsx(WM,{isOpen:_,onClose:()=>I(!1),onSubmit:se,loading:U}),r.jsx(JM,{isOpen:G,onClose:()=>{L(!1),F(null)},course:P,onCourseUpdated:z,onCourseDeleted:$})]})},$N=({isOpen:e,onClose:t,onSubmit:s,courses:n,loading:a=!1})=>{const[i,l]=C.useState({name:"",description:"",courseId:"",timeSlots:[{date:"",startTime:"",endTime:""}],maxStudents:30,price:0,currency:"INR",startDate:"",endDate:"",registrationStartDate:"",registrationEndDate:"",allowLateRegistration:!1}),[o,A]=C.useState({}),[c,d]=C.useState(null);C.useEffect(()=>{n.length>0&&l(N=>({...N,courseId:n[0]._id}))},[n]);const h=N=>{const{name:b,value:g,type:k}=N.target;let _=g;k==="checkbox"?_=N.target.checked:k==="number"&&(_=Number(g)),l(I=>({...I,[b]:_})),o[b]&&A(I=>({...I,[b]:null}))},p=(N,b)=>{var I,U;const{name:g,value:k}=b.target,_=[...i.timeSlots];if(_[N]={..._[N],[g]:k},l(S=>({...S,timeSlots:_})),(U=(I=o.timeSlots)==null?void 0:I[N])!=null&&U[g]){const S=[...o.timeSlots||[]];S[N]&&(delete S[N][g],Object.keys(S[N]).length===0&&S.splice(N,1)),A(G=>({...G,timeSlots:S.length>0?S:null}))}},m=()=>{l(N=>({...N,timeSlots:[...N.timeSlots,{date:"",startTime:"",endTime:""}]}))},y=N=>{if(i.timeSlots.length>1){const b=i.timeSlots.filter((g,k)=>k!==N);l(g=>({...g,timeSlots:b}))}},v=()=>{const N={};i.name.trim()||(N.name="Batch name is required"),i.courseId||(N.courseId="Course selection is required"),i.maxStudents<=0&&(N.maxStudents="Max students must be positive"),i.price<0&&(N.price="Price cannot be negative"),i.startDate||(N.startDate="Start date is required"),i.endDate||(N.endDate="End date is required"),i.endDate<i.startDate&&(N.endDate="End date cannot be before start date");const b=[];return i.timeSlots.forEach((g,k)=>{const _={};g.date||(_.date="Date is required"),g.startTime||(_.startTime="Start time is required"),g.endTime||(_.endTime="End time is required"),g.endTime<=g.startTime&&(_.endTime="End time must be after start time"),Object.keys(_).length>0&&(b[k]=_)}),b.length>0&&(N.timeSlots=b),A(N),Object.keys(N).length===0},B=async N=>{if(N.preventDefault(),!!v())try{d(null),await s(i),x()}catch(b){console.error("Error creating batch:",b),d(b.message||"Failed to create batch. Please try again.")}},x=()=>{l({name:"",description:"",courseId:n.length>0?n[0]._id:"",timeSlots:[{date:"",startTime:"",endTime:""}],maxStudents:30,price:0,currency:"INR",startDate:"",endDate:"",registrationStartDate:"",registrationEndDate:"",allowLateRegistration:!1}),A({}),d(null),t()};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Batch"}),r.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600",disabled:a,children:r.jsx(jt,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:B,className:"p-6 overflow-y-auto flex-1",children:[c&&r.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-4 flex",children:[r.jsx(Qr,{className:"h-5 w-5 text-red-400 mr-3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),r.jsx("p",{className:"mt-1 text-sm text-red-700",children:c})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("section",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[r.jsx(hu,{className:"w-5 h-5 mr-2"})," Basic Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch Name *"}),r.jsx("input",{type:"text",name:"name",value:i.name,onChange:h,className:`w-full input ${o.name?"input-error":""}`}),o.name&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course *"}),r.jsx("select",{name:"courseId",value:i.courseId,onChange:h,className:`w-full input ${o.courseId?"input-error":""}`,children:n.map(N=>r.jsx("option",{value:N._id,children:N.title},N._id))}),o.courseId&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.courseId})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{name:"description",value:i.description,onChange:h,rows:2,className:"w-full input"})]})]}),r.jsxs("section",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[r.jsx(Mt,{className:"w-5 h-5 mr-2"})," Dates & Registration"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),r.jsx("input",{type:"date",name:"startDate",value:i.startDate,onChange:h,className:`w-full input ${o.startDate?"input-error":""}`}),o.startDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.startDate})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date *"}),r.jsx("input",{type:"date",name:"endDate",value:i.endDate,onChange:h,className:`w-full input ${o.endDate?"input-error":""}`}),o.endDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.endDate})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Start"}),r.jsx("input",{type:"date",name:"registrationStartDate",value:i.registrationStartDate,onChange:h,className:"w-full input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration End"}),r.jsx("input",{type:"date",name:"registrationEndDate",value:i.registrationEndDate,onChange:h,className:"w-full input"})]})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"allowLateRegistration",checked:i.allowLateRegistration,onChange:h,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Allow Late Registration"})]})})]}),r.jsxs("section",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[r.jsx(Zt,{className:"w-5 h-5 mr-2"})," Time Slots"]}),r.jsx("div",{className:"space-y-3",children:i.timeSlots.map((N,b)=>{var g,k,_,I,U,S;return r.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-lg",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-2 flex-1",children:[r.jsx("div",{children:r.jsx("input",{type:"date",name:"date",value:N.date,onChange:G=>p(b,G),className:`w-full input text-sm ${(k=(g=o.timeSlots)==null?void 0:g[b])!=null&&k.date?"input-error":""}`})}),r.jsx("div",{children:r.jsx("input",{type:"time",name:"startTime",value:N.startTime,onChange:G=>p(b,G),className:`w-full input text-sm ${(I=(_=o.timeSlots)==null?void 0:_[b])!=null&&I.startTime?"input-error":""}`})}),r.jsx("div",{children:r.jsx("input",{type:"time",name:"endTime",value:N.endTime,onChange:G=>p(b,G),className:`w-full input text-sm ${(S=(U=o.timeSlots)==null?void 0:U[b])!=null&&S.endTime?"input-error":""}`})})]}),r.jsx("button",{type:"button",onClick:()=>y(b),disabled:i.timeSlots.length<=1,className:"p-2 text-red-500 hover:text-red-700 disabled:opacity-50",children:r.jsx(ia,{className:"w-4 h-4"})})]},b)})}),r.jsxs("button",{type:"button",onClick:m,className:"mt-2 flex items-center text-sm text-blue-600 hover:text-blue-800",children:[r.jsx(bs,{className:"w-4 h-4 mr-1"})," Add Time Slot"]})]}),r.jsxs("section",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[r.jsx(br,{className:"w-5 h-5 mr-2"})," Pricing & Capacity"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price () *"}),r.jsx("input",{type:"number",name:"price",value:i.price,onChange:h,min:"0",className:`w-full input ${o.price?"input-error":""}`}),o.price&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.price})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Students *"}),r.jsx("input",{type:"number",name:"maxStudents",value:i.maxStudents,onChange:h,min:"1",className:`w-full input ${o.maxStudents?"input-error":""}`}),o.maxStudents&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.maxStudents})]})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-white flex-shrink-0",children:[r.jsx("button",{type:"button",onClick:x,className:"btn-secondary",disabled:a,children:"Cancel"}),r.jsx("button",{type:"submit",onClick:B,className:"btn-primary",disabled:a,children:a?"Creating...":"Create Batch"})]})]})}):null},qN=({isOpen:e,onClose:t,batch:s,onBatchUpdated:n,onBatchDeleted:a})=>{var U,S,G;const[i,l]=C.useState(!1),[o,A]=C.useState(!1),[c,d]=C.useState(!1),[h,p]=C.useState(!1),[m,y]=C.useState(null),[v,B]=C.useState({}),x=()=>{s&&(l(!0),B({name:s.name,description:s.description,maxStudents:s.maxStudents,price:s.price,startDate:s.startDate.split("T")[0],endDate:s.endDate.split("T")[0],registrationStartDate:s.registrationStartDate.split("T")[0],registrationEndDate:s.registrationEndDate.split("T")[0],allowLateRegistration:s.allowLateRegistration,timeSlots:s.timeSlots.map(L=>({...L,date:L.date.split("T")[0]}))}))},N=()=>{l(!1),y(null)},b=L=>{const{name:P,value:F,type:M}=L.target,Z=L.target.checked;B(te=>({...te,[P]:M==="checkbox"?Z:F}))},g=async()=>{if(s){A(!0),y(null);try{const L=await bo.updateBatch(s._id,v);if(L.success&&L.data)n==null||n(L.data.batch),l(!1);else throw new Error(L.message||"Failed to update batch")}catch(L){y(L instanceof Error?L.message:"An unknown error occurred")}finally{A(!1)}}},k=async()=>{if(s){d(!0),y(null);try{await bo.deleteBatch(s._id),a==null||a(s._id),t()}catch(L){y(L instanceof Error?L.message:"An unknown error occurred")}finally{d(!1)}}},_=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),I=L=>{const[P,F]=L.split(":").map(Number),M=P>=12?"PM":"AM";return`${P%12||12}:${F.toString().padStart(2,"0")} ${M}`};return!e||!s?null:r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h2",{className:"text-lg font-semibold",children:i?"Edit Batch":"Batch Details"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[!i&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:x,className:"p-2 text-gray-600 hover:text-blue-600",title:"Edit batch",children:r.jsx(ai,{size:18})}),r.jsx("button",{onClick:()=>p(!0),className:"p-2 text-gray-600 hover:text-red-600",title:"Delete batch",children:r.jsx(ia,{size:18})})]}),r.jsx("button",{onClick:t,className:"p-2 text-gray-600 hover:text-black",title:"Close",children:r.jsx(jt,{size:18})})]})]}),r.jsxs("div",{className:"p-4 overflow-y-auto flex-1",children:[m&&r.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3 flex",children:[r.jsx(Qr,{className:"h-5 w-5 text-red-400 mr-2"}),r.jsx("p",{className:"text-red-700 text-sm",children:m})]}),i?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch Name"}),r.jsx("input",{name:"name",value:v.name||"",onChange:b,className:"input w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{name:"description",value:v.description||"",onChange:b,rows:3,className:"input w-full"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Students"}),r.jsx("input",{type:"number",name:"maxStudents",value:v.maxStudents||0,onChange:b,className:"input w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),r.jsx("input",{type:"number",name:"price",value:v.price||0,onChange:b,className:"input w-full"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),r.jsx("input",{type:"date",name:"startDate",value:v.startDate||"",onChange:b,className:"input w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),r.jsx("input",{type:"date",name:"endDate",value:v.endDate||"",onChange:b,className:"input w-full"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Start"}),r.jsx("input",{type:"date",name:"registrationStartDate",value:v.registrationStartDate||"",onChange:b,className:"input w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration End"}),r.jsx("input",{type:"date",name:"registrationEndDate",value:v.registrationEndDate||"",onChange:b,className:"input w-full"})]})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"allowLateRegistration",checked:v.allowLateRegistration||!1,onChange:b,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Allow Late Registration"})]})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:s.name}),r.jsx("p",{className:"text-gray-600 mt-2",children:s.description})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx(hu,{className:"w-5 h-5 text-blue-600 mr-2 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Course"}),r.jsx("p",{className:"text-gray-700",children:((U=s.courseId)==null?void 0:U.title)||"N/A"}),r.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:["Type: ",((S=s.courseId)==null?void 0:S.type)||"N/A"]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Category: ",((G=s.courseId)==null?void 0:G.category)||"N/A"]})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx(Mt,{className:"w-5 h-5 text-green-600 mr-2 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Batch Period"}),r.jsxs("p",{className:"text-gray-700",children:[_(s.startDate)," - ",_(s.endDate)]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Duration: ",s.durationInDays," days"]})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx(Mt,{className:"w-5 h-5 text-purple-600 mr-2 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Registration Period"}),r.jsxs("p",{className:"text-gray-700",children:[_(s.registrationStartDate)," - ",_(s.registrationEndDate)]}),r.jsx("p",{className:"text-sm text-gray-500",children:s.allowLateRegistration?"Late registration allowed":"Late registration not allowed"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx(ct,{className:"w-5 h-5 text-indigo-600 mr-2 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Enrollment"}),r.jsxs("p",{className:"text-gray-700",children:[s.enrollmentCount," / ",s.maxStudents]}),r.jsxs("p",{className:"text-sm text-gray-500",children:[s.availableSpots," spots available"]})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx(br,{className:"w-5 h-5 text-yellow-600 mr-2 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Price"}),r.jsxs("p",{className:"text-gray-700",children:[s.price," ",s.currency]})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx(hu,{className:"w-5 h-5 text-gray-600 mr-2 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Status"}),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${bo.getBatchStatusColor(s.status)}`,children:s.status})]})]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("h4",{className:"font-medium text-gray-900 flex items-center mb-3",children:[r.jsx(Zt,{className:"w-5 h-5 text-blue-600 mr-2"}),"Time Slots"]}),s.timeSlots&&s.timeSlots.length>0?r.jsx("div",{className:"space-y-2",children:s.timeSlots.map((L,P)=>r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-900 font-medium",children:_(L.date)}),r.jsxs("p",{className:"text-gray-600 text-sm",children:[I(L.startTime)," - ",I(L.endTime)]})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[L.duration," minutes"]})]},P))}):r.jsx("p",{className:"text-gray-500 italic",children:"No time slots defined"})]}),r.jsxs("div",{className:"border-t pt-4 text-sm text-gray-500",children:[r.jsxs("p",{children:["Created by: ",typeof s.createdBy=="object"?`${s.createdBy.firstName} ${s.createdBy.lastName}`:"Unknown"]}),r.jsxs("p",{children:["Created on: ",new Date(s.createdAt).toLocaleString()]}),r.jsxs("p",{children:["Last updated: ",new Date(s.updatedAt).toLocaleString()]})]})]})]}),r.jsx("div",{className:"flex justify-end p-4 border-t bg-gray-50",children:i?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:N,className:"btn-secondary mr-2",children:"Cancel"}),r.jsx("button",{onClick:g,className:"btn-primary",disabled:o,children:o?"Saving...":"Save Changes"})]}):r.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"})})]}),h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[60]",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[r.jsx("h3",{className:"font-bold text-lg",children:"Confirm Deletion"}),r.jsx("p",{className:"py-4",children:"Are you sure you want to delete this batch? This cannot be undone."}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>p(!1),className:"btn-secondary",disabled:c,children:"Cancel"}),r.jsx("button",{onClick:k,className:"btn-danger",disabled:c,children:c?"Deleting...":"Delete"})]})]})})]})},w3=({enrollment:e,onClose:t,onSuccess:s})=>{const[n,a]=C.useState(""),[i,l]=C.useState(!1),[o,A]=C.useState(null),c=async h=>{h.preventDefault(),l(!0),A(null);try{console.log("Submitting approval for enrollment:",e._id),console.log("Admin notes:",n);const p=await Rt.approveEnrollment(e._id,n.trim()||void 0);console.log("Approval response:",p),p.success?(console.log("Approval successful, calling onSuccess"),s(),t()):(console.error("Approval failed:",p.message),A(p.message||"Failed to approve enrollment"))}catch(p){console.error("Error approving enrollment:",p),A(p instanceof Error?p.message:"An unknown error occurred")}finally{l(!1)}},d=()=>{a(""),A(null),t()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(it,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Approve Enrollment"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Confirm enrollment approval for student"})]})]}),r.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(jt,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[r.jsx(dr,{className:"w-5 h-5 mr-2"}),"Student Information"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),r.jsxs("p",{className:"font-medium text-gray-800",children:[e.studentId.firstName," ",e.studentId.lastName]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Student ID"}),r.jsx("p",{className:"font-medium text-gray-800",children:e.studentId.studentId})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),r.jsx("p",{className:"font-medium text-gray-800",children:e.studentId.email})]}),e.studentId.phoneNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),r.jsx("p",{className:"font-medium text-gray-800",children:e.studentId.phoneNumber})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[r.jsx(es,{className:"w-5 h-5 mr-2"}),"Course & Batch Details"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Course"}),r.jsx("p",{className:"font-medium text-gray-800",children:e.courseId.title}),r.jsxs("p",{className:"text-xs text-gray-500",children:[e.courseId.category,"  ",e.courseId.type]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Batch"}),r.jsx("p",{className:"font-medium text-gray-800",children:e.batchId.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),r.jsxs("p",{className:"font-medium text-gray-800",children:[Rt.formatDate(e.batchId.startDate)," - ",Rt.formatDate(e.batchId.endDate)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),r.jsx("p",{className:"font-medium text-gray-800",children:Rt.formatCurrency(e.paymentAmount,e.currency)})]})]})]})]})}),r.jsxs("form",{onSubmit:c,className:"p-6 space-y-6",children:[o&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[r.jsx(Nt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700 text-sm",children:o})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Notes (Optional)"}),r.jsx("textarea",{value:n,onChange:h=>a(h.target.value),placeholder:"Add any notes or comments about this approval...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be visible to the student and other administrators."})]}),r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(it,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Approval Confirmation"}),r.jsx("p",{className:"text-sm text-green-700 mt-1",children:"By approving this enrollment, the student will be:"}),r.jsxs("ul",{className:"text-sm text-green-700 mt-2 space-y-1",children:[r.jsx("li",{children:" Added to the course batch"}),r.jsx("li",{children:" Granted access to course materials"}),r.jsx("li",{children:" Notified of the approval via email"}),r.jsx("li",{children:" Able to start attending classes"})]})]})]})}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Approving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("span",{children:"Approve Enrollment"})]})})]})]})]})})},v3=({enrollment:e,onClose:t,onSuccess:s})=>{const[n,a]=C.useState(""),[i,l]=C.useState(""),[o,A]=C.useState(!1),[c,d]=C.useState(null),h=["Insufficient prerequisites","Course capacity full","Payment issues","Documentation incomplete","Academic requirements not met","Duplicate enrollment","Other"],p=async y=>{if(y.preventDefault(),!n.trim()){d("Please select a rejection reason");return}A(!0),d(null);try{const v=await Rt.rejectEnrollment(e._id,n.trim(),i.trim()||void 0);v.success?(s(),t()):d(v.message||"Failed to reject enrollment")}catch(v){console.error("Error rejecting enrollment:",v),d(v instanceof Error?v.message:"An unknown error occurred")}finally{A(!1)}},m=()=>{a(""),l(""),d(null),t()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Kt,{className:"w-5 h-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Reject Enrollment"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Provide reason for enrollment rejection"})]})]}),r.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(jt,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[r.jsx(dr,{className:"w-5 h-5 mr-2"}),"Student Information"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),r.jsxs("p",{className:"font-medium text-gray-800",children:[e.studentId.firstName," ",e.studentId.lastName]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Student ID"}),r.jsx("p",{className:"font-medium text-gray-800",children:e.studentId.studentId})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),r.jsx("p",{className:"font-medium text-gray-800",children:e.studentId.email})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[r.jsx(es,{className:"w-5 h-5 mr-2"}),"Course & Batch Details"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Course"}),r.jsx("p",{className:"font-medium text-gray-800",children:e.courseId.title}),r.jsxs("p",{className:"text-xs text-gray-500",children:[e.courseId.category,"  ",e.courseId.type]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Batch"}),r.jsx("p",{className:"font-medium text-gray-800",children:e.batchId.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),r.jsx("p",{className:"font-medium text-gray-800",children:Rt.formatCurrency(e.paymentAmount,e.currency)})]})]})]})]})}),r.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[c&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[r.jsx(Qr,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700 text-sm",children:c})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason *"}),r.jsxs("select",{value:n,onChange:y=>a(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:"Select a reason"}),h.map(y=>r.jsx("option",{value:y,children:y},y))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),r.jsx("textarea",{value:i,onChange:y=>l(y.target.value),placeholder:"Provide additional details about the rejection...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be visible to the student and other administrators."})]}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Qr,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Rejection Warning"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:"By rejecting this enrollment, the student will be:"}),r.jsxs("ul",{className:"text-sm text-red-700 mt-2 space-y-1",children:[r.jsx("li",{children:" Removed from the pending enrollments"}),r.jsx("li",{children:" Notified of the rejection via email"}),r.jsx("li",{children:" Required to reapply if they wish to enroll again"}),r.jsx("li",{children:" Refunded any payments made (if applicable)"})]})]})]})}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Rejecting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Kt,{className:"w-4 h-4"}),r.jsx("span",{children:"Reject Enrollment"})]})})]})]})]})})},ZM=({enrollment:e,onClose:t,onSuccess:s})=>{const[n,a]=C.useState(!1),[i,l]=C.useState(null),o=async()=>{a(!0),l(null);try{console.log("Syncing enrollment:",e._id);const c=await Rd(()=>Promise.resolve().then(()=>BU),void 0).then(d=>d.enrollmentService.syncEnrollmentWithBatch(e._id));if(console.log("Sync response:",c),c.success&&c.data){const d=c.data.enrollment;console.log("Sync completed:",d),s(d),t()}else console.error("Sync failed:",c.message),l(c.message||"Failed to sync enrollment")}catch(c){console.error("Error syncing enrollment:",c),l(c instanceof Error?c.message:"An unknown error occurred")}finally{a(!1)}},A=()=>{l(null),t()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(Rm,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Sync Enrollment with Batch"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Synchronize enrollment status with batch enrollment list"})]})]}),r.jsx("button",{onClick:A,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(jt,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[r.jsx(dr,{className:"w-5 h-5 mr-2"}),"Student Information"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),r.jsxs("p",{className:"font-medium text-gray-800",children:[e.studentId.firstName," ",e.studentId.lastName]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Student ID"}),r.jsx("p",{className:"font-medium text-gray-800",children:e.studentId.studentId})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),r.jsx("p",{className:"font-medium text-gray-800",children:e.studentId.email})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[r.jsx(es,{className:"w-5 h-5 mr-2"}),"Course & Batch Details"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Course"}),r.jsx("p",{className:"font-medium text-gray-800",children:e.courseId.title}),r.jsxs("p",{className:"text-xs text-gray-500",children:[e.courseId.category,"  ",e.courseId.type]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Batch"}),r.jsx("p",{className:"font-medium text-gray-800",children:e.batchId.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Current Status"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${e.status==="pending"?"bg-yellow-100 text-yellow-800":e.status==="enrolled"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.status}),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${e.approvalStatus==="pending"?"bg-yellow-100 text-yellow-800":e.approvalStatus==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.approvalStatus})]})]})]})]})]})}),r.jsxs("div",{className:"p-6",children:[i&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3 mb-6",children:[r.jsx(Nt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700 text-sm",children:i})]}),r.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Rm,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-purple-800",children:"What does sync do?"}),r.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"This operation synchronizes the enrollment status with the batch's enrolled students list:"}),r.jsxs("ul",{className:"text-sm text-purple-700 mt-2 space-y-1",children:[r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Approved enrollment not in batch:"})," Adds student to batch's enrolledStudents array"]}),r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Rejected enrollment still in batch:"})," Removes student from batch's enrolledStudents array"]}),r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Pending enrollment:"})," No action needed"]})]})]})]})}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{onClick:o,disabled:n,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Syncing..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Rm,{className:"w-4 h-4"}),r.jsx("span",{children:"Sync with Batch"})]})})]})]})]})})},eH=({filters:e,onFiltersChange:t,onReset:s,courses:n=[],batches:a=[]})=>{var A,c;const i=(d,h)=>{t({...e,[d]:h||void 0})},l=(d,h)=>{t({...e,[d]:h||void 0})},o=Object.values(e).some(d=>d!==void 0&&d!==""&&d!==1&&d!==10);return r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(rs,{className:"w-5 h-5 mr-2"}),"Advanced Filters"]}),o&&r.jsxs("button",{onClick:s,className:"text-sm text-red-600 hover:text-red-800 flex items-center",children:[r.jsx(jt,{className:"w-4 h-4 mr-1"}),"Clear All Filters"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r.jsx(dr,{className:"w-4 h-4 inline mr-1"}),"Student ID"]}),r.jsx("input",{type:"text",placeholder:"Search by student ID...",value:e.studentId||"",onChange:d=>i("studentId",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r.jsx(es,{className:"w-4 h-4 inline mr-1"}),"Course"]}),r.jsxs("select",{value:e.courseId||"",onChange:d=>i("courseId",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Courses"}),n.map(d=>r.jsx("option",{value:d._id,children:d.title},d._id))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r.jsx(ct,{className:"w-4 h-4 inline mr-1"}),"Batch"]}),r.jsxs("select",{value:e.batchId||"",onChange:d=>i("batchId",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Batches"}),a.filter(d=>!e.courseId||d.courseId===e.courseId).map(d=>r.jsx("option",{value:d._id,children:d.name},d._id))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r.jsx(ct,{className:"w-4 h-4 inline mr-1"}),"Enrollment Status"]}),r.jsxs("select",{value:e.status||"",onChange:d=>i("status",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"enrolled",children:"Enrolled"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"dropped",children:"Dropped"}),r.jsx("option",{value:"suspended",children:"Suspended"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r.jsx(ct,{className:"w-4 h-4 inline mr-1"}),"Approval Status"]}),r.jsxs("select",{value:e.approvalStatus||"",onChange:d=>i("approvalStatus",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Approval Statuses"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r.jsx(xn,{className:"w-4 h-4 inline mr-1"}),"Payment Status"]}),r.jsxs("select",{value:e.paymentStatus||"",onChange:d=>i("paymentStatus",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Payment Statuses"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"partial",children:"Partial"}),r.jsx("option",{value:"refunded",children:"Refunded"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r.jsx(Mt,{className:"w-4 h-4 inline mr-1"}),"From Date"]}),r.jsx("input",{type:"date",value:e.startDate||"",onChange:d=>l("startDate",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r.jsx(Mt,{className:"w-4 h-4 inline mr-1"}),"To Date"]}),r.jsx("input",{type:"date",value:e.endDate||"",onChange:d=>l("endDate",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sort by:"}),r.jsxs("select",{value:e.sortBy||"enrollmentDate",onChange:d=>i("sortBy",d.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"enrollmentDate",children:"Enrollment Date"}),r.jsx("option",{value:"studentId",children:"Student ID"}),r.jsx("option",{value:"courseId",children:"Course"}),r.jsx("option",{value:"batchId",children:"Batch"}),r.jsx("option",{value:"status",children:"Status"}),r.jsx("option",{value:"paymentAmount",children:"Payment Amount"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Order:"}),r.jsxs("select",{value:e.sortOrder||"desc",onChange:d=>i("sortOrder",d.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"desc",children:"Descending"}),r.jsx("option",{value:"asc",children:"Ascending"})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Per page:"}),r.jsxs("select",{value:e.limit||10,onChange:d=>i("limit",d.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:10,children:"10"}),r.jsx("option",{value:25,children:"25"}),r.jsx("option",{value:50,children:"50"}),r.jsx("option",{value:100,children:"100"})]})]})]}),o&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Filters:"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.studentId&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Student: ",e.studentId,r.jsx("button",{onClick:()=>i("studentId",""),className:"ml-1 text-blue-600 hover:text-blue-800",children:r.jsx(jt,{className:"w-3 h-3"})})]}),e.courseId&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Course: ",((A=n.find(d=>d._id===e.courseId))==null?void 0:A.title)||e.courseId,r.jsx("button",{onClick:()=>i("courseId",""),className:"ml-1 text-green-600 hover:text-green-800",children:r.jsx(jt,{className:"w-3 h-3"})})]}),e.batchId&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Batch: ",((c=a.find(d=>d._id===e.batchId))==null?void 0:c.name)||e.batchId,r.jsx("button",{onClick:()=>i("batchId",""),className:"ml-1 text-purple-600 hover:text-purple-800",children:r.jsx(jt,{className:"w-3 h-3"})})]}),e.status&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["Status: ",e.status,r.jsx("button",{onClick:()=>i("status",""),className:"ml-1 text-yellow-600 hover:text-yellow-800",children:r.jsx(jt,{className:"w-3 h-3"})})]}),e.approvalStatus&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:["Approval: ",e.approvalStatus,r.jsx("button",{onClick:()=>i("approvalStatus",""),className:"ml-1 text-indigo-600 hover:text-indigo-800",children:r.jsx(jt,{className:"w-3 h-3"})})]}),e.paymentStatus&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-pink-100 text-pink-800",children:["Payment: ",e.paymentStatus,r.jsx("button",{onClick:()=>i("paymentStatus",""),className:"ml-1 text-pink-600 hover:text-pink-800",children:r.jsx(jt,{className:"w-3 h-3"})})]}),e.startDate&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["From: ",new Date(e.startDate).toLocaleDateString(),r.jsx("button",{onClick:()=>l("startDate",""),className:"ml-1 text-gray-600 hover:text-gray-800",children:r.jsx(jt,{className:"w-3 h-3"})})]}),e.endDate&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["To: ",new Date(e.endDate).toLocaleDateString(),r.jsx("button",{onClick:()=>l("endDate",""),className:"ml-1 text-gray-600 hover:text-gray-800",children:r.jsx(jt,{className:"w-3 h-3"})})]})]})]})]})},tH=({batchId:e,batchName:t,courseName:s,onBackToSelection:n})=>{const[a,i]=C.useState([]),[l,o]=C.useState(!0),[A,c]=C.useState(null),[d,h]=C.useState(!1),[p,m]=C.useState(!1),[y,v]=C.useState(!1),[B,x]=C.useState(null),[N,b]=C.useState(null),[g,k]=C.useState({batchId:e,page:1,limit:100,sortBy:"enrollmentDate",sortOrder:"desc"}),[_,I]=C.useState({totalEnrollments:0,pendingEnrollments:0,approvedEnrollments:0,rejectedEnrollments:0,totalRevenue:0}),[U,S]=C.useState({total:0,pending:0,approved:0,rejected:0,enrolled:0}),G=async()=>{o(!0),c(null);try{console.log("Loading enrollments with filters:",g);const se=await Rt.getAllEnrollments(g);if(console.log("Enrollments response:",se),se.success&&se.data){const{enrollments:re,statistics:Q}=se.data;console.log("Found enrollments:",re.length,re),console.log("API statistics:",Q),i(re),I(Q);const z={total:re.length,pending:re.filter($=>$.status==="pending"||$.approvalStatus==="pending").length,approved:re.filter($=>$.approvalStatus==="approved").length,rejected:re.filter($=>$.approvalStatus==="rejected").length,enrolled:re.filter($=>$.status==="enrolled").length};console.log("Calculated statistics:",z),S(z)}else{console.error("Failed to load enrollments:",se);const re=[{_id:"mock1",studentId:{_id:"student1",firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com",phoneNumber:"+1234567890"},courseId:{_id:"course1",title:s,category:"Programming",type:"online",price:5e3,currency:"INR"},batchId:{_id:e,name:t,startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30},status:"pending",approvalStatus:"pending",enrollmentDate:"2024-01-15T10:00:00.000Z",paymentAmount:5e3,currency:"INR",paymentStatus:"pending",createdAt:"2024-01-15T10:00:00.000Z",updatedAt:"2024-01-15T10:00:00.000Z"},{_id:"mock2",studentId:{_id:"student2",firstName:"Jane",lastName:"Smith",studentId:"STU002",email:"jane.smith@example.com",phoneNumber:"+1234567891"},courseId:{_id:"course1",title:s,category:"Programming",type:"online",price:5e3,currency:"INR"},batchId:{_id:e,name:t,startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30},status:"enrolled",approvalStatus:"approved",enrollmentDate:"2024-01-10T10:00:00.000Z",paymentAmount:5e3,currency:"INR",paymentStatus:"paid",createdAt:"2024-01-10T10:00:00.000Z",updatedAt:"2024-01-10T10:00:00.000Z"},{_id:"mock3",studentId:{_id:"student3",firstName:"Alice",lastName:"Johnson",studentId:"STU003",email:"alice.johnson@example.com",phoneNumber:"+1234567892"},courseId:{_id:"course1",title:s,category:"Programming",type:"online",price:5e3,currency:"INR"},batchId:{_id:e,name:t,startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30},status:"pending",approvalStatus:"pending",enrollmentDate:"2024-01-20T10:00:00.000Z",paymentAmount:5e3,currency:"INR",paymentStatus:"pending",createdAt:"2024-01-20T10:00:00.000Z",updatedAt:"2024-01-20T10:00:00.000Z"}];i(re);const Q={total:re.length,pending:re.filter(z=>z.status==="pending"||z.approvalStatus==="pending").length,approved:re.filter(z=>z.approvalStatus==="approved").length,rejected:re.filter(z=>z.approvalStatus==="rejected").length,enrolled:re.filter(z=>z.status==="enrolled").length};S(Q),c("Using mock data - API not available")}}catch(se){console.error("Error loading batch enrollments:",se),c(se instanceof Error?se.message:"An unknown error occurred")}finally{o(!1)}};C.useEffect(()=>{e&&G()},[e,g]);const L=se=>{console.log("Approving enrollment:",se),console.log("Enrollment ID:",se._id),console.log("Enrollment status:",se.status),console.log("Enrollment approval status:",se.approvalStatus),x(se),h(!0)},P=se=>{x(se),m(!0)},F=()=>{h(!1),x(null),b("Enrollment approved successfully!"),setTimeout(()=>b(null),5e3),G()},M=()=>{m(!1),x(null),G()},Z=se=>{console.log("Opening sync modal for enrollment:",se._id),x(se),v(!0)},te=se=>{v(!1),x(null),se.updated?b(`Sync completed: ${se.action}`):b(`Sync completed: ${se.action}`),setTimeout(()=>b(null),5e3),G()},le=se=>{k(se)},R=()=>{k({batchId:e,page:1,limit:100,sortBy:"enrollmentDate",sortOrder:"desc"})},X=se=>{switch(se.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"enrolled":case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";case"dropped":case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[n&&r.jsxs("button",{onClick:n,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",title:"Back to batch selection",children:[r.jsx(IU,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Batch Enrollment Management"}),r.jsxs("p",{className:"text-gray-600",children:[s," - ",t]})]})]}),r.jsxs("button",{onClick:G,disabled:l,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:`w-4 h-4 ${l?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]})]})}),N&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-3",children:[r.jsx(it,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),r.jsx("p",{className:"text-green-700 text-sm",children:N}),r.jsx("button",{onClick:()=>b(null),className:"text-green-500 hover:text-green-700 ml-auto",children:r.jsx(jt,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:U.total})]}),r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(ct,{className:"w-5 h-5 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:U.pending})]}),r.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Zt,{className:"w-5 h-5 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:U.approved})]}),r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(it,{className:"w-5 h-5 text-green-600"})})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:U.rejected})]}),r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Kt,{className:"w-5 h-5 text-red-600"})})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Enrolled"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:U.enrolled})]}),r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(ct,{className:"w-5 h-5 text-blue-600"})})]})})]}),r.jsx(eH,{filters:g,onFiltersChange:le,onReset:R,courses:[{_id:"course1",title:s}],batches:[{_id:e,name:t,courseId:"course1"}]}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollment Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"ml-3 text-gray-500",children:"Loading enrollments..."})]})})}):A?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Nt,{className:"w-12 h-12 text-red-300 mb-2"}),r.jsx("p",{className:"text-red-600 font-medium",children:"Error loading enrollments"}),r.jsx("p",{className:"text-gray-500 text-sm",children:A})]})})}):a.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(ct,{className:"w-12 h-12 text-gray-300 mb-2"}),r.jsx("p",{children:"No enrollments found for this batch"}),r.jsx("p",{className:"text-sm",children:"Students can enroll through the course page"})]})})}):a.map(se=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[se.studentId.firstName.charAt(0),se.studentId.lastName.charAt(0)]})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[se.studentId.firstName," ",se.studentId.lastName]}),r.jsx("div",{className:"text-sm text-gray-500",children:se.studentId.studentId}),r.jsx("div",{className:"text-sm text-gray-500",children:se.studentId.email})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${X(se.status)}`,children:se.status}),r.jsx("div",{className:"text-xs text-gray-500",children:se.approvalStatus})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:Rt.formatCurrency(se.paymentAmount,se.currency)}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Status: ",r.jsx("span",{className:"capitalize",children:se.paymentStatus})]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Rt.formatDate(se.enrollmentDate)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[(se.status==="pending"||se.approvalStatus==="pending")&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>L(se),className:"text-green-600 hover:text-green-900",title:"Approve",children:r.jsx(it,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>P(se),className:"text-red-600 hover:text-red-900",title:"Reject",children:r.jsx(Kt,{className:"w-4 h-4"})})]}),r.jsx("button",{onClick:()=>Z(se),className:"text-purple-600 hover:text-purple-900",title:"Sync with Batch",children:r.jsx(Rm,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>console.log("View details:",se._id),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:r.jsx(_r,{className:"w-4 h-4"})})]})})]},se._id))})]})})}),d&&B&&r.jsx(w3,{enrollment:B,onClose:()=>h(!1),onSuccess:F}),p&&B&&r.jsx(v3,{enrollment:B,onClose:()=>m(!1),onSuccess:M}),y&&B&&r.jsx(ZM,{enrollment:B,onClose:()=>v(!1),onSuccess:te})]})},rH=()=>{var re;const[e,t]=C.useState([]),[s,n]=C.useState([]),[a,i]=C.useState(!0),[l,o]=C.useState(null),[A,c]=C.useState({}),[d,h]=C.useState(1),[p,m]=C.useState(1),[y,v]=C.useState(0),[B,x]=C.useState(!1),[N,b]=C.useState(!1),[g,k]=C.useState(!1),[_,I]=C.useState(null),[U,S]=C.useState("batches"),[G,L]=C.useState(null);C.useEffect(()=>{F(),P()},[d,A]);const P=async()=>{try{const Q=await GA.getAllCourses(1,100);Q.success&&Q.data?n(Q.data.courses):console.error("Failed to load courses for dropdown")}catch(Q){console.error("Error fetching courses:",Q)}},F=async()=>{var Q,z;try{i(!0),o(null);const $=await bo.getAllBatches(d,10,A);if($.success&&$.data){const V=$.data;t(V.batches),m(((Q=V.pagination)==null?void 0:Q.totalPages)||1),v(((z=V.pagination)==null?void 0:z.totalBatches)||0)}else{const V=[{_id:"mock-batch-1",name:"Python Morning Batch",courseId:{_id:"mock-course-1",title:"Introduction to Python",category:"Programming",type:"online",price:5e3,currency:"INR"},startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30,enrollmentCount:15,status:"ongoing",timeSlots:[],venue:"Online",instructor:"Dr. Smith",description:"Learn Python programming from basics to advanced concepts",createdAt:"2024-01-01T00:00:00.000Z",updatedAt:"2024-01-01T00:00:00.000Z"},{_id:"mock-batch-2",name:"JavaScript Evening Batch",courseId:{_id:"mock-course-2",title:"Advanced JavaScript",category:"Programming",type:"online",price:8e3,currency:"INR"},startDate:"2024-02-01T00:00:00.000Z",endDate:"2024-04-01T00:00:00.000Z",maxStudents:25,enrollmentCount:8,status:"scheduled",timeSlots:[],venue:"Online",instructor:"Dr. Johnson",description:"Master advanced JavaScript concepts and frameworks",createdAt:"2024-02-01T00:00:00.000Z",updatedAt:"2024-02-01T00:00:00.000Z"}];t(V),m(1),v(V.length),o("Using mock data - API not available")}}catch($){console.error("Error loading batches:",$);const V=[{_id:"mock-batch-1",name:"Python Morning Batch",courseId:{_id:"mock-course-1",title:"Introduction to Python",category:"Programming",type:"online",price:5e3,currency:"INR"},startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30,enrollmentCount:15,status:"ongoing",timeSlots:[],venue:"Online",instructor:"Dr. Smith",description:"Learn Python programming from basics to advanced concepts",createdAt:"2024-01-01T00:00:00.000Z",updatedAt:"2024-01-01T00:00:00.000Z"},{_id:"mock-batch-2",name:"JavaScript Evening Batch",courseId:{_id:"mock-course-2",title:"Advanced JavaScript",category:"Programming",type:"online",price:8e3,currency:"INR"},startDate:"2024-02-01T00:00:00.000Z",endDate:"2024-04-01T00:00:00.000Z",maxStudents:25,enrollmentCount:8,status:"scheduled",timeSlots:[],venue:"Online",instructor:"Dr. Johnson",description:"Master advanced JavaScript concepts and frameworks",createdAt:"2024-02-01T00:00:00.000Z",updatedAt:"2024-02-01T00:00:00.000Z"}];t(V),m(1),v(V.length),o($ instanceof Error?$.message:"An unknown error occurred")}finally{i(!1)}},M=async Q=>{try{b(!0);const z=await bo.createBatch(Q);if(z.success)x(!1),F();else throw new Error(z.message||"Failed to create batch")}catch(z){throw console.error("Failed to create batch from page:",z),z}finally{b(!1)}},Z=Q=>{I(Q),k(!0)},te=Q=>{L(Q),S("enrollments")},le=Q=>{t(z=>z.map($=>$._id===Q._id?Q:$)),F()},R=Q=>{t(z=>z.filter($=>$._id!==Q)),F()},X=Q=>{c(z=>({...z,[Q.target.name]:Q.target.value}))},se=()=>{h(1),F()};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Course Batches"}),r.jsx("p",{className:"text-gray-600",children:"Manage all course batches and enrollments"})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("button",{onClick:()=>x(!0),className:"btn-primary flex items-center",children:[r.jsx(bs,{className:"w-4 h-4 mr-2"}),"Create Batch"]})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[r.jsx("button",{onClick:()=>S("batches"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${U==="batches"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(I1,{className:"w-5 h-5"}),r.jsx("span",{children:"Batch Management"})]})}),r.jsx("button",{onClick:()=>S("enrollments"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${U==="enrollments"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ct,{className:"w-5 h-5"}),r.jsx("span",{children:"Enrollment Management"})]})})]})}),r.jsx("div",{className:"p-6",children:U==="batches"?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("input",{type:"text",name:"search",placeholder:"Search by name...",onChange:X,className:"input"}),r.jsxs("select",{name:"status",onChange:X,className:"input",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"scheduled",children:"Scheduled"}),r.jsx("option",{value:"ongoing",children:"Ongoing"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]}),r.jsxs("button",{onClick:se,className:"btn-primary flex items-center justify-center",children:[r.jsx(rs,{className:"w-4 h-4 mr-2"}),"Apply"]})]})}),a?r.jsxs("div",{className:"text-center py-10",children:[r.jsx(_t,{className:"w-6 h-6 animate-spin mx-auto text-gray-500"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Loading batches..."})]}):l?r.jsx("div",{className:"text-center py-10 bg-red-50 text-red-700 rounded-lg",children:r.jsx("p",{children:l})}):r.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Batch Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Course"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Dates"}),r.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:["Enrollment (",y,")"]}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(Q=>{var z;return r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Q.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:((z=Q.courseId)==null?void 0:z.title)||"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${bo.getBatchStatusColor(Q.status)}`,children:Q.status})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(Q.startDate).toLocaleDateString()," - ",new Date(Q.endDate).toLocaleDateString()]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[Q.enrollmentCount," / ",Q.maxStudents]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{onClick:()=>Z(Q),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:r.jsx(_r,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>te(Q),className:"text-green-600 hover:text-green-900",title:"Manage Enrollments",children:r.jsx(ct,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Z(Q),className:"text-indigo-600 hover:text-indigo-900",title:"Edit",children:r.jsx(ai,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Z(Q),className:"text-red-600 hover:text-red-900",title:"Delete",children:r.jsx(ia,{className:"w-4 h-4"})})]})})]},Q._id)})})]})}),r.jsx($N,{isOpen:B,onClose:()=>x(!1),onSubmit:M,courses:s,loading:N}),r.jsx(qN,{isOpen:g,onClose:()=>k(!1),batch:_,onBatchUpdated:le,onBatchDeleted:R}),p>1&&r.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Page ",d," of ",p]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>h(Q=>Math.max(Q-1,1)),disabled:d===1,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),r.jsx("button",{onClick:()=>h(Q=>Math.min(Q+1,p)),disabled:d===p,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})})]}):r.jsx("div",{className:"space-y-6",children:G?r.jsx(tH,{batchId:G._id,batchName:G.name,courseName:((re=G.courseId)==null?void 0:re.title)||"Unknown Course",onBackToSelection:()=>L(null)}):r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Select a Batch to Manage Enrollments"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(Q=>{var z;return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>L(Q),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:Q.name}),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${bo.getBatchStatusColor(Q.status)}`,children:Q.status})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:((z=Q.courseId)==null?void 0:z.title)||"Unknown Course"}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[r.jsxs("span",{children:["Enrollment: ",Q.enrollmentCount,"/",Q.maxStudents]}),r.jsx("span",{children:new Date(Q.startDate).toLocaleDateString()})]}),r.jsx("button",{onClick:$=>{$.stopPropagation(),L(Q)},className:"w-full mt-3 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm transition-colors",children:"Manage Enrollments"})]},Q._id)})}),e.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ct,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No batches available"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Create a batch first to manage enrollments"})]})]})})})})]}),r.jsx($N,{isOpen:B,onClose:()=>x(!1),onSubmit:M,courses:s,loading:N}),r.jsx(qN,{isOpen:g,onClose:()=>k(!1),batch:_,onBatchUpdated:le,onBatchDeleted:R})]})},sH=({isOpen:e,onClose:t,onSubmit:s,studentsWithEnrollments:n,loading:a=!1})=>{const[i,l]=C.useState({studentId:"",courseId:"",batchId:"",totalAmount:"",currency:"INR",paymentMethod:"online",dueDate:"",notes:""}),[o,A]=C.useState({}),[c,d]=C.useState(null),[h,p]=C.useState([]);C.useEffect(()=>{if(i.studentId){const x=n.find(N=>N.studentId===i.studentId);p(x?x.enrollments:[]),l(N=>({...N,courseId:"",batchId:""}))}else p([]),l(x=>({...x,courseId:"",batchId:""}))},[i.studentId,n]),C.useEffect(()=>{if(i.courseId&&i.studentId){const x=n.find(N=>N.studentId===i.studentId);if(x){const N=x.enrollments.filter(b=>b.course.id===i.courseId);p(N),i.batchId&&!N.some(b=>b.batch.id===i.batchId)&&l(b=>({...b,batchId:""}))}}},[i.courseId,i.studentId,n]),C.useEffect(()=>{if(e&&!i.dueDate){const x=new Date;x.setDate(x.getDate()+30),l(N=>({...N,dueDate:x.toISOString().split("T")[0]}))}},[e,i.dueDate]);const m=x=>{const{name:N,value:b}=x.target;l(g=>({...g,[N]:b})),o[N]&&A(g=>({...g,[N]:void 0}))},y=()=>{const x={};return i.studentId||(x.studentId="Please select a student"),i.courseId||(x.courseId="Please select a course"),i.batchId||(x.batchId="Please select a batch"),(!i.totalAmount||parseFloat(i.totalAmount)<=0)&&(x.totalAmount="Please enter a valid amount greater than 0"),i.paymentMethod||(x.paymentMethod="Please select a payment method"),i.dueDate?new Date(i.dueDate)<new Date&&(x.dueDate="Due date cannot be in the past"):x.dueDate="Please select a due date",i.notes&&i.notes.length>500&&(x.notes="Notes cannot exceed 500 characters"),A(x),Object.keys(x).length===0},v=async x=>{if(x.preventDefault(),!!y()){d(null);try{const N={studentId:i.studentId,courseId:i.courseId,batchId:i.batchId,totalAmount:parseFloat(i.totalAmount),currency:i.currency,paymentMethod:i.paymentMethod,dueDate:new Date(i.dueDate).toISOString(),notes:i.notes||void 0};await s(N)}catch(N){d(N instanceof Error?N.message:"An unknown error occurred")}}},B=()=>{l({studentId:"",courseId:"",batchId:"",totalAmount:"",currency:"INR",paymentMethod:"online",dueDate:"",notes:""}),A({}),d(null),t()};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(br,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Fee Request"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Generate a new fee request for a student"})]})]}),r.jsx("button",{onClick:B,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Close",children:r.jsx(jt,{size:20})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[c&&r.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3 flex",children:[r.jsx(Nt,{className:"h-5 w-5 text-red-400 mr-2"}),r.jsx("p",{className:"text-red-700 text-sm",children:c})]}),r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(dr,{className:"w-4 h-4 inline mr-2"}),"Student *"]}),r.jsxs("select",{name:"studentId",value:i.studentId,onChange:m,className:`input w-full ${o.studentId?"input-error":""}`,disabled:a,children:[r.jsx("option",{value:"",children:"Select a student"}),n.map(x=>r.jsxs("option",{value:x.studentId,children:[x.studentDetails.fullName," (",x.studentDetails.studentId,") - ",x.enrollmentStats.totalEnrollments," enrollments"]},x.studentId))]}),o.studentId&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.studentId})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(es,{className:"w-4 h-4 inline mr-2"}),"Course *"]}),r.jsxs("select",{name:"courseId",value:i.courseId,onChange:m,className:`input w-full ${o.courseId?"input-error":""}`,disabled:a||!i.studentId,children:[r.jsx("option",{value:"",children:i.studentId?"Select a course":"Select a student first"}),h.map(x=>r.jsxs("option",{value:x.course.id,children:[x.course.title," (",x.course.category,") - ",x.course.type]},x.course.id))]}),o.courseId&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.courseId})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Zt,{className:"w-4 h-4 inline mr-2"}),"Batch *"]}),r.jsxs("select",{name:"batchId",value:i.batchId,onChange:m,className:`input w-full ${o.batchId?"input-error":""}`,disabled:a||!i.courseId,children:[r.jsx("option",{value:"",children:i.courseId?"Select a batch":"Select a course first"}),h.filter(x=>x.course.id===i.courseId).map(x=>r.jsxs("option",{value:x.batch.id,children:[x.batch.name," (",new Date(x.batch.startDate).toLocaleDateString(),")"]},x.batch.id))]}),o.batchId&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.batchId})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(br,{className:"w-4 h-4 inline mr-2"}),"Total Amount *"]}),r.jsx("input",{type:"number",name:"totalAmount",value:i.totalAmount,onChange:m,placeholder:"Enter amount",min:"0",step:"0.01",className:`input w-full ${o.totalAmount?"input-error":""}`,disabled:a}),o.totalAmount&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.totalAmount})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),r.jsxs("select",{name:"currency",value:i.currency,onChange:m,className:"input w-full",disabled:a,children:[r.jsx("option",{value:"INR",children:"INR ()"}),r.jsx("option",{value:"USD",children:"USD ($)"}),r.jsx("option",{value:"EUR",children:"EUR ()"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:i.paymentMethod==="online",onChange:m,className:"h-4 w-4 text-blue-600 focus:ring-blue-500",disabled:a}),r.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Online"})]}),r.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:i.paymentMethod==="cash",onChange:m,className:"h-4 w-4 text-blue-600 focus:ring-blue-500",disabled:a}),r.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Cash"})]})]}),o.paymentMethod&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.paymentMethod})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Mt,{className:"w-4 h-4 inline mr-2"}),"Due Date *"]}),r.jsx("input",{type:"date",name:"dueDate",value:i.dueDate,onChange:m,min:new Date().toISOString().split("T")[0],className:`input w-full ${o.dueDate?"input-error":""}`,disabled:a}),o.dueDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.dueDate})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),r.jsx("textarea",{name:"notes",value:i.notes,onChange:m,placeholder:"Additional notes (optional)",rows:3,maxLength:500,className:`input w-full ${o.notes?"input-error":""}`,disabled:a}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[o.notes&&r.jsx("p",{className:"text-red-500 text-sm",children:o.notes}),r.jsxs("p",{className:"text-gray-500 text-sm ml-auto",children:[i.notes.length,"/500"]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t bg-gray-50",children:[r.jsx("button",{type:"button",onClick:B,className:"btn-secondary",disabled:a,children:"Cancel"}),r.jsx("button",{type:"submit",onClick:v,className:"btn-primary",disabled:a,children:a?"Creating...":"Create Fee Request"})]})]})}):null},nH=({isOpen:e,onClose:t,onSubmit:s,feeRequest:n,loading:a=!1})=>{const[i,l]=C.useState({amount:"",paymentMethod:"cash",transactionId:"",paymentReference:"",notes:""}),[o,A]=C.useState({}),[c,d]=C.useState(null);C.useEffect(()=>{e&&n&&(l({amount:n.remainingAmount.toString(),paymentMethod:"cash",transactionId:"",paymentReference:"",notes:""}),A({}),d(null))},[e,n]);const h=v=>{const{name:B,value:x}=v.target;l(N=>({...N,[B]:x})),o[B]&&A(N=>({...N,[B]:void 0}))},p=()=>{if(!n)return!1;const v={},B=parseFloat(i.amount);return!i.amount||B<=0?v.amount="Please enter a valid amount greater than 0":B>n.remainingAmount&&(v.amount=`Amount cannot exceed remaining amount (${n.remainingAmount})`),i.paymentMethod||(v.paymentMethod="Please select a payment method"),i.paymentMethod==="online"&&!i.transactionId&&(v.transactionId="Transaction ID is required for online payments"),i.paymentMethod==="bank_transfer"&&!i.paymentReference&&(v.paymentReference="Payment reference is required for bank transfers"),i.notes&&i.notes.length>500&&(v.notes="Notes cannot exceed 500 characters"),A(v),Object.keys(v).length===0},m=async v=>{if(v.preventDefault(),!(!n||!p())){d(null);try{const B={feeRequestId:n._id,amount:parseFloat(i.amount),paymentMethod:i.paymentMethod,transactionId:i.transactionId||void 0,paymentReference:i.paymentReference||void 0,notes:i.notes||void 0};await s(B)}catch(B){d(B instanceof Error?B.message:"An unknown error occurred")}}},y=()=>{l({amount:"",paymentMethod:"cash",transactionId:"",paymentReference:"",notes:""}),A({}),d(null),t()};return!e||!n?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[50] p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(xn,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Record Payment"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[typeof n.studentId=="object"?`${n.studentId.firstName} ${n.studentId.lastName}`:"Student"," - ",typeof n.courseId=="object"?n.courseId.title:"Course"]})]})]}),r.jsx("button",{onClick:y,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Close",children:r.jsx(jt,{size:20})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[c&&r.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3 flex",children:[r.jsx(Nt,{className:"h-5 w-5 text-red-400 mr-2"}),r.jsx("p",{className:"text-red-700 text-sm",children:c})]}),r.jsxs("div",{className:"mb-6 bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Fee Request Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-600",children:"Total Amount:"}),r.jsxs("p",{className:"text-gray-900",children:["",n.totalAmount]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-600",children:"Paid Amount:"}),r.jsxs("p",{className:"text-gray-900",children:["",n.paidAmount]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-600",children:"Remaining Amount:"}),r.jsxs("p",{className:"text-gray-900 font-semibold",children:["",n.remainingAmount]})]})]})]}),r.jsxs("form",{onSubmit:m,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(br,{className:"w-4 h-4 inline mr-2"}),"Payment Amount *"]}),r.jsx("input",{type:"number",name:"amount",value:i.amount,onChange:h,placeholder:"Enter payment amount",min:"0",max:n.remainingAmount,step:"0.01",className:`input w-full ${o.amount?"input-error":""}`,disabled:a}),o.amount&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.amount}),r.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Maximum: ",n.remainingAmount]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:i.paymentMethod==="cash",onChange:h,className:"h-4 w-4 text-green-600 focus:ring-green-500",disabled:a}),r.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Cash"})]}),r.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:i.paymentMethod==="online",onChange:h,className:"h-4 w-4 text-green-600 focus:ring-green-500",disabled:a}),r.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Online"})]}),r.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"bank_transfer",checked:i.paymentMethod==="bank_transfer",onChange:h,className:"h-4 w-4 text-green-600 focus:ring-green-500",disabled:a}),r.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Bank Transfer"})]}),r.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:"cheque",checked:i.paymentMethod==="cheque",onChange:h,className:"h-4 w-4 text-green-600 focus:ring-green-500",disabled:a}),r.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Cheque"})]})]}),o.paymentMethod&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.paymentMethod})]}),i.paymentMethod==="online"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction ID *"}),r.jsx("input",{type:"text",name:"transactionId",value:i.transactionId,onChange:h,placeholder:"Enter transaction ID",className:`input w-full ${o.transactionId?"input-error":""}`,disabled:a}),o.transactionId&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.transactionId})]}),i.paymentMethod==="bank_transfer"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Reference *"}),r.jsx("input",{type:"text",name:"paymentReference",value:i.paymentReference,onChange:h,placeholder:"Enter payment reference",className:`input w-full ${o.paymentReference?"input-error":""}`,disabled:a}),o.paymentReference&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.paymentReference})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),r.jsx("textarea",{name:"notes",value:i.notes,onChange:h,placeholder:"Additional notes (optional)",rows:3,maxLength:500,className:`input w-full ${o.notes?"input-error":""}`,disabled:a}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[o.notes&&r.jsx("p",{className:"text-red-500 text-sm",children:o.notes}),r.jsxs("p",{className:"text-gray-500 text-sm ml-auto",children:[i.notes.length,"/500"]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t bg-gray-50",children:[r.jsx("button",{type:"button",onClick:y,className:"btn-secondary",disabled:a,children:"Cancel"}),r.jsx("button",{type:"submit",onClick:m,className:"btn-primary",disabled:a,children:a?"Recording...":"Record Payment"})]})]})})},aH=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l]=C.useState({}),[o,A]=C.useState(""),[c,d]=C.useState("all"),[h,p]=C.useState("all"),[m,y]=C.useState(1),[v,B]=C.useState(1),[x,N]=C.useState(0),[b,g]=C.useState(!1),[k,_]=C.useState(!1),[I,U]=C.useState(!1),[S,G]=C.useState(!1),[L,P]=C.useState(!1),[F,M]=C.useState(!1),[Z,te]=C.useState(null),[le,R]=C.useState([]),X=async(Ae=1)=>{n(!0),i(null);try{const ge={...l,search:o||void 0,status:c==="all"?void 0:c,paymentMethod:h==="all"?void 0:h};Object.keys(ge).forEach(Qe=>{ge[Qe]===void 0&&delete ge[Qe]});const Se=await kn.getAllFeeRequests(Ae,10,ge);if(Se.success&&Se.data)t(Se.data.feeRequests),B(Se.data.pagination.totalPages),N(Se.data.pagination.totalItems),g(Se.data.pagination.hasNextPage),_(Se.data.pagination.hasPrevPage);else throw new Error(Se.message||"Failed to load fee requests")}catch(ge){console.error("Error loading fee requests:",ge),i(ge instanceof Error?ge.message:"An unknown error occurred")}finally{n(!1)}},se=async()=>{try{const Ae=await kn.getStudentsWithEnrollments();Ae.success&&Ae.data&&R(Ae.data.students)}catch(Ae){console.error("Error loading students with enrollments:",Ae)}};C.useEffect(()=>{X(m)},[m,o,c,h]),C.useEffect(()=>{se()},[]);const re=Ae=>{y(Ae)},Q=Ae=>{Ae.preventDefault(),y(1),X(1)},z=async()=>{try{await kn.getAllFeeRequests(1,1e3,l)}catch(Ae){console.error("Error exporting fee requests:",Ae),i("Failed to export fee requests. Please try again.")}},$=()=>{X(m)},V=async Ae=>{try{G(!0);const ge=await kn.createFeeRequest(Ae);if(ge.success)U(!1),X(m);else throw new Error(ge.message||"Failed to create fee request")}catch(ge){throw console.error("Failed to create fee request from page:",ge),ge}finally{G(!1)}},ne=async Ae=>{try{M(!0);const ge=await kn.recordPayment(Ae);if(ge.success)P(!1),te(null),X(m);else throw new Error(ge.message||"Failed to record payment")}catch(ge){throw console.error("Failed to record payment from page:",ge),ge}finally{M(!1)}},de=Ae=>{te(Ae),P(!0)},xe=Ae=>new Date(Ae).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ie=(Ae,ge)=>kn.formatCurrency(Ae,ge);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(br,{className:"w-8 h-8 text-green-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Fee Management"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:$,disabled:s,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:`w-4 h-4 ${s?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]}),r.jsxs("button",{onClick:z,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Export"})]}),r.jsxs("button",{onClick:()=>U(!0),className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(bs,{className:"w-5 h-5"}),r.jsx("span",{children:"Create Fee Request"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:x})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(br,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(Ae=>Ae.status==="pending").length})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-yellow-600 font-bold text-lg",children:""})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(Ae=>Ae.status==="paid").length})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 font-bold text-lg",children:""})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(Ae=>Ae.status==="overdue").length})]}),r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Nt,{className:"w-6 h-6 text-red-600"})})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("form",{onSubmit:Q,className:"flex flex-col lg:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search by student name, course, or amount...",value:o,onChange:Ae=>A(Ae.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(rs,{className:"w-5 h-5 text-gray-500"}),r.jsxs("select",{value:c,onChange:Ae=>d(Ae.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"partial",children:"Partial"}),r.jsx("option",{value:"overdue",children:"Overdue"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]}),r.jsxs("select",{value:h,onChange:Ae=>p(Ae.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Payment Methods"}),r.jsx("option",{value:"online",children:"Online"}),r.jsx("option",{value:"cash",children:"Cash"})]})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Fee Requests (",e.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course & Batch"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-green-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"ml-3 text-gray-500",children:"Loading fee requests..."})]})})}):a?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Nt,{className:"w-12 h-12 text-red-300 mb-2"}),r.jsx("p",{className:"text-red-600 font-medium",children:"Error loading fee requests"}),r.jsx("p",{className:"text-gray-500 text-sm",children:a})]})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(br,{className:"w-12 h-12 text-gray-300 mb-2"}),r.jsx("p",{children:"No fee requests found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})}):e.map(Ae=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-semibold",children:typeof Ae.studentId=="object"?`${Ae.studentId.firstName.charAt(0)}${Ae.studentId.lastName.charAt(0)}`:"??"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:typeof Ae.studentId=="object"?`${Ae.studentId.firstName} ${Ae.studentId.lastName}`:"Unknown Student"}),r.jsx("div",{className:"text-sm text-gray-500",children:typeof Ae.studentId=="object"?Ae.studentId.studentId:"N/A"})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:typeof Ae.courseId=="object"?Ae.courseId.title:"Unknown Course"}),r.jsx("div",{className:"text-sm text-gray-500",children:typeof Ae.batchId=="object"?Ae.batchId.name:"Unknown Batch"})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie(Ae.totalAmount,Ae.currency)}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Paid: ",ie(Ae.paidAmount,Ae.currency)]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${kn.getPaymentMethodColor(Ae.paymentMethod)}`,children:Ae.paymentMethod})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${kn.getFeeStatusColor(Ae.status)}`,children:Ae.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:xe(Ae.dueDate)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"text-green-600 hover:text-green-900",title:"View Details",children:r.jsx(_r,{className:"w-4 h-4"})}),Ae.remainingAmount>0&&r.jsx("button",{onClick:()=>de(Ae),className:"text-blue-600 hover:text-blue-900",title:"Record Payment",children:r.jsx(xn,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Edit",children:r.jsx(ai,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete",children:r.jsx(ia,{className:"w-4 h-4"})})]})})]},Ae._id))})]})}),e.length>0&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",x," fee requests"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>re(m-1),disabled:!k,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",m," of ",v]}),r.jsx("button",{onClick:()=>re(m+1),disabled:!b,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),r.jsx(sH,{isOpen:I,onClose:()=>U(!1),onSubmit:V,studentsWithEnrollments:le,loading:S}),r.jsx(nH,{isOpen:L,onClose:()=>{P(!1),te(null)},onSubmit:ne,feeRequest:Z,loading:F})]})},iH=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l,o]=C.useState(""),[A,c]=C.useState("all"),[d,h]=C.useState("all"),[p,m]=C.useState(1),[y,v]=C.useState(1),[B,x]=C.useState(0),[N,b]=C.useState(!1),[g,k]=C.useState(!1),_=async(F=1)=>{n(!0),i(null);try{const M={paymentMethod:A==="all"?void 0:A,paymentStatus:d==="all"?void 0:d},Z=await kn.getPaymentHistory(F,10,M);if(Z.success&&Z.data)t(Z.data.payments),v(Z.data.pagination.totalPages),x(Z.data.pagination.totalItems),b(Z.data.pagination.hasNextPage),k(Z.data.pagination.hasPrevPage);else throw new Error(Z.message||"Failed to load payment history")}catch(M){console.error("Error loading payment history:",M),i(M instanceof Error?M.message:"An unknown error occurred")}finally{n(!1)}};C.useEffect(()=>{_(p)},[p,l,A,d]);const I=F=>{m(F)},U=F=>{F.preventDefault(),m(1),_(1)},S=async()=>{try{await kn.getPaymentHistory(1,1e3)}catch(F){console.error("Error exporting payment history:",F),i("Failed to export payment history. Please try again.")}},G=()=>{_(p)},L=F=>new Date(F).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),P=(F,M)=>kn.formatCurrency(F,M);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(xn,{className:"w-8 h-8 text-blue-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Payment History"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:G,disabled:s,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:`w-4 h-4 ${s?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]}),r.jsxs("button",{onClick:S,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Export"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Payments"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:B})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(xn,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(F=>F.paymentStatus==="completed").length})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 font-bold text-lg",children:""})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(F=>F.paymentStatus==="pending").length})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-yellow-600 font-bold text-lg",children:""})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.filter(F=>F.paymentStatus==="failed").length})]}),r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Nt,{className:"w-6 h-6 text-red-600"})})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("form",{onSubmit:U,className:"flex flex-col lg:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search by student name, course, or amount...",value:l,onChange:F=>o(F.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(rs,{className:"w-5 h-5 text-gray-500"}),r.jsxs("select",{value:A,onChange:F=>c(F.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Payment Methods"}),r.jsx("option",{value:"online",children:"Online"}),r.jsx("option",{value:"cash",children:"Cash"}),r.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),r.jsx("option",{value:"cheque",children:"Cheque"})]}),r.jsxs("select",{value:d,onChange:F=>h(F.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"failed",children:"Failed"}),r.jsx("option",{value:"refunded",children:"Refunded"})]})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Payment History (",e.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course & Batch"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"ml-3 text-gray-500",children:"Loading payment history..."})]})})}):a?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Nt,{className:"w-12 h-12 text-red-300 mb-2"}),r.jsx("p",{className:"text-red-600 font-medium",children:"Error loading payment history"}),r.jsx("p",{className:"text-gray-500 text-sm",children:a})]})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(xn,{className:"w-12 h-12 text-gray-300 mb-2"}),r.jsx("p",{children:"No payment history found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})}):e.map(F=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-semibold",children:typeof F.studentId=="object"?`${F.studentId.firstName.charAt(0)}${F.studentId.lastName.charAt(0)}`:"??"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:typeof F.studentId=="object"?`${F.studentId.firstName} ${F.studentId.lastName}`:"Unknown Student"}),r.jsx("div",{className:"text-sm text-gray-500",children:typeof F.studentId=="object"?F.studentId.studentId:"N/A"})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:typeof F.courseId=="object"?F.courseId.title:"Unknown Course"}),r.jsx("div",{className:"text-sm text-gray-500",children:typeof F.batchId=="object"?F.batchId.name:"Unknown Batch"})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:P(F.amount,F.currency)}),F.receiptNumber&&r.jsxs("div",{className:"text-sm text-gray-500",children:["Receipt: ",F.receiptNumber]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${kn.getPaymentMethodColor(F.paymentMethod)}`,children:F.paymentMethod.replace("_"," ")})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${kn.getPaymentStatusColor(F.paymentStatus)}`,children:F.paymentStatus})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L(F.paymentDate)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"View Details",children:r.jsx(_r,{className:"w-4 h-4"})})})})]},F._id))})]})}),e.length>0&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",B," payments"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>I(p-1),disabled:!g,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsxs("span",{className:"px-3 py-1 text-sm",children:["Page ",p," of ",y]}),r.jsx("button",{onClick:()=>I(p+1),disabled:!N,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})},lH=({isOpen:e,onClose:t,student:s,onSuccess:n})=>{const[a,i]=C.useState({studentId:"",attendanceDate:new Date().toISOString().split("T")[0],status:"present",timeSlot:{startTime:"09:00",endTime:"11:00"},remarks:""}),[l,o]=C.useState(!1),[A,c]=C.useState(null);C.useEffect(()=>{if(s&&e){const v={studentId:s.studentId,attendanceDate:new Date().toISOString().split("T")[0],status:"present",timeSlot:{startTime:"09:00",endTime:"11:00"},remarks:""};i(v),c(null)}},[s,e]);const d=(v,B)=>{i(x=>({...x,[v]:B}))},h=(v,B)=>{i(x=>({...x,timeSlot:{...x.timeSlot,[v]:B}}))},p=()=>{if(!a.attendanceDate)return"Please select an attendance date";if(!a.timeSlot.startTime||!a.timeSlot.endTime)return"Please provide both start and end times";const v=new Date(`2000-01-01T${a.timeSlot.startTime}`),B=new Date(`2000-01-01T${a.timeSlot.endTime}`);if(v>=B)return"End time must be after start time";const x=new Date(a.attendanceDate),N=new Date;return N.setHours(23,59,59,999),x>N?"Attendance date cannot be in the future":null},m=async v=>{v.preventDefault();const B=p();if(B){Ue.error(B),c(B);return}o(!0),c(null);try{const x=await F1.markSimpleAttendance(a);if(x.success){const N=(s==null?void 0:s.studentDetails.fullName)||"Student",b=a.status.charAt(0).toUpperCase()+a.status.slice(1),g=new Date(a.attendanceDate).toLocaleDateString();Ue.success(` Attendance marked successfully!
${N} - ${b} on ${g}`,{duration:4e3,style:{background:"#10B981",color:"#fff",fontSize:"14px",lineHeight:"1.4"}}),n(),t()}else{const N=x.message||"Failed to mark attendance";Ue.error(` ${N}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),c(N)}}catch(x){console.error("Error marking attendance:",x);const N=x instanceof Error?x.message:"An unknown error occurred";Ue.error(` ${N}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}}),c(N)}finally{o(!1)}},y=()=>{i({studentId:"",attendanceDate:new Date().toISOString().split("T")[0],status:"present",timeSlot:{startTime:"09:00",endTime:"11:00"},remarks:""}),c(null),t()};return!e||!s?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Mt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Mark Attendance"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Record attendance for student"})]})]}),r.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(jt,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-lg font-semibold",children:[s.studentDetails.firstName.charAt(0),s.studentDetails.lastName.charAt(0)]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:s.studentDetails.fullName}),r.jsx("p",{className:"text-sm text-gray-500",children:s.studentDetails.studentId}),r.jsx("p",{className:"text-sm text-gray-500",children:s.studentDetails.email})]})]})}),r.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[A&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[r.jsx(Nt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700 text-sm",children:A})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Mt,{className:"w-4 h-4 inline mr-2"}),"Attendance Date"]}),r.jsx("input",{type:"date",value:a.attendanceDate,onChange:v=>d("attendanceDate",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(it,{className:"w-4 h-4 inline mr-2"}),"Status"]}),r.jsxs("select",{value:a.status,onChange:v=>d("status",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"present",children:"Present"}),r.jsx("option",{value:"absent",children:"Absent"}),r.jsx("option",{value:"late",children:"Late"}),r.jsx("option",{value:"excused",children:"Excused"})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Zt,{className:"w-4 h-4 inline mr-2"}),"Time Slot"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Start Time"}),r.jsx("input",{type:"time",value:a.timeSlot.startTime,onChange:v=>h("startTime",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"End Time"}),r.jsx("input",{type:"time",value:a.timeSlot.endTime,onChange:v=>h("endTime",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks (Optional)"}),r.jsx("textarea",{value:a.remarks,onChange:v=>d("remarks",v.target.value),placeholder:"Add any additional notes or remarks...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Marking..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("span",{children:"Mark Attendance"})]})})]})]})]})})},oH=({isOpen:e,onClose:t,student:s})=>{const[n,a]=C.useState(null),[i,l]=C.useState(!1),[o,A]=C.useState(null),[c,d]=C.useState({studentId:"",year:new Date().getFullYear().toString(),month:"",startDate:"",endDate:""});C.useEffect(()=>{s&&e&&(d(x=>({...x,studentId:s.studentId})),A(null))},[s,e]),C.useEffect(()=>{c.studentId&&e&&h()},[c,e]);const h=async()=>{if(c.studentId){l(!0),A(null);try{const x=await F1.getStudentAttendanceReport(c);if(x.success&&x.data)a(x.data),Ue.success(" Attendance report loaded successfully!",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}});else throw new Error(x.message||"Failed to load attendance report")}catch(x){console.error("Error loading attendance report:",x);const N=x instanceof Error?x.message:"An unknown error occurred";A(N),Ue.error(` ${N}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{l(!1)}}},p=(x,N)=>{d(b=>({...b,[x]:N}))},m=()=>{d({studentId:(s==null?void 0:s.studentId)||"",year:new Date().getFullYear().toString(),month:"",startDate:"",endDate:""})},y=()=>{a(null),A(null),t()},v=x=>{switch(x.toLowerCase()){case"present":return"bg-green-100 text-green-800";case"absent":return"bg-red-100 text-red-800";case"late":return"bg-yellow-100 text-yellow-800";case"excused":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},B=x=>x>=90?"text-green-600":x>=80?"text-yellow-600":x>=70?"text-orange-600":"text-red-600";return!e||!s?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(us,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Attendance Report"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Detailed attendance analysis for student"})]})]}),r.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(jt,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-lg font-semibold",children:[s.studentDetails.firstName.charAt(0),s.studentDetails.lastName.charAt(0)]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:s.studentDetails.fullName}),r.jsx("p",{className:"text-sm text-gray-500",children:s.studentDetails.studentId}),r.jsx("p",{className:"text-sm text-gray-500",children:s.studentDetails.email})]})]})}),r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(rs,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Report Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),r.jsxs("select",{value:c.year,onChange:x=>p("year",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Years"}),Array.from({length:5},(x,N)=>{const b=new Date().getFullYear()-N;return r.jsx("option",{value:b.toString(),children:b},b)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),r.jsxs("select",{value:c.month,onChange:x=>p("month",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!c.year,children:[r.jsx("option",{value:"",children:"All Months"}),c.year&&Array.from({length:12},(x,N)=>{const b=N+1,g=new Date(parseInt(c.year),N).toLocaleString("default",{month:"long"});return r.jsx("option",{value:b.toString(),children:g},b)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),r.jsx("input",{type:"date",value:c.startDate,onChange:x=>p("startDate",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),r.jsx("input",{type:"date",value:c.endDate,onChange:x=>p("endDate",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 mt-4",children:[r.jsx("button",{onClick:h,disabled:i,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx(_t,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"Loading..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(_t,{className:"w-4 h-4"}),r.jsx("span",{children:"Refresh Report"})]})}),r.jsx("button",{onClick:m,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Reset Filters"})]})]}),r.jsxs("div",{className:"p-6",children:[i&&r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(_t,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading attendance report..."})]})}),o&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(jt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700 text-sm",children:o})]})}),n&&!i&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Mt,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Days"}),r.jsx("p",{className:"text-2xl font-bold text-blue-800",children:n.summary.totalDays})]})]})}),r.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(dr,{className:"w-8 h-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Present"}),r.jsx("p",{className:"text-2xl font-bold text-green-800",children:n.summary.present})]})]})}),r.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(jt,{className:"w-8 h-8 text-red-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Absent"}),r.jsx("p",{className:"text-2xl font-bold text-red-800",children:n.summary.absent})]})]})}),r.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(us,{className:"w-8 h-8 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Attendance Rate"}),r.jsxs("p",{className:`text-2xl font-bold ${B(n.summary.overallAttendanceRate)}`,children:[n.summary.overallAttendanceRate,"%"]})]})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Current Enrollments"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.enrollments.map(x=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(es,{className:"w-5 h-5 text-blue-600 mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:x.course.title}),r.jsxs("p",{className:"text-sm text-gray-600",children:[x.course.category,"  ",x.course.type]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.jsx(ct,{className:"w-4 h-4 inline mr-1"}),x.batch.name]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.status==="enrolled"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.status}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.approvalStatus==="approved"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:x.approvalStatus})]})]})]})},x.id))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monthly Breakdown"}),r.jsx("div",{className:"space-y-4",children:n.monthlyReport.map(x=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:x.month}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:[x.present,"/",x.totalDays," days"]}),r.jsxs("span",{className:`font-semibold ${B(x.attendanceRate)}`,children:[x.attendanceRate,"%"]})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:x.present}),r.jsx("p",{className:"text-sm text-gray-600",children:"Present"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:x.absent}),r.jsx("p",{className:"text-sm text-gray-600",children:"Absent"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:x.late}),r.jsx("p",{className:"text-sm text-gray-600",children:"Late"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x.excused}),r.jsx("p",{className:"text-sm text-gray-600",children:"Excused"})]})]}),x.records.length>0&&r.jsxs("div",{className:"mt-4",children:[r.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Attendance Records"}),r.jsx("div",{className:"space-y-2",children:x.records.map(N=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Mt,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:new Date(N.date).toLocaleDateString()}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(N.status)}`,children:N.status})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[r.jsxs("span",{children:[r.jsx(Zt,{className:"w-4 h-4 inline mr-1"}),N.timeSlot.startTime," - ",N.timeSlot.endTime]}),r.jsx("span",{children:N.course.title})]})]},N.id))})]})]},x.monthKey))})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[r.jsx("button",{onClick:y,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Close"}),n&&r.jsxs("button",{onClick:()=>{Ue.success(" Report export feature coming soon!",{duration:3e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Export Report"})]})]})]})})},AH=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l]=C.useState(1),[o,A]=C.useState(0),[c,d]=C.useState({}),[h,p]=C.useState(!1),[m,y]=C.useState(null),[v,B]=C.useState(!1),[x,N]=C.useState(null),b=async()=>{n(!0),i(null);try{const F=await F1.getStudentsWithEnrollments();if(F.success&&F.data)t(F.data.students),A(F.data.overallStats.totalStudents);else throw new Error(F.message||"Failed to load students with enrollments")}catch(F){console.error("Error loading students with enrollments:",F);const M=F instanceof Error?F.message:"An unknown error occurred";i(M),Ue.error(` Failed to load students: ${M}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{n(!1)}};C.useEffect(()=>{b()},[l]);const g=async()=>{try{console.log("Exporting attendance data...")}catch(F){console.error("Error exporting attendance data:",F),i("Failed to export attendance data. Please try again.")}},k=()=>{b()},_=F=>{console.log("Viewing attendance report for:",F)},I=(F,M)=>{d(Z=>({...Z,[F]:M}))},U=F=>{y(F),p(!0),Ue.success(` Opening attendance form for ${F.studentDetails.fullName}`,{duration:2e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},S=()=>{Ue.success(" Attendance data refreshed successfully!",{duration:3e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),b()},G=()=>{p(!1),y(null),Ue.success(" Attendance form closed",{duration:1500,style:{background:"#6B7280",color:"#fff",fontSize:"14px"}})},L=F=>{N(F),B(!0),Ue.success(` Opening attendance report for ${F.studentDetails.fullName}`,{duration:2e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},P=()=>{B(!1),N(null),Ue.success(" Attendance report closed",{duration:1500,style:{background:"#6B7280",color:"#fff",fontSize:"14px"}})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Mt,{className:"w-8 h-8 text-blue-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Attendance Management"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:()=>console.log("Create session clicked"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:"Create Session"})]}),r.jsxs("button",{onClick:k,disabled:s,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:`w-4 h-4 ${s?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]}),r.jsxs("button",{onClick:g,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Export"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:o})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(ct,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Enrollments"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.reduce((F,M)=>F+M.enrollmentStats.activeEnrollments,0)})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(it,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Courses"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length>0?e[0].enrollmentStats.totalCourses:0})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(Xt,{className:"w-6 h-6 text-purple-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Batches"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.length>0?e[0].enrollmentStats.totalBatches:0})]}),r.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx(Zt,{className:"w-6 h-6 text-orange-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Students with Enrollments (",e.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollments"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Courses & Batches"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attendance"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"ml-3 text-gray-500",children:"Loading students..."})]})})}):a?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Nt,{className:"w-12 h-12 text-red-300 mb-2"}),r.jsx("p",{className:"text-red-600 font-medium",children:"Error loading students"}),r.jsx("p",{className:"text-gray-500 text-sm",children:a})]})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(ct,{className:"w-12 h-12 text-gray-300 mb-2"}),r.jsx("p",{children:"No students found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})}):e.map(F=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[F.studentDetails.firstName.charAt(0),F.studentDetails.lastName.charAt(0)]})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.studentDetails.fullName}),r.jsx("div",{className:"text-sm text-gray-500",children:F.studentDetails.studentId}),r.jsx("div",{className:"text-sm text-gray-500",children:F.studentDetails.email})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm text-gray-900",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(it,{className:"w-4 h-4 text-green-500 mr-1"}),F.enrollmentStats.activeEnrollments," Active"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Kt,{className:"w-4 h-4 text-gray-400 mr-1"}),F.enrollmentStats.completedEnrollments," Completed"]})]}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Total: ",F.enrollmentStats.totalEnrollments]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[F.enrollments.slice(0,2).map((M,Z)=>r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium text-gray-900",children:M.course.title}),r.jsx("div",{className:"text-gray-500",children:M.batch.name})]},Z)),F.enrollments.length>2&&r.jsxs("div",{className:"text-xs text-gray-500",children:["+",F.enrollments.length-2," more"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:`attendance-${F.studentId}`,value:"present",checked:c[F.studentId]==="present",onChange:()=>I(F.studentId,"present"),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300"}),r.jsx("span",{className:"ml-2 text-sm text-green-600 font-medium",children:"Present"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:`attendance-${F.studentId}`,value:"absent",checked:c[F.studentId]==="absent",onChange:()=>I(F.studentId,"absent"),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"}),r.jsx("span",{className:"ml-2 text-sm text-red-600 font-medium",children:"Absent"})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${F.studentDetails.kycStatus==="approved"?"bg-green-100 text-green-800":F.studentDetails.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:F.studentDetails.kycStatus})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>_(F),className:"text-blue-600 hover:text-blue-900",title:"View Attendance Report",children:r.jsx(_r,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>U(F),className:"text-blue-600 hover:text-blue-900",title:"Mark Attendance",children:r.jsx(Mt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>L(F),className:"text-green-600 hover:text-green-900",title:"View Attendance Report",children:r.jsx(us,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Edit",children:r.jsx(ai,{className:"w-4 h-4"})})]})})]},F.studentId))})]})}),e.length>0&&r.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",o," students"]})})]}),r.jsx(lH,{isOpen:h,onClose:G,student:m,onSuccess:S}),r.jsx(oH,{isOpen:v,onClose:P,student:x})]})},YN=()=>{const[e,t]=C.useState(""),[s,n]=C.useState(""),[a,i]=C.useState(""),[l,o]=C.useState(!1),[A,c]=C.useState(null),[d,h]=C.useState(null),p=async v=>{if(v.preventDefault(),!e.trim()){c("Please enter a student ID");return}o(!0),c(null),h(null);try{const B=await Rt.getStudentEnrollmentStatus(e.trim(),s.trim()||void 0,a.trim()||void 0);if(B.success&&B.data)h(B.data);else{console.error("Failed to fetch enrollment status:",B);const x={student:{id:e.trim(),name:"John Doe",studentId:"STU001",email:"john.doe@example.com"},statistics:{total:3,pending:1,approved:1,rejected:0,enrolled:1,active:1,completed:0,dropped:0,suspended:0},enrollments:{pending:[{_id:"enrollment1",studentId:{_id:e.trim(),firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com"},courseId:{_id:"course1",title:"Advanced Python",category:"Programming",type:"online",price:8e3,currency:"INR"},batchId:{_id:"batch1",name:"Python Advanced Batch",startDate:"2024-02-01T00:00:00.000Z",endDate:"2024-04-01T00:00:00.000Z",maxStudents:25},status:"pending",approvalStatus:"pending",enrollmentDate:"2024-01-15T10:00:00.000Z",paymentAmount:8e3,currency:"INR"}],approved:[],rejected:[],enrolled:[{_id:"enrollment2",studentId:{_id:e.trim(),firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com"},courseId:{_id:"course2",title:"Introduction to Python",category:"Programming",type:"online",price:5e3,currency:"INR"},batchId:{_id:"batch2",name:"Python Morning Batch",startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30},status:"enrolled",approvalStatus:"approved",enrollmentDate:"2024-01-10T10:00:00.000Z",paymentAmount:5e3,currency:"INR"}],active:[],completed:[],dropped:[],suspended:[]},allEnrollments:[]};h(x),c("Using mock data - API not available")}}catch(B){console.error("Error fetching enrollment status:",B),c(B instanceof Error?B.message:"An unknown error occurred")}finally{o(!1)}},m=v=>{switch(v.toLowerCase()){case"pending":return"text-yellow-600 bg-yellow-100";case"enrolled":case"approved":return"text-green-600 bg-green-100";case"rejected":return"text-red-600 bg-red-100";case"completed":return"text-blue-600 bg-blue-100";case"dropped":case"cancelled":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},y=v=>{switch(v.toLowerCase()){case"pending":return r.jsx(Zt,{className:"w-4 h-4"});case"enrolled":case"approved":return r.jsx(it,{className:"w-4 h-4"});case"rejected":return r.jsx(Kt,{className:"w-4 h-4"});case"completed":return r.jsx(it,{className:"w-4 h-4"});case"dropped":case"cancelled":return r.jsx(Kt,{className:"w-4 h-4"});default:return r.jsx(Nt,{className:"w-4 h-4"})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(ms,{className:"w-5 h-5 mr-2"}),"Check Student Enrollment Status"]}),r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student ID *"}),r.jsx("input",{type:"text",value:e,onChange:v=>t(v.target.value),placeholder:"Enter student ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course ID (Optional)"}),r.jsx("input",{type:"text",value:s,onChange:v=>n(v.target.value),placeholder:"Enter course ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch ID (Optional)"}),r.jsx("input",{type:"text",value:a,onChange:v=>i(v.target.value),placeholder:"Enter batch ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsx("button",{type:"submit",disabled:l,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-2 rounded-lg transition-colors flex items-center space-x-2",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Searching..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ms,{className:"w-4 h-4"}),r.jsx("span",{children:"Search"})]})})]}),A&&r.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[r.jsx(Nt,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700 text-sm",children:A})]})]}),d&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(dr,{className:"w-5 h-5 mr-2"}),"Student Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),r.jsx("p",{className:"font-medium text-gray-800",children:d.student.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Student ID"}),r.jsx("p",{className:"font-medium text-gray-800",children:d.student.studentId})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),r.jsx("p",{className:"font-medium text-gray-800",children:d.student.email})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Enrollments"}),r.jsx("p",{className:"font-medium text-gray-800",children:d.statistics.total})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(BarChart3,{className:"w-5 h-5 mr-2"}),"Enrollment Statistics"]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:d.statistics.pending}),r.jsx("div",{className:"text-sm text-yellow-700",children:"Pending"})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.statistics.approved}),r.jsx("div",{className:"text-sm text-green-700",children:"Approved"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.statistics.active}),r.jsx("div",{className:"text-sm text-blue-700",children:"Active"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-600",children:d.statistics.completed}),r.jsx("div",{className:"text-sm text-gray-700",children:"Completed"})]})]})]}),Object.entries(d.enrollments).map(([v,B])=>B.length===0?null:r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[y(v),r.jsxs("span",{className:"ml-2 capitalize",children:[v," Enrollments (",B.length,")"]})]}),r.jsx("div",{className:"space-y-4",children:B.map(x=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-800",children:x.courseId.title}),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${m(x.status)}`,children:x.status})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Batch"}),r.jsx("p",{children:x.batchId.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Enrollment Date"}),r.jsx("p",{children:Rt.formatDate(x.enrollmentDate)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Amount"}),r.jsx("p",{children:Rt.formatCurrency(x.paymentAmount,x.currency)})]})]}),x.adminNotes&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Admin Notes"}),r.jsx("p",{className:"text-sm text-gray-600",children:x.adminNotes})]}),x.rejectionReason&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Rejection Reason"}),r.jsx("p",{className:"text-sm text-red-600",children:x.rejectionReason})]})]})})},x._id))})]},v))]})]})},cH=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l,o]=C.useState([]),[A,c]=C.useState(!1),[d,h]=C.useState(!1),[p,m]=C.useState(null),[y,v]=C.useState({page:1,limit:10,courseId:"",batchId:"",sortBy:"enrollmentDate",sortOrder:"desc"}),[B,x]=C.useState({currentPage:1,totalPages:1,totalEnrollments:0,hasNextPage:!1,hasPrevPage:!1}),[N,b]=C.useState({totalPending:0,totalAmount:0}),g=async()=>{n(!0),i(null);try{console.log("Loading pending enrollments with filters:",y);const F=await Rt.getPendingEnrollments(y);if(console.log("Pending enrollments response:",F),F.success&&F.data)console.log("Found pending enrollments:",F.data.enrollments.length,F.data.enrollments),t(F.data.enrollments),x(F.data.pagination),b(F.data.statistics);else{console.error("Failed to load pending enrollments:",F);const M=[{_id:"mock1",studentId:{_id:"student1",firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com",phoneNumber:"+1234567890"},courseId:{_id:"course1",title:"Introduction to Python",category:"Programming",type:"online",price:5e3,currency:"INR"},batchId:{_id:"batch1",name:"Python Morning Batch",startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30},status:"pending",approvalStatus:"pending",enrollmentDate:"2024-01-15T10:00:00.000Z",paymentAmount:5e3,currency:"INR",paymentStatus:"pending",createdAt:"2024-01-15T10:00:00.000Z",updatedAt:"2024-01-15T10:00:00.000Z"},{_id:"mock2",studentId:{_id:"student2",firstName:"Jane",lastName:"Smith",studentId:"STU002",email:"jane.smith@example.com",phoneNumber:"+1234567891"},courseId:{_id:"course2",title:"Advanced JavaScript",category:"Programming",type:"online",price:8e3,currency:"INR"},batchId:{_id:"batch2",name:"JS Evening Batch",startDate:"2024-02-01T00:00:00.000Z",endDate:"2024-04-01T00:00:00.000Z",maxStudents:25},status:"pending",approvalStatus:"pending",enrollmentDate:"2024-01-20T10:00:00.000Z",paymentAmount:8e3,currency:"INR",paymentStatus:"pending",createdAt:"2024-01-20T10:00:00.000Z",updatedAt:"2024-01-20T10:00:00.000Z"}];t(M),x({currentPage:1,totalPages:1,totalEnrollments:M.length,hasNextPage:!1,hasPrevPage:!1}),b({totalPending:M.length,totalAmount:M.reduce((Z,te)=>Z+te.paymentAmount,0)}),i("Using mock data - API not available")}}catch(F){console.error("Error loading pending enrollments:",F),i(F instanceof Error?F.message:"An unknown error occurred")}finally{n(!1)}};C.useEffect(()=>{g()},[y]);const k=F=>{o(M=>M.includes(F)?M.filter(Z=>Z!==F):[...M,F])},_=()=>{l.length===e.length?o([]):o(e.map(F=>F._id))},I=F=>{m(F),c(!0)},U=F=>{m(F),h(!0)},S=()=>{l.length!==0&&console.log("Bulk approve:",l)},G=()=>{l.length!==0&&console.log("Bulk reject:",l)},L=()=>{c(!1),m(null),g()},P=()=>{h(!1),m(null),g()};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:N.totalPending})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Zt,{className:"w-6 h-6 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Rt.formatCurrency(N.totalAmount)})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(it,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Selected"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:l.length})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(rs,{className:"w-6 h-6 text-blue-600"})})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:l.length===e.length&&e.length>0,onChange:_,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Select All"})]}),l.length>0&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:S,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors",children:"Approve Selected"}),r.jsx("button",{onClick:G,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm transition-colors",children:"Reject Selected"})]})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("button",{onClick:g,disabled:s,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:`w-4 h-4 ${s?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]})})]})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r.jsx("input",{type:"checkbox",checked:l.length===e.length&&e.length>0,onChange:_,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course & Batch"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollment Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"ml-3 text-gray-500",children:"Loading enrollments..."})]})})}):a?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Nt,{className:"w-12 h-12 text-red-300 mb-2"}),r.jsx("p",{className:"text-red-600 font-medium",children:"Error loading enrollments"}),r.jsx("p",{className:"text-gray-500 text-sm",children:a})]})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Zt,{className:"w-12 h-12 text-gray-300 mb-2"}),r.jsx("p",{children:"No pending enrollments found"}),r.jsx("p",{className:"text-sm",children:"All enrollments have been processed"})]})})}):e.map(F=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"checkbox",checked:l.includes(F._id),onChange:()=>k(F._id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[F.studentId.firstName.charAt(0),F.studentId.lastName.charAt(0)]})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[F.studentId.firstName," ",F.studentId.lastName]}),r.jsx("div",{className:"text-sm text-gray-500",children:F.studentId.studentId}),r.jsx("div",{className:"text-sm text-gray-500",children:F.studentId.email})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium text-gray-900",children:F.courseId.title}),r.jsx("div",{className:"text-gray-500",children:F.batchId.name}),r.jsxs("div",{className:"text-xs text-gray-400",children:[F.courseId.category,"  ",F.courseId.type]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:Rt.formatCurrency(F.paymentAmount,F.currency)}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Status: ",r.jsx("span",{className:"capitalize",children:F.paymentStatus})]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Rt.formatDate(F.enrollmentDate)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>I(F),className:"text-green-600 hover:text-green-900",title:"Approve",children:r.jsx(it,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>U(F),className:"text-red-600 hover:text-red-900",title:"Reject",children:r.jsx(Kt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>console.log("View details:",F._id),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:r.jsx(_r,{className:"w-4 h-4"})})]})})]},F._id))})]})}),e.length>0&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",B.totalEnrollments," enrollments"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>v(F=>({...F,page:F.page-1})),disabled:!B.hasPrevPage,className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsxs("span",{className:"px-3 py-1 text-sm text-gray-700",children:["Page ",B.currentPage," of ",B.totalPages]}),r.jsx("button",{onClick:()=>v(F=>({...F,page:F.page+1})),disabled:!B.hasNextPage,className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),A&&p&&r.jsx(w3,{enrollment:p,onClose:()=>c(!1),onSuccess:L}),d&&p&&r.jsx(v3,{enrollment:p,onClose:()=>h(!1),onSuccess:P})]})},dH=()=>{const[e,t]=C.useState(null),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l,o]=C.useState({startDate:"",endDate:"",courseId:"",batchId:""}),A=async()=>{n(!0),i(null);try{console.log("Loading enrollment statistics with filters:",l);const h=await Rt.getEnrollmentStatistics(l);console.log("Statistics response:",h),h.success&&h.data?t(h.data):(console.error("Failed to load statistics:",h),t({overall:{totalEnrollments:150,pendingEnrollments:25,approvedEnrollments:100,rejectedEnrollments:10,activeEnrollments:80,completedEnrollments:20,totalRevenue:75e4,averageRating:4.2},byCourse:[{_id:"course1",courseName:"Introduction to Python",courseType:"online",totalEnrollments:50,pendingEnrollments:8,approvedEnrollments:35,rejectedEnrollments:3,totalRevenue:175e3},{_id:"course2",courseName:"Advanced JavaScript",courseType:"online",totalEnrollments:40,pendingEnrollments:5,approvedEnrollments:30,rejectedEnrollments:2,totalRevenue:2e5}],byBatch:[{_id:"batch1",batchName:"Python Morning Batch",courseName:"Introduction to Python",totalEnrollments:25,pendingEnrollments:3,approvedEnrollments:20,rejectedEnrollments:1,totalRevenue:1e5},{_id:"batch2",batchName:"JS Evening Batch",courseName:"Advanced JavaScript",totalEnrollments:20,pendingEnrollments:2,approvedEnrollments:15,rejectedEnrollments:1,totalRevenue:12e4}],recentEnrollments:[{_id:"enrollment1",studentId:{_id:"student1",firstName:"John",lastName:"Doe",studentId:"STU001",email:"john.doe@example.com"},courseId:{_id:"course1",title:"Introduction to Python",category:"Programming",type:"online",price:5e3,currency:"INR"},batchId:{_id:"batch1",name:"Python Morning Batch",startDate:"2024-01-01T00:00:00.000Z",endDate:"2024-03-01T00:00:00.000Z",maxStudents:30},status:"enrolled",approvalStatus:"approved",enrollmentDate:"2024-01-15T10:00:00.000Z",paymentAmount:5e3,currency:"INR",paymentStatus:"paid",createdAt:"2024-01-15T10:00:00.000Z",updatedAt:"2024-01-15T10:00:00.000Z"}]}),i("Using mock data - API not available"))}catch(h){console.error("Error loading statistics:",h),i(h instanceof Error?h.message:"An unknown error occurred")}finally{n(!1)}};C.useEffect(()=>{A()},[l]);const c=(h,p)=>{o(m=>({...m,[h]:p}))},d=()=>{o({startDate:"",endDate:"",courseId:"",batchId:""})};return s?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-gray-500",children:"Loading statistics..."})]})}):a?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Nt,{className:"w-12 h-12 text-red-300 mb-4"}),r.jsx("p",{className:"text-red-600 font-medium",children:"Error loading statistics"}),r.jsx("p",{className:"text-gray-500 text-sm",children:a}),r.jsx("button",{onClick:A,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Try Again"})]}):e?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(rs,{className:"w-5 h-5 mr-2"}),"Filters"]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:d,className:"text-sm text-gray-600 hover:text-gray-800",children:"Reset"}),r.jsxs("button",{onClick:A,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:"w-4 h-4"}),r.jsx("span",{children:"Refresh"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),r.jsx("input",{type:"date",value:l.startDate,onChange:h=>c("startDate",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),r.jsx("input",{type:"date",value:l.endDate,onChange:h=>c("endDate",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course ID"}),r.jsx("input",{type:"text",value:l.courseId,onChange:h=>c("courseId",h.target.value),placeholder:"Enter course ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch ID"}),r.jsx("input",{type:"text",value:l.batchId,onChange:h=>c("batchId",h.target.value),placeholder:"Enter batch ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enrollments"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.overall.totalEnrollments})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(ct,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.overall.pendingEnrollments})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Mt,{className:"w-6 h-6 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.overall.activeEnrollments})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(us,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Rt.formatCurrency(e.overall.totalRevenue)})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(br,{className:"w-6 h-6 text-purple-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Statistics by Course"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.byCourse.map(h=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.courseName})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:h.courseType})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.totalEnrollments}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.pendingEnrollments}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.approvedEnrollments}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Rt.formatCurrency(h.totalRevenue)})]},h._id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Statistics by Batch"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.byBatch.map(h=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.batchName})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:h.courseName})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.totalEnrollments}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.pendingEnrollments}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.approvedEnrollments}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Rt.formatCurrency(h.totalRevenue)})]},h._id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Enrollments"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.recentEnrollments.map(h=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[h.studentId.firstName," ",h.studentId.lastName]}),r.jsx("div",{className:"text-sm text-gray-500",children:h.studentId.studentId})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:h.courseId.title}),r.jsx("div",{className:"text-sm text-gray-500",children:h.courseId.category})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.batchId.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Rt.getEnrollmentStatusColor(h.status)}`,children:h.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Rt.formatDate(h.enrollmentDate)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Rt.formatCurrency(h.paymentAmount,h.currency)})]},h._id))})]})})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(I1,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No statistics available"})]})},uH=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l,o]=C.useState({page:1,limit:10,courseId:"",batchId:"",sortBy:"enrollmentDate",sortOrder:"desc",startDate:"",endDate:""}),[A,c]=C.useState({currentPage:1,totalPages:1,totalEnrollments:0,hasNextPage:!1,hasPrevPage:!1}),d=async()=>{n(!0),i(null);try{const m=await Rt.getAllEnrollments(l);m.success&&m.data?(t(m.data.enrollments),c(m.data.pagination)):i(m.message||"Failed to load enrollments")}catch(m){console.error("Error loading enrollments:",m),i(m instanceof Error?m.message:"An unknown error occurred")}finally{n(!1)}};C.useEffect(()=>{d()},[l]);const h=(m,y)=>{o(v=>({...v,[m]:y,page:1}))},p=()=>{o({page:1,limit:10,courseId:"",batchId:"",sortBy:"enrollmentDate",sortOrder:"desc",startDate:"",endDate:""})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(rs,{className:"w-5 h-5 mr-2"}),"Filters & Search"]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:p,className:"text-sm text-gray-600 hover:text-gray-800",children:"Reset"}),r.jsxs("button",{onClick:d,disabled:s,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:`w-4 h-4 ${s?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course ID"}),r.jsx("input",{type:"text",value:l.courseId,onChange:m=>h("courseId",m.target.value),placeholder:"Enter course ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch ID"}),r.jsx("input",{type:"text",value:l.batchId,onChange:m=>h("batchId",m.target.value),placeholder:"Enter batch ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),r.jsx("input",{type:"date",value:l.startDate,onChange:m=>h("startDate",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),r.jsx("input",{type:"date",value:l.endDate,onChange:m=>h("endDate",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),r.jsxs("select",{value:l.sortBy,onChange:m=>h("sortBy",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"enrollmentDate",children:"Enrollment Date"}),r.jsx("option",{value:"studentId",children:"Student Name"}),r.jsx("option",{value:"courseId",children:"Course"}),r.jsx("option",{value:"batchId",children:"Batch"}),r.jsx("option",{value:"status",children:"Status"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order"}),r.jsxs("select",{value:l.sortOrder,onChange:m=>h("sortOrder",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"desc",children:"Descending"}),r.jsx("option",{value:"asc",children:"Ascending"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"All Enrollments"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course & Batch"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollment Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"ml-3 text-gray-500",children:"Loading enrollments..."})]})})}):a?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Nt,{className:"w-12 h-12 text-red-300 mb-2"}),r.jsx("p",{className:"text-red-600 font-medium",children:"Error loading enrollments"}),r.jsx("p",{className:"text-gray-500 text-sm",children:a})]})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(ct,{className:"w-12 h-12 text-gray-300 mb-2"}),r.jsx("p",{children:"No enrollments found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your filters"})]})})}):e.map(m=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-white text-sm font-semibold",children:[m.studentId.firstName.charAt(0),m.studentId.lastName.charAt(0)]})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[m.studentId.firstName," ",m.studentId.lastName]}),r.jsx("div",{className:"text-sm text-gray-500",children:m.studentId.studentId}),r.jsx("div",{className:"text-sm text-gray-500",children:m.studentId.email})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium text-gray-900",children:m.courseId.title}),r.jsx("div",{className:"text-gray-500",children:m.batchId.name}),r.jsxs("div",{className:"text-xs text-gray-400",children:[m.courseId.category,"  ",m.courseId.type]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Rt.getEnrollmentStatusColor(m.status)}`,children:m.status}),r.jsx("div",{className:"text-xs text-gray-500",children:m.approvalStatus})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:Rt.formatCurrency(m.paymentAmount,m.currency)}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Status: ",r.jsx("span",{className:"capitalize",children:m.paymentStatus})]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Rt.formatDate(m.enrollmentDate)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("button",{onClick:()=>console.log("View details:",m._id),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:r.jsx(_r,{className:"w-4 h-4"})})})})]},m._id))})]})}),e.length>0&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.length," of ",A.totalEnrollments," enrollments"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>o(m=>({...m,page:m.page-1})),disabled:!A.hasPrevPage,className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsxs("span",{className:"px-3 py-1 text-sm text-gray-700",children:["Page ",A.currentPage," of ",A.totalPages]}),r.jsx("button",{onClick:()=>o(m=>({...m,page:m.page+1})),disabled:!A.hasNextPage,className:"px-3 py-1 text-sm border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})},hH=()=>{const[e,t]=C.useState("status"),s=[{id:"status",label:"Student Status",icon:ms,description:"Check individual student enrollment status"},{id:"pending",label:"Pending Requests",icon:Zt,description:"Review and approve pending enrollments"},{id:"all",label:"All Enrollments",icon:ct,description:"View and manage all enrollments"},{id:"statistics",label:"Statistics",icon:I1,description:"View enrollment analytics and reports"}],n=()=>{switch(e){case"status":return r.jsx(YN,{});case"pending":return r.jsx(cH,{});case"all":return r.jsx(uH,{});case"statistics":return r.jsx(dH,{});default:return r.jsx(YN,{})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ct,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Enrollment Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage student enrollments, approvals, and analytics"})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(_t,{className:"w-4 h-4"}),r.jsx("span",{children:"Refresh"})]}),r.jsxs("button",{onClick:()=>console.log("Export data"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Export"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:s.map(a=>{const i=a.icon,l=e===a.id;return r.jsx("button",{onClick:()=>t(a.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(i,{className:"w-5 h-5"}),r.jsx("span",{children:a.label})]})},a.id)})})}),r.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:r.jsx("div",{className:"flex items-center space-x-2",children:(()=>{const a=s.find(l=>l.id===e),i=a==null?void 0:a.icon;return r.jsxs(r.Fragment,{children:[i&&r.jsx(i,{className:"w-4 h-4 text-gray-500"}),r.jsx("p",{className:"text-sm text-gray-600",children:a==null?void 0:a.description})]})})()})}),r.jsx("div",{className:"p-6",children:n()})]})]})},mH=({isOpen:e,onClose:t,onSuccess:s})=>{const[n,a]=C.useState(!1),[i,l]=C.useState(null),[o,A]=C.useState({planName:"",planType:"FD",description:"",minimumAmount:0,maximumAmount:0,interestRate:0,tenureMonths:12,compoundingFrequency:"quarterly",penaltyConfig:{latePaymentPenalty:0,penaltyPercentage:0,gracePeriodDays:0},emiCostStructure:{fd:{minimumInvestment:0,maximumInvestment:0,investmentIncrements:0}},features:[],termsAndConditions:[]}),[c,d]=C.useState([]),[h,p]=C.useState([]),[m,y]=C.useState({feature:"",description:""}),[v,B]=C.useState("");C.useEffect(()=>{e&&x()},[e]);const x=()=>{A({planName:"",planType:"FD",description:"",minimumAmount:0,maximumAmount:0,interestRate:0,tenureMonths:12,compoundingFrequency:"quarterly",penaltyConfig:{latePaymentPenalty:0,penaltyPercentage:0,gracePeriodDays:0},emiCostStructure:{fd:{minimumInvestment:0,maximumInvestment:0,investmentIncrements:0}},features:[],termsAndConditions:[]}),d([]),p([]),y({feature:"",description:""}),B(""),l(null)},N=(P,F)=>{A(M=>({...M,[P]:F}))},b=(P,F,M)=>{A(Z=>({...Z,[P]:{...Z[P],[F]:M}}))},g=(P,F,M)=>{A(Z=>({...Z,emiCostStructure:{...Z.emiCostStructure,[P]:{...Z.emiCostStructure[P],[F]:M}}}))},k=()=>{if(m.feature.trim()&&m.description.trim()){const P={...m};d(F=>[...F,P]),y({feature:"",description:""}),Ue.success(" Feature added successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}})}},_=P=>{d(F=>F.filter((M,Z)=>Z!==P)),Ue.success(" Feature removed successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}})},I=()=>{v.trim()&&(p(P=>[...P,{term:v}]),B(""),Ue.success(" Term added successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}))},U=P=>{p(F=>F.filter((M,Z)=>Z!==P)),Ue.success(" Term removed successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}})},S=()=>o.planName.trim()?o.description.trim()?c.length===0?"At least one feature is required":h.length===0?"At least one term and condition is required":null:"Description is required":"Plan name is required",G=async P=>{P.preventDefault();const F=S();if(F){l(F),Ue.error(` ${F}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}});return}a(!0),l(null);try{const M={...o,features:c,termsAndConditions:h},Z=await Ke.createInvestmentPlan(M);if(console.log("Investment plan creation response:",Z),Z.success)Ue.success(` Investment plan "${o.planName}" created successfully!`,{duration:4e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),s(),t();else if(Z.errors&&Array.isArray(Z.errors))Z.errors.forEach(te=>{Ue.error(` ${te}`,{duration:6e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}),l(Z.errors[0]);else{const te=Z.message||"Failed to create investment plan";l(te),Ue.error(` ${te}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}}catch(M){console.error("Error creating investment plan:",M);const Z=M instanceof Error?M.message:"An unknown error occurred";l(Z),Ue.error(` ${Z}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{a(!1)}},L=()=>{var F,M,Z,te,le,R,X,se,re,Q,z;const P=o.planType.toLowerCase();return P==="fd"?r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Fixed Deposit Structure"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Investment"}),r.jsx("input",{type:"number",value:((F=o.emiCostStructure.fd)==null?void 0:F.minimumInvestment)||0,onChange:$=>g("fd","minimumInvestment",parseInt($.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10000"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Investment"}),r.jsx("input",{type:"number",value:((M=o.emiCostStructure.fd)==null?void 0:M.maximumInvestment)||0,onChange:$=>g("fd","maximumInvestment",parseInt($.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000000"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Investment Increments"}),r.jsx("input",{type:"number",value:((Z=o.emiCostStructure.fd)==null?void 0:Z.investmentIncrements)||0,onChange:$=>g("fd","investmentIncrements",parseInt($.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000"})]})]})]}):P==="rd"?r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Recurring Deposit Structure"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Monthly Installment"}),r.jsx("input",{type:"number",value:((te=o.emiCostStructure.rd)==null?void 0:te.minimumMonthlyInstallment)||0,onChange:$=>g("rd","minimumMonthlyInstallment",parseInt($.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"5000"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Monthly Installment"}),r.jsx("input",{type:"number",value:((le=o.emiCostStructure.rd)==null?void 0:le.maximumMonthlyInstallment)||0,onChange:$=>g("rd","maximumMonthlyInstallment",parseInt($.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"50000"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Installment Increments"}),r.jsx("input",{type:"number",value:((R=o.emiCostStructure.rd)==null?void 0:R.installmentIncrements)||0,onChange:$=>g("rd","installmentIncrements",parseInt($.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grace Period (Days)"}),r.jsx("input",{type:"number",value:((X=o.emiCostStructure.rd)==null?void 0:X.gracePeriodDays)||0,onChange:$=>g("rd","gracePeriodDays",parseInt($.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"7"})]})]})]}):P==="cd"?r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Certificate of Deposit Structure"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Certificate Value"}),r.jsx("input",{type:"number",value:((se=o.emiCostStructure.cd)==null?void 0:se.minimumCertificateValue)||0,onChange:$=>g("cd","minimumCertificateValue",parseInt($.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"25000"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Certificate Value"}),r.jsx("input",{type:"number",value:((re=o.emiCostStructure.cd)==null?void 0:re.maximumCertificateValue)||0,onChange:$=>g("cd","maximumCertificateValue",parseInt($.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"2000000"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certificate Increments"}),r.jsx("input",{type:"number",value:((Q=o.emiCostStructure.cd)==null?void 0:Q.certificateIncrements)||0,onChange:$=>g("cd","certificateIncrements",parseInt($.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"5000"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certificate Prefix"}),r.jsx("input",{type:"text",value:((z=o.emiCostStructure.cd)==null?void 0:z.certificateNumberPrefix)||"",onChange:$=>g("cd","certificateNumberPrefix",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"CD"})]})]})]}):null};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(bs,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Create Investment Plan"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Create a new investment plan for society members"})]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(jt,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:G,className:"p-6 space-y-8",children:[i&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Nt,{className:"w-5 h-5 text-red-600"}),r.jsx("p",{className:"text-red-800",children:i})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[r.jsx(hu,{className:"w-5 h-5"}),r.jsx("span",{children:"Basic Information"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Name *"}),r.jsx("input",{type:"text",value:o.planName,onChange:P=>N("planName",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"High Yield FD Plan",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Type *"}),r.jsxs("select",{value:o.planType,onChange:P=>N("planType",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"FD",children:"Fixed Deposit (FD)"}),r.jsx("option",{value:"RD",children:"Recurring Deposit (RD)"}),r.jsx("option",{value:"CD",children:"Certificate of Deposit (CD)"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),r.jsx("textarea",{value:o.description,onChange:P=>N("description",P.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"High interest fixed deposit plan for long-term investment",required:!0})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[r.jsx(br,{className:"w-5 h-5"}),r.jsx("span",{children:"Financial Details"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Amount *"}),r.jsx("input",{type:"number",value:o.minimumAmount,onChange:P=>N("minimumAmount",parseInt(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10000",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Amount *"}),r.jsx("input",{type:"number",value:o.maximumAmount,onChange:P=>N("maximumAmount",parseInt(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000000",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Rate (%) *"}),r.jsx("input",{type:"number",step:"0.1",value:o.interestRate,onChange:P=>N("interestRate",parseFloat(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"8.5",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tenure (Months) *"}),r.jsx("input",{type:"number",value:o.tenureMonths,onChange:P=>N("tenureMonths",parseInt(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"24",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Compounding Frequency *"}),r.jsxs("select",{value:o.compoundingFrequency,onChange:P=>N("compoundingFrequency",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"monthly",children:"Monthly"}),r.jsx("option",{value:"quarterly",children:"Quarterly"}),r.jsx("option",{value:"annually",children:"Annually"})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[r.jsx(Nt,{className:"w-5 h-5"}),r.jsx("span",{children:"Penalty Configuration"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Late Payment Penalty"}),r.jsx("input",{type:"number",value:o.penaltyConfig.latePaymentPenalty,onChange:P=>b("penaltyConfig","latePaymentPenalty",parseInt(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Penalty Percentage (%)"}),r.jsx("input",{type:"number",step:"0.1",value:o.penaltyConfig.penaltyPercentage,onChange:P=>b("penaltyConfig","penaltyPercentage",parseFloat(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grace Period (Days)"}),r.jsx("input",{type:"number",value:o.penaltyConfig.gracePeriodDays,onChange:P=>b("penaltyConfig","gracePeriodDays",parseInt(P.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"5"})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[r.jsx(us,{className:"w-5 h-5"}),r.jsx("span",{children:"EMI Cost Structure"})]}),L()]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[r.jsx(it,{className:"w-5 h-5"}),r.jsx("span",{children:"Plan Features"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feature Name"}),r.jsx("input",{type:"text",value:m.feature,onChange:P=>y(F=>({...F,feature:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"High Interest Rate"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feature Description"}),r.jsx("input",{type:"text",value:m.description,onChange:P=>y(F=>({...F,description:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Competitive interest rate of 8.5%"})]})]}),r.jsxs("button",{type:"button",onClick:k,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Feature"})]}),c.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Added Features:"}),c.map((P,F)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:P.feature}),r.jsx("p",{className:"text-sm text-gray-600",children:P.description})]}),r.jsx("button",{type:"button",onClick:()=>_(F),className:"p-1 text-red-600 hover:bg-red-100 rounded-lg transition-colors",children:r.jsx(ia,{className:"w-4 h-4"})})]},F))]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[r.jsx(Xt,{className:"w-5 h-5"}),r.jsx("span",{children:"Terms and Conditions"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Term"}),r.jsx("input",{type:"text",value:v,onChange:P=>B(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Minimum investment period is 12 months"})]}),r.jsxs("button",{type:"button",onClick:I,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Term"})]}),h.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Added Terms:"}),h.map((P,F)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-gray-800",children:P.term}),r.jsx("button",{type:"button",onClick:()=>U(F),className:"p-1 text-red-600 hover:bg-red-100 rounded-lg transition-colors",children:r.jsx(ia,{className:"w-4 h-4"})})]},F))]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Creating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(DA,{className:"w-4 h-4"}),r.jsx("span",{children:"Create Plan"})]})})]})]})]})}):null},fH=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l,o]=C.useState(""),[A,c]=C.useState(""),[d,h]=C.useState(""),[p,m]=C.useState(""),[y,v]=C.useState(null),[B,x]=C.useState(!1),[N,b]=C.useState(!1),g=async()=>{n(!0),i(null);try{const S=await Ke.getAvailablePlans({planType:A||void 0,minAmount:d?parseInt(d):void 0,maxAmount:p?parseInt(p):void 0});if(S.success&&S.data){let G=S.data.plans||[];Array.isArray(G)||(console.warn("Expected plans to be an array, got:",typeof G),G=[]),l&&(G=G.filter(L=>{var P,F;return((P=L.planName)==null?void 0:P.toLowerCase().includes(l.toLowerCase()))||((F=L.description)==null?void 0:F.toLowerCase().includes(l.toLowerCase()))})),t(G),Ue.success(" Investment plans loaded successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}})}else throw new Error(S.message||"Failed to load investment plans")}catch(S){console.error("Error loading investment plans:",S);const G=S instanceof Error?S.message:"An unknown error occurred";i(G),Ue.error(` Failed to load plans: ${G}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{n(!1)}};C.useEffect(()=>{g()},[A,d,p]);const k=S=>{v(S),x(!0),Ue.success(` Opening details for ${S.planName}`,{duration:2e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},_=()=>{g()},I=()=>{g()},U=()=>{o(""),c(""),h(""),m("")};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Investment Plans"}),r.jsx("p",{className:"text-gray-600",children:"Create and manage investment plans for society members"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:_,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex items-center space-x-2",children:[r.jsx(_t,{className:"w-4 h-4"}),r.jsx("span",{children:"Refresh"})]}),r.jsxs("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:"Create Plan"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(rs,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(ms,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:l,onChange:S=>o(S.target.value),placeholder:"Search plans...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Type"}),r.jsxs("select",{value:A,onChange:S=>c(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"FD",children:"Fixed Deposit (FD)"}),r.jsx("option",{value:"RD",children:"Recurring Deposit (RD)"}),r.jsx("option",{value:"CD",children:"Certificate of Deposit (CD)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Amount"}),r.jsx("input",{type:"number",value:d,onChange:S=>h(S.target.value),placeholder:"Min amount",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Amount"}),r.jsx("input",{type:"number",value:p,onChange:S=>m(S.target.value),placeholder:"Max amount",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:U,className:"w-full px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Clear Filters"})})]})]}),s?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(_t,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading investment plans..."})]})}):a?r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(us,{className:"w-5 h-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Error Loading Plans"}),r.jsx("p",{className:"text-red-600",children:a})]})]})}):e.length===0?r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-12 text-center",children:[r.jsx(us,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Investment Plans Found"}),r.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters to see more plans."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(S=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:Ke.getPlanTypeIcon(S.planType)})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:S.planName}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ke.getPlanTypeColor(S.planType)}`,children:S.planType})]})]}),r.jsx("div",{className:"flex items-center",children:r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Interest Rate"}),r.jsx("span",{className:"font-bold text-green-600 text-lg",children:Ke.formatPercentage(S.interestRate)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Tenure"}),r.jsx("span",{className:"font-semibold text-gray-800",children:Ke.formatTenure(S.tenureMonths)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Min Investment"}),r.jsx("span",{className:"font-semibold text-gray-800",children:Ke.formatCurrency(S.minimumAmount)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Max Investment"}),r.jsx("span",{className:"font-semibold text-gray-800",children:Ke.formatCurrency(S.maximumAmount)})]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:S.description}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Key Features"}),r.jsx("div",{className:"space-y-1",children:S.features&&S.features.length>0?r.jsxs(r.Fragment,{children:[S.features.slice(0,2).map((G,L)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(it,{className:"w-3 h-3 text-green-500 flex-shrink-0"}),r.jsx("span",{className:"text-xs text-gray-600",children:G.feature})]},L)),S.features.length>2&&r.jsxs("span",{className:"text-xs text-blue-600",children:["+",S.features.length-2," more features"]})]}):r.jsx("span",{className:"text-xs text-gray-500 italic",children:"No features available"})})]}),S.statistics&&r.jsx("div",{className:"border-t border-gray-200 pt-4 mb-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-bold text-blue-600",children:S.statistics.totalInvestments}),r.jsx("p",{className:"text-xs text-gray-600",children:"Active Investors"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-bold text-green-600",children:Ke.formatCurrency(S.statistics.totalAmountInvested)}),r.jsx("p",{className:"text-xs text-gray-600",children:"Total Invested"})]})]})}),r.jsxs("div",{className:"flex items-center space-x-3 pt-4 border-t border-gray-200",children:[r.jsxs("button",{onClick:()=>k(S),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center justify-center space-x-2",children:[r.jsx(hu,{className:"w-4 h-4"}),r.jsx("span",{children:"View Details"})]}),r.jsx("button",{onClick:()=>{Ue.success(" EMI Calculator coming soon!",{duration:3e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},className:"px-4 py-2 text-blue-600 bg-blue-100 hover:bg-blue-200 rounded-lg transition-colors",title:"Calculate EMI",children:r.jsx(UU,{className:"w-4 h-4"})})]})]},S._id))}),B&&y&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:Ke.getPlanTypeIcon(y.planType)})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:y.planName}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ke.getPlanTypeColor(y.planType)}`,children:y.planType})]})]}),r.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx("span",{className:"text-2xl",children:""})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(us,{className:"w-8 h-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Interest Rate"}),r.jsx("p",{className:"text-2xl font-bold text-green-800",children:Ke.formatPercentage(y.interestRate)})]})]})}),r.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Mt,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Tenure"}),r.jsx("p",{className:"text-2xl font-bold text-blue-800",children:Ke.formatTenure(y.tenureMonths)})]})]})}),r.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(br,{className:"w-8 h-8 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Min Amount"}),r.jsx("p",{className:"text-2xl font-bold text-purple-800",children:Ke.formatCurrency(y.minimumAmount)})]})]})}),r.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ct,{className:"w-8 h-8 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Max Amount"}),r.jsx("p",{className:"text-2xl font-bold text-orange-800",children:Ke.formatCurrency(y.maximumAmount)})]})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-600",children:y.description})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Key Features"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:y.features&&y.features.length>0?y.features.map((S,G)=>r.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx(it,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-800",children:S.feature}),r.jsx("p",{className:"text-sm text-gray-600",children:S.description})]})]},G)):r.jsx("p",{className:"text-sm text-gray-500 italic col-span-2",children:"No features available for this plan."})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Terms & Conditions"}),r.jsx("div",{className:"space-y-2",children:y.termsAndConditions&&y.termsAndConditions.length>0?y.termsAndConditions.map((S,G)=>r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-gray-600",children:S.term})]},G)):r.jsx("p",{className:"text-sm text-gray-500 italic",children:"No terms and conditions available for this plan."})})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[r.jsx("button",{onClick:()=>x(!1),className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Close"}),r.jsx("button",{onClick:()=>{x(!1),Ue.success(" Investment application form coming soon!",{duration:3e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Apply Now"})]})]})}),r.jsx(mH,{isOpen:N,onClose:()=>b(!1),onSuccess:I})]})},Z1=({application:e,isOpen:t,onClose:s,onApprove:n,onReject:a})=>{if(!t)return null;const i=o=>new Date(o).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),l=o=>new Date(o).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:Ke.getApplicationStatusIcon(e.status)})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Investment Application Details"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Application ID: ",e.applicationId]})]})]}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 rounded-lg hover:bg-gray-100",children:r.jsx(jt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${e.status==="approved"?"bg-green-500":e.status==="rejected"?"bg-red-500":"bg-yellow-500"}`}),r.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Application Status"})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ke.getApplicationStatusColor(e.status)}`,children:e.status.toUpperCase()})]})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(dr,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Member Information"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),r.jsxs("p",{className:"text-sm text-gray-900",children:[e.member.firstName," ",e.member.lastName]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Member ID"}),r.jsx("p",{className:"text-sm text-gray-900",children:e.member.memberId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(hf,{className:"w-4 h-4 text-gray-400"}),r.jsx("p",{className:"text-sm text-gray-900",children:e.member.email})]})]})]}),r.jsx("div",{className:"space-y-3",children:e.member.phoneNumber&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Du,{className:"w-4 h-4 text-gray-400"}),r.jsx("p",{className:"text-sm text-gray-900",children:e.member.phoneNumber})]})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(us,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Investment Plan Details"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Plan Name"}),r.jsx("p",{className:"text-sm text-gray-900",children:e.plan.planName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Plan Type"}),r.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${Ke.getPlanTypeColor(e.plan.planType)}`,children:e.plan.planType})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Interest Rate"}),r.jsx("p",{className:"text-sm text-gray-900",children:Ke.formatPercentage(e.plan.interestRate)})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tenure"}),r.jsx("p",{className:"text-sm text-gray-900",children:Ke.formatTenure(e.plan.tenureMonths)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Investment Amount"}),r.jsx("p",{className:"text-lg font-semibold text-green-600",children:Ke.formatCurrency(e.investmentAmount)})]}),e.monthlyEMI&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Monthly EMI"}),r.jsx("p",{className:"text-sm text-gray-900",children:Ke.formatCurrency(e.monthlyEMI)})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(xn,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Payment Information"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Amount"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Ke.formatCurrency(e.investmentAmount)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount Paid"}),r.jsx("p",{className:"text-lg font-semibold text-green-600",children:Ke.formatCurrency(e.totalAmountPaid)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Remaining Amount"}),r.jsx("p",{className:"text-lg font-semibold text-orange-600",children:Ke.formatCurrency(e.remainingAmount)})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Status"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${e.paymentStatus==="completed"?"bg-green-500":e.paymentStatus==="partial"?"bg-yellow-500":"bg-red-500"}`}),r.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:e.paymentStatus})]})]}),e.paymentMethod&&r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),r.jsx("p",{className:"text-sm text-gray-900 capitalize",children:e.paymentMethod})]})]}),e.emiProgress&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(Mt,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"EMI Progress"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.emiProgress.total}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total EMIs"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.emiProgress.paid}),r.jsx("p",{className:"text-sm text-gray-600",children:"Paid"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.emiProgress.pending}),r.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.emiProgress.overdue}),r.jsx("p",{className:"text-sm text-gray-600",children:"Overdue"})]})]})]}),e.emiSchedule&&e.emiSchedule.length>0&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(Xt,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"EMI Schedule"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"EMI #"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.emiSchedule.map(o=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:o.emiNumber}),r.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:i(o.dueDate)}),r.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ke.formatCurrency(o.amount)}),r.jsx("td",{className:"px-4 py-2",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o.status==="paid"?"bg-green-100 text-green-800":o.status==="overdue"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:o.status})})]},o.emiNumber))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(Zt,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Application Timeline"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Application Submitted"}),r.jsx("p",{className:"text-xs text-gray-500",children:l(e.applicationDate)})]})]}),e.approvalDate&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Application Approved"}),r.jsx("p",{className:"text-xs text-gray-500",children:l(e.approvalDate)}),e.approvedBy&&r.jsxs("p",{className:"text-xs text-gray-400",children:["Approved by: ",e.approvedBy]})]})]}),e.rejectionDate&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Application Rejected"}),r.jsx("p",{className:"text-xs text-gray-500",children:l(e.rejectionDate)}),e.rejectedBy&&r.jsxs("p",{className:"text-xs text-gray-400",children:["Rejected by: ",e.rejectedBy]}),e.rejectionReason&&r.jsxs("p",{className:"text-xs text-red-600",children:["Reason: ",e.rejectionReason]})]})]})]})]}),e.notes&&e.notes.length>0&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(Xt,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notes"})]}),r.jsx("div",{className:"space-y-2",children:e.notes.map((o,A)=>r.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-700",children:o})},A))})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[r.jsx("div",{className:"flex items-center space-x-3",children:r.jsx("button",{onClick:s,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Close"})}),e.status==="pending"&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:a,className:"px-6 py-2 text-red-700 bg-red-100 hover:bg-red-200 rounded-lg transition-colors flex items-center space-x-2",children:[r.jsx(Kt,{className:"w-4 h-4"}),r.jsx("span",{children:"Reject"})]}),r.jsxs("button",{onClick:n,className:"px-6 py-2 text-green-700 bg-green-100 hover:bg-green-200 rounded-lg transition-colors flex items-center space-x-2",children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("span",{children:"Approve"})]})]})]})]})})},pH=({application:e,isOpen:t,onClose:s,onSuccess:n})=>{const[a,i]=C.useState(""),[l,o]=C.useState(!1);if(!t)return null;const A=async()=>{if(!a.trim()){Ue.error("Please provide approval notes",{duration:3e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}});return}o(!0);try{await Ke.approveInvestmentApplication(e.applicationId,{notes:a.trim()}),Ue.success(" Investment application approved successfully!",{duration:4e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}}),n()}catch(d){console.error("Error approving application:",d),Ue.error(" Failed to approve application. Please try again.",{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{o(!1)}},c=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(d);return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(it,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Approve Investment Application"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Application ID: ",e.applicationId]})]})]}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 rounded-lg hover:bg-gray-100",children:r.jsx(jt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Application Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dr,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Member:"}),r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[e.member.firstName," ",e.member.lastName]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Member ID:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.member.memberId})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(us,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Plan:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.plan.planName})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(br,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Amount:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:c(e.investmentAmount)})]})]})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Qr,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Important Notice"}),r.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"By approving this application, you are confirming that:"}),r.jsxs("ul",{className:"text-sm text-yellow-700 mt-2 list-disc list-inside space-y-1",children:[r.jsx("li",{children:"All required documents have been verified"}),r.jsx("li",{children:"The member's KYC is complete and valid"}),r.jsx("li",{children:"The investment amount is within the plan limits"}),r.jsx("li",{children:"All terms and conditions have been accepted"})]})]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Approval Notes ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{value:a,onChange:d=>i(d.target.value),placeholder:"Please provide details about the approval decision, any special conditions, or additional notes...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",rows:4,required:!0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be recorded with the approval and may be visible to the member."})]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Investment Details After Approval"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-green-700",children:"Investment ID:"}),r.jsx("span",{className:"text-green-900 font-medium ml-2",children:"Will be generated"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-green-700",children:"Status:"}),r.jsx("span",{className:"text-green-900 font-medium ml-2",children:"Active"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-green-700",children:"Principal Amount:"}),r.jsx("span",{className:"text-green-900 font-medium ml-2",children:c(e.investmentAmount)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-green-700",children:"Expected Maturity:"}),r.jsx("span",{className:"text-green-900 font-medium ml-2",children:c(e.investmentAmount*(1+e.plan.interestRate/100))})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[r.jsx("button",{onClick:s,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",disabled:l,children:"Cancel"}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsx("button",{onClick:A,disabled:l||!a.trim(),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Approving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("span",{children:"Approve Application"})]})})})]})]})})},xH=({application:e,isOpen:t,onClose:s,onSuccess:n})=>{const[a,i]=C.useState(""),[l,o]=C.useState(""),[A,c]=C.useState(!1);if(!t)return null;const d=["Incomplete documentation","Invalid KYC documents","Investment amount exceeds plan limits","Member not eligible for this plan","Missing required information","Document verification failed","Terms and conditions not accepted","Other (specify in notes)"],h=async()=>{if(!a.trim()){Ue.error("Please select a rejection reason",{duration:3e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}});return}c(!0);try{await Ke.rejectInvestmentApplication(e.applicationId,{rejectionReason:a.trim(),notes:l.trim()||void 0}),Ue.success(" Investment application rejected successfully!",{duration:4e3,style:{background:"#F59E0B",color:"#fff",fontSize:"14px"}}),n()}catch(m){console.error("Error rejecting application:",m),Ue.error(" Failed to reject application. Please try again.",{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{c(!1)}},p=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(m);return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-red-50 to-rose-50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Kt,{className:"w-6 h-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Reject Investment Application"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Application ID: ",e.applicationId]})]})]}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 rounded-lg hover:bg-gray-100",children:r.jsx(jt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Application Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dr,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Member:"}),r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[e.member.firstName," ",e.member.lastName]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Member ID:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.member.memberId})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(us,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Plan:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.plan.planName})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(br,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Amount:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:p(e.investmentAmount)})]})]})]})]}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Qr,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Important Notice"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Rejecting this application will:"}),r.jsxs("ul",{className:"text-sm text-red-700 mt-2 list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Mark the application as rejected"}),r.jsx("li",{children:"Notify the member about the rejection"}),r.jsx("li",{children:"Prevent the investment from being processed"}),r.jsx("li",{children:"Record the rejection reason for future reference"})]})]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rejection Reason ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:a,onChange:m=>i(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:"Select a reason for rejection"}),d.map(m=>r.jsx("option",{value:m,children:m},m))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),r.jsx("textarea",{value:l,onChange:m=>o(m.target.value),placeholder:"Provide additional details about the rejection, steps for resubmission, or any other relevant information...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",rows:4}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be shared with the member to help them understand the rejection and take corrective action."})]}),r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-orange-800 mb-2",children:"Impact of Rejection"}),r.jsxs("div",{className:"text-sm text-orange-700 space-y-1",children:[r.jsx("p",{children:" The member will be notified via email about the rejection"}),r.jsx("p",{children:" The application will be marked as rejected in the system"}),r.jsx("p",{children:" The member can resubmit the application after addressing the issues"}),r.jsx("p",{children:" All rejection details will be recorded for audit purposes"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[r.jsx("button",{onClick:s,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",disabled:A,children:"Cancel"}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsx("button",{onClick:h,disabled:A||!a.trim(),className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:A?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Rejecting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Kt,{className:"w-4 h-4"}),r.jsx("span",{children:"Reject Application"})]})})})]})]})})},gH=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l,o]=C.useState(""),[A,c]=C.useState(""),[d,h]=C.useState(""),[p,m]=C.useState(null),[y,v]=C.useState(!1),[B,x]=C.useState(!1),[N,b]=C.useState(!1),[g,k]=C.useState({currentPage:1,totalPages:1,totalApplications:0,hasNextPage:!1,hasPrevPage:!1}),_=async(M=1)=>{n(!0),i(null);try{const Z={page:M,limit:10,planType:A||void 0,memberId:d||void 0,search:l||void 0,status:"pending"},te=await Ke.getPendingInvestmentApplications(Z);if(te.success&&te.data)t(te.data.applications),k(te.data.pagination),Ue.success(" Pending investment applications loaded successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}});else throw new Error(te.message||"Failed to load pending applications")}catch(Z){console.error("Error loading pending applications:",Z);const te=Z instanceof Error?Z.message:"An unknown error occurred";i(te),Ue.error(` Failed to load applications: ${te}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{n(!1)}};C.useEffect(()=>{_(1)},[A,d]),C.useEffect(()=>{const M=setTimeout(()=>{_(1)},500);return()=>clearTimeout(M)},[l]);const I=M=>{m(M),v(!0),Ue.success(` Opening details for ${M.applicationId}`,{duration:2e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},U=M=>{m(M),x(!0)},S=M=>{m(M),b(!0)},G=()=>{_(g.currentPage),v(!1),x(!1),b(!1)},L=()=>{_(g.currentPage)},P=()=>{o(""),c(""),h("")},F=M=>{_(M)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pending Investment Applications"}),r.jsx("p",{className:"text-gray-600",children:"Review and manage pending investment applications from society members"})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("button",{onClick:L,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex items-center space-x-2",children:[r.jsx(_t,{className:"w-4 h-4"}),r.jsx("span",{children:"Refresh"})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(rs,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(ms,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:l,onChange:M=>o(M.target.value),placeholder:"Search by member name, email, or ID...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Type"}),r.jsxs("select",{value:A,onChange:M=>c(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"FD",children:"Fixed Deposit (FD)"}),r.jsx("option",{value:"RD",children:"Recurring Deposit (RD)"}),r.jsx("option",{value:"CD",children:"Certificate of Deposit (CD)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Member ID"}),r.jsx("input",{type:"text",value:d,onChange:M=>h(M.target.value),placeholder:"Member ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:P,className:"w-full px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Clear Filters"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Nt,{className:"w-6 h-6 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Pending"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.totalApplications})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(br,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ke.formatCurrency(e.reduce((M,Z)=>M+Z.investmentAmount,0))})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(us,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length>0?Ke.formatCurrency(e.reduce((M,Z)=>M+Z.investmentAmount,0)/e.length):"0"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(dr,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Unique Members"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Set(e.map(M=>M.member.memberId)).size})]})]})})]}),s?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(_t,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading pending applications..."})]})}):a?r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Nt,{className:"w-5 h-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Error Loading Applications"}),r.jsx("p",{className:"text-red-600",children:a})]})]})}):e.length===0?r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-12 text-center",children:[r.jsx(Nt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Pending Applications"}),r.jsx("p",{className:"text-gray-600",children:"There are currently no pending investment applications."})]}):r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Application"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Application Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(M=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-sm font-semibold text-blue-600",children:Ke.getApplicationStatusIcon(M.status)})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.applicationId}),r.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${Ke.getApplicationStatusColor(M.status)}`,children:M.status})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[M.member.firstName," ",M.member.lastName]}),r.jsx("div",{className:"text-sm text-gray-500",children:M.member.email}),r.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",M.member.memberId]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.plan.planName}),r.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${Ke.getPlanTypeColor(M.plan.planType)}`,children:M.plan.planType}),r.jsxs("div",{className:"text-xs text-gray-500",children:[Ke.formatPercentage(M.plan.interestRate),"  ",Ke.formatTenure(M.plan.tenureMonths)]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ke.formatCurrency(M.investmentAmount)}),r.jsxs("div",{className:"text-xs text-gray-500",children:["EMI: ",M.monthlyEMI?Ke.formatCurrency(M.monthlyEMI):"N/A"]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[r.jsx(Mt,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(M.applicationDate).toLocaleDateString()]}),r.jsx("div",{className:"text-xs text-gray-500",children:new Date(M.applicationDate).toLocaleTimeString()})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>I(M),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"View Details",children:r.jsx(_r,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>U(M),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:"Approve Application",children:r.jsx(it,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>S(M),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Reject Application",children:r.jsx(Kt,{className:"w-4 h-4"})})]})})]},M.applicationId))})]})}),g.totalPages>1&&r.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>F(g.currentPage-1),disabled:!g.hasPrevPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsx("button",{onClick:()=>F(g.currentPage+1),disabled:!g.hasNextPage,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",r.jsx("span",{className:"font-medium",children:(g.currentPage-1)*10+1})," ","to"," ",r.jsx("span",{className:"font-medium",children:Math.min(g.currentPage*10,g.totalApplications)})," ","of"," ",r.jsx("span",{className:"font-medium",children:g.totalApplications})," ","results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[r.jsx("button",{onClick:()=>F(g.currentPage-1),disabled:!g.hasPrevPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:g.totalPages},(M,Z)=>Z+1).map(M=>r.jsx("button",{onClick:()=>F(M),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${M===g.currentPage?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:M},M)),r.jsx("button",{onClick:()=>F(g.currentPage+1),disabled:!g.hasNextPage,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),y&&p&&r.jsx(Z1,{application:p,isOpen:y,onClose:()=>v(!1),onApprove:()=>{v(!1),U(p)},onReject:()=>{v(!1),S(p)}}),B&&p&&r.jsx(pH,{application:p,isOpen:B,onClose:()=>x(!1),onSuccess:G}),N&&p&&r.jsx(xH,{application:p,isOpen:N,onClose:()=>b(!1),onSuccess:G})]})},yH=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l,o]=C.useState(""),[A,c]=C.useState(""),[d,h]=C.useState(""),[p,m]=C.useState(null),[y,v]=C.useState(!1),[B,x]=C.useState({currentPage:1,totalPages:1,totalApplications:0,hasNextPage:!1,hasPrevPage:!1}),N=async(I=1)=>{n(!0),i(null);try{const U={page:I,limit:10,planType:A||void 0,memberId:d||void 0,search:l||void 0,status:"approved"},S=await Ke.getApprovedInvestmentApplications(U);if(S.success&&S.data)t(S.data.applications),x(S.data.pagination),Ue.success(" Approved investment applications loaded successfully!",{duration:2e3,style:{background:"#10B981",color:"#fff",fontSize:"14px"}});else throw new Error(S.message||"Failed to load approved applications")}catch(U){console.error("Error loading approved applications:",U);const S=U instanceof Error?U.message:"An unknown error occurred";i(S),Ue.error(` Failed to load applications: ${S}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{n(!1)}};C.useEffect(()=>{N(1)},[A,d]),C.useEffect(()=>{const I=setTimeout(()=>{N(1)},500);return()=>clearTimeout(I)},[l]);const b=I=>{m(I),v(!0),Ue.success(` Opening details for ${I.applicationId}`,{duration:2e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},g=()=>{N(B.currentPage)},k=()=>{o(""),c(""),h("")},_=I=>{N(I)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Approved Investment Applications"}),r.jsx("p",{className:"text-gray-600",children:"View and manage approved investment applications from society members"})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("button",{onClick:g,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex items-center space-x-2",children:[r.jsx(_t,{className:"w-4 h-4"}),r.jsx("span",{children:"Refresh"})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(rs,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(ms,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:l,onChange:I=>o(I.target.value),placeholder:"Search by member name, email, or ID...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Type"}),r.jsxs("select",{value:A,onChange:I=>c(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"FD",children:"Fixed Deposit (FD)"}),r.jsx("option",{value:"RD",children:"Recurring Deposit (RD)"}),r.jsx("option",{value:"CD",children:"Certificate of Deposit (CD)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Member ID"}),r.jsx("input",{type:"text",value:d,onChange:I=>h(I.target.value),placeholder:"Member ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:k,className:"w-full px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Clear Filters"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(it,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Approved"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.totalApplications})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(br,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ke.formatCurrency(e.reduce((I,U)=>I+U.investmentAmount,0))})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(us,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length>0?Ke.formatCurrency(e.reduce((I,U)=>I+U.investmentAmount,0)/e.length):"0"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(dr,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Unique Members"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Set(e.map(I=>I.member.memberId)).size})]})]})})]}),s?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(_t,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading approved applications..."})]})}):a?r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(it,{className:"w-5 h-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Error Loading Applications"}),r.jsx("p",{className:"text-red-600",children:a})]})]})}):e.length===0?r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-12 text-center",children:[r.jsx(it,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Approved Applications"}),r.jsx("p",{className:"text-gray-600",children:"There are currently no approved investment applications."})]}):r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Application"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approval Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(I=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-sm font-semibold text-green-600",children:Ke.getApplicationStatusIcon(I.status)})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.applicationId}),r.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${Ke.getApplicationStatusColor(I.status)}`,children:I.status})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[I.member.firstName," ",I.member.lastName]}),r.jsx("div",{className:"text-sm text-gray-500",children:I.member.email}),r.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",I.member.memberId]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.plan.planName}),r.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${Ke.getPlanTypeColor(I.plan.planType)}`,children:I.plan.planType}),r.jsxs("div",{className:"text-xs text-gray-500",children:[Ke.formatPercentage(I.plan.interestRate),"  ",Ke.formatTenure(I.plan.tenureMonths)]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ke.formatCurrency(I.investmentAmount)}),r.jsxs("div",{className:"text-xs text-gray-500",children:["EMI: ",I.monthlyEMI?Ke.formatCurrency(I.monthlyEMI):"N/A"]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${I.paymentStatus==="completed"?"bg-green-500":I.paymentStatus==="partial"?"bg-yellow-500":"bg-red-500"}`}),r.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:I.paymentStatus})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Paid: ",Ke.formatCurrency(I.totalAmountPaid)," / ",Ke.formatCurrency(I.investmentAmount)]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[r.jsx(Mt,{className:"w-4 h-4 mr-2 text-gray-400"}),I.approvalDate?new Date(I.approvalDate).toLocaleDateString():"N/A"]}),r.jsx("div",{className:"text-xs text-gray-500",children:I.approvalDate?new Date(I.approvalDate).toLocaleTimeString():""})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsx("button",{onClick:()=>b(I),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"View Details",children:r.jsx(_r,{className:"w-4 h-4"})})})]},I.applicationId))})]})}),B.totalPages>1&&r.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>_(B.currentPage-1),disabled:!B.hasPrevPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsx("button",{onClick:()=>_(B.currentPage+1),disabled:!B.hasNextPage,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",r.jsx("span",{className:"font-medium",children:(B.currentPage-1)*10+1})," ","to"," ",r.jsx("span",{className:"font-medium",children:Math.min(B.currentPage*10,B.totalApplications)})," ","of"," ",r.jsx("span",{className:"font-medium",children:B.totalApplications})," ","results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[r.jsx("button",{onClick:()=>_(B.currentPage-1),disabled:!B.hasPrevPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:B.totalPages},(I,U)=>U+1).map(I=>r.jsx("button",{onClick:()=>_(I),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${I===B.currentPage?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:I},I)),r.jsx("button",{onClick:()=>_(B.currentPage+1),disabled:!B.hasNextPage,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),y&&p&&r.jsx(Z1,{application:p,isOpen:y,onClose:()=>v(!1),onApprove:()=>{},onReject:()=>{}})]})},wH=()=>{const[e,t]=C.useState([]),[s,n]=C.useState(!0),[a,i]=C.useState(null),[l,o]=C.useState(""),[A,c]=C.useState(""),[d,h]=C.useState(""),[p,m]=C.useState(null),[y,v]=C.useState(!1),[B,x]=C.useState({currentPage:1,totalPages:1,totalApplications:0,hasNextPage:!1,hasPrevPage:!1}),N=async(I=1)=>{n(!0),i(null);try{const U={page:I,limit:10,planType:A||void 0,memberId:d||void 0,search:l||void 0,status:"rejected"},S=await Ke.getRejectedInvestmentApplications(U);if(S.success&&S.data)t(S.data.applications),x(S.data.pagination),Ue.success(" Rejected investment applications loaded successfully!",{duration:2e3,style:{background:"#F59E0B",color:"#fff",fontSize:"14px"}});else throw new Error(S.message||"Failed to load rejected applications")}catch(U){console.error("Error loading rejected applications:",U);const S=U instanceof Error?U.message:"An unknown error occurred";i(S),Ue.error(` Failed to load applications: ${S}`,{duration:5e3,style:{background:"#EF4444",color:"#fff",fontSize:"14px"}})}finally{n(!1)}};C.useEffect(()=>{N(1)},[A,d]),C.useEffect(()=>{const I=setTimeout(()=>{N(1)},500);return()=>clearTimeout(I)},[l]);const b=I=>{m(I),v(!0),Ue.success(` Opening details for ${I.applicationId}`,{duration:2e3,style:{background:"#3B82F6",color:"#fff",fontSize:"14px"}})},g=()=>{N(B.currentPage)},k=()=>{o(""),c(""),h("")},_=I=>{N(I)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Rejected Investment Applications"}),r.jsx("p",{className:"text-gray-600",children:"View and manage rejected investment applications from society members"})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("button",{onClick:g,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex items-center space-x-2",children:[r.jsx(_t,{className:"w-4 h-4"}),r.jsx("span",{children:"Refresh"})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(rs,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(ms,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:l,onChange:I=>o(I.target.value),placeholder:"Search by member name, email, or ID...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Type"}),r.jsxs("select",{value:A,onChange:I=>c(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"FD",children:"Fixed Deposit (FD)"}),r.jsx("option",{value:"RD",children:"Recurring Deposit (RD)"}),r.jsx("option",{value:"CD",children:"Certificate of Deposit (CD)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Member ID"}),r.jsx("input",{type:"text",value:d,onChange:I=>h(I.target.value),placeholder:"Member ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:k,className:"w-full px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Clear Filters"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Kt,{className:"w-6 h-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Rejected"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.totalApplications})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(br,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ke.formatCurrency(e.reduce((I,U)=>I+U.investmentAmount,0))})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(us,{className:"w-6 h-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length>0?Ke.formatCurrency(e.reduce((I,U)=>I+U.investmentAmount,0)/e.length):"0"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(dr,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Unique Members"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Set(e.map(I=>I.member.memberId)).size})]})]})})]}),s?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(_t,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading rejected applications..."})]})}):a?r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Kt,{className:"w-5 h-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Error Loading Applications"}),r.jsx("p",{className:"text-red-600",children:a})]})]})}):e.length===0?r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-12 text-center",children:[r.jsx(Kt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Rejected Applications"}),r.jsx("p",{className:"text-gray-600",children:"There are currently no rejected investment applications."})]}):r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Application"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rejection Reason"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rejection Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(I=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-sm font-semibold text-red-600",children:Ke.getApplicationStatusIcon(I.status)})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.applicationId}),r.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${Ke.getApplicationStatusColor(I.status)}`,children:I.status})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[I.member.firstName," ",I.member.lastName]}),r.jsx("div",{className:"text-sm text-gray-500",children:I.member.email}),r.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",I.member.memberId]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.plan.planName}),r.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${Ke.getPlanTypeColor(I.plan.planType)}`,children:I.plan.planType}),r.jsxs("div",{className:"text-xs text-gray-500",children:[Ke.formatPercentage(I.plan.interestRate),"  ",Ke.formatTenure(I.plan.tenureMonths)]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ke.formatCurrency(I.investmentAmount)}),r.jsxs("div",{className:"text-xs text-gray-500",children:["EMI: ",I.monthlyEMI?Ke.formatCurrency(I.monthlyEMI):"N/A"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:I.rejectionReason||"No reason provided"})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[r.jsx(Mt,{className:"w-4 h-4 mr-2 text-gray-400"}),I.rejectionDate?new Date(I.rejectionDate).toLocaleDateString():"N/A"]}),r.jsx("div",{className:"text-xs text-gray-500",children:I.rejectionDate?new Date(I.rejectionDate).toLocaleTimeString():""})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsx("button",{onClick:()=>b(I),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"View Details",children:r.jsx(_r,{className:"w-4 h-4"})})})]},I.applicationId))})]})}),B.totalPages>1&&r.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>_(B.currentPage-1),disabled:!B.hasPrevPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsx("button",{onClick:()=>_(B.currentPage+1),disabled:!B.hasNextPage,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",r.jsx("span",{className:"font-medium",children:(B.currentPage-1)*10+1})," ","to"," ",r.jsx("span",{className:"font-medium",children:Math.min(B.currentPage*10,B.totalApplications)})," ","of"," ",r.jsx("span",{className:"font-medium",children:B.totalApplications})," ","results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[r.jsx("button",{onClick:()=>_(B.currentPage-1),disabled:!B.hasPrevPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:B.totalPages},(I,U)=>U+1).map(I=>r.jsx("button",{onClick:()=>_(I),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${I===B.currentPage?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:I},I)),r.jsx("button",{onClick:()=>_(B.currentPage+1),disabled:!B.hasNextPage,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),y&&p&&r.jsx(Z1,{application:p,isOpen:y,onClose:()=>v(!1),onApprove:()=>{},onReject:()=>{}})]})};class vH extends C.Component{constructor(t){super(t),this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("ErrorBoundary caught an error:",t,s),this.setState({error:t,errorInfo:s})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:r.jsx(Qr,{className:"w-6 h-6 text-red-600"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Something went wrong"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"An unexpected error occurred. Please try refreshing the page."}),!1,r.jsxs("button",{onClick:this.handleRetry,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[r.jsx(_t,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})]})}):this.props.children}}const bH=()=>{const{isAuthenticated:e,isLoading:t}=uf();return t?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-sky-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50",children:e?r.jsx(JU,{children:r.jsxs(NF,{children:[r.jsx(sr,{path:"/",element:r.jsx(vF,{to:"/dashboard"})}),r.jsx(sr,{path:"/dashboard",element:r.jsx(XU,{})}),r.jsx(sr,{path:"/society/members",element:r.jsx(eQ,{})}),r.jsx(sr,{path:"/society/payments",element:r.jsx(tQ,{})}),r.jsx(sr,{path:"/society/loans",element:r.jsx(rQ,{})}),r.jsx(sr,{path:"/society/penalty",element:r.jsx(sQ,{})}),r.jsx(sr,{path:"/student/students",element:r.jsx(iQ,{})}),r.jsx(sr,{path:"/student/course-batch",element:r.jsx(lQ,{})}),r.jsx(sr,{path:"/student/certificate",element:r.jsx(oQ,{})}),r.jsx(sr,{path:"/student/certificate-management",element:r.jsx(KM,{})}),r.jsx(sr,{path:"/student/marksheet",element:r.jsx(zM,{})}),r.jsx(sr,{path:"/student/courses",element:r.jsx(XM,{})}),r.jsx(sr,{path:"/student/course-batches",element:r.jsx(rH,{})}),r.jsx(sr,{path:"/student/fee-management",element:r.jsx(aH,{})}),r.jsx(sr,{path:"/student/payment-history",element:r.jsx(iH,{})}),r.jsx(sr,{path:"/student/attendance",element:r.jsx(AH,{})}),r.jsx(sr,{path:"/student/enrollment-management",element:r.jsx(hH,{})}),r.jsx(sr,{path:"/society/investment-plans",element:r.jsx(fH,{})}),r.jsx(sr,{path:"/society/pending-investment-applications",element:r.jsx(gH,{})}),r.jsx(sr,{path:"/society/approved-investment-applications",element:r.jsx(yH,{})}),r.jsx(sr,{path:"/society/rejected-investment-applications",element:r.jsx(wH,{})}),r.jsx(sr,{path:"/kyc",element:r.jsx(VM,{})}),r.jsx(sr,{path:"/kyc/pending",element:r.jsx(GM,{})}),r.jsx(sr,{path:"/kyc/students",element:r.jsx($M,{})}),r.jsx(sr,{path:"/kyc/society-members",element:r.jsx(qM,{})}),r.jsx(sr,{path:"/kyc/approved",element:r.jsx(YM,{})})]})}):r.jsx(qU,{onLogin:()=>{}})})};function NH(){return r.jsx(vH,{children:r.jsx(GF,{children:r.jsxs(SU,{children:[r.jsx(bH,{}),r.jsx(KI,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,style:{background:"#10B981"}},error:{duration:5e3,style:{background:"#EF4444"}}}})]})})})}oB(document.getElementById("root")).render(r.jsx(C.StrictMode,{children:r.jsx(NH,{})}));export{$t as _};
